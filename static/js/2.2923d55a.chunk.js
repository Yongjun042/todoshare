/*! For license information please see 2.2923d55a.chunk.js.LICENSE.txt */
(this.webpackJsonptodoshare=this.webpackJsonptodoshare||[]).push([[2],[function(e,t,r){e.exports=r(111)},function(e,t,r){"use strict";e.exports=r(106)},function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(39);function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(n.a)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}},function(e,t,r){"use strict";e.exports=r(181)},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(39);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.r(t),r.d(t,"FetchError",(function(){return ve})),r.d(t,"SolidClientError",(function(){return j})),r.d(t,"ThingExpectedError",(function(){return kr})),r.d(t,"access",(function(){return Wl})),r.d(t,"access_v1",(function(){return Kl})),r.d(t,"access_v2",(function(){return of})),r.d(t,"acp_v1",(function(){return lu})),r.d(t,"acp_v2",(function(){return nu})),r.d(t,"acp_v3",(function(){return vu})),r.d(t,"acp_v4",(function(){return ec})),r.d(t,"addBoolean",(function(){return gn})),r.d(t,"addDate",(function(){return yn})),r.d(t,"addDatetime",(function(){return vn})),r.d(t,"addDecimal",(function(){return bn})),r.d(t,"addInteger",(function(){return wn})),r.d(t,"addIri",(function(){return hn})),r.d(t,"addJwkToJwks",(function(){return Io})),r.d(t,"addLiteral",(function(){return En})),r.d(t,"addMockFallbackAclTo",(function(){return _o})),r.d(t,"addMockResourceAclTo",(function(){return ko})),r.d(t,"addNamedNode",(function(){return _n})),r.d(t,"addPublicKeyToProfileJwks",(function(){return To})),r.d(t,"addStringEnglish",(function(){return xn})),r.d(t,"addStringNoLocale",(function(){return kn})),r.d(t,"addStringWithLocale",(function(){return Sn})),r.d(t,"addTerm",(function(){return On})),r.d(t,"addTime",(function(){return mn})),r.d(t,"addUrl",(function(){return pn})),r.d(t,"asIri",(function(){return wr})),r.d(t,"asUrl",(function(){return br})),r.d(t,"buildThing",(function(){return ri})),r.d(t,"changeLogAsMarkdown",(function(){return tn})),r.d(t,"createAcl",(function(){return Hi})),r.d(t,"createAclFromFallbackAcl",(function(){return zi})),r.d(t,"createContainerAt",(function(){return zr})),r.d(t,"createContainerInContainer",(function(){return Yr})),r.d(t,"createSolidDataset",(function(){return Cr})),r.d(t,"createThing",(function(){return yr})),r.d(t,"deleteAclFor",(function(){return Vi})),r.d(t,"deleteContainer",(function(){return Qr})),r.d(t,"deleteFile",(function(){return Se})),r.d(t,"deleteSolidDataset",(function(){return Br})),r.d(t,"fromRdfJsDataset",(function(){return Oo})),r.d(t,"getAgentAccess",(function(){return Gi})),r.d(t,"getAgentAccessAll",(function(){return Yi})),r.d(t,"getAgentDefaultAccess",(function(){return Zi})),r.d(t,"getAgentDefaultAccessAll",(function(){return eo})),r.d(t,"getAgentResourceAccess",(function(){return $i})),r.d(t,"getAgentResourceAccessAll",(function(){return Qi})),r.d(t,"getBoolean",(function(){return Bt})),r.d(t,"getBooleanAll",(function(){return Ht})),r.d(t,"getContainedResourceUrlAll",(function(){return Zr})),r.d(t,"getContentType",(function(){return ce})),r.d(t,"getDate",(function(){return Wt})),r.d(t,"getDateAll",(function(){return Vt})),r.d(t,"getDatetime",(function(){return zt})),r.d(t,"getDatetimeAll",(function(){return Kt})),r.d(t,"getDecimal",(function(){return Gt})),r.d(t,"getDecimalAll",(function(){return Yt})),r.d(t,"getEffectiveAccess",(function(){return ge})),r.d(t,"getFallbackAcl",(function(){return Bi})),r.d(t,"getFile",(function(){return we})),r.d(t,"getFileWithAcl",(function(){return Ti})),r.d(t,"getGroupAccess",(function(){return ao})),r.d(t,"getGroupAccessAll",(function(){return so})),r.d(t,"getGroupDefaultAccess",(function(){return lo})),r.d(t,"getGroupDefaultAccessAll",(function(){return fo})),r.d(t,"getGroupResourceAccess",(function(){return uo})),r.d(t,"getGroupResourceAccessAll",(function(){return co})),r.d(t,"getInteger",(function(){return $t})),r.d(t,"getIntegerAll",(function(){return Qt})),r.d(t,"getIri",(function(){return Lt})),r.d(t,"getIriAll",(function(){return Mt})),r.d(t,"getJsonLdParser",(function(){return wt})),r.d(t,"getLinkedResourceUrlAll",(function(){return he})),r.d(t,"getLiteral",(function(){return sr})),r.d(t,"getLiteralAll",(function(){return ur})),r.d(t,"getNamedNode",(function(){return or})),r.d(t,"getNamedNodeAll",(function(){return ar})),r.d(t,"getPodOwner",(function(){return de})),r.d(t,"getProfileAll",(function(){return Do})),r.d(t,"getProfileJwksIri",(function(){return jo})),r.d(t,"getPropertyAll",(function(){return Nt})),r.d(t,"getPublicAccess",(function(){return yo})),r.d(t,"getPublicDefaultAccess",(function(){return bo})),r.d(t,"getPublicResourceAccess",(function(){return mo})),r.d(t,"getResourceAcl",(function(){return Ui})),r.d(t,"getResourceInfo",(function(){return ie})),r.d(t,"getResourceInfoWithAcl",(function(){return Di})),r.d(t,"getSolidDataset",(function(){return Ir})),r.d(t,"getSolidDatasetWithAcl",(function(){return Ii})),r.d(t,"getSourceIri",(function(){return fe})),r.d(t,"getSourceUrl",(function(){return le})),r.d(t,"getStringByLocaleAll",(function(){return rr})),r.d(t,"getStringEnglish",(function(){return Xt})),r.d(t,"getStringEnglishAll",(function(){return er})),r.d(t,"getStringNoLocale",(function(){return nr})),r.d(t,"getStringNoLocaleAll",(function(){return ir})),r.d(t,"getStringWithLocale",(function(){return Zt})),r.d(t,"getStringWithLocaleAll",(function(){return tr})),r.d(t,"getTerm",(function(){return cr})),r.d(t,"getTermAll",(function(){return lr})),r.d(t,"getThing",(function(){return pr})),r.d(t,"getThingAll",(function(){return hr})),r.d(t,"getTime",(function(){return qt})),r.d(t,"getTimeAll",(function(){return Jt})),r.d(t,"getTurtleParser",(function(){return kt})),r.d(t,"getUrl",(function(){return Dt})),r.d(t,"getUrlAll",(function(){return Ut})),r.d(t,"getWellKnownSolid",(function(){return an})),r.d(t,"hasAccessibleAcl",(function(){return Ji})),r.d(t,"hasAcl",(function(){return ji})),r.d(t,"hasFallbackAcl",(function(){return Mi})),r.d(t,"hasResourceAcl",(function(){return Ri})),r.d(t,"hasResourceInfo",(function(){return A})),r.d(t,"hasServerResourceInfo",(function(){return P})),r.d(t,"isContainer",(function(){return se})),r.d(t,"isPodOwner",(function(){return pe})),r.d(t,"isRawData",(function(){return ue})),r.d(t,"isThing",(function(){return mr})),r.d(t,"isThingLocal",(function(){return Sr})),r.d(t,"mockContainerFrom",(function(){return ln})),r.d(t,"mockFetchError",(function(){return dn})),r.d(t,"mockFileFrom",(function(){return fn})),r.d(t,"mockSolidDatasetFrom",(function(){return cn})),r.d(t,"mockThingFrom",(function(){return ni})),r.d(t,"overwriteFile",(function(){return Oe})),r.d(t,"removeAll",(function(){return Pn})),r.d(t,"removeBoolean",(function(){return Rn})),r.d(t,"removeDate",(function(){return Fn})),r.d(t,"removeDatetime",(function(){return In})),r.d(t,"removeDecimal",(function(){return Nn})),r.d(t,"removeInteger",(function(){return Dn})),r.d(t,"removeIri",(function(){return jn})),r.d(t,"removeLiteral",(function(){return Hn})),r.d(t,"removeNamedNode",(function(){return Bn})),r.d(t,"removeStringEnglish",(function(){return Ln})),r.d(t,"removeStringNoLocale",(function(){return Mn})),r.d(t,"removeStringWithLocale",(function(){return Un})),r.d(t,"removeThing",(function(){return vr})),r.d(t,"removeTime",(function(){return Tn})),r.d(t,"removeUrl",(function(){return Cn})),r.d(t,"responseToResourceInfo",(function(){return ae})),r.d(t,"responseToSolidDataset",(function(){return jr})),r.d(t,"saveAclFor",(function(){return Ki})),r.d(t,"saveFileInContainer",(function(){return _e})),r.d(t,"saveSolidDatasetAt",(function(){return Ur})),r.d(t,"saveSolidDatasetInContainer",(function(){return Jr})),r.d(t,"setAgentDefaultAccess",(function(){return to})),r.d(t,"setAgentResourceAccess",(function(){return Xi})),r.d(t,"setBoolean",(function(){return Vn})),r.d(t,"setDate",(function(){return Jn})),r.d(t,"setDatetime",(function(){return qn})),r.d(t,"setDecimal",(function(){return Yn})),r.d(t,"setGroupDefaultAccess",(function(){return vo})),r.d(t,"setGroupResourceAccess",(function(){return go})),r.d(t,"setInteger",(function(){return $n})),r.d(t,"setIri",(function(){return Wn})),r.d(t,"setLiteral",(function(){return ei})),r.d(t,"setNamedNode",(function(){return Zn})),r.d(t,"setProfileJwks",(function(){return Co})),r.d(t,"setPublicDefaultAccess",(function(){return xo})),r.d(t,"setPublicResourceAccess",(function(){return wo})),r.d(t,"setStringNoLocale",(function(){return Xn})),r.d(t,"setStringWithLocale",(function(){return Qn})),r.d(t,"setTerm",(function(){return ti})),r.d(t,"setThing",(function(){return gr})),r.d(t,"setTime",(function(){return Gn})),r.d(t,"setUrl",(function(){return Kn})),r.d(t,"solidDatasetAsMarkdown",(function(){return en})),r.d(t,"thingAsMarkdown",(function(){return xr})),r.d(t,"toRdfJsDataset",(function(){return Ao}));var n=r(3),i=r(13),o=r(8),a=r(5),s=r(2),u=r(29),c=r(30),l=r(32),f=r(33),d=r(44),p=r(40);var h=r(52);function g(e,t,r){return g=Object(h.a)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Object(p.a)(i,r.prototype),i},g.apply(null,arguments)}function v(e){var t="function"===typeof Map?new Map:void 0;return v=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return g(e,arguments,Object(d.a)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(p.a)(n,e)},v(e)}var y=r(0),m=r.n(y),b=r(101),w=r.n(b),x=r(45),S=r.n(x),k=r(71),_=r.n(k),E=r(102),O=r(51);function A(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function P(e){var t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function C(e){var t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}var j=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(){return Object(c.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r)}(v(Error));function R(e){return"string"===typeof e?e:e.value}var I=function(){var e=Object(s.a)(m.a.mark((function e(t,n){var i,o,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:case 13:return e.abrupt("return",e.sent);case 4:e.next=10;break;case 7:return i=e.sent,o=i.default,e.abrupt("return",o(t,n));case 10:return a=r(51),e.next=13,a(t,n);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function F(e){var t,r,n,i=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],o=i.length>0&&["text/turtle","application/ld+json"].includes(i[0]),a={sourceIri:e.url,isRawData:!o,contentType:null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:void 0,linkedResources:{}},s=e.headers.get("Link");if(s){var u=w.a.parse(s),c=u.get("rel","acl");1===c.length&&(a.aclUrl=new URL(c[0].uri,a.sourceIri).href),a.linkedResources=u.refs.reduce((function(e,t){var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,a.sourceIri).href),e}),a.linkedResources)}var l=e.headers.get("WAC-Allow");return l&&(a.permissions=function(e){function t(e){var t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){var r=e.split(",").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&e[0].trim()===t}));if(1!==r.length)return"";var n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(l)),a}function T(e){return"function"===typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e)}function N(e){return!e.ok}function D(e){return 401===e.status||403===e.status}var L="http://www.w3.org/ns/auth/acl#Authorization",U="http://www.w3.org/ns/auth/acl#accessTo",M="http://www.w3.org/ns/auth/acl#agent",B="http://www.w3.org/ns/auth/acl#agentGroup",H="http://www.w3.org/ns/auth/acl#agentClass",z="http://www.w3.org/ns/auth/acl#default",K="http://www.w3.org/ns/auth/acl#defaultForNew",W="http://www.w3.org/ns/auth/acl#mode",V="http://www.w3.org/ns/auth/acl#origin",q="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",J="http://www.w3.org/ns/ldp#BasicContainer",G="http://www.w3.org/ns/ldp#Resource",Y="http://www.w3.org/ns/ldp#contains",$="http://xmlns.com/foaf/0.1/Agent",Q="http://xmlns.com/foaf/0.1/primaryTopic",X="http://xmlns.com/foaf/0.1/isPrimaryTopicOf",Z={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},ee="http://www.w3.org/ns/solid/terms#PublicOidcClient",te="https://w3id.org/security#publicKey",re="http://www.w3.org/ns/pim/space#storage",ne={fetch:I};function ie(e){return oe.apply(this,arguments)}function oe(){return oe=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:Object.assign(Object.assign({},ne),{ignoreAuthenticationErrors:!1}),i=Object.assign(Object.assign({},ne),r),e.next=4,i.fetch(t,{method:"HEAD"});case 4:return o=e.sent,e.abrupt("return",ae(o,{ignoreAuthenticationErrors:null!==(n=r.ignoreAuthenticationErrors)&&void 0!==n&&n}));case 6:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(N(e)&&(!D(e)||!t.ignoreAuthenticationErrors))throw new ve("Fetching the metadata of the Resource at [".concat(e.url,"] failed: [").concat(e.status,"] [").concat(e.statusText,"]."),e);var r=F(e);return{internal_resourceInfo:r}}function se(e){return(A(e)?le(e):R(e)).endsWith("/")}function ue(e){return e.internal_resourceInfo.isRawData}function ce(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function le(e){return A(e)?e.internal_resourceInfo.sourceIri:null}var fe=le;function de(e){var t;if(!P(e))return null;var r=null!==(t=he(e)["http://www.w3.org/ns/solid/terms#podOwner"])&&void 0!==t?t:[];return 1===r.length?r[0]:null}function pe(e,t){var r=de(t);return"string"!==typeof r?null:r===e}function he(e){return e.internal_resourceInfo.linkedResources}function ge(e){var t,r,n,i,o,a,s;if("object"===typeof e.internal_resourceInfo.permissions)return{user:{read:e.internal_resourceInfo.permissions.user.read,append:e.internal_resourceInfo.permissions.user.append,write:e.internal_resourceInfo.permissions.user.write},public:{read:e.internal_resourceInfo.permissions.public.read,append:e.internal_resourceInfo.permissions.public.append,write:e.internal_resourceInfo.permissions.public.write}};var u=he(e);return{user:{read:null!==(r=null===(t=u[Z.allow])||void 0===t?void 0:t.includes(Z.Read))&&void 0!==r&&r,append:null!==(o=(null===(n=u[Z.allow])||void 0===n?void 0:n.includes(Z.Append))||(null===(i=u[Z.allow])||void 0===i?void 0:i.includes(Z.Write)))&&void 0!==o&&o,write:null!==(s=null===(a=u[Z.allow])||void 0===a?void 0:a.includes(Z.Write))&&void 0!==s&&s}}}var ve=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e,n){var i;return Object(c.a)(this,r),(i=t.call(this,e)).response=n,i}return Object(u.a)(r,[{key:"statusCode",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),r}(j),ye={fetch:I},me=["Slug","If-None-Match","Content-Type"];function be(e){return me.some((function(t){return void 0!==e[t]}))}function we(e){return xe.apply(this,arguments)}function xe(){return xe=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:ye,n=Object.assign(Object.assign({},ye),r),i=R(t),e.next=5,n.fetch(i,n.init);case 5:if(!N(o=e.sent)){e.next=8;break}throw new ve("Fetching the File failed: [".concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:return a=F(o),e.next=11,o.blob();case 11:return s=e.sent,u=Object.assign(s,{internal_resourceInfo:a}),e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function Se(e){return ke.apply(this,arguments)}function ke(){return ke=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:ye,n=Object.assign(Object.assign({},ye),r),i=A(t)?R(fe(t)):R(t),e.next=5,n.fetch(i,Object.assign(Object.assign({},n.init),{method:"DELETE"}));case 5:if(!N(o=e.sent)){e.next=8;break}throw new ve("Deleting the file at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function _e(e,t){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u,c,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.length>2&&void 0!==l[2]?l[2]:ye,i=R(t),e.next=4,Ce(i,r,"POST",n);case 4:if(!N(o=e.sent)){e.next=7;break}throw new ve("Saving the file in [".concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 7:if(null!==(a=o.headers.get("Location"))){e.next=10;break}throw new Error("Could not determine the location of the newly saved file.");case 10:return s=new URL(a,new URL(i).origin).href,u=T(r),c={internal_resourceInfo:{isRawData:!0,sourceIri:s,contentType:Re(r,n.contentType)}},e.abrupt("return",Object.assign(u,c));case 14:case"end":return e.stop()}}),e)}))),Ee.apply(this,arguments)}function Oe(e,t){return Ae.apply(this,arguments)}function Ae(){return Ae=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:ye,i=R(t),e.next=4,Ce(i,r,"PUT",n);case 4:if(!N(o=e.sent)){e.next=7;break}throw new ve("Overwriting the file at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 7:return a=T(r),(s=F(o)).sourceIri=i,s.isRawData=!0,e.abrupt("return",Object.assign(a,{internal_resourceInfo:s}));case 12:case"end":return e.stop()}}),e)}))),Ae.apply(this,arguments)}function Pe(e){if("undefined"===typeof e)return{};var t,r={};return t=e,Array.isArray(t)?e.forEach((function(e){var t=Object(a.a)(e,2),n=t[0],i=t[1];r[n]=i})):!function(e){return"function"===typeof e.forEach}(e)?r=e:e.forEach((function(e,t){r[t]=e})),r}function Ce(e,t,r,n){return je.apply(this,arguments)}function je(){return(je=Object(s.a)(m.a.mark((function e(t,r,n,i){var o,a,s,u,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Object.assign(Object.assign({},ye),i),!be(u=Pe(null!==(a=null===(o=s.init)||void 0===o?void 0:o.headers)&&void 0!==a?a:{}))){e.next=4;break}throw new Error("No reserved header (".concat(me.join(", "),") should be set in the optional RequestInit."));case 4:return void 0!==s.slug&&(u.Slug=s.slug),u["Content-Type"]=Re(r,i.contentType),c=R(t),e.next=9,s.fetch(c,Object.assign(Object.assign({},s.init),{headers:u,method:n,body:r}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){if("string"===typeof t)return t;var r="object"===typeof e&&null!==e&&"string"===typeof e.type&&e.type.length>0?e.type:void 0;return null!==r&&void 0!==r?r:"application/octet-stream"}_.a.dataset;var Ie="https://inrupt.com/.well-known/sdk-local-node/",Fe=Object.freeze;function Te(e){return e.substring(0,Ie.length)===Ie}function Ne(e){return e.substring(Ie.length)}function De(e){return"".concat(Ie).concat(e)}function Le(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function Ue(e){return e.substring(2)}function Me(e){return"_:".concat(e.value)}var Be="http://www.w3.org/2001/XMLSchema#boolean",He="http://www.w3.org/2001/XMLSchema#dateTime",ze="http://www.w3.org/2001/XMLSchema#date",Ke="http://www.w3.org/2001/XMLSchema#time",We="http://www.w3.org/2001/XMLSchema#decimal",Ve="http://www.w3.org/2001/XMLSchema#integer",qe="http://www.w3.org/2001/XMLSchema#string",Je="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function Ge(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function Ye(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=Xe(e),r=Object(a.a)(t,2),n=r[0],i=r[1],o=n.split(":"),s=Object(a.a)(o,3),u=s[0],c=s[1],l=s[2],f=Number.parseInt(u,10),d=Number.parseInt(c,10),p=l.split("."),h=Object(a.a)(p,2),g=h[0],v=h[1],y=Number.parseInt(g,10),m=v?Number.parseInt(v,10):void 0;d>=60&&(f+=1,d-=60);var b={hour:f,minute:d,second:y};if("number"===typeof m&&(b.millisecond=m),"string"===typeof i){var w=Ze(i),x=Object(a.a)(w,2),S=x[0],k=x[1];if("number"!==typeof S||S>24||"number"!==typeof k||k>59)return null;b.timezoneHourOffset=S,b.timezoneMinuteOffset=k}return b}function $e(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e.split("T"),r=Object(a.a)(t,2),n=r[0],i=r[1],o="-"===n.charAt(0)?[-1,n.substring(1)]:[1,n],s=Object(a.a)(o,2),u=s[0],c=s[1].split("-"),l=Object(a.a)(c,3),f=l[0],d=l[1],p=l[2],h=Number.parseInt(f,10)*u,g=Number.parseInt(d,10)-1,v=Number.parseInt(p,10),y=Xe(i),m=Object(a.a)(y,2),b=m[0],w=m[1],x="string"===typeof w?Ze(w):[0,0],S=Object(a.a)(x,2),k=S[0],_=S[1],E=b.split(":"),O=Object(a.a)(E,3),A=O[0],P=O[1],C=O[2],j=Number.parseInt(A,10)+k,R=Number.parseInt(P,10)+_,I=C.split("."),F=Object(a.a)(I,2),T=F[0],N=F[1],D=Number.parseInt(T,10),L=N?Number.parseInt(N,10):0,U=new Date(Date.UTC(h,g,v,j,R,D,L));return h>=0&&h<100&&U.setUTCFullYear(U.getUTCFullYear()-1900),U}function Qe(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e,r="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],n=Object(a.a)(r,2),i=n[0],o=n[1].split("-"),s=Object(a.a)(o,3),u=s[0],c=s[1],l=s[2],f=l.length>2?l.substring(0,2):l,d=Number.parseInt(u,10)*i,p=Number.parseInt(c,10)-1,h=Number.parseInt(f,10),g=new Date(Date.UTC(d,p,h,12));return d>=0&&d<100&&g.setUTCFullYear(g.getUTCFullYear()-1900),g}function Xe(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];var t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],"+"+t[1]]:[r[0],"-"+r[1]]}function Ze(e){if("Z"===e)return[0,0];var t="+"===e.charAt(0)?1:-1,r=e.substring(1).split(":"),n=Object(a.a)(r,2),i=n[0],o=n[1];return[Number.parseInt(i,10)*t,Number.parseInt(o,10)*t]}function et(e){var t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function tt(e){var t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function rt(e){return e.toLowerCase()}function nt(e){return it(e)&&"NamedNode"===e.termType}function it(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function ot(e){return nt(e)&&Te(e.value)}function at(e){var t=R(e);if("function"!==typeof URL)return!0;try{new URL(t)}catch(r){return!1}return!0}function st(e,t){return ct.namedNode(ut(Ne(e.value),t))}function ut(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");var r=new URL(t);return r.hash=e,r.href}var ct=S.a;function lt(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["NamedNode","DefaultGraph"];if(!i.includes(t.graph.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.graph.termType,"] as their Graph node."));var a="DefaultGraph"===t.graph.termType?"default":t.graph.value,s=null!==(r=e.graphs[a])&&void 0!==r?r:{};return Fe(Object.assign(Object.assign({},e),{graphs:Fe(Object.assign(Object.assign({},e.graphs),Object(o.a)({},a,ft(s,t,n))))}))}function ft(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.subject.termType,"] as their Subject node."));var i="BlankNode"===t.subject.termType?"_:".concat(t.subject.value):t.subject.value,a=null!==(n=e[i])&&void 0!==n?n:{type:"Subject",url:i,predicates:{}};return Fe(Object.assign(Object.assign({},e),Object(o.a)({},i,function(e,t,r){return Fe(Object.assign(Object.assign({},e),{predicates:dt(e.predicates,t,r)}))}(a,t,r))))}function dt(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.predicate.termType,"] as their Predicate node."));var i=t.predicate.value,a=null!==(n=e[i])&&void 0!==n?n:{};return Fe(Object.assign(Object.assign({},e),Object(o.a)({},i,pt(a,t,r))))}function pt(e,t,r){var n,a,s,u,c,l,f,d;if("NamedNode"===t.object.termType){var p=Fe([].concat(Object(i.a)(null!==(n=e.namedNodes)&&void 0!==n?n:[]),[t.object.value]));return Fe(Object.assign(Object.assign({},e),{namedNodes:p}))}if("Literal"===t.object.termType){if(t.object.datatype.value===Je){var h=t.object.language.toLowerCase(),g=Fe([].concat(Object(i.a)(null!==(s=null===(a=e.langStrings)||void 0===a?void 0:a[h])&&void 0!==s?s:[]),[t.object.value])),v=Fe(Object.assign(Object.assign({},null!==(u=e.langStrings)&&void 0!==u?u:{}),Object(o.a)({},h,g)));return Fe(Object.assign(Object.assign({},e),{langStrings:v}))}var y=Fe([].concat(Object(i.a)(null!==(l=null===(c=e.literals)||void 0===c?void 0:c[t.object.datatype.value])&&void 0!==l?l:[]),[t.object.value])),m=Fe(Object.assign(Object.assign({},null!==(f=e.literals)&&void 0!==f?f:{}),Object(o.a)({},t.object.datatype.value,y)));return Fe(Object.assign(Object.assign({},e),{literals:m}))}if("BlankNode"===t.object.termType){var b=ht(t.object,r),w=Fe([].concat(Object(i.a)(null!==(d=e.blankNodes)&&void 0!==d?d:[]),[b]));return Fe(Object.assign(Object.assign({},e),{blankNodes:w}))}throw new Error("Objects of type [".concat(t.object.termType,"] are not supported."))}function ht(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((function(t){return t.equals(e)})))return Me(e);var a=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((function(t){return t.subject.equals(e)})),s=a.filter((function(e){return!bt(e.object)})).reduce((function(e,r){var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var i=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return Fe(Object.assign(Object.assign({},e),Object(o.a)({},r.predicate.value,pt(i,r,t))))}),{});return a.filter((function(e){return bt(e.object)})).reduce((function(e,r){var n,a;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var s=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},u=null!==(a=s.blankNodes)&&void 0!==a?a:[];return Fe(Object.assign(Object.assign({},e),Object(o.a)({},r.predicate.value,Object.assign(Object.assign({},s),{blankNodes:[].concat(Object(i.a)(u),[ht(r.object,t)])}))))}),s)}function gt(e){var t=e.map((function(e){return e.subject})).filter(bt),r=e.map((function(e){return e.object})).filter(bt);var n=[];return r.forEach((function(t){n.push.apply(n,Object(i.a)(mt(t,e)))})),t.concat(r).filter((function(t){if(n.some((function(e){return e.equals(t)})))return!1;var r,i=e.filter((function(e){return e.object.equals(t)})).map((function(e){return e.subject}));return i.length>0&&(r=i).every((function(e){return r.every((function(t){return e.equals(t)}))}))}))}function vt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=null!==(t=r.dataFactory)&&void 0!==t?t:S.a;return Object.keys(e.graphs).forEach((function(t){var a=e.graphs[t],s="default"===t?o.defaultGraph():o.namedNode(t);Object.keys(a).forEach((function(e){var t=a[e].predicates,u=Le(e)?o.blankNode(Ue(e)):o.namedNode(e);n.push.apply(n,Object(i.a)(yt(t,u,s,r)))}))})),n}function yt(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[],s=null!==(n=o.dataFactory)&&void 0!==n?n:S.a;return Object.keys(e).forEach((function(n){var o,u,c,l,f=s.namedNode(n),d=null!==(o=e[n].langStrings)&&void 0!==o?o:{},p=null!==(u=e[n].namedNodes)&&void 0!==u?u:[],h=null!==(c=e[n].literals)&&void 0!==c?c:{},g=null!==(l=e[n].blankNodes)&&void 0!==l?l:[];Object.keys(h).forEach((function(e){var n=s.namedNode(e);h[e].forEach((function(e){var i=s.literal(e,n);a.push(s.quad(t,f,i,r))}))})),Object.keys(d).forEach((function(e){d[e].forEach((function(n){var i=s.literal(n,e);a.push(s.quad(t,f,i,r))}))})),p.forEach((function(e){var n=s.namedNode(e);a.push(s.quad(t,f,n,r))})),g.forEach((function(e){if(Le(e)){var n=s.blankNode(Ue(e));a.push(s.quad(t,f,n,r))}else{var o=s.blankNode(),u=s.quad(t,f,o,r),c=yt(e,o,r);a.push(u),a.push.apply(a,Object(i.a)(c))}}))})),a}function mt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==r.find((function(t){return t.equals(e)})))return r;var o=t.filter((function(t){return t.subject.equals(e)&&bt(t.object)})).map((function(e){return e.object}));if(0===o.length)return[];var a,s=[].concat(Object(i.a)(r),[e]),u=o.map((function(e){return mt(e,t,s)})),c=[],l=Object(n.a)(u);try{for(l.s();!(a=l.n()).done;){var f=a.value;c.push.apply(c,Object(i.a)(f))}}catch(d){l.e(d)}finally{l.f()}return c}function bt(e){return"BlankNode"===e.termType}var wt=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=Object(s.a)(m.a.mark((function n(i,o){var a,s;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.prev=1,n.next=4,E.toRDF(JSON.parse(i),{base:le(o)});case 4:s=n.sent,a=xt(s),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r.forEach((function(e){return e(n.t0)}));case 11:a.forEach((function(t){e.forEach((function(e){return e(t)}))})),t.forEach((function(e){return e()}));case 13:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()}};function xt(e){return e.map((function(e){return ct.quad(St(e.subject),St(e.predicate),St(e.object),St(e.graph))}))}function St(e){switch(e.termType){case"NamedNode":return ct.namedNode(e.value);case"BlankNode":return ct.blankNode(e.value.substr(2));case"Literal":return ct.literal(e.value,e.language||e.datatype);case"DefaultGraph":return ct.defaultGraph();default:throw Error("unknown termType: "+e.termType)}}var kt=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=Object(s.a)(m.a.mark((function n(i,o){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_t(le(o));case 2:n.sent.parse(i,(function(n,i,o){n?r.forEach((function(e){return e(n)})):i?e.forEach((function(e){return e(i)})):t.forEach((function(e){return e()}))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}};function _t(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(s.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt();case 2:return r=e.sent,e.abrupt("return",new r.Parser({format:"text/turtle",baseIRI:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e){return At.apply(this,arguments)}function At(){return(At=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt();case 2:return r=e.sent,"text/turtle",n=new r.Writer({format:"text/turtle"}),i=t.map((function(e){return ct.quad(e.subject,e.predicate,e.object,void 0)})),n.addQuads(i),o=new Promise((function(e,t){n.end((function(r,n){if(r)return t(r);e(n)}))})),e.next=10,o;case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pt(){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(s.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([r.e(3),r.e(4)]).then(r.bind(null,228));case 2:if("undefined"===typeof(t=e.sent).default){e.next=5;break}return e.abrupt("return",t.default);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){var t,r,n,i,o,a,s,u;if(nt(e))return"<".concat(e.value,"> (URL)");if(function(e){return it(e)&&"Literal"===e.termType}(e)){if(!nt(e.datatype))return"[".concat(e.value,"] (RDF/JS Literal of unknown type)");switch(e.datatype.value){case Be:return(null!==(r=null===(t=Ge(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:"Invalid data: `".concat(e.value,"`"))+" (boolean)";case He:return(null!==(i=null===(n=$e(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==i?i:"Invalid data: `".concat(e.value,"`"))+" (datetime)";case We:return(null!==(a=null===(o=et(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:"Invalid data: `".concat(e.value,"`"))+" (decimal)";case Ve:return(null!==(u=null===(s=tt(e.value))||void 0===s?void 0:s.toString())&&void 0!==u?u:"Invalid data: `".concat(e.value,"`"))+" (integer)";case Je:return'"'.concat(e.value,'" (').concat(e.language," string)");case qe:return'"'.concat(e.value,'" (string)');default:return"[".concat(e.value,"] (RDF/JS Literal of type: `").concat(e.datatype.value,"`)")}}return"BlankNode"===e.termType?"[".concat(e.value,"] (RDF/JS BlankNode)"):"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?"?".concat(e.value," (RDF/JS Variable)"):e}function Rt(e){if(!mr(e))throw new kr(e)}function It(e,t){var r=C(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Tt(e)})).reduce((function(e,t){var r=Object(a.a)(e,2),n=r[0],i=r[1];return"undefined"!==typeof n.find((function(e){return e.equals(t)}))?[n.filter((function(e){return!e.equals(t)})),i]:[n,i.concat(t)]}),[r.additions,r.deletions]),i=Object(a.a)(n,2),o=i[0],s=i[1];return Fe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}function Ft(e){return C(e)?e:Fe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}function Tt(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function Nt(e){return Object.keys(e.predicates).filter((function(t){return null!==cr(e,t)}))}function Dt(e,t){var r,n,i;if(Rt(e),!at(t))throw new _r(t);var o=R(t),a=null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==i?i:null;return null===a?null:Te(a)?"#".concat(Ne(a)):a}var Lt=Dt;function Ut(e,t){var r,n,i;if(Rt(e),!at(t))throw new _r(t);var o=R(t);return null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((function(e){return Te(e)?"#".concat(Ne(e)):e})))&&void 0!==i?i:[]}var Mt=Ut;function Bt(e,t){Rt(e);var r=fr(e,t,Be);return null===r?null:Ge(r)}function Ht(e,t){return Rt(e),dr(e,t,Be).map(Ge).filter((function(e){return null!==e}))}function zt(e,t){Rt(e);var r=fr(e,t,He);return null===r?null:$e(r)}function Kt(e,t){return Rt(e),dr(e,t,He).map($e).filter((function(e){return null!==e}))}function Wt(e,t){Rt(e);var r=fr(e,t,ze);return null===r?null:Qe(r)}function Vt(e,t){return Rt(e),dr(e,t,ze).map(Qe).filter((function(e){return null!==e}))}function qt(e,t){Rt(e);var r=fr(e,t,Ke);return null===r?null:Ye(r)}function Jt(e,t){return Rt(e),dr(e,t,Ke).map(Ye).filter((function(e){return null!==e}))}function Gt(e,t){Rt(e);var r=fr(e,t,We);return null===r?null:et(r)}function Yt(e,t){return Rt(e),dr(e,t,We).map((function(e){return et(e)})).filter((function(e){return null!==e}))}function $t(e,t){Rt(e);var r=fr(e,t,Ve);return null===r?null:tt(r)}function Qt(e,t){return Rt(e),dr(e,t,Ve).map((function(e){return tt(e)})).filter((function(e){return null!==e}))}function Xt(e,t){return Zt(e,t,"en")}function Zt(e,t,r){var n,i;if(Rt(e),!at(t))throw new _r(t);var o=R(t),a=null!==(i=null===(n=e.predicates[o])||void 0===n?void 0:n.langStrings)&&void 0!==i?i:{},s=Object.keys(a).find((function(e){return e.toLowerCase()===r.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0}));return"string"===typeof s?a[s][0]:null}function er(e,t){return tr(e,t,"en")}function tr(e,t,r){var n,o;if(Rt(e),!at(t))throw new _r(t);var a=R(t),s=null!==(o=null===(n=e.predicates[a])||void 0===n?void 0:n.langStrings)&&void 0!==o?o:{},u=Object.keys(s).find((function(e){return e.toLowerCase()===r.toLowerCase()&&Array.isArray(s[e])&&s[e].length>0}));return"string"===typeof u?Object(i.a)(s[u]):[]}function rr(e,t){var r,n;if(Rt(e),!at(t))throw new _r(t);var o=R(t),s=null!==(n=null===(r=e.predicates[o])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{};return new Map(Object.entries(s).map((function(e){var t=Object(a.a)(e,2),r=t[0],n=t[1];return[r,Object(i.a)(n)]})))}function nr(e,t){return Rt(e),fr(e,t,qe)}function ir(e,t){return Rt(e),dr(e,t,qe)}function or(e,t){var r=Lt(e,t);return null===r?null:ct.namedNode(r)}function ar(e,t){return Mt(e,t).map((function(e){return ct.namedNode(e)}))}function sr(e,t){var r,n,i,o;if(Rt(e),!at(t))throw new _r(t);var a=R(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},u=Object.keys(s);if(u.length>0){var c=u.find((function(e){return Array.isArray(s[e])&&s[e].length>0}));if("string"===typeof c)return ct.literal(s[c][0],c)}var l=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},f=Object.keys(l);if(f.length>0){var d=f.find((function(e){return Array.isArray(l[e])&&l[e].length>0}));if("string"===typeof d)return ct.literal(l[d][0],ct.namedNode(d))}return null}function ur(e,t){var r,n,i,o;if(Rt(e),!at(t))throw new _r(t);for(var a=R(t),s=[],u=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},c=Object.keys(u),l=function(){var e=d[f],t=u[e].map((function(t){return ct.literal(t,e)}));s=s.concat(t)},f=0,d=c;f<d.length;f++)l();for(var p=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},h=Object.keys(p),g=function(){var e=y[v],t=p[e],r=ct.namedNode(e),n=t.map((function(e){return ct.literal(e,r)}));s=s.concat(n)},v=0,y=h;v<y.length;v++)g();return s}function cr(e,t){var r,n;Rt(e);var i=or(e,t);if(null!==i)return i;var o=sr(e,t);if(null!==o)return o;var a=R(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[];if(s.length>0){var u=Le(s[0])?Ue(s[0]):void 0;return ct.blankNode(u)}return null}function lr(e,t){var r,n;Rt(e);var i=ar(e,t),o=ur(e,t),a=R(t),s=(null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((function(e){var t=Le(e)?Ue(e):void 0;return ct.blankNode(t)}));return i.concat(o).concat(s)}function fr(e,t,r){var n,i,o,a;if(!at(t))throw new _r(t);var s=R(t);return null!==(a=null===(o=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function dr(e,t,r){var n,o,a;if(!at(t))throw new _r(t);var s=R(t),u=null!==(a=null===(o=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===o?void 0:o[r])&&void 0!==a?a:[];return Object(i.a)(u)}function pr(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!at(t))throw new Or(t);var i="undefined"!==typeof n.scope?R(n.scope):"default",o=null!==(r=e.graphs[i])&&void 0!==r?r:{},a=R(t),s=Te(a)&&P(e)?ut(Ne(a),le(e)):a,u=o[s];return"undefined"===typeof u?null:u}function hr(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1},n="undefined"!==typeof r.scope?R(r.scope):"default",i=null!==(t=e.graphs[n])&&void 0!==t?t:{};return Object.values(i).filter((function(e){return!Le(e.url)||r.acceptBlankNodes}))}function gr(e,t){var r,n=Sr(t)&&P(e)?ut(Ne(t.url),le(e)):t.url,i=e.graphs.default,s=Fe(Object.assign(Object.assign({},i),Object(o.a)({},n,Fe(Object.assign(Object.assign({},t),{url:n}))))),u=Fe(Object.assign(Object.assign({},e.graphs),{default:s})),c=ct.namedNode(n),l=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,f="undefined"!==typeof l?yt(l,c,ct.defaultGraph()):[],d=yt(t.predicates,c,ct.defaultGraph());return function(e,t){var r=C(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Tt(e)})).reduce((function(e,t){var r=Object(a.a)(e,2),n=r[0],i=r[1];return"undefined"!==typeof i.find((function(e){return e.equals(t)}))?[n,i.filter((function(e){return!e.equals(t)}))]:[n.concat(t),i]}),[r.additions,r.deletions]),i=Object(a.a)(n,2),o=i[0],s=i[1];return Fe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}(It(Fe(Object.assign(Object.assign({},e),{graphs:u})),f),d)}function vr(e,t){var r,n;n=nt(t)?t.value:"string"===typeof t?Te(t)&&P(e)?ut(Ne(t),le(e)):t:Sr(t)?t.url:wr(t);var i=e.graphs.default,o=Object.assign({},i);delete o[n];var a=Fe(Object.assign(Object.assign({},e.graphs),{default:Fe(o)})),s=ct.namedNode(n),u=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,c="undefined"!==typeof u?yt(u,s,ct.defaultGraph()):[];return It(Fe(Object.assign(Object.assign({},e),{graphs:a})),c)}function yr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof t.url){var r=t.url;if(!at(r))throw new Or(r);var n=Fe({type:"Subject",predicates:Fe({}),url:r});return n}var i=null!==(e=t.name)&&void 0!==e?e:Ar(),o=De(i),a=Fe({type:"Subject",predicates:Fe({}),url:o});return a}function mr(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}function br(e,t){if(Sr(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return ut(Ne(e.url),t)}return e.url}var wr=br;function xr(e){var t="";Sr(e)?t+="## Thing (no URL yet \u2014 identifier: `#".concat(Ne(e.url),"`)\n"):t+="## Thing: ".concat(e.url,"\n");var r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else{var i,o=Object(n.a)(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t+="\nProperty: ".concat(a,"\n"),lr(e,a).forEach((function(e){t+="- ".concat(jt(e),"\n")}))}}catch(s){o.e(s)}finally{o.f()}}return t}function Sr(e){return Te(e.url)}var kr=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(c.a)(this,r);var i="Expected a Thing, but received: [".concat(e,"].");return(n=t.call(this,i)).receivedValue=e,n}return Object(u.a)(r)}(j),_r=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(c.a)(this,r);var i=nt(e)?e.value:e,o="Expected a valid URL to identify a property, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedProperty=i,n}return Object(u.a)(r)}(j),Er=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(c.a)(this,r);var i=nt(e)?e.value:e,o="Expected a valid URL value, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return Object(u.a)(r)}(j),Or=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e){var n;Object(c.a)(this,r);var i=nt(e)?e.value:e,o="Expected a valid URL to identify a Thing, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return Object(u.a)(r)}(j),Ar=function(){return Date.now().toString()+Math.random().toString().substring("0.".length)};function Pr(e){var t=new URL(e);return t.hash="",t.href}function Cr(){return Fe({type:"Dataset",graphs:{default:{}}})}function jr(e){return Rr.apply(this,arguments)}function Rr(){return Rr=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,u,c,l,f=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:{},!N(t)){e.next=3;break}throw new ve("Fetching the SolidDataset at [".concat(t.url,"] failed: [").concat(t.status,"] [").concat(t.statusText,"]."),t);case 3:if(n=ae(t),i=Object.assign({"text/turtle":kt()},r.parsers),null!==(o=ce(n))){e.next=8;break}throw new Error("Could not determine the content type of the Resource at [".concat(le(n),"]."));case 8:if(a=o.split(";")[0],"undefined"!==typeof(u=i[a])){e.next=12;break}throw new Error("The Resource at [".concat(le(n),"] has a MIME type of [").concat(a,"], but the only parsers available are for the following MIME types: [").concat(Object.keys(i).join(", "),"]."));case 12:return e.next=14,t.text();case 14:return c=e.sent,l=new Promise((function(e,t){var r=Fe({graphs:Fe({default:Fe({})}),type:"Dataset"}),i=[],a=[];u.onError((function(e){t(new Error("Encountered an error parsing the Resource at [".concat(le(n),"] with content type [").concat(o,"]: ").concat(e)))})),u.onQuad((function(e){a.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?i.push(e):r=lt(r,e)})),u.onComplete(Object(s.a)(m.a.mark((function t(){var o,s,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:20,o=i.length<=20?gt(i):[],s=i.filter((function(e){return o.every((function(t){return!t.equals(e.subject)}))})),r=s.reduce((function(e,t){return lt(e,t,{otherQuads:a,chainBlankNodes:o})}),r),u=Fe(Object.assign(Object.assign({},r),n)),e(u);case 6:case"end":return t.stop()}}),t)})))),u.parse(c,n)})),e.next=18,l;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Ir(e){return Fr.apply(this,arguments)}function Fr(){return Fr=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:ne,t=R(t),i=Object.assign(Object.assign({},ne),r),o=Object.keys(null!==(n=r.parsers)&&void 0!==n?n:{}),a=o.length>0?o.join(", "):"text/turtle",e.next=7,i.fetch(t,{headers:{Accept:a}});case 7:if(!N(s=e.sent)){e.next=10;break}throw new ve("Fetching the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"]."),s);case 10:return e.next=12,jr(s,r);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Tr(e){return Nr.apply(this,arguments)}function Nr(){return(Nr=Object(s.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.internal_changeLog.deletions.length>0)){e.next=8;break}return e.t1="DELETE DATA {",e.next=4,Ot(t.internal_changeLog.deletions.map(rn));case 4:e.t2=e.sent.trim(),e.t0=e.t1.concat.call(e.t1,e.t2,"};"),e.next=9;break;case 8:e.t0="";case 9:if(r=e.t0,!(t.internal_changeLog.additions.length>0)){e.next=18;break}return e.t4="INSERT DATA {",e.next=14,Ot(t.internal_changeLog.additions.map(rn));case 14:e.t5=e.sent.trim(),e.t3=e.t4.concat.call(e.t4,e.t5,"};"),e.next=19;break;case 18:e.t3="";case 19:return n=e.t3,e.abrupt("return",{method:"PATCH",body:"".concat(r," ").concat(n),headers:{"Content-Type":"application/sparql-update"}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=Object(s.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ot(vt(t).map(rn));case 2:return e.t0=e.sent,e.t1={"Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(G,'>; rel="type"')},e.abrupt("return",{method:"PUT",body:e.t0,headers:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ur(e,t){return Mr.apply(this,arguments)}function Mr(){return Mr=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,d=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:ne,t=R(t),i=Object.assign(Object.assign({},ne),n),!qr(o=Ft(r),t)){e.next=10;break}return e.next=7,Tr(o);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,Dr(o);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,i.fetch(t,a);case 16:if(!N(s=e.sent)){e.next=20;break}throw u=qr(o,t)?"The changes that were sent to the Pod are listed below.\n\n"+tn(o):"The SolidDataset that was sent to the Pod is listed below.\n\n"+en(o),new ve("Storing the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"].\n\n")+u,s);case 20:return c=Object.assign(Object.assign({},F(s)),{isRawData:!1}),l=Fe(Object.assign(Object.assign({},r),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:c})),f=on(l),e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)}))),Mr.apply(this,arguments)}function Br(e){return Hr.apply(this,arguments)}function Hr(){return Hr=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:ne,n=Object.assign(Object.assign({},ne),r),i=A(t)?R(le(t)):R(t),e.next=5,n.fetch(i,{method:"DELETE"});case 5:if(!N(o=e.sent)){e.next=8;break}throw new ve("Deleting the SolidDataset at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function zr(e){return Kr.apply(this,arguments)}function Kr(){return Kr=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:ne,t=(t=R(t)).endsWith("/")?t:t+"/",i=Object.assign(Object.assign({},ne),r),e.t0=i,e.t1=t,!i.initialContent){e.next=12;break}return e.next=9,Ot(vt(i.initialContent).map(rn));case 9:e.t2=e.sent,e.next=13;break;case 12:e.t2=void 0;case 13:return e.t3=e.t2,e.t4={Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(J,'>; rel="type"')},e.t5={method:"PUT",body:e.t3,headers:e.t4},e.next=18,e.t0.fetch.call(e.t0,e.t1,e.t5);case 18:if(!N(o=e.sent)){e.next=31;break}if(e.t6=409===o.status&&"Conflict"===o.statusText,!e.t6){e.next=27;break}return e.next=24,o.text();case 24:e.t7=e.sent.trim(),e.t8=Wr,e.t6=e.t7===e.t8;case 27:if(!e.t6){e.next=29;break}return e.abrupt("return",Vr(t,r));case 29:throw a=void 0===i.initialContent?"empty":"non-empty",new ve("Creating the ".concat(a," Container at [").concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 31:return s=F(o),u=Fe(Object.assign(Object.assign({},null!==(n=r.initialContent)&&void 0!==n?n:Cr()),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:s})),e.abrupt("return",u);case 34:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}var Wr="Can't write file: PUT not supported on containers, use POST instead",Vr=function(){var e=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R(t),n=Object.assign(Object.assign({},ne),r),e.prev=2,e.next=5,ie(t,r);case 5:i=e.sent,e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(2),e.t0 instanceof ve&&404===e.t0.statusCode){e.next=12;break}throw e.t0;case 12:if("undefined"===typeof i){e.next=14;break}throw new Error("The Container at [".concat(t,"] already exists, and therefore cannot be created again."));case 14:return o=t+".dummy",e.next=17,n.fetch(o,{method:"PUT",headers:{Accept:"text/turtle","Content-Type":"text/turtle"}});case 17:if(!N(a=e.sent)){e.next=20;break}throw new ve("Creating the empty Container at [".concat(t,"] failed: [").concat(a.status,"] [").concat(a.statusText,"]."),a);case 20:return e.next=22,n.fetch(o,{method:"DELETE"});case 22:return e.next=24,n.fetch(t,{method:"HEAD"});case 24:return s=e.sent,u=F(s),c=Fe(Object.assign(Object.assign({},Cr()),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:u})),e.abrupt("return",c);case 28:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}();function qr(e,t){return C(e)&&A(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(r=t,Pr(e.internal_resourceInfo.sourceIri)===Pr(r));var r}function Jr(e,t){return Gr.apply(this,arguments)}function Gr(){return Gr=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,d,p=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.length>2&&void 0!==p[2]?p[2]:ne,i=Object.assign(Object.assign({},ne),n),t=R(t),e.next=5,Ot(vt(r).map(rn));case 5:return o=e.sent,a={"Content-Type":"text/turtle",Link:"<".concat(G,'>; rel="type"')},n.slugSuggestion&&(a.slug=n.slugSuggestion),e.next=10,i.fetch(t,{method:"POST",body:o,headers:a});case 10:if(!N(s=e.sent)){e.next=13;break}throw new ve("Storing the Resource in the Container at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"].\n\n")+"The SolidDataset that was sent to the Pod is listed below.\n\n"+en(r),s);case 13:if(null!==(u=s.headers.get("Location"))){e.next=16;break}throw new Error("Could not determine the location of the newly saved SolidDataset.");case 16:return c=new URL(u,s.url).href,l={internal_resourceInfo:{isRawData:!1,sourceIri:c}},f=Fe(Object.assign(Object.assign({},r),l)),d=on(f),e.abrupt("return",d);case 21:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Yr(e){return $r.apply(this,arguments)}function $r(){return $r=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:ne,t=R(t),n=Object.assign(Object.assign({},ne),r),i={"Content-Type":"text/turtle",Link:"<".concat(J,'>; rel="type"')},r.slugSuggestion&&(i.slug=r.slugSuggestion),e.next=7,n.fetch(t,{method:"POST",headers:i});case 7:if(!N(o=e.sent)){e.next=10;break}throw new ve("Creating an empty Container in the Container at [".concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 10:if(null!==(a=o.headers.get("Location"))){e.next=13;break}throw new Error("Could not determine the location of the newly created Container.");case 13:return s=new URL(a,o.url).href,u={internal_resourceInfo:{isRawData:!1,sourceIri:s}},c=Fe(Object.assign(Object.assign({},Cr()),u)),e.abrupt("return",c);case 17:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Qr(e){return Xr.apply(this,arguments)}function Xr(){return Xr=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:ne,n=A(t)?R(le(t)):R(t),se(t)){e.next=4;break}throw new Error("You're trying to delete the Container at [".concat(n,"], but Container URLs should end in a `/`. Are you sure this is a Container?"));case 4:return i=Object.assign(Object.assign({},ne),r),e.next=7,i.fetch(n,{method:"DELETE"});case 7:if(!N(o=e.sent)){e.next=10;break}throw new ve("Deleting the Container at [".concat(n,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 10:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function Zr(e){var t=pr(e,le(e));return null!==t?Mt(t,Y):[]}function en(e){var t="";A(e)?t+="# SolidDataset: ".concat(le(e),"\n"):t+="# SolidDataset (no URL yet)\n";var r=hr(e);return 0===r.length?t+="\n<empty>\n":r.forEach((function(r){t+="\n"+xr(r),C(e)&&(t+="\n"+function(e,t){var r=ct.namedNode(t.url),n=e.internal_changeLog.additions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),i=e.internal_changeLog.deletions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),o=1===i?"1 value removed":i+" values removed";return"(".concat(1===n?"1 new value added":n+" new values added"," / ").concat(o,")")}(e,r)+"\n")})),t}function tn(e){if(!A(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!C(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return"## Changes compared to ".concat(le(e),"\n\n")+"This SolidDataset has not been modified since it was fetched from ".concat(le(e),".\n");var t="## Changes compared to ".concat(le(e),"\n"),r=function(e){var t={};return e.internal_changeLog.deletions.forEach((function(r){var n,i,o,a=ot(r.subject)?st(r.subject,le(e)):r.subject;if(nt(a)&&nt(r.predicate)){var s=R(a),u=R(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].deleted.push(r.object)}})),e.internal_changeLog.additions.forEach((function(r){var n,i,o,a=ot(r.subject)?st(r.subject,le(e)):r.subject;if(nt(a)&&nt(r.predicate)){var s=R(a),u=R(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].added.push(r.object)}})),t}(e);return Object.keys(r).forEach((function(e){t+="\n### Thing: ".concat(e,"\n");var n=r[e];Object.keys(n).forEach((function(e){t+="\nProperty: ".concat(e,"\n");var r=n[e].deleted,i=n[e].added;r.length>0&&(t+="- Removed:\n",r.forEach((function(e){return t+="  - ".concat(jt(e),"\n")}))),i.length>0&&(t+="- Added:\n",i.forEach((function(e){return t+="  - ".concat(jt(e),"\n")})))}))})),t}function rn(e){var t=nt(e.subject)?nn(e.subject):e.subject,r=nt(e.object)?nn(e.object):e.object;return ct.quad(t,e.predicate,r,e.graph)}function nn(e){return Te(e.value)?ct.namedNode("#"+Ne(e.value)):e}function on(e){var t=le(e),r=e.graphs.default,n=Object.keys(r).reduce((function(e,r){var n=function(e,t){var r=Object.keys(e.predicates).reduce((function(e,r){var n,i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((function(e){return!Te(e)})))return e;var a=Fe(i.map((function(e){return Te(e)?"".concat(t,"#").concat(Ne(e)):e}))),s=Fe(Object.assign(Object.assign({},e[r]),{namedNodes:a}));return Fe(Object.assign(Object.assign({},e),Object(o.a)({},r,s)))}),e.predicates);return Fe(Object.assign(Object.assign({},e),{predicates:r,url:Te(e.url)?"".concat(t,"#").concat(Ne(e.url)):e.url}))}(e[r],t),i=Te(r)?"".concat(t,"#").concat(Ne(r)):r,a=Object.assign({},e);return delete a[r],a[i]=n,Fe(a)}),r),i=Fe(Object.assign(Object.assign({},e.graphs),{default:n}));return Fe(Object.assign(Object.assign({},e),{graphs:i}))}function an(e){return sn.apply(this,arguments)}function sn(){return sn=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:ne,n=R(t),e.next=4,ie(n,{fetch:r.fetch,ignoreAuthenticationErrors:!0});case 4:if(i=e.sent,o=he(i),a=o[re],null===(s=1===(null===a||void 0===a?void 0:a.length)?a[0]:null)){e.next=18;break}return u=new URL(".well-known/solid",s.endsWith("/")?s:s+"/").href,e.prev=10,e.next=13,Ir(u,Object.assign(Object.assign({},r),{parsers:{"application/ld+json":wt()}}));case 13:return e.abrupt("return",e.sent);case 16:e.prev=16,e.t0=e.catch(10);case 18:return c=new URL("/.well-known/solid",new URL(n).origin).href,e.abrupt("return",Ir(c,Object.assign(Object.assign({},r),{parsers:{"application/ld+json":wt()}})));case 20:case"end":return e.stop()}}),e,null,[[10,16]])}))),sn.apply(this,arguments)}var un=O.Response;function cn(e){var t=Cr();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:R(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}function ln(e){var t=R(e);if(!t.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return cn(t)}function fn(e,t){var r=new Blob;return Object.assign(r,{internal_resourceInfo:{sourceIri:R(e),isRawData:!0,contentType:null===t||void 0===t?void 0:t.contentType,linkedResources:{}}})}function dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:404,r=new un(void 0,{status:t});return new ve("Fetching the Resource at [".concat(e,"] failed: [").concat(r.status,"] [").concat(r.statusText,"]."),r)}var pn=function(e,t,r){var n,i;if(Rt(e),!at(t))throw new _r(t);if(!mr(r)&&!at(r))throw new Er(r);var a,s=R(t),u=null!==(n=e.predicates[s])&&void 0!==n?n:{},c=null!==(i=u.namedNodes)&&void 0!==i?i:[];a=nt(r)?r.value:"string"===typeof r?r:Sr(r)?r.url:wr(r);var l=Fe(c.concat(R(a))),f=Fe(Object.assign(Object.assign({},u),{namedNodes:l})),d=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,f)));return Fe(Object.assign(Object.assign({},e),{predicates:d}))},hn=pn,gn=function(e,t,r){return Rt(e),An(e,t,function(e){return e?"true":"false"}(r),Be)},vn=function(e,t,r){return Rt(e),An(e,t,function(e){return e.toISOString()}(r),He)},yn=function(e,t,r){return Rt(e),An(e,t,function(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),i=Xe(e.toISOString()),o=Object(a.a)(i,2),s=(o[0],o[1]);return"".concat(t,"-").concat(String(r).padStart(2,"0"),"-").concat(String(n).padStart(2,"0")).concat(s)}(r),ze)},mn=function(e,t,r){return Rt(e),An(e,t,function(e){var t,r;if(e.millisecond&&(t=e.millisecond<10?"00"+e.millisecond:e.millisecond<100?"0"+e.millisecond:e.millisecond),"number"===typeof e.timezoneHourOffset){var n=Math.abs(e.timezoneHourOffset)<10?"0"+Math.abs(e.timezoneHourOffset):Math.abs(e.timezoneHourOffset);r=e.timezoneHourOffset>=0?"+"+n:"-"+n,e.timezoneMinuteOffset?r=r+":"+(e.timezoneMinuteOffset<10?"0"+e.timezoneMinuteOffset:e.timezoneMinuteOffset):r+=":00"}return(e.hour<10?"0"+e.hour:e.hour)+":"+(e.minute<10?"0"+e.minute:e.minute)+":"+(e.second<10?"0"+e.second:e.second)+(e.millisecond?"."+t:"")+(r||"")}(r),Ke)},bn=function(e,t,r){return Rt(e),An(e,t,function(e){return e.toString()}(r),We)},wn=function(e,t,r){return Rt(e),An(e,t,function(e){return e.toString()}(r),Ve)};function xn(e,t,r){return Sn(e,t,r,"en")}function Sn(e,t,r,n){var i,a,s;if(Rt(e),!at(t))throw new _r(t);var u=R(t),c=rt(n),l=null!==(i=e.predicates[u])&&void 0!==i?i:{},f=null!==(a=l.langStrings)&&void 0!==a?a:{},d=null!==(s=f[c])&&void 0!==s?s:[],p=Fe(d.concat(r)),h=Fe(Object.assign(Object.assign({},f),Object(o.a)({},c,p))),g=Fe(Object.assign(Object.assign({},l),{langStrings:h})),v=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,g)));return Fe(Object.assign(Object.assign({},e),{predicates:v}))}var kn=function(e,t,r){return Rt(e),An(e,t,r,qe)};function _n(e,t,r){return pn(e,t,r.value)}function En(e,t,r){if(Rt(e),!at(t))throw new _r(t);return r.datatype.value===Je?Sn(e,t,r.value,r.language):An(e,t,r.value,r.datatype.value)}function On(e,t,r){var n,i;if("NamedNode"===r.termType)return _n(e,t,r);if("Literal"===r.termType)return En(e,t,r);if("BlankNode"===r.termType){if(Rt(e),!at(t))throw new _r(t);var a=R(t),s=null!==(n=e.predicates[a])&&void 0!==n?n:{},u=null!==(i=s.blankNodes)&&void 0!==i?i:[],c=Fe(u.concat(Me(r))),l=Fe(Object.assign(Object.assign({},s),{blankNodes:c})),f=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},a,l)));return Fe(Object.assign(Object.assign({},e),{predicates:f}))}throw new Error("Term type [".concat(r.termType,"] is not supported by @inrupt/solid-client."))}function An(e,t,r,n){var i,a,s;if(Rt(e),!at(t))throw new _r(t);var u=R(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[n])&&void 0!==s?s:[],d=Fe(f.concat(r)),p=Fe(Object.assign(Object.assign({},l),Object(o.a)({},n,d))),h=Fe(Object.assign(Object.assign({},c),{literals:p})),g=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,h)));return Fe(Object.assign(Object.assign({},e),{predicates:g}))}function Pn(e,t){if(Rt(e),!at(t))throw new _r(t);var r=R(t),n=Object.assign({},e.predicates);return delete n[r],Fe(Object.assign(Object.assign({},e),{predicates:Fe(n)}))}var Cn=function(e,t,r){var n,i,a;if(Rt(e),!at(t))throw new _r(t);var s=R(t);if(!mr(r)&&!at(r))throw new Er(r);var u=nt(r)?r.value:"string"===typeof r?r:wr(r),c=Fe(null!==(a=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.namedNodes)||void 0===i?void 0:i.filter((function(e){return e.toLowerCase()!==u.toLowerCase()})))&&void 0!==a?a:[]),l=Fe(Object.assign(Object.assign({},e.predicates[s]),{namedNodes:c})),f=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,l)));return Fe(Object.assign(Object.assign({},e),{predicates:f}))},jn=Cn,Rn=function(e,t,r){return Rt(e),zn(e,t,Be,(function(e){return Ge(e)===r}))},In=function(e,t,r){return Rt(e),zn(e,t,He,(function(e){var t;return(null===(t=$e(e))||void 0===t?void 0:t.getTime())===r.getTime()}))},Fn=function(e,t,r){return Rt(e),zn(e,t,ze,(function(e){var t=Qe(e);return!!t&&(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate())}))},Tn=function(e,t,r){return Rt(e),zn(e,t,Ke,(function(e){var t=Ye(e);return!!t&&(t.hour===r.hour&&t.minute===r.minute&&t.second===r.second&&t.millisecond===r.millisecond&&t.timezoneHourOffset===r.timezoneHourOffset&&t.timezoneMinuteOffset===r.timezoneMinuteOffset)}))},Nn=function(e,t,r){return Rt(e),zn(e,t,We,(function(e){return et(e)===r}))},Dn=function(e,t,r){return Rt(e),zn(e,t,Ve,(function(e){return tt(e)===r}))};function Ln(e,t,r){return Un(e,t,r,"en")}function Un(e,t,r,n){var i,a;if(Rt(e),!at(t))throw new _r(t);var s=R(t),u=null!==(a=null===(i=e.predicates[s])||void 0===i?void 0:i.langStrings)&&void 0!==a?a:{},c=Object.keys(u).find((function(e){return rt(e)===rt(n)&&Array.isArray(u[e])&&u[e].length>0}));if("string"!==typeof c)return e;var l=u[c],f=Fe(l.filter((function(e){return e!==r}))),d=Fe(Object.assign(Object.assign({},u),Object(o.a)({},c,f))),p=Fe(Object.assign(Object.assign({},e.predicates[s]),{langStrings:d})),h=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},s,p)));return Fe(Object.assign(Object.assign({},e),{predicates:h}))}var Mn=function(e,t,r){return Rt(e),zn(e,t,qe,(function(e){return e===r}))};function Bn(e,t,r){return Cn(e,t,r.value)}function Hn(e,t,r){var n,i,a;if(Rt(e),!at(t))throw new _r(t);var s=r.datatype.value;if(s===Je)return Un(e,t,r.value,r.language);var u=R(t),c=null!==(n=e.predicates[u])&&void 0!==n?n:{},l=null!==(i=c.literals)&&void 0!==i?i:{},f=null!==(a=l[s])&&void 0!==a?a:[],d=Fe(f.filter((function(e){return e!==r.value}))),p=Fe(Object.assign(Object.assign({},l),Object(o.a)({},s,d))),h=Fe(Object.assign(Object.assign({},c),{literals:p})),g=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,h)));return Fe(Object.assign(Object.assign({},e),{predicates:g}))}function zn(e,t,r,n){var i,a,s;if(!at(t))throw new _r(t);var u=R(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[r])&&void 0!==s?s:[],d=Fe(f.filter((function(e){return!n(e)}))),p=Fe(Object.assign(Object.assign({},l),Object(o.a)({},r,d))),h=Fe(Object.assign(Object.assign({},c),{literals:p})),g=Fe(Object.assign(Object.assign({},e.predicates),Object(o.a)({},u,h)));return Fe(Object.assign(Object.assign({},e),{predicates:g}))}var Kn=function(e,t,r){if(Rt(e),!at(t))throw new _r(t);if(!mr(r)&&!at(r))throw new Er(r);return pn(Pn(e,t),t,r)},Wn=Kn,Vn=function(e,t,r){return Rt(e),gn(Pn(e,t),t,r)},qn=function(e,t,r){return Rt(e),vn(Pn(e,t),t,r)},Jn=function(e,t,r){return Rt(e),yn(Pn(e,t),t,r)},Gn=function(e,t,r){return Rt(e),mn(Pn(e,t),t,r)},Yn=function(e,t,r){return Rt(e),bn(Pn(e,t),t,r)},$n=function(e,t,r){return Rt(e),wn(Pn(e,t),t,r)};function Qn(e,t,r,n){return Rt(e),Sn(Pn(e,t),t,r,n)}var Xn=function(e,t,r){return Rt(e),kn(Pn(e,t),t,r)};function Zn(e,t,r){return Rt(e),_n(Pn(e,t),t,r)}function ei(e,t,r){return Rt(e),En(Pn(e,t),t,r)}function ti(e,t,r){if(Rt(e),!at(t))throw new _r(t);return On(Pn(e,t),t,r)}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr(),t=mr(e)?e:yr(e);function r(e){return function(r,n){return t=e(t,r,n),o}}function n(e){return function(r,n){return t=e(t,r,n),o}}function i(e){return function(r,n){return t=e(t,r,n),o}}var o={build:function(){return t},addUrl:r(pn),addIri:r(hn),addBoolean:r(gn),addDatetime:r(vn),addDate:r(yn),addTime:r(mn),addDecimal:r(bn),addInteger:r(wn),addStringNoLocale:r(kn),addStringEnglish:function(e,r){return t=Sn(t,e,r,"en"),o},addStringWithLocale:function(e,r,n){return t=Sn(t,e,r,n),o},addNamedNode:r(_n),addLiteral:r(En),addTerm:r(On),setUrl:n(Kn),setIri:n(Wn),setBoolean:n(Vn),setDatetime:n(qn),setDate:n(Jn),setTime:n(Gn),setDecimal:n(Yn),setInteger:n($n),setStringNoLocale:n(Xn),setStringEnglish:function(e,r){return t=Qn(t,e,r,"en"),o},setStringWithLocale:function(e,r,n){return t=Qn(t,e,r,n),o},setNamedNode:n(Zn),setLiteral:n(ei),setTerm:n(ti),removeAll:function(e){return t=Pn(t,e),o},removeUrl:i(Cn),removeIri:i(jn),removeBoolean:i(Rn),removeDatetime:i(In),removeDate:i(Fn),removeTime:i(Tn),removeDecimal:i(Nn),removeInteger:i(Dn),removeStringNoLocale:i(Mn),removeStringEnglish:function(e,r){return ri(Un(t,e,r,"en"))},removeStringWithLocale:function(e,r,n){return ri(Un(t,e,r,n))},removeNamedNode:i(Bn),removeLiteral:i(Hn)};return o}function ni(e){return{type:"Subject",predicates:{},url:R(e)}}function ii(e){var t=he(e).type;return Array.isArray(t)&&t.includes(Z.AccessControlResource)}function oi(e){return ai.apply(this,arguments)}function ai(){return ai=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:ne,Ji(t)){e.next=3;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 3:return e.prev=3,e.next=6,si(t,r);case 6:if(null!==(n=e.sent)){e.next=14;break}return e.next=10,ci(t,r);case 10:e.t1=e.sent,e.t0={resourceAcl:null,fallbackAcl:e.t1},e.next=15;break;case 14:e.t0={resourceAcl:n,fallbackAcl:null};case 15:return i=e.t0,e.abrupt("return",i);case 19:if(e.prev=19,e.t2=e.catch(3),!(e.t2 instanceof Ci)){e.next=23;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 23:throw e.t2;case 24:case"end":return e.stop()}}),e,null,[[3,19]])}))),ai.apply(this,arguments)}function si(e){return ui.apply(this,arguments)}function ui(){return ui=Object(s.a)(m.a.mark((function e(t){var r,n,i=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:ne,Ji(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,Ir(t.internal_resourceInfo.aclUrl,r);case 6:if(!ii(n=e.sent)){e.next=9;break}throw new Ci(t,n);case 9:return e.abrupt("return",Fe(Object.assign(Object.assign({},n),{internal_accessTo:le(t)})));case 12:if(e.prev=12,e.t0=e.catch(3),!(e.t0 instanceof Ci)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),ui.apply(this,arguments)}function ci(e){return li.apply(this,arguments)}function li(){return li=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:ne,n=new URL(le(t)),"/"!==(i=n.pathname)){e.next=5;break}return e.abrupt("return",null);case 5:return o=fi(i),a=new URL(o,n.origin).href,e.next=9,ie(a,r);case 9:if(Ji(s=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,si(s,r);case 14:if(null!==(u=e.sent)){e.next=17;break}return e.abrupt("return",ci(s,r));case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e)}))),li.apply(this,arguments)}function fi(e){var t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return e.substring(0,t.lastIndexOf("/"))+"/"}function di(e){return hr(e).filter(pi)}function pi(e){return Mt(e,q).includes(L)}function hi(e,t){return e.filter((function(e){return function(e,t){return Mt(e,U).includes(t)}(e,t)}))}function gi(e,t){return e.filter((function(e){return function(e,t){return Mt(e,z).includes(t)||Mt(e,K).includes(t)}(e,t)}))}function vi(e){var t=Mt(e,W);return t.includes(bi.write)?{read:t.includes(bi.read),append:!0,write:!0,control:t.includes(bi.control)}:{read:t.includes(bi.read),append:t.includes(bi.append),write:!1,control:t.includes(bi.control)}}function yi(e){return e.reduce((function(e,t){return e.write||t.write?{read:e.read||t.read,append:!0,write:!0,control:e.control||t.control}:{read:e.read||t.read,append:e.append||t.append,write:!1,control:e.control||t.control}}),{read:!1,append:!1,write:!1,control:!1})}function mi(e){return!yt(e.predicates,ct.namedNode(e.url),ct.defaultGraph()).some((function(e){return!function(e){var t=e.predicate,r=e.object;if(t.equals(ct.namedNode(q))&&r.equals(ct.namedNode(L)))return!0;if(t.equals(ct.namedNode(U))||t.equals(ct.namedNode(z))||t.equals(ct.namedNode(K)))return!0;if(t.equals(ct.namedNode(W))&&Object.values(bi).some((function(e){return r.equals(ct.namedNode(e))})))return!0;if(t.equals(ct.namedNode(M))||t.equals(ct.namedNode(B))||t.equals(ct.namedNode(H)))return!0;if(t.equals(ct.namedNode(V)))return!0;return!1}(e)}))&&(null===Lt(e,U)&&null===Lt(e,z)&&null===Lt(e,K)||(null===Lt(e,W)||null===Lt(e,M)&&null===Lt(e,B)&&null===Lt(e,H)))}var bi={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function wi(e,t,r){return e.filter((function(e){return Mt(e,r).includes(t)}))}function xi(e,t){var r={};return e.forEach((function(e){var n=Mt(e,t),i=vi(e);n.forEach((function(e){r[e]="undefined"===typeof r[e]?i:yi([r[e],i])}))})),r}function Si(e){var t=yr();return t=Wn(t,q,L),e.read&&(t=hn(t,W,bi.read)),e.append&&!e.write&&(t=hn(t,W,bi.append)),e.write&&(t=hn(t,W,bi.write)),e.control&&(t=hn(t,W,bi.control)),t}function ki(e,t){return Object.assign(T(e),{internal_acl:t})}var _i=[M,H,B,V];function Ei(e,t,r,n,i){if(!Mt(e,r).includes(t))return[e,Si({read:!1,append:!1,write:!1,control:!1})];var o=jn(e,r,t),a=function(e){var t=yr();function r(e,t,r){return Mt(e,r).reduce((function(e,t){return hn(e,r,t)}),t)}return t=r(e,t=Wn(t,q,L),U),t=r(e,t,z),t=r(e,t,K),t=r(e,t,M),t=r(e,t,B),t=r(e,t,H),t=r(e,t,V),r(e,t,W)}(e);return a=jn(a,"resource"===i?U:z,n),"default"===i&&(a=jn(a,K,n)),a=Wn(a,r,t),_i.filter((function(e){return e!==r})).forEach((function(e){a=Pn(a,e)})),[o,a]}function Oi(e,t,r,n,i){var o=e;hr(e).forEach((function(t){var s=Ei(t,i,r,e.internal_accessTo,n),u=Object(a.a)(s,2),c=u[0],l=u[1];o=gr(o,c),o=gr(o,l)}));var s=Si(t);return s=Wn(s,"resource"===n?U:z,e.internal_accessTo),s=Wn(s,r,i),function(e){return di(e).filter(mi).reduce(vr,e)}(gr(o,s))}function Ai(e,t){return ki(e,{resourceAcl:t,fallbackAcl:null})}function Pi(e){return e.internal_acl.resourceAcl}var Ci=function(e){Object(l.a)(r,e);var t=Object(f.a)(r);function r(e,n){return Object(c.a)(this,r),t.call(this,"[".concat(fe(e),"] is governed by Access Control Policies in [").concat(fe(n),"] rather than by Web Access Control."))}return Object(u.a)(r)}(v(Error));function ji(e){return"object"===typeof e.internal_acl}function Ri(e){return null!==e.internal_acl.resourceAcl&&le(e)===e.internal_acl.resourceAcl.internal_accessTo&&e.internal_resourceInfo.aclUrl===le(e.internal_acl.resourceAcl)}function Ii(e){return Fi.apply(this,arguments)}function Fi(){return Fi=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,Ir(t,r);case 3:return n=e.sent,e.next=6,oi(n,r);case 6:return i=e.sent,e.abrupt("return",ki(n,i));case 8:case"end":return e.stop()}}),e)}))),Fi.apply(this,arguments)}function Ti(e){return Ni.apply(this,arguments)}function Ni(){return Ni=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,we(t,r);case 3:return n=e.sent,e.next=6,oi(n,r);case 6:return i=e.sent,e.abrupt("return",ki(n,i));case 8:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Di(e){return Li.apply(this,arguments)}function Li(){return Li=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ie(t,r);case 3:return n=e.sent,e.next=6,oi(n,r);case 6:return i=e.sent,e.abrupt("return",ki(n,i));case 8:case"end":return e.stop()}}),e)}))),Li.apply(this,arguments)}function Ui(e){return Ri(e)?e.internal_acl.resourceAcl:null}function Mi(e){return null!==e.internal_acl.fallbackAcl}function Bi(e){return Mi(e)?e.internal_acl.fallbackAcl:null}function Hi(e){return Fe(Object.assign(Object.assign({},Cr()),{internal_accessTo:le(e),internal_resourceInfo:{sourceIri:e.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}}))}function zi(e){var t=Hi(e);return gi(di(e.internal_acl.fallbackAcl),e.internal_acl.fallbackAcl.internal_accessTo).map((function(t){return t=Pn(t,z),t=Pn(t,K),t=Wn(t,U,le(e)),t=Wn(t,z,le(e))})).reduce(gr,t)}function Ki(e,t){return Wi.apply(this,arguments)}function Wi(){return Wi=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:ne,Ji(t)){e.next=3;break}throw new Error("Could not determine the location of the ACL for the Resource at [".concat(le(t),"]; possibly the current user does not have Control access to that Resource. Try calling `hasAccessibleAcl()` before calling `saveAclFor()`."));case 3:return e.next=5,Ur(t.internal_resourceInfo.aclUrl,r,n);case 5:return i=e.sent,o=Object.assign(Object.assign({},i),{internal_accessTo:le(t)}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),Wi.apply(this,arguments)}function Vi(e){return qi.apply(this,arguments)}function qi(){return qi=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:ne,n=Object.assign(Object.assign({},ne),r),e.next=4,n.fetch(t.internal_resourceInfo.aclUrl,{method:"DELETE"});case 4:if((i=e.sent).ok){e.next=7;break}throw new Error("Deleting the ACL of the Resource at [".concat(le(t),"] failed: [").concat(i.status,"] [").concat(i.statusText,"]."));case 7:return o=Object.assign(T(t),{acl:{resourceAcl:null}}),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Ji(e){return"string"===typeof e.internal_resourceInfo.aclUrl}function Gi(e,t){return Ri(e)?$i(e.internal_acl.resourceAcl,t):Mi(e)?Zi(e.internal_acl.fallbackAcl,t):null}function Yi(e){return Ri(e)?Qi(Ui(e)):Mi(e)?eo(Bi(e)):null}function $i(e,t){return yi(ro(hi(di(e),e.internal_accessTo),t).map(vi))}function Qi(e){return oo(no(hi(di(e),e.internal_accessTo)))}function Xi(e,t,r){return Oi(e,r,M,"resource",t)}function Zi(e,t){return yi(ro(gi(di(e),e.internal_accessTo),t).map(vi))}function eo(e){return oo(no(gi(di(e),e.internal_accessTo)))}function to(e,t,r){return Oi(e,r,M,"default",t)}function ro(e,t){return wi(e,t,M)}function no(e){return e.filter(io)}function io(e){return null!==Lt(e,M)}function oo(e){return xi(e,M)}function ao(e,t){return Ri(e)?uo(e.internal_acl.resourceAcl,t):Mi(e)?lo(e.internal_acl.fallbackAcl,t):null}function so(e){return Ri(e)?co(Ui(e)):Mi(e)?fo(Bi(e)):null}function uo(e,t){return yi(po(hi(di(e),e.internal_accessTo),t).map(vi))}function co(e){return ho(hi(di(e),e.internal_accessTo))}function lo(e,t){return yi(po(gi(di(e),e.internal_accessTo),t).map(vi))}function fo(e){return ho(gi(di(e),e.internal_accessTo))}function po(e,t){return wi(e,t,B)}function ho(e){return xi(e,B)}function go(e,t,r){return Oi(e,r,B,"resource",t)}function vo(e,t,r){return Oi(e,r,B,"default",t)}function yo(e){return Ri(e)?mo(e.internal_acl.resourceAcl):Mi(e)?bo(e.internal_acl.fallbackAcl):null}function mo(e){return yi(So(hi(di(e),e.internal_accessTo),$).map(vi))}function bo(e){return yi(So(gi(di(e),e.internal_accessTo),$).map(vi))}function wo(e,t){return Oi(e,t,H,"resource",$)}function xo(e,t){return Oi(e,t,H,"default",$)}function So(e,t){return e.filter((function(e){return function(e,t){return Mt(e,H).includes(t)}(e,t)}))}function ko(e){var t,r=null!==(t=e.internal_resourceInfo.aclUrl)&&void 0!==t?t:"https://your.pod/mock-acl.ttl",n=Object.assign(T(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:r})});return ki(n,{resourceAcl:Hi(n),fallbackAcl:null})}function _o(e){var t=fi(fe(e)),r=t+".acl",n=function(e,t){return Object.assign(T(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:t})})}(ln(t),r),i=Hi(n);return ki(T(e),{resourceAcl:null,fallbackAcl:i})}var Eo=_.a.dataset;function Oo(e){var t=Array.from(e),r=gt(t);return t.filter((function(e){return r.every((function(t){return!t.equals(e.subject)}))})).reduce((function(e,n){return lt(e,n,{otherQuads:t,chainBlankNodes:r})}),{graphs:{default:{}},type:"Dataset"})}function Ao(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!==(r=null===(t=n.datasetFactory)||void 0===t?void 0:t.dataset)&&void 0!==r?r:Eo;return i(vt(e,n))}function Po(e,t){var r=pr(e,t);if(null===r)throw new Error("Profile document [".concat(le(e),"] does not include WebID [").concat(t,"]"));return r}function Co(e,t,r){return gr(e,Wn(Po(e,t),te,r))}function jo(e,t){return Dt(Po(e,t),te)}var Ro=function(e){return"undefined"!==typeof e.keys};function Io(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=Object(s.a)(m.a.mark((function e(t,r){var n,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:ne,o=Object.assign(Object.assign({},ne),n),e.next=4,o.fetch(r);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Fetching [".concat(r,"] returned an error: ").concat(a.status," ").concat(a.statusText));case 7:return e.prev=7,e.next=10,a.json();case 10:if(s=e.sent,Ro(s)){e.next=13;break}throw new Error("[".concat(r,"] does not dereference to a valid JWKS: ").concat(JSON.stringify(s)));case 13:return e.abrupt("return",{keys:[].concat(Object(i.a)(s.keys),[t])});case 16:throw e.prev=16,e.t0=e.catch(7),new Error("Parsing the document at [".concat(r,"] failed: ").concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[7,16]])}))),Fo.apply(this,arguments)}function To(e,t){return No.apply(this,arguments)}function No(){return No=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:ne,e.next=3,Ir(r,{fetch:n.fetch});case 3:if(null!==(i=e.sent)){e.next=6;break}throw new Error("The profile document associated with WebID [".concat(r,"] could not be retrieved."));case 6:if(null!==(o=jo(i,r))){e.next=9;break}throw new Error("No key set is declared for the property [".concat(te,"] in the profile of [").concat(r,"]"));case 9:return e.next=11,Io(t,o,n);case 11:return a=e.sent,e.abrupt("return",Oe(o,new Blob([JSON.stringify(a)]),{contentType:"application/json",fetch:n.fetch}));case 13:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Do(e){return Lo.apply(this,arguments)}function Lo(){return Lo=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>1&&void 0!==c[1]?c[1]:ne,n=r.fetch,void 0!==(i=r.webIdProfile)){e.next=9;break}return e.next=6,Ir(t,{fetch:n});case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=i;case 10:return o=e.t0,a=pr(o,t),s=hr(o).filter((function(e){return Mt(e,Q).length>0})).map(wr).concat(a?Mt(a,X):[]).filter((function(e){return e!==fe(o)})),e.next=15,Promise.all(Array.from(new Set(s)).map((function(e){return Ir(e,{fetch:n})})));case 15:return u=e.sent,e.abrupt("return",{webIdProfile:o,altProfileAll:u});case 17:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Uo(e){if(!Ca(e))throw new Error("An Access Control Resource for [".concat(le(e),"] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources."));return e.internal_acp.acr}function Mo(e,t){return Object.assign(T(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function Bo(e){var t=yr(e);return t=Wn(t,q,Z.AccessControl)}function Ho(e,t){var r=hr(Uo(e),t),n=r.filter((function(e){return Mt(e,q).includes(Z.AccessControl)})),i=r.filter((function(e){return Mt(e,Z.accessControl).length>0})).map((function(e){return yr({url:Mt(e,Z.accessControl)[0]})}));return n.concat(i)}function zo(e,t){return Mo(e,gr(Uo(e),t))}function Ko(e,t){return hn(e,Z.apply,t)}function Wo(e){return Mt(e,Z.apply)}function Vo(e,t){return jn(e,Z.apply,t)}function qo(e){return Pn(e,Z.apply)}function Jo(e,t){return hn(e,Z.applyMembers,t)}function Go(e){return Mt(e,Z.applyMembers)}function Yo(e){return Pn(e,Z.applyMembers)}function $o(e){var t=Ho(e);return 0===t.length?Bo():t[0]}function Qo(e){return P(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[Z.accessControl])&&1===e.internal_resourceInfo.linkedResources[Z.accessControl].length}function Xo(e,t){var r,n=Uo(e),i=le(n),o=null!==(r=pr(n,i))&&void 0!==r?r:yr({url:i});return Mo(e,gr(n,o=hn(o,Z.access,t)))}function Zo(e,t){var r,n=Uo(e),i=le(n),o=null!==(r=pr(n,i))&&void 0!==r?r:yr({url:i});return Mo(e,gr(n,o=hn(o,Z.accessMembers,t)))}function ea(e){var t=Uo(e),r=pr(t,le(t));return null===r?[]:Mt(r,Z.access)}function ta(e){var t=Uo(e),r=pr(t,le(t));return null===r?[]:Mt(r,Z.accessMembers)}function ra(e,t){var r=Uo(e),n=pr(r,le(r));return null===n?e:Mo(e,gr(r,jn(n,Z.access,t)))}function na(e,t){var r=Uo(e),n=pr(r,le(r));return null===n?e:Mo(e,gr(r,jn(n,Z.accessMembers,t)))}function ia(e){var t=Uo(e),r=pr(t,le(t));return null===r?e:Mo(e,gr(t,Pn(r,Z.access)))}function oa(e){var t=Uo(e),r=pr(t,le(t));return null===r?e:Mo(e,gr(t,Pn(r,Z.accessMembers)))}function aa(e,t){return zo(e,Ko($o(e),t))}function sa(e,t){return zo(e,Jo($o(e),t))}function ua(e){var t=Ho(e).map((function(e){return Wo(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function ca(e){var t=Ho(e).map((function(e){return Go(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function la(e,t){return Ho(e).map((function(e){return Vo(e,t)})).reduce(zo,e)}function fa(e,t){var r=Ho(e).map((function(e){return function(e,t){return jn(e,Z.applyMembers,t)}(e,t)}));return r.reduce(zo,e)}function da(e){return Ho(e).map((function(e){return qo(e)})).reduce(zo,e)}function pa(e){return Ho(e).map((function(e){return Yo(e)})).reduce(zo,e)}function ha(e){var t="# Access controls for ".concat(le(e),"\n"),r=ua(e),n=ca(e),i=ea(e),o=ta(e);return 0===r.length&&0===n.length&&0===i.length&&0===o.length&&(t+="\n<no policies specified yet>\n"),r.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=r.join("\n- ")+"\n"),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=i.join("\n- ")+"\n"),n.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=n.join("\n- ")+"\n"),o.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=o.join("\n- ")+"\n"),t}function ga(e){return va.apply(this,arguments)}function va(){return va=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,Ir(n,i);case 5:return o=e.sent,e.next=8,ja(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ya(e){return ma.apply(this,arguments)}function ma(){return ma=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,we(n,i);case 5:return o=e.sent,e.next=8,ja(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(o,a));case 10:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ba(e){return wa.apply(this,arguments)}function wa(){return wa=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,ie(n,i);case 5:return o=e.sent,e.next=8,ja(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function xa(e){return Sa.apply(this,arguments)}function Sa(){return Sa=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,Ir(n,i);case 5:if(!Ji(o=e.sent)){e.next=13;break}return e.next=9,oi(o,i);case 9:return a=e.sent,e.abrupt("return",ki(o,a));case 13:return e.next=15,ja(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),s));case 17:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function ka(e){return _a.apply(this,arguments)}function _a(){return _a=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,we(n,i);case 5:if(!Ji(o=e.sent)){e.next=13;break}return e.next=9,oi(o,i);case 9:return a=e.sent,e.abrupt("return",ki(o,a));case 13:return e.next=15,ja(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(o,s));case 17:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Ea(e){return Oa.apply(this,arguments)}function Oa(){return Oa=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,ie(n,i);case 5:if(!Ji(o=e.sent)){e.next=13;break}return e.next=9,oi(o,i);case 9:return a=e.sent,e.abrupt("return",ki(o,a));case 13:return e.next=15,ja(o,i);case 15:return s=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),s));case 17:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}function Aa(e){return Pa.apply(this,arguments)}function Pa(){return Pa=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:ne,n=Uo(t),i=Object.assign(Object.assign({},ne),r),e.next=5,Ur(le(n),n,i);case 5:return o=e.sent,e.abrupt("return",Mo(t,o));case 7:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ca(e){return"object"===typeof e.internal_acp&&null!==e.internal_acp&&"object"===typeof e.internal_acp.acr&&null!==e.internal_acp.acr}function ja(e,t){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,!Qo(t)){e.next=5;break}n=t.internal_resourceInfo.linkedResources[Z.accessControl][0],e.next=10;break;case 5:if(!Ji(t)){e.next=10;break}return e.next=8,ie(t.internal_resourceInfo.aclUrl,r);case 8:ii(i=e.sent)&&(n=le(i));case 10:if("string"===typeof n){e.next=12;break}return e.abrupt("return",{internal_acp:{acr:null}});case 12:return e.prev=12,e.next=15,Ir(n,r);case 15:o=e.sent,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(12),e.abrupt("return",{internal_acp:{acr:null}});case 21:return a=Object.assign(Object.assign({},o),{accessTo:le(t)}),s={internal_acp:{acr:a}},e.abrupt("return",s);case 24:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function Ia(e){var t=ua(e).map(Pr).concat(ca(e).map(Pr)).concat(ea(e).map(Pr)).concat(ta(e).map(Pr));return Array.from(new Set(t))}function Fa(e){return Ta.apply(this,arguments)}function Ta(){return Ta=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:ne,n=R(t),i=Object.assign(Object.assign({},ne),r),e.next=5,ie(n,i);case 5:return o=e.sent,e.t0=Ca,e.next=9,ja(o,i);case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 11:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Na(e){return Mt(e,q).includes(Z.Rule)}function Da(e,t){return hn(e,Z.allOf,t)}function La(e,t){return jn(e,Z.allOf,t)}function Ua(e,t){return Wn(e,Z.allOf,t)}function Ma(e){return Mt(e,Z.allOf)}function Ba(e,t){return hn(e,Z.anyOf,t)}function Ha(e,t){return jn(e,Z.anyOf,t)}function za(e,t){return Wn(e,Z.anyOf,t)}function Ka(e){return Mt(e,Z.anyOf)}function Wa(e,t){return hn(e,Z.noneOf,t)}function Va(e,t){return jn(e,Z.noneOf,t)}function qa(e,t){return Wn(e,Z.noneOf,t)}function Ja(e){return Mt(e,Z.noneOf)}function Ga(e){var t=yr({url:R(e)});return t=Kn(t,q,Z.Rule)}function Ya(e,t){var r=Uo(e),n=new URL(le(r));n.hash="#".concat(t);var i=yr({url:n.href});return i=Kn(i,q,Z.Rule)}function $a(e,t){var r=pr(e,t);return null===r||Dt(r,q)!==Z.Rule?null:r}function Qa(e,t){var r=Uo(e),n=le(r),i=new URL(n);i.hash="#".concat(t);var o=pr(r,i.href);return null!==o&&Na(o)?o:null}function Xa(e){return hr(e).filter(Na)}function Za(e,t){return vr(e,t)}function es(e,t){return gr(e,t)}function ts(e,t){return Mo(e,gr(Uo(e),t))}function rs(e){return Mt(e,Z.agent).filter((function(e){return e!==Z.PublicAgent&&e!==Z.AuthenticatedAgent&&e!==Z.CreatorAgent}))}function ns(e,t){var r=ls(e),n=ps(e),i=vs(e),o=Wn(e,Z.agent,t);return r&&(o=fs(o)),n&&(o=hs(o)),i&&(o=ys(o)),o}function is(e,t){return hn(e,Z.agent,t)}function os(e,t){return jn(e,Z.agent,t)}function as(e){return Mt(e,Z.group)}function ss(e,t){return Wn(e,Z.group,t)}function us(e,t){return hn(e,Z.group,t)}function cs(e,t){return jn(e,Z.group,t)}function ls(e){return Mt(e,Z.agent).filter((function(e){return e===Z.PublicAgent})).length>0}function fs(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return hn(e,Z.agent,Z.PublicAgent)}function ds(e){return jn(e,Z.agent,Z.PublicAgent)}function ps(e){return Mt(e,Z.agent).filter((function(e){return e===Z.AuthenticatedAgent})).length>0}function hs(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return hn(e,Z.agent,Z.AuthenticatedAgent)}function gs(e){return jn(e,Z.agent,Z.AuthenticatedAgent)}function vs(e){return Mt(e,Z.agent).filter((function(e){return e===Z.CreatorAgent})).length>0}function ys(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return hn(e,Z.agent,Z.CreatorAgent)}function ms(e){return jn(e,Z.agent,Z.CreatorAgent)}function bs(e){return Mt(e,Z.client).filter((function(e){return e!==ee}))}function ws(e){return Mt(e,Z.client).filter((function(e){return e===ee})).length>0}function xs(e){return hn(e,Z.client,ee)}function Ss(e){var t="## Rule: ".concat(br(e),"\n\n"),r="";ls(e)&&(r+="- Everyone\n"),ps(e)&&(r+="- All authenticated agents\n"),vs(e)&&(r+="- The creator of this resource\n"),ws(e)&&(r+="- Users of any client application\n");var n=rs(e);n.length>0&&(r+="- The following agents:\n  - ",r+=n.join("\n  - ")+"\n");var i=as(e);i.length>0&&(r+="- Members of the following groups:\n  - ",r+=i.join("\n  - ")+"\n");var o=bs(e);return o.length>0&&(r+="- Users of the following client applications:\n  - ",r+=o.join("\n  - ")+"\n"),t+=r.length>0?"This rule applies to:\n"+r:"<empty>\n"}function ks(e){return Mt(e,q).includes(Z.Policy)}function _s(e){var t=yr({url:R(e)});return t=Kn(t,q,Z.Policy)}function Es(e,t){var r=pr(e,t);return null!==r&&ks(r)?r:null}function Os(e){return hr(e).filter((function(e){return!Sr(e)&&ks(e)}))}function As(e,t){return vr(e,t)}function Ps(e,t){return gr(e,t)}function Cs(e,t){var r=Pn(e,Z.allow);return!0===t.read&&(r=hn(r,Z.allow,bi.read)),!0===t.append&&(r=hn(r,Z.allow,bi.append)),!0===t.write&&(r=hn(r,Z.allow,bi.write)),r}function js(e,t){var r=Pn(e,Z.allow);return!0===t.read&&(r=hn(r,Z.allow,Z.Read)),!0===t.append&&(r=hn(r,Z.allow,Z.Append)),!0===t.write&&(r=hn(r,Z.allow,Z.Write)),r}function Rs(e){var t=Mt(e,Z.allow);return{read:t.includes(bi.read),append:t.includes(bi.append),write:t.includes(bi.write)}}function Is(e){var t=Mt(e,Z.allow);return{read:t.includes(Z.Read),append:t.includes(Z.Append),write:t.includes(Z.Write)}}function Fs(e,t){var r=Pn(e,Z.deny);return!0===t.read&&(r=hn(r,Z.deny,Z.Read)),!0===t.append&&(r=hn(r,Z.deny,Z.Append)),!0===t.write&&(r=hn(r,Z.deny,Z.Write)),r}function Ts(e){var t=Mt(e,Z.deny);return{read:t.includes(bi.read),append:t.includes(bi.append),write:t.includes(bi.write)}}function Ns(e){var t=Mt(e,Z.deny);return{read:t.includes(Z.Read),append:t.includes(Z.Append),write:t.includes(Z.Write)}}function Ds(e,t){var r=Uo(e),n=new URL(le(r));n.hash="#".concat(t);var i=yr({url:n.href});return i=Kn(i,q,Z.Policy)}function Ls(e,t){var r=Uo(e),n=le(r),i=new URL(n);i.hash="#".concat(t);var o=pr(r,i.href);return ua(e).includes(i.href)&&null!==o&&ks(o)?o:null}function Us(e,t){var r=Uo(e),n=le(r),i=new URL(n);i.hash="#".concat(t);var o=pr(r,i.href);return ea(e).includes(i.href)&&null!==o&&ks(o)?o:null}function Ms(e){var t=Uo(e);return ua(e).map((function(e){return pr(t,e)})).filter((function(e){return null!==e&&ks(e)}))}function Bs(e){var t=Uo(e);return ea(e).map((function(e){return pr(t,e)})).filter((function(e){return null!==e&&ks(e)}))}function Hs(e,t){var r,n=Uo(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(le(n));o.hash="#".concat(t),i=o.href}return r="string"===typeof i?i:nt(i)?R(i):br(i,le(n)),null===Ls(e,new URL(r).hash.substring(1))?e:la(Mo(e,vr(n,i)),r)}function zs(e,t){var r,n=Uo(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(le(n));o.hash="#".concat(t),i=o.href}return r="string"===typeof i?i:nt(i)?R(i):br(i,le(n)),null===Us(e,new URL(r).hash.substring(1))?e:ra(Mo(e,vr(n,i)),r)}function Ks(e,t){var r=Uo(e);return aa(Mo(e,gr(r,t)),br(t,le(r)))}function Ws(e,t){var r=Uo(e);return Xo(Mo(e,gr(r,t)),br(t,le(r)))}function Vs(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}var r=Is(e),n=Ns(e),i="## Policy: ".concat(br(e),"\n\n");i+="- Read: ".concat(t(r.read,n.read),"\n"),i+="- Append: ".concat(t(r.append,n.append),"\n"),i+="- Write: ".concat(t(r.write,n.write),"\n");var o=Ma(e),a=Ka(e),s=Ja(e);return 0===o.length&&0===a.length&&0===s.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+="- "+o.join("\n- ")+"\n"),a.length>0&&(i+="\nAt least one of these rules should match:\n",i+="- "+a.join("\n- ")+"\n"),s.length>0&&(i+="\nNone of these rules should match:\n",i+="- "+s.join("\n- ")+"\n"),i}function qs(e){var t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},cn(t)),{accessTo:e})}function Js(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qs(le(e)),r=Object.assign(T(e),{internal_acp:{acr:t,aprs:{}}});return r}var Gs={getFileWithAccessDatasets:ka,getFileWithAcr:ya,getReferencedPolicyUrlAll:Ia,getResourceInfoWithAccessDatasets:Ea,getResourceInfoWithAcr:ba,getSolidDatasetWithAccessDatasets:xa,getSolidDatasetWithAcr:ga,hasAccessibleAcr:Ca,saveAcrFor:Aa},Ys={acrAsMarkdown:ha,addAcrPolicyUrl:Xo,addMemberAcrPolicyUrl:Zo,addMemberPolicyUrl:sa,addPolicyUrl:aa,getAcrPolicyUrlAll:ea,getMemberAcrPolicyUrlAll:ta,getMemberPolicyUrlAll:ca,getPolicyUrlAll:ua,hasLinkedAcr:Qo,removeAcrPolicyUrl:ra,removeAcrPolicyUrlAll:ia,removeMemberAcrPolicyUrl:na,removeMemberAcrPolicyUrlAll:oa,removeMemberPolicyUrl:fa,removeMemberPolicyUrlAll:pa,removePolicyUrl:la,removePolicyUrlAll:da},$s={createPolicy:_s,getAllowModes:Is,getDenyModes:Ns,getPolicy:Es,getPolicyAll:Os,policyAsMarkdown:Vs,removePolicy:As,setAllowModes:js,setDenyModes:Fs,setPolicy:Ps},Qs={addAgent:is,addForbiddenRuleUrl:Wa,addGroup:us,addOptionalRuleUrl:Ba,addRequiredRuleUrl:Da,createRule:Ga,getAgentAll:rs,getForbiddenRuleUrlAll:Ja,getGroupAll:as,getOptionalRuleUrlAll:Ka,getRequiredRuleUrlAll:Ma,getRule:$a,getRuleAll:Xa,hasAuthenticated:ps,hasCreator:vs,hasPublic:ls,removeAgent:os,removeForbiddenRuleUrl:Va,removeGroup:cs,removeOptionalRuleUrl:Ha,removeRequiredRuleUrl:La,removeRule:Za,ruleAsMarkdown:Ss,setAgent:ns,setForbiddenRuleUrl:qa,setGroup:ss,setOptionalRuleUrl:za,setRequiredRuleUrl:Ua,setRule:es},Xs={addMockAcrTo:Js,mockAcrFor:qs};function Zs(e,t){return t?fs(e):ds(e)}function eu(e,t){return t?hs(e):gs(e)}function tu(e,t){return t?ys(e):ms(e)}var ru={getForbiddenRuleurlAll:Ja,setPublic:Zs,setAuthenticated:eu,setCreator:tu},nu=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gs),Ys),$s),Qs),Xs),ru),iu={getFileWithAccessDatasets:ka,getFileWithAcr:ya,getReferencedPolicyUrlAll:Ia,getResourceInfoWithAccessDatasets:Ea,getResourceInfoWithAcr:ba,getSolidDatasetWithAccessDatasets:xa,getSolidDatasetWithAcr:ga,hasAccessibleAcr:Ca,saveAcrFor:Aa},ou={createPolicy:_s,getAllowModes:Is,getDenyModes:Ns,getPolicy:Es,getPolicyAll:Os,policyAsMarkdown:Vs,removePolicy:As,setAllowModes:js,setDenyModes:Fs,setPolicy:Ps},au={addAgent:is,addForbiddenRuleUrl:Wa,addGroup:us,addOptionalRuleUrl:Ba,addRequiredRuleUrl:Da,createRule:Ga,getAgentAll:rs,getForbiddenRuleUrlAll:Ja,getGroupAll:as,getOptionalRuleUrlAll:Ka,getRequiredRuleUrlAll:Ma,getRule:$a,getRuleAll:Xa,hasAuthenticated:ps,hasCreator:vs,hasPublic:ls,removeAgent:os,removeForbiddenRuleUrl:Va,removeGroup:cs,removeOptionalRuleUrl:Ha,removeRequiredRuleUrl:La,removeRule:Za,ruleAsMarkdown:Ss,setAgent:ns,setForbiddenRuleUrl:qa,setGroup:ss,setOptionalRuleUrl:za,setRequiredRuleUrl:Ua,setRule:es},su={addMockAcrTo:Js,mockAcrFor:qs},uu={hasLinkedAcr:Qo,addAcrPolicyUrl:Xo,addMemberAcrPolicyUrl:Zo,getAcrPolicyUrlAll:ea,getMemberAcrPolicyUrlAll:ta,removeAcrPolicyUrl:ra,removeAcrPolicyUrlAll:ia,removeMemberAcrPolicyUrl:na,removeMemberAcrPolicyUrlAll:oa},cu={createControl:Bo,getControl:function(e,t,r){var n=pr(Uo(e),t,r);return null!==n&&Mt(n,q).includes(Z.AccessControl)?n:null},getAllControl:Ho,getControlAll:Ho,setControl:zo,removeControl:function(e,t){var r=vr(Uo(e),t);return Mo(e,r)},addPolicyUrl:Ko,getPolicyUrlAll:Wo,removePolicyUrl:Vo,removePolicyUrlAll:qo,addMemberPolicyUrl:Jo,getMemberPolicyUrlAll:Go,removeMemberPolicyUrl:Go,removeMemberPolicyUrlAll:Yo,getForbiddenRuleurlAll:Ja,setPublic:Zs,setAuthenticated:eu,setCreator:tu},lu=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},iu),ou),au),su),uu),cu);var fu={getFileWithAccessDatasets:ka,getFileWithAcr:ya,getLinkedAcrUrl:function(e){if(P(e))return[Z.accessControl,"acl"].map((function(t){if(Array.isArray(e.internal_resourceInfo.linkedResources[t])&&1===e.internal_resourceInfo.linkedResources[t].length)return e.internal_resourceInfo.linkedResources[t][0]})).find((function(e){return void 0!==e}))},getReferencedPolicyUrlAll:Ia,getResourceInfoWithAccessDatasets:Ea,getResourceInfoWithAcr:ba,getSolidDatasetWithAccessDatasets:xa,getSolidDatasetWithAcr:ga,hasAccessibleAcr:Ca,saveAcrFor:Aa,isAcpControlled:Fa},du={acrAsMarkdown:ha,addAcrPolicyUrl:Xo,addMemberAcrPolicyUrl:Zo,addMemberPolicyUrl:sa,addPolicyUrl:aa,getAcrPolicyUrlAll:ea,getMemberAcrPolicyUrlAll:ta,getMemberPolicyUrlAll:ca,getPolicyUrlAll:ua,hasLinkedAcr:Qo,removeAcrPolicyUrl:ra,removeAcrPolicyUrlAll:ia,removeMemberAcrPolicyUrl:na,removeMemberAcrPolicyUrlAll:oa,removeMemberPolicyUrl:fa,removeMemberPolicyUrlAll:pa,removePolicyUrl:la,removePolicyUrlAll:da},pu={createPolicy:_s,getAllowModes:Is,getDenyModes:Ns,getPolicy:Es,getPolicyAll:Os,policyAsMarkdown:Vs,removePolicy:As,setAllowModes:js,setDenyModes:Fs,setPolicy:Ps,createResourcePolicyFor:Ds,getResourceAcrPolicy:Us,getResourceAcrPolicyAll:Bs,getResourcePolicy:Ls,getResourcePolicyAll:Ms,removeResourceAcrPolicy:zs,removeResourcePolicy:Hs,setResourceAcrPolicy:Ws,setResourcePolicy:Ks},hu={addAgent:is,addGroup:us,createRule:Ga,getAgentAll:rs,getGroupAll:as,getRule:$a,getRuleAll:Xa,removeAgent:os,removeGroup:cs,removeRule:Za,ruleAsMarkdown:Ss,setAgent:ns,setGroup:ss,setRule:es,addClient:function(e,t){return hn(e,Z.client,t)},getClientAll:bs,hasAnyClient:ws,removeClient:function(e,t){return jn(e,Z.client,t)},setAnyClient:xs,setClient:function(e,t){var r=ws(e),n=Wn(e,Z.client,t);return r&&(n=xs(n)),n},removeAnyClient:function(e){return jn(e,Z.client,ee)},hasAuthenticated:ps,hasCreator:vs,hasPublic:ls,setAuthenticated:hs,setCreator:ys,setPublic:fs,removeAuthenticated:gs,removeCreator:ms,removePublic:ds,getAnyOfRuleUrlAll:Ka,addAnyOfRuleUrl:Ba,removeAnyOfRuleUrl:Ha,setAnyOfRuleUrl:za,getAllOfRuleUrlAll:Ma,addAllOfRuleUrl:Da,removeAllOfRuleUrl:La,setAllOfRuleUrl:Ua,getNoneOfRuleUrlAll:Ja,addNoneOfRuleUrl:Wa,removeNoneOfRuleUrl:Va,setNoneOfRuleUrl:qa,createResourceRuleFor:Ya,getResourceRule:Qa,getResourceRuleAll:function(e){return hr(Uo(e)).filter(Na)},removeResourceRule:function(e,t){var r,n=Uo(e);if("string"===typeof t)try{new URL(t),r=t}catch(a){var i=new URL(le(n));i.hash="#".concat(t),r=i.href}else r=nt(t)?R(t):br(t);var o=Qa(e,new URL(r).hash.substring(1));return null===o?e:Mo(e,vr(n,o))},setResourceRule:ts},gu={addMockAcrTo:Js,mockAcrFor:qs},vu=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},fu),du),pu),hu),gu),yu="http://www.w3.org/ns/solid/acp#",mu={AccessControl:yu.concat("AccessControl"),AccessControlResource:yu.concat("AccessControlResource"),AuthenticatedAgent:yu.concat("AuthenticatedAgent"),CreatorAgent:yu.concat("CreatorAgent"),Matcher:yu.concat("Matcher"),Policy:yu.concat("Policy"),PublicAgent:yu.concat("PublicAgent"),access:yu.concat("access"),accessControl:yu.concat("accessControl"),agent:yu.concat("agent"),allOf:yu.concat("allOf"),allow:yu.concat("allow"),anyOf:yu.concat("anyOf"),apply:yu.concat("apply"),client:yu.concat("client"),deny:yu.concat("deny"),memberAccessControl:yu.concat("memberAccessControl"),noneOf:yu.concat("noneOf")},bu="defaultAccessControl",wu="defaultAcrAccessControl",xu="defaultMemberAccessControl",Su="defaultMemberAcrAccessControl";function ku(e,t){return le(Uo(e)).concat("#").concat(t)}function _u(e,t){var r=Uo(e),n=ku(e,t),i=pr(r,n);return null===i||"undefined"===typeof i?yr({url:n}):i}function Eu(e,t){return Object.assign(T(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:gr(e.internal_acp.acr,t)})})}function Ou(e){var t=Uo(e);return pr(t,le(t))}function Au(e){return e.includes("Member")?mu.memberAccessControl:mu.accessControl}function Pu(e,t){var r=ku(e,t),n=Uo(e),i=Ou(e);return null!==i&&"undefined"!==typeof i||(i=yr({url:le(n)})),Mt(i,Au(t)).includes(r)?e:Eu(e,i=ri(i).addUrl(Au(t),r).build())}function Cu(e){var t=Ou(e);return null===t?[]:Mt(t,mu.accessControl)}function ju(e,t,r){var n=Uo(e);return Array.from(new Set(t.map((function(e){var t=pr(n,e);return null!==t?Mt(t,r):[]})).reduce((function(e,t){return e.concat(t)}),[])))}function Ru(e){var t=Ou(e);return null===t?[]:Mt(t,mu.memberAccessControl)}function Iu(e){return Mt(e,q).includes(Z.Matcher)}function Fu(e){return Mt(e,Z.allOf)}function Tu(e){return Mt(e,Z.anyOf)}function Nu(e){return Mt(e,Z.noneOf)}function Du(e,t){var r=Uo(e),n=new URL(le(r));n.hash="#".concat(t);var i=yr({url:n.href});return i=Kn(i,q,Z.Matcher)}function Lu(e,t){var r=Uo(e),n=le(r),i=new URL(n);i.hash="#".concat(t);var o=pr(r,i.href);return null!==o&&Iu(o)?o:null}function Uu(e,t){return Mo(e,gr(Uo(e),t))}function Mu(e){return Mt(e,Z.agent).filter((function(e){return e!==Z.PublicAgent&&e!==Z.AuthenticatedAgent&&e!==Z.CreatorAgent}))}function Bu(e){return Mt(e,Z.agent).filter((function(e){return e===Z.PublicAgent})).length>0}function Hu(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return hn(e,Z.agent,Z.PublicAgent)}function zu(e){return Mt(e,Z.agent).filter((function(e){return e===Z.AuthenticatedAgent})).length>0}function Ku(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return hn(e,Z.agent,Z.AuthenticatedAgent)}function Wu(e){return Mt(e,Z.agent).filter((function(e){return e===Z.CreatorAgent})).length>0}function Vu(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return hn(e,Z.agent,Z.CreatorAgent)}function qu(e){return Mt(e,Z.client).filter((function(e){return e!==ee}))}function Ju(e){return Mt(e,Z.client).filter((function(e){return e===ee})).length>0}function Gu(e){return hn(e,Z.client,ee)}var Yu={getFileWithAccessDatasets:ka,getFileWithAcr:ya,getReferencedPolicyUrlAll:Ia,getResourceInfoWithAccessDatasets:Ea,getResourceInfoWithAcr:ba,getSolidDatasetWithAccessDatasets:xa,getSolidDatasetWithAcr:ga,hasAccessibleAcr:Ca,saveAcrFor:Aa,isAcpControlled:Fa},$u={acrAsMarkdown:ha,addAcrPolicyUrl:function(e,t){var r=Pu(e,wu);return Eu(r,ri(_u(r,wu)).addUrl(mu.access,t).build())},addMemberAcrPolicyUrl:function(e,t){var r=Pu(e,Su);return Eu(r,ri(_u(r,Su)).addUrl(mu.access,t).build())},addMemberPolicyUrl:function(e,t){var r=Pu(e,xu);return Eu(r,ri(_u(r,xu)).addUrl(mu.apply,t).build())},addPolicyUrl:function(e,t){var r=Pu(e,bu);return Eu(r,ri(_u(r,bu)).addUrl(mu.apply,t).build())},getAcrPolicyUrlAll:function(e){return ju(e,Cu(e),mu.access)},getMemberAcrPolicyUrlAll:function(e){return ju(e,Ru(e),mu.access)},getMemberPolicyUrlAll:function(e){return ju(e,Ru(e),mu.apply)},getPolicyUrlAll:function(e){return ju(e,Cu(e),mu.apply)},hasLinkedAcr:Qo,removeAcrPolicyUrl:function(e,t){var r=_u(e,wu);return Eu(e,jn(r,mu.access,t))},removeAcrPolicyUrlAll:ia,removeMemberAcrPolicyUrl:function(e,t){var r=_u(e,Su);return Eu(e,jn(r,mu.access,t))},removeMemberAcrPolicyUrlAll:oa,removeMemberPolicyUrl:function(e,t){var r=_u(e,xu);return Eu(e,jn(r,mu.apply,t))},removeMemberPolicyUrlAll:pa,removePolicyUrl:function(e,t){var r=_u(e,bu);return Eu(e,jn(r,mu.apply,t))},removePolicyUrlAll:da},Qu={createPolicy:_s,getAllowModes:Rs,getDenyModes:Ts,getPolicy:Es,getPolicyAll:Os,policyAsMarkdown:Vs,removePolicy:As,setAllowModes:Cs,setDenyModes:function(e,t){var r=Pn(e,Z.deny);return!0===t.read&&(r=hn(r,Z.deny,bi.read)),!0===t.append&&(r=hn(r,Z.deny,bi.append)),!0===t.write&&(r=hn(r,Z.deny,bi.write)),r},setPolicy:Ps,createResourcePolicyFor:Ds,getResourceAcrPolicy:Us,getResourceAcrPolicyAll:Bs,getResourcePolicy:Ls,getResourcePolicyAll:Ms,removeResourceAcrPolicy:zs,removeResourcePolicy:Hs,setResourceAcrPolicy:Ws,setResourcePolicy:Ks},Xu={addAgent:function(e,t){return hn(e,Z.agent,t)},createMatcher:function(e){var t=yr({url:R(e)});return t=Kn(t,q,Z.Matcher)},getAgentAll:Mu,getMatcher:function(e,t){var r=pr(e,t);return null!==r&&Iu(r)?r:null},getMatcherAll:function(e){return hr(e).filter(Iu)},removeAgent:function(e,t){return jn(e,Z.agent,t)},removeMatcher:function(e,t){return vr(e,t)},matcherAsMarkdown:function(e){var t="## Matcher: ".concat(br(e),"\n\n"),r="";Bu(e)&&(r+="- Everyone\n"),zu(e)&&(r+="- All authenticated agents\n"),Wu(e)&&(r+="- The creator of this resource\n"),Ju(e)&&(r+="- Users of any client application\n");var n=Mu(e);n.length>0&&(r+="- The following agents:\n  - ",r+=n.join("\n  - ")+"\n");var i=qu(e);return i.length>0&&(r+="- Users of the following client applications:\n  - ",r+=i.join("\n  - ")+"\n"),t+=r.length>0?"This Matcher matches:\n"+r:"<empty>\n"},setAgent:function(e,t){var r=Bu(e),n=zu(e),i=Wu(e),o=Wn(e,Z.agent,t);return r&&(o=Hu(o)),n&&(o=Ku(o)),i&&(o=Vu(o)),o},setMatcher:function(e,t){return gr(e,t)},addClient:function(e,t){return hn(e,Z.client,t)},getClientAll:qu,hasAnyClient:Ju,removeClient:function(e,t){return jn(e,Z.client,t)},setAnyClient:Gu,setClient:function(e,t){var r=Ju(e),n=Wn(e,Z.client,t);return r&&(n=Gu(n)),n},removeAnyClient:function(e){return jn(e,Z.client,ee)},hasAuthenticated:zu,hasCreator:Wu,hasPublic:Bu,setAuthenticated:Ku,setCreator:Vu,setPublic:Hu,removeAuthenticated:function(e){return jn(e,Z.agent,Z.AuthenticatedAgent)},removeCreator:function(e){return jn(e,Z.agent,Z.CreatorAgent)},removePublic:function(e){return jn(e,Z.agent,Z.PublicAgent)},getAnyOfMatcherUrlAll:Tu,addAnyOfMatcherUrl:function(e,t){return hn(e,Z.anyOf,t)},removeAnyOfMatcherUrl:function(e,t){return jn(e,Z.anyOf,t)},setAnyOfMatcherUrl:function(e,t){return Wn(e,Z.anyOf,t)},getAllOfMatcherUrlAll:Fu,addAllOfMatcherUrl:function(e,t){return hn(e,Z.allOf,t)},removeAllOfMatcherUrl:function(e,t){return jn(e,Z.allOf,t)},setAllOfMatcherUrl:function(e,t){return Wn(e,Z.allOf,t)},getNoneOfMatcherUrlAll:Nu,addNoneOfMatcherUrl:function(e,t){return hn(e,Z.noneOf,t)},removeNoneOfMatcherUrl:function(e,t){return jn(e,Z.noneOf,t)},setNoneOfMatcherUrl:function(e,t){return Wn(e,Z.noneOf,t)},createResourceMatcherFor:Du,getResourceMatcher:Lu,getResourceMatcherAll:function(e){return hr(Uo(e)).filter(Iu)},removeResourceMatcher:function(e,t){var r,n=Uo(e);if("string"===typeof t)try{new URL(t),r=t}catch(a){var i=new URL(le(n));i.hash="#".concat(t),r=i.href}else r=nt(t)?R(t):br(t);var o=Lu(e,new URL(r).hash.substring(1));return null===o?e:Mo(e,vr(n,o))},setResourceMatcher:Uu},Zu={addMockAcrTo:Js,mockAcrFor:qs},ec=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Yu),$u),Qu),Xu),Zu),tc=[Z.agent];function rc(e,t,r){if(e.inaccessibleUrls.length>0)return null;var n=e.acrPolicies.filter((function(n){return oc(n,t,r,e)})),i=e.policies.filter((function(n){return oc(n,t,r,e)})),o=n.reduce((function(e,t){var r=Object.assign({},e),n=Rs(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce((function(e,t){var r=Object.assign({},e),n=Rs(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce((function(e,t){var r=Object.assign({},e),n=Ts(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce((function(e,t){var r=Object.assign({},e),n=Ts(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function nc(e,t){return rc(e,Z.agent,t)}function ic(e){return rc(e,Z.agent,Z.PublicAgent)}function oc(e,t,r,n){var i=Mt(e,Z.allow),o=Mt(e,Z.deny);if(i.length+o.length===0)return!1;var a=Fu(e).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))})),s=Tu(e).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))})),u=Nu(e).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))}));return a.every((function(e){return sc(e,t,r)}))&&(0===s.length||s.some((function(e){return sc(e,t,r)})))&&a.length+s.length>0&&0===u.length}function ac(e,t){var r=Mt(e,Z.allow),n=Mt(e,Z.deny);return!0===t.read&&n.includes(bi.read)||!1===t.read&&r.includes(bi.read)&&!n.includes(bi.read)||!0===t.append&&n.includes(bi.append)||!1===t.append&&r.includes(bi.append)&&!n.includes(bi.append)||!0===t.write&&n.includes(bi.write)||!1===t.write&&r.includes(bi.write)&&!n.includes(bi.write)}function sc(e,t,r){return Mt(e,t).includes(r)}function uc(e,t){if(e.inaccessibleUrls.length>0)return null;var r={},n=function(e,t){var r=new Set;return e.matchers.forEach((function(e){Mt(e,t).filter((function(e){return![Z.PublicAgent,Z.CreatorAgent,Z.AuthenticatedAgent].includes(e)||t!=Z.agent})).forEach((function(e){return r.add(e)}))})),r}(e,t);return n.forEach((function(n){var i=rc(e,t,n);r[n]=i})),r}function cc(e){return uc(e,Z.agent)}function lc(e,t,r,n,i){var o,s,u,c,l;if(!Ca(e)||t.inaccessibleUrls.length>0)return null;var f=rc(t,r,n);if(null===f)return null;var d=t.acrPolicies.filter((function(e){return oc(e,r,n,t)})),p=t.policies.filter((function(e){return oc(e,r,n,t)})),h=d.filter((function(e){return ac(e,{read:i.controlRead,write:i.controlWrite})})),g=p.filter((function(e){return ac(e,{read:i.read,append:i.append,write:i.write})})),v=h.filter((function(e){return pc(e,r,n,t)})),y=g.filter((function(e){return pc(e,r,n,t)})),m=rc(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((function(e){return!v.includes(e)})),policies:t.policies.filter((function(e){return!y.includes(e)}))}),r,n);if(null===m)return null;var b=e;v.forEach((function(i){var o=gc(i,e,t,r,n),s=Object(a.a)(o,2),u=s[0],c=s[1];b=Ws(b,u),b=c.reduce(Uu,b)})),y.forEach((function(i){var o=gc(i,e,t,r,n),s=Object(a.a)(o,2),u=s[0],c=s[1];b=Ks(b,u),b=c.reduce(Uu,b)}));var w="matcher_".concat(encodeURIComponent("".concat(r,"_").concat(n))),x=Du(e,w);x=Wn(x,r,n);var S=null!==(o=i.controlRead)&&void 0!==o?o:f.controlRead,k=null!==(s=i.controlWrite)&&void 0!==s?s:f.controlWrite,_=v;if(S!==m.controlRead||k!==m.controlWrite){var E="acr_policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),O=Ds(e,E);O=Cs(O,{read:!0===S,append:!1,write:!0===k}),O=hn(O,Z.allOf,x),b=Uu(b=Ws(b,O),x),_=h}var A=null!==(u=i.read)&&void 0!==u?u:f.read,P=null!==(c=i.append)&&void 0!==c?c:f.append,C=null!==(l=i.write)&&void 0!==l?l:f.write,j=y;if(A!==m.read||P!==m.append||C!==m.write){var R="policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),I=Ds(e,R);I=Cs(I,{read:!0===A,append:!0===P,write:!0===C}),I=hn(I,Z.allOf,x),b=Uu(b=Ks(b,I),x),j=g}return _.forEach((function(e){b=ra(b,wr(e))})),j.forEach((function(e){b=la(b,wr(e))})),b}function fc(e,t,r,n){return lc(e,t,Z.agent,r,n)}function dc(e,t,r){return lc(e,t,Z.agent,Z.PublicAgent,r)}function pc(e,t,r,n){var i=Mt(e,Z.allOf).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))})).some((function(e){return hc(e,t,r)})),o=Mt(e,Z.anyOf).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))})).some((function(e){return hc(e,t,r)})),a=Mt(e,Z.noneOf).map((function(e){return n.matchers.find((function(t){return wr(t)===e}))})).some((function(e){return hc(e,t,r)}));return i||o||a}function hc(e,t,r){var n=[];return tc.forEach((function(o){var a=Mt(e,o).filter((function(e){return e!==r||o!==t}));n.push.apply(n,Object(i.a)(a))})),n.length>0}function gc(e,t,r,n,i){var o="_copy_without"+"_".concat(encodeURIComponent(n),"_").concat(i)+"_".concat(Date.now(),"_").concat(Math.random()),a=vc(Mt(e,Z.allOf),t,r,o,n,i),s=vc(Mt(e,Z.anyOf),t,r,o,n,i),u=vc(Mt(e,Z.noneOf),t,r,o,n,i),c=Ds(t,encodeURI(wr(e))+o);return Mt(e,Z.allow).forEach((function(e){c=hn(c,Z.allow,e)})),Mt(e,Z.deny).forEach((function(e){c=hn(c,Z.deny,e)})),a.forEach((function(e){c=hn(c,Z.allOf,e)})),s.forEach((function(e){c=hn(c,Z.anyOf,e)})),u.forEach((function(e){c=hn(c,Z.noneOf,e)})),[c,a.concat(s).concat(u)]}function vc(e,t,r,n,i,o){return e.map((function(e){var a=r.matchers.find((function(t){return wr(t)===e}));if("undefined"===typeof a)return null;var s=Du(t,encodeURI(wr(a))+n),u=!1;return tc.forEach((function(e){Mt(a,e).forEach((function(t){e===i&&t===o||(u=!0,s=hn(s,e,t))}))})),u?s:null})).filter(yc)}function yc(e){return null!==e}function mc(e){return bc.apply(this,arguments)}function bc(){return bc=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,d,p,h,g,v,y=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:ne,n=ea(t),i=ua(t),o=xc(n).concat(xc(i)),e.next=6,Sc(o,r);case 6:return a=e.sent,s=_c(n,a).filter(yc),u=_c(i,a).filter(yc),c=new Set,s.forEach((function(e){Ec(e).forEach((function(e){c.add(e)}))})),u.forEach((function(e){Ec(e).forEach((function(e){c.add(e)}))})),l=Array.from(c),f=l.map((function(e){return wc(e)})),d=f.filter((function(e){return!o.includes(e)})),e.next=17,Sc(d,r);case 17:return p=e.sent,h=Object.assign(Object.assign({},a),p),g=_c(l,h).filter(yc),v=Object.keys(h).filter((function(e){return null===h[e]})),e.abrupt("return",{inaccessibleUrls:v,acrPolicies:s,policies:u,matchers:g});case 22:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e){var t=new URL(e);return t.hash="",t.href}function xc(e){var t=[];return e.forEach((function(e){var r=wc(e);t.includes(r)||t.push(r)})),t}function Sc(e,t){return kc.apply(this,arguments)}function kc(){return kc=Object(s.a)(m.a.mark((function e(t,r){var n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set(t)),i={},e.next=4,Promise.all(n.map(function(){var e=Object(s.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir(t,r);case 3:n=e.sent,i[t]=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i[t]=null;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function _c(e,t){return e.map((function(e){var r=wc(e),n=t[r];return n?pr(n,e):null}))}function Ec(e){return Fu(e).concat(Tu(e)).concat(Nu(e))}function Oc(e,t){var r,n,i,o;if(e.controlRead!==e.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:null!==(r=e.read)&&void 0!==r?r:t.read,append:null!==(n=e.append)&&void 0!==n?n:t.append,write:null!==(i=e.write)&&void 0!==i?i:t.write,control:null!==(o=e.controlRead)&&void 0!==o?o:t.control}}function Ac(e){return{read:e.read,write:e.write,append:e.append,controlRead:e.control,controlWrite:e.control}}function Pc(e,t,r,n){return Cc.apply(this,arguments)}function Cc(){return(Cc=Object(s.a)(m.a.mark((function e(t,r,n,i){var o,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,i);case 2:if(o=e.sent,null!==(a=n(ki(t,o),r))){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Ac(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jc(e,t,r){return Rc.apply(this,arguments)}function Rc(){return(Rc=Object(s.a)(m.a.mark((function e(t,r,n){var i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,n);case 2:if(i=e.sent,null!==(o=r(ki(t,i)))){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Ac(o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t,r){return Fc.apply(this,arguments)}function Fc(){return(Fc=Object(s.a)(m.a.mark((function e(t,r,n){var i,o,s,u,c,l,f,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(t,n);case 2:if(i=e.sent,null!==(o=r(ki(t,i)))){e.next=6;break}return e.abrupt("return",null);case 6:for(s={},u=0,c=Object.entries(o);u<c.length;u++)l=Object(a.a)(c[u],2),f=l[0],d=l[1],s[f]=Ac(d);return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tc(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne;return Pc(e,t,Gi,r)}function Nc(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ne;return Pc(e,t,ao,r)}function Dc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return jc(e,yo,t)}function Lc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return Ic(e,Yi,t)}function Uc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return Ic(e,so,t)}function Mc(e,t){return Bc.apply(this,arguments)}function Bc(){return(Bc=Object(s.a)(m.a.mark((function e(t,r){var n,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ji(t)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,oi(t,r);case 4:if(n=e.sent,!Ri(i=ki(t,n))){e.next=10;break}o=Pi(i),e.next=15;break;case 10:if(!Mi(i)){e.next=14;break}o=zi(i),e.next=15;break;case 14:return e.abrupt("return",null);case 15:return e.abrupt("return",Ai(i,o));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hc(e,t,r){return zc.apply(this,arguments)}function zc(){return(zc=Object(s.a)(m.a.mark((function e(t,r,n){var i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,Ki(t,r,n);case 4:return i=e.sent,e.abrupt("return",Ai(t,i));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Kc(e,t,r,n,i){return Wc.apply(this,arguments)}function Wc(){return(Wc=Object(s.a)(m.a.mark((function e(t,r,n,i,o){var a,s,u,c,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(t,o);case 2:if(null!==(a=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return s=Ui(a),u=n(a),c=Oc(r,u),l=i(s,c),e.next=11,Hc(a,l,o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vc(e,t,r,n,i,o){return qc.apply(this,arguments)}function qc(){return(qc=Object(s.a)(m.a.mark((function e(t,r,n,i,o,a){var s,u,c,l,f;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mc(t,a);case 2:if(null!==(s=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return u=i(s,r),c=Ui(s),l=Oc(n,u),f=o(c,r,l),e.next=11,Hc(s,f,a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jc(e,t,r){return Gc.apply(this,arguments)}function Gc(){return Gc=Object(s.a)(m.a.mark((function e(t,r,n){var i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:ne,e.next=3,Vc(t,r,n,Gi,Xi,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Yc(e,t,r){return $c.apply(this,arguments)}function $c(){return $c=Object(s.a)(m.a.mark((function e(t,r,n){var i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:ne,e.next=3,Vc(t,r,n,ao,go,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Qc(e,t){return Xc.apply(this,arguments)}function Xc(){return Xc=Object(s.a)(m.a.mark((function e(t,r){var n,i=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:ne,e.next=3,Kc(t,r,yo,wo,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}var Zc=[Z.agent,Z.group];function el(e,t,r){if(e.inaccessibleUrls.length>0)return null;var n=e.acrPolicies.filter((function(n){return il(n,t,r,e)})),i=e.policies.filter((function(n){return il(n,t,r,e)})),o=n.reduce((function(e,t){var r=Object.assign({},e),n=Is(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce((function(e,t){var r=Object.assign({},e),n=Is(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce((function(e,t){var r=Object.assign({},e),n=Ns(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce((function(e,t){var r=Object.assign({},e),n=Ns(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function tl(e,t){return el(e,Z.agent,t)}function rl(e,t){return el(e,Z.group,t)}function nl(e){return el(e,Z.agent,Z.PublicAgent)}function il(e,t,r,n){var i=Mt(e,Z.allow),o=Mt(e,Z.deny);if(i.length+o.length===0)return!1;var a=Ma(e).map((function(e){return n.rules.find((function(t){return wr(t)===e}))})),s=Ka(e).map((function(e){return n.rules.find((function(t){return wr(t)===e}))})),u=Ja(e).map((function(e){return n.rules.find((function(t){return wr(t)===e}))}));return a.every((function(e){return al(e,t,r)}))&&(0===s.length||s.some((function(e){return al(e,t,r)})))&&0===u.length}function ol(e,t){var r=Mt(e,Z.allow),n=Mt(e,Z.deny);return!0===t.read&&n.includes(Z.Read)||!1===t.read&&r.includes(Z.Read)&&!n.includes(Z.Read)||!0===t.append&&n.includes(Z.Append)||!1===t.append&&r.includes(Z.Append)&&!n.includes(Z.Append)||!0===t.write&&n.includes(Z.Write)||!1===t.write&&r.includes(Z.Write)&&!n.includes(Z.Write)}function al(e,t,r){var n=!0;return Zc.forEach((function(t){n&&(n=null===Lt(e,t))})),n||Mt(e,t).includes(r)}function sl(e,t){if(e.inaccessibleUrls.length>0)return null;var r={},n=function(e,t){var r=new Set;return e.rules.forEach((function(e){Mt(e,t).filter((function(e){return![Z.PublicAgent,Z.CreatorAgent,Z.AuthenticatedAgent].includes(e)||t!=Z.agent})).forEach((function(e){return r.add(e)}))})),r}(e,t);return n.forEach((function(n){var i=el(e,t,n);r[n]=i})),r}function ul(e){return sl(e,Z.group)}function cl(e){return sl(e,Z.agent)}function ll(e,t,r,n,i){var o,s,u,c,l;if(!Ca(e)||t.inaccessibleUrls.length>0)return null;var f=el(t,r,n);if(null===f)return null;var d=t.acrPolicies.filter((function(e){return il(e,r,n,t)})),p=t.policies.filter((function(e){return il(e,r,n,t)})),h=d.filter((function(e){return ol(e,{read:i.controlRead,write:i.controlWrite})})),g=p.filter((function(e){return ol(e,{read:i.read,append:i.append,write:i.write})})),v=h.filter((function(e){return hl(e,r,n,t)})),y=g.filter((function(e){return hl(e,r,n,t)})),m=el(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((function(e){return!v.includes(e)})),policies:t.policies.filter((function(e){return!y.includes(e)}))}),r,n);if(null===m)return null;var b=e;v.forEach((function(i){var o=vl(i,e,t,r,n),s=Object(a.a)(o,2),u=s[0],c=s[1];b=Ws(b,u),b=c.reduce(ts,b)})),y.forEach((function(i){var o=vl(i,e,t,r,n),s=Object(a.a)(o,2),u=s[0],c=s[1];b=Ks(b,u),b=c.reduce(ts,b)}));var w="rule_".concat(encodeURIComponent("".concat(r,"_").concat(n))),x=Ya(e,w);x=Wn(x,r,n);var S=null!==(o=i.controlRead)&&void 0!==o?o:f.controlRead,k=null!==(s=i.controlWrite)&&void 0!==s?s:f.controlWrite,_=v;if(S!==m.controlRead||k!==m.controlWrite){var E="acr_policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),O=Ds(e,E);O=js(O,{read:!0===S,append:!1,write:!0===k}),O=hn(O,Z.allOf,x),b=ts(b=Ws(b,O),x),_=h}var A=null!==(u=i.read)&&void 0!==u?u:f.read,P=null!==(c=i.append)&&void 0!==c?c:f.append,C=null!==(l=i.write)&&void 0!==l?l:f.write,j=y;if(A!==m.read||P!==m.append||C!==m.write){var R="policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),I=Ds(e,R);I=js(I,{read:!0===A,append:!0===P,write:!0===C}),I=hn(I,Z.allOf,x),b=ts(b=Ks(b,I),x),j=g}return _.forEach((function(e){b=ra(b,wr(e))})),j.forEach((function(e){b=la(b,wr(e))})),b}function fl(e,t,r,n){return ll(e,t,Z.agent,r,n)}function dl(e,t,r,n){return ll(e,t,Z.group,r,n)}function pl(e,t,r){return ll(e,t,Z.agent,Z.PublicAgent,r)}function hl(e,t,r,n){var i=Mt(e,Z.allOf).map((function(e){return n.rules.find((function(t){return wr(t)===e}))})).some((function(e){return gl(e,t,r)})),o=Mt(e,Z.anyOf).map((function(e){return n.rules.find((function(t){return wr(t)===e}))})).some((function(e){return gl(e,t,r)})),a=Mt(e,Z.noneOf).map((function(e){return n.rules.find((function(t){return wr(t)===e}))})).some((function(e){return gl(e,t,r)}));return i||o||a}function gl(e,t,r){var n=[];return Zc.forEach((function(o){var a=Mt(e,o).filter((function(e){return e!==r||o!==t}));n.push.apply(n,Object(i.a)(a))})),n.length>0}function vl(e,t,r,n,i){var o="_copy_without"+"_".concat(encodeURIComponent(n),"_").concat(i)+"_".concat(Date.now(),"_").concat(Math.random()),a=yl(Mt(e,Z.allOf),t,r,o,n,i),s=yl(Mt(e,Z.anyOf),t,r,o,n,i),u=yl(Mt(e,Z.noneOf),t,r,o,n,i),c=Ds(t,encodeURI(wr(e))+o);return Mt(e,Z.allow).forEach((function(e){c=hn(c,Z.allow,e)})),Mt(e,Z.deny).forEach((function(e){c=hn(c,Z.deny,e)})),a.forEach((function(e){c=hn(c,Z.allOf,e)})),s.forEach((function(e){c=hn(c,Z.anyOf,e)})),u.forEach((function(e){c=hn(c,Z.noneOf,e)})),[c,a.concat(s).concat(u)]}function yl(e,t,r,n,i,o){return e.map((function(e){var a=r.rules.find((function(t){return wr(t)===e}));if("undefined"===typeof a)return null;var s=Ya(t,encodeURI(wr(a))+n),u=!1;return Zc.forEach((function(e){Mt(a,e).forEach((function(t){e===i&&t===o||(u=!0,s=hn(s,e,t))}))})),u?s:null})).filter(ml)}function ml(e){return null!==e}function bl(e){return wl.apply(this,arguments)}function wl(){return wl=Object(s.a)(m.a.mark((function e(t){var r,n,i,o,a,s,u,c,l,f,d,p,h,g,v,y=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>1&&void 0!==y[1]?y[1]:ne,n=ea(t),i=ua(t),o=Sl(n).concat(Sl(i)),e.next=6,kl(o,r);case 6:return a=e.sent,s=El(n,a).filter(ml),u=El(i,a).filter(ml),c=new Set,s.forEach((function(e){Ol(e).forEach((function(e){c.add(e)}))})),u.forEach((function(e){Ol(e).forEach((function(e){c.add(e)}))})),l=Array.from(c),f=l.map((function(e){return xl(e)})),d=f.filter((function(e){return!o.includes(e)})),e.next=17,kl(d,r);case 17:return p=e.sent,h=Object.assign(Object.assign({},a),p),g=El(l,h).filter(ml),v=Object.keys(h).filter((function(e){return null===h[e]})),e.abrupt("return",{inaccessibleUrls:v,acrPolicies:s,policies:u,rules:g});case 22:case"end":return e.stop()}}),e)}))),wl.apply(this,arguments)}function xl(e){var t=new URL(e);return t.hash="",t.href}function Sl(e){var t=[];return e.forEach((function(e){var r=xl(e);t.includes(r)||t.push(r)})),t}function kl(e,t){return _l.apply(this,arguments)}function _l(){return _l=Object(s.a)(m.a.mark((function e(t,r){var n,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set(t)),i={},e.next=4,Promise.all(n.map(function(){var e=Object(s.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ir(t,r);case 3:n=e.sent,i[t]=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i[t]=null;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),_l.apply(this,arguments)}function El(e,t){return e.map((function(e){var r=xl(e),n=t[r];return n?pr(n,e):null}))}function Ol(e){return Ma(e).concat(Ka(e)).concat(Ja(e))}function Al(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:ne,e.next=3,ba(t,n);case 3:if(!Ca(i=e.sent)){e.next=9;break}return e.next=7,bl(i,n);case 7:return o=e.sent,e.abrupt("return",tl(o,r));case 9:if(!Ji(i)){e.next=13;break}return e.next=12,Tc(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Cl(e,t,r){return jl.apply(this,arguments)}function jl(){return jl=Object(s.a)(m.a.mark((function e(t,r,n){var i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:ne,e.next=3,ba(t,i);case 3:if(!Ca(o=e.sent)){e.next=22;break}return e.next=7,bl(o,i);case 7:if(a=e.sent,!(s=fl(o,a,r,n))){e.next=21;break}return e.prev=10,e.next=13,Aa(s,i);case 13:return e.next=15,Al(t,r,i);case 15:case 30:return e.abrupt("return",e.sent);case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return",null);case 21:case 31:return e.abrupt("return",null);case 22:if(!Ji(o)){e.next=31;break}if(n.controlRead==n.controlWrite){e.next=25;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(fe(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 25:return u=n,e.next=28,Jc(o,r,u,i);case 28:return e.next=30,Tc(o,r,i);case 32:case"end":return e.stop()}}),e,null,[[10,18]])}))),jl.apply(this,arguments)}function Rl(e){return Il.apply(this,arguments)}function Il(){return Il=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ba(t,r);case 3:if(!Ca(n=e.sent)){e.next=9;break}return e.next=7,bl(n,r);case 7:return i=e.sent,e.abrupt("return",cl(i));case 9:if(!Ji(n)){e.next=13;break}return e.next=12,Lc(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function Fl(e,t){return Tl.apply(this,arguments)}function Tl(){return Tl=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:ne,e.next=3,ba(t,n);case 3:if(!Ca(i=e.sent)){e.next=9;break}return e.next=7,bl(i,n);case 7:return o=e.sent,e.abrupt("return",rl(o,r));case 9:if(!Ji(i)){e.next=13;break}return e.next=12,Nc(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Tl.apply(this,arguments)}function Nl(e){return Dl.apply(this,arguments)}function Dl(){return Dl=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ba(t,r);case 3:if(!Ca(n=e.sent)){e.next=9;break}return e.next=7,bl(n,r);case 7:return i=e.sent,e.abrupt("return",ul(i));case 9:if(!Ji(n)){e.next=13;break}return e.next=12,Uc(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(e,t,r){return Ul.apply(this,arguments)}function Ul(){return Ul=Object(s.a)(m.a.mark((function e(t,r,n){var i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:ne,e.next=3,ba(t,i);case 3:if(!Ca(o=e.sent)){e.next=20;break}return e.next=7,bl(o,i);case 7:if(a=e.sent,!(s=dl(o,a,r,n))){e.next=19;break}return e.prev=10,e.next=13,Aa(s,i);case 13:return e.abrupt("return",Fl(t,r,i));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!Ji(o)){e.next=29;break}if(n.controlRead==n.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(fe(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return u=n,e.next=26,Yc(o,r,u,i);case 26:return e.next=28,Nc(o,r,i);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),Ul.apply(this,arguments)}function Ml(e){return Bl.apply(this,arguments)}function Bl(){return Bl=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ba(t,r);case 3:if(!Ca(n=e.sent)){e.next=9;break}return e.next=7,bl(n,r);case 7:return i=e.sent,e.abrupt("return",nl(i));case 9:if(!Ji(n)){e.next=13;break}return e.next=12,Dc(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function Hl(e,t){return zl.apply(this,arguments)}function zl(){return zl=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:ne,e.next=3,ba(t,n);case 3:if(!Ca(i=e.sent)){e.next=20;break}return e.next=7,bl(i,n);case 7:if(o=e.sent,!(a=pl(i,o,r))){e.next=19;break}return e.prev=10,e.next=13,Aa(a,n);case 13:return e.abrupt("return",Ml(t,n));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!Ji(i)){e.next=29;break}if(r.controlRead==r.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(fe(i),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return s=r,e.next=26,Qc(i,s,n);case 26:return e.next=28,Dc(i,n);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),zl.apply(this,arguments)}var Kl=Object.freeze({__proto__:null,getAgentAccess:Al,setAgentAccess:Cl,getAgentAccessAll:Rl,getGroupAccess:Fl,getGroupAccessAll:Nl,setGroupAccess:Ll,getPublicAccess:Ml,setPublicAccess:Hl,getAccessFor:Vl,getAccessForAll:Jl,setAccessFor:Yl}),Wl=Object.freeze({__proto__:null,getAccessFor:Vl,getAccessForAll:Jl,setAccessFor:Yl,getAgentAccess:Al,setAgentAccess:Cl,getAgentAccessAll:Rl,getGroupAccess:Fl,getGroupAccessAll:Nl,setGroupAccess:Ll,getPublicAccess:Ml,setPublicAccess:Hl});function Vl(e,t){return ql.apply(this,arguments)}function ql(){return ql=Object(s.a)(m.a.mark((function e(t,r){var n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:ne,i=o.length>3&&void 0!==o[3]?o[3]:ne,"agent"!==r){e.next=8;break}if("string"===typeof n){e.next=5;break}throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");case 5:return e.next=7,Al(t,n,i);case 7:case 13:case 19:return e.abrupt("return",e.sent);case 8:if("group"!==r){e.next=14;break}if("string"===typeof n){e.next=11;break}throw new Error("When reading Group-specific access, the given group cannot be left undefined.");case 11:return e.next=13,Fl(t,n,i);case 14:if("public"!==r){e.next=20;break}if("string"!==typeof n){e.next=17;break}throw new Error("When reading public access, no actor type should be specified (here [".concat(n,"])."));case 17:return e.next=19,Ml(t,n);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Jl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=Object(s.a)(m.a.mark((function e(t,r){var n,i=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:ne,"agent"!==r){e.next=5;break}return e.next=4,Rl(t,n);case 4:case 8:return e.abrupt("return",e.sent);case 5:if("group"!==r){e.next=9;break}return e.next=8,Nl(t,n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Yl(e,t,r){return $l.apply(this,arguments)}function $l(){return $l=Object(s.a)(m.a.mark((function e(t,r,n){var i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>3&&void 0!==a[3]?a[3]:ne,o=a.length>4&&void 0!==a[4]?a[4]:ne,"agent"!==r){e.next=8;break}if("string"===typeof i){e.next=5;break}throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");case 5:return e.next=7,Cl(t,i,n,o);case 7:case 13:case 19:return e.abrupt("return",e.sent);case 8:if("group"!==r){e.next=14;break}if("string"===typeof i){e.next=11;break}throw new Error("When writing Group-specific access, the given group cannot be left undefined.");case 11:return e.next=13,Ll(t,i,n,o);case 14:if("public"!==r){e.next=20;break}if("string"!==typeof i){e.next=17;break}throw new Error("When writing public access, no actor type should be specified (here [".concat(i,"])."));case 17:return e.next=19,Hl(t,n,i);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Ql(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:ne,e.next=3,ba(t,n);case 3:if(!Ca(i=e.sent)){e.next=9;break}return e.next=7,mc(i,n);case 7:return o=e.sent,e.abrupt("return",nc(o,r));case 9:if(!Ji(i)){e.next=13;break}return e.next=12,Tc(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Zl(){return Zl=Object(s.a)(m.a.mark((function e(t,r,n){var i,o,a,s,u,c=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:ne,e.next=3,ba(t,i);case 3:if(!Ca(o=e.sent)){e.next=22;break}return e.next=7,mc(o,i);case 7:if(a=e.sent,!(s=fc(o,a,r,n))){e.next=21;break}return e.prev=10,e.next=13,Aa(s,i);case 13:return e.next=15,Ql(t,r,i);case 15:case 30:return e.abrupt("return",e.sent);case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return",null);case 21:case 31:return e.abrupt("return",null);case 22:if(!Ji(o)){e.next=31;break}if(n.controlRead==n.controlWrite){e.next=25;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(fe(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 25:return u=n,e.next=28,Jc(o,r,u,i);case 28:return e.next=30,Tc(o,r,i);case 32:case"end":return e.stop()}}),e,null,[[10,18]])}))),Zl.apply(this,arguments)}function ef(){return ef=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ba(t,r);case 3:if(!Ca(n=e.sent)){e.next=9;break}return e.next=7,mc(n,r);case 7:return i=e.sent,e.abrupt("return",cc(i));case 9:if(!Ji(n)){e.next=13;break}return e.next=12,Lc(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}function tf(e){return rf.apply(this,arguments)}function rf(){return rf=Object(s.a)(m.a.mark((function e(t){var r,n,i,o=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:ne,e.next=3,ba(t,r);case 3:if(!Ca(n=e.sent)){e.next=9;break}return e.next=7,mc(n,r);case 7:return i=e.sent,e.abrupt("return",ic(i));case 9:if(!Ji(n)){e.next=13;break}return e.next=12,Dc(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),rf.apply(this,arguments)}function nf(){return nf=Object(s.a)(m.a.mark((function e(t,r){var n,i,o,a,s,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:ne,e.next=3,ba(t,n);case 3:if(!Ca(i=e.sent)){e.next=20;break}return e.next=7,mc(i,n);case 7:if(o=e.sent,!(a=dc(i,o,r))){e.next=19;break}return e.prev=10,e.next=13,Aa(a,n);case 13:return e.abrupt("return",tf(t,n));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!Ji(i)){e.next=29;break}if(r.controlRead==r.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(fe(i),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return s=r,e.next=26,Qc(i,s,n);case 26:return e.next=28,Dc(i,n);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),nf.apply(this,arguments)}var of=Object.freeze({__proto__:null,getAgentAccess:Ql,setAgentAccess:function(e,t,r){return Zl.apply(this,arguments)},getAgentAccessAll:function(e){return ef.apply(this,arguments)},getPublicAccess:tf,setPublicAccess:function(e,t){return nf.apply(this,arguments)},getAccessFor:Vl,getAccessForAll:Jl,setAccessFor:Yl})},function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUtilityGetResponse=t.StorageUtilityMock=t.mockStorageUtility=t.mockStorage=t.buildAuthenticatedFetch=t.generateDpopKeyPair=t.createDpopHeader=t.OidcProviderError=t.InvalidResponseError=t.NotImplementedError=t.ConfigurationError=t.InMemoryStorage=t.getSessionIdFromOauthState=t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.StorageUtility=t.determineSigningAlg=t.handleRegistration=t.USER_SESSION_PREFIX=t.isSupportedTokenType=t.fetchJwks=t.getWebidFromTokenPayload=t.AggregateHandler=void 0,i(r(64),t);var a=r(151);Object.defineProperty(t,"AggregateHandler",{enumerable:!0,get:function(){return o(a).default}});var s=r(152);Object.defineProperty(t,"getWebidFromTokenPayload",{enumerable:!0,get:function(){return s.getWebidFromTokenPayload}}),Object.defineProperty(t,"fetchJwks",{enumerable:!0,get:function(){return s.fetchJwks}});var u=r(153);Object.defineProperty(t,"isSupportedTokenType",{enumerable:!0,get:function(){return u.isSupportedTokenType}});var c=r(154);Object.defineProperty(t,"USER_SESSION_PREFIX",{enumerable:!0,get:function(){return c.USER_SESSION_PREFIX}});var l=r(155);Object.defineProperty(t,"handleRegistration",{enumerable:!0,get:function(){return l.handleRegistration}}),Object.defineProperty(t,"determineSigningAlg",{enumerable:!0,get:function(){return l.determineSigningAlg}});var f=r(156);Object.defineProperty(t,"StorageUtility",{enumerable:!0,get:function(){return o(f).default}}),Object.defineProperty(t,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return f.loadOidcContextFromStorage}}),Object.defineProperty(t,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return f.saveSessionInfoToStorage}}),Object.defineProperty(t,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return f.getSessionIdFromOauthState}});var d=r(157);Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return o(d).default}});var p=r(158);Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return o(p).default}});var h=r(159);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return o(h).default}});var g=r(95);Object.defineProperty(t,"InvalidResponseError",{enumerable:!0,get:function(){return g.InvalidResponseError}});var v=r(96);Object.defineProperty(t,"OidcProviderError",{enumerable:!0,get:function(){return v.OidcProviderError}});var y=r(97);Object.defineProperty(t,"createDpopHeader",{enumerable:!0,get:function(){return y.createDpopHeader}}),Object.defineProperty(t,"generateDpopKeyPair",{enumerable:!0,get:function(){return y.generateDpopKeyPair}});var m=r(160);Object.defineProperty(t,"buildAuthenticatedFetch",{enumerable:!0,get:function(){return m.buildAuthenticatedFetch}});var b=r(161);Object.defineProperty(t,"mockStorage",{enumerable:!0,get:function(){return b.mockStorage}}),Object.defineProperty(t,"mockStorageUtility",{enumerable:!0,get:function(){return b.mockStorageUtility}}),Object.defineProperty(t,"StorageUtilityMock",{enumerable:!0,get:function(){return b.StorageUtilityMock}}),Object.defineProperty(t,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return b.StorageUtilityGetResponse}})},function(e,t,r){var n,i=r(0),o=r(10).default,a=r(23).default;self,n=function(e,t,r,n,s){return function(){"use strict";var u={577:function(e){e.exports=t},606:function(e){e.exports=r},156:function(t){t.exports=e},767:function(e){e.exports=s},928:function(e){e.exports=n}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return u[e](r,r.exports,l),r.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return function(){l.r(f),l.d(f,{CombinedDataProvider:function(){return te},DatasetContext:function(){return v},DatasetProvider:function(){return y},FileUpload:function(){return c},Image:function(){return C},Link:function(){return Q},LoginButton:function(){return X},LogoutButton:function(){return Z},SessionContext:function(){return s},SessionProvider:function(){return u},Table:function(){return ie},TableColumn:function(){return ne},Text:function(){return ae},ThingContext:function(){return b},ThingProvider:function(){return w},Value:function(){return Y},Video:function(){return ue},useDataset:function(){return h},useFile:function(){return A},useSession:function(){return ce},useThing:function(){return le}});var e=l(156),t=l.n(e),r=l(577),n=l(606),s=(0,e.createContext)({login:n.login,logout:n.logout,fetch:n.fetch,session:(0,n.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),u=function(u){var c=u.sessionId,l=u.children,f=u.onError,d=u.sessionRequestInProgress,p=u.restorePreviousSession,h=u.onSessionRestore,g=p||"undefined"!==typeof h,v=(0,e.useState)((0,n.getDefaultSession)()),y=a(v,2),m=y[0],b=y[1],w=(0,e.useState)(),x=a(w,2),S=x[0],k=x[1];(0,e.useEffect)((function(){void 0!==h&&(0,n.onSessionRestore)(h)}),[h]);var _,E="undefined"===typeof d?!m.info.isLoggedIn:d,O=(0,e.useState)(E),A=a(O,2),P=A[0],C=A[1];"undefined"!==typeof window&&(_=window.location),(0,e.useEffect)((function(){(0,n.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:g}).then((function(e){return void 0!==(null===e||void 0===e?void 0:e.webId)?(0,r.getProfileAll)(null===e||void 0===e?void 0:e.webId,{fetch:m.fetch}):void 0})).then((function(e){void 0!==e&&k(e)})).catch((function(e){if(!f)throw e;f(e)})).finally((function(){C(!1)})),(0,n.getDefaultSession)().on("logout",(function(){b((0,n.getDefaultSession)())}))}),[m,c,f,_,g]);var j=function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),e.prev=1,e.next=4,(0,n.login)(t);case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),!f){e.next=12;break}f(e.t0),e.next=13;break;case 12:throw e.t0;case 13:return e.prev=13,C(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.logout)();case 3:k(void 0),e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(0),!f){e.next=12;break}f(e.t0),e.next=13;break;case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return t().createElement(s.Provider,{value:{session:m,login:j,logout:R,sessionRequestInProgress:P,setSessionRequestInProgress:C,fetch:n.fetch,profile:S}},l)};function c(n){var a=n.saveLocation,u=n.onError,c=n.onSave,l=n.inputProps,f=n.autosave,d=(0,e.useContext)(s).fetch,p=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).files){e.next=3;break}return e.abrupt("return");case 3:if(f){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,r.saveFileInContainer)(a,n.files[0],{slug:n.files[0].name?n.files[0].name:void 0,fetch:d});case 8:o=e.sent,c&&c(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),u&&u(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"file"},l,{onChange:function(e){return p(e)},"data-testid":"form-input"})))}var d=l(928),p=l.n(d);function h(t,n){var i=(0,e.useContext)(s).fetch,o=(0,e.useContext)(v).solidDataset,a=p()(t?[t,n,i]:null,(function(){var e=Object.assign({fetch:i},n);return(0,r.getSolidDataset)(t,e)})),u=a.data,c=a.error;return{dataset:t?u:o,error:c}}var g=(0,e.createContext)({solidDataset:void 0,setDataset:function(){}}),v=g,y=function(r){var n=r.children,i=r.onError,o=r.solidDataset,s=r.datasetUrl,u=r.loading,c=r.loadingComponent,l=h(s),f=l.dataset,d=l.error;d&&i&&i(d);var p=null!==o&&void 0!==o?o:f,v=(0,e.useState)(p),y=a(v,2),m=y[0],b=y[1];(0,e.useEffect)((function(){b(p)}),[p]);var w=c&&t().createElement(c,null)||u||t().createElement("span",null,"Fetching data...");return null===c&&(w=null),t().createElement(g.Provider,{value:{solidDataset:m,setDataset:b}},m?n:w)},m=(0,e.createContext)({thing:null,setThing:function(){}}),b=m,w=function(n){var i=n.children,o=n.thing,s=n.thingUrl,u=(0,e.useContext)(v).solidDataset,c=o;u&&s&&(c=(0,r.getThing)(u,s));var l=(0,e.useState)(c||null),f=a(l,2),d=f[0],p=f[1];return(0,e.useEffect)((function(){u&&s?p((0,r.getThing)(u,s)):o&&p(o)}),[u,s,o]),t().createElement(m.Provider,{value:{thing:d,setThing:p}},i)},x=function(){var e=o(i.mark((function e(t,n,o,a,s,u,c){var l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(void 0!==s&&n.size>1024*s)){e.next=5;break}return o.setCustomValidity("The selected file must not be larger than ".concat(s,"kB")),o.reportValidity(),e.abrupt("return",null);case 5:return o.setCustomValidity(""),e.next=8,(0,r.overwriteFile)(t,n,{fetch:a});case 8:return u&&u(),l=URL.createObjectURL(n),e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(0),c&&c(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,n,i,o,a,s){return e.apply(this,arguments)}}(),S=function(){var e=o(i.mark((function e(t,n){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getFile)(t,{fetch:n});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function k(e,t,n,i){switch(e){case"boolean":return(0,r.getBoolean)(t,n);case"datetime":return(0,r.getDatetime)(t,n);case"decimal":return(0,r.getDecimal)(t,n);case"integer":return(0,r.getInteger)(t,n);case"url":return(0,r.getUrl)(t,n);default:return i?(0,r.getStringWithLocale)(t,n,i):(0,r.getStringNoLocale)(t,n)}}function _(t){var r,n=t.dataset,i=t.thing,o=t.properties,a=t.property,s=t.type,u=t.locale,c=(0,e.useContext)(v),l=c.solidDataset,f=c.setDataset,d=void 0===f?function(){}:f,p=n||l,h=(0,e.useContext)(b),g=h.thing,y=h.setThing,m=void 0===y?function(){}:y,w=i||g||void 0;w||(r=new Error("Thing not found as property or in context"));var x=w&&o?function(e,t,r,n,i){return n.find((function(n){return e(t,r,n,i)}))||n[0]}(k,s,w,o,u)||o[0]:a;if(!x)throw new Error("No property provided");return{dataset:p,thing:w,property:x,error:r,value:w&&x?k(s,w,x,u):null,setDataset:d,setThing:m}}function E(e,t){return O.apply(this,arguments)}function O(){return(O=o(i.mark((function e(t,n){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getSolidDataset)(t);case 2:o=e.sent,n(o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(t){var r=(0,e.useState)(),n=a(r,2),i=n[0],o=n[1],u=(0,e.useState)(!1),c=a(u,2),l=c[0],f=c[1],d=(0,e.useState)(),p=a(d,2),h=p[0],g=p[1],v=(0,e.useContext)(s).fetch;return(0,e.useEffect)((function(){t&&(f(!0),S(t,v).then((function(e){g(e),f(!1)})).catch((function(e){o(e),f(!1)})))}),[t,v]),{error:i,inProgress:l,data:h}}var P=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function C(r){var n,u=r.thing,c=r.property,l=r.properties,f=r.edit,d=r.autosave,p=r.onSave,h=r.onError,g=r.maxSize,v=r.alt,y=r.inputProps,m=r.errorComponent,b=r.loadingComponent,w=P(r,["thing","property","properties","edit","autosave","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent"]),S=(0,e.useContext)(s).fetch,k=_({thing:u,property:c,properties:l,type:"url"}),E=k.value,O=k.thing,C=k.error;f||E||(n=new Error("No value found for property."));var j=!O&&!C,R=(0,e.useState)(null!==C&&void 0!==C?C:n),I=a(R,2),F=I[0],T=I[1];(0,e.useEffect)((function(){F&&h&&h(F)}),[F,h,m]);var N=(0,e.useState)(),D=a(N,2),L=D[0],U=D[1],M=A(E),B=M.data,H=M.error,z=M.inProgress;(0,e.useEffect)((function(){if(!z)if(H)T(H);else{var e=B&&URL.createObjectURL(B);e&&U(e)}}),[B,z,H]);var K=function(){var e=o(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.files,!(d&&r&&r.length>0&&E)){e.next=6;break}return e.next=4,x(E,r[0],t,S,g,p,h);case 4:(n=e.sent)&&U(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=null;if(j||z){var V=b&&t().createElement(b,null)||t().createElement("span",null,"fetching data in progress");return null===b&&(V=null),V}return F?W=m?t().createElement(m,{error:F}):t().createElement("span",null,F.toString()):E&&(W=t().createElement("img",Object.assign({src:L,alt:null!==v&&void 0!==v?v:""},w))),t().createElement(t().Fragment,null,W,f&&t().createElement("input",Object.assign({},y,{type:"file",accept:"image/*",onChange:function(e){return K(e.target)}})))}var j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},R=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=j(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=_({dataset:l,thing:c,type:"datetime",property:f,properties:d}),S=x.value,k=x.thing,O=x.property,A=x.dataset,P=x.setDataset,C=x.error,R=function(){var t=(0,e.useState)(null),r=a(t,2),n=r[0],i=r[1];return(0,e.useEffect)((function(){var e=document.createElement("input");e.type="datetime-local",i("text"!==e.type)}),[]),n}();(0,e.useEffect)((function(){C&&g&&g(C)}),[C,g]);var I=S?S.toISOString().substring(0,S.toISOString().length-5):null,F=(0,e.useState)(I),T=a(F,2),N=T[0],D=T[1],L="";R||(L=null===N||void 0===N?void 0:N.split(/T(.+)/)[0].toString());var U="00:00";R||(U=null===(u=null===N||void 0===N?void 0:N.split(/T(.+)/)[1])||void 0===u?void 0:u.toString());var M=(0,e.useState)(U),B=a(M,2),H=B[0],z=B[1],K=(0,e.useState)(L),W=a(K,2),V=W[0],q=W[1];(0,e.useEffect)((function(){!H&&!V||R||D("".concat(null!==V&&void 0!==V?V:"","T").concat(null!==H&&void 0!==H?H:"00:00"))}),[H,V,R]);var J,G=function(){var e=o(i.mark((function e(t){var n,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(I!==N&&k&&A&&t.target.reportValidity())){e.next=27;break}if(n=N,o=(0,r.setDatetime)(k,O,new Date("".concat(n,"Z"))),e.prev=3,!p){e.next=12;break}return e.next=7,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(A,o),{fetch:w});case 7:return a=e.sent,e.next=10,E(p,P);case 10:e.next=21;break;case 12:if(!(0,r.hasResourceInfo)(A)){e.next=20;break}return e.next=15,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,o),{fetch:w});case 15:return a=e.sent,e.next=18,E((0,r.getSourceUrl)(A),P);case 18:e.next=21;break;case 20:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 21:!C&&h&&h(a,o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),g&&g(e.t0);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}();return J=R?"datetime-local":"datetime-workaround",t().createElement(t().Fragment,null,!v&&A&&k&&t().createElement("span",Object.assign({},b),"".concat(N)),v&&A&&k&&"datetime-local"===J&&t().createElement("input",Object.assign({type:J,"aria-label":"Date and Time",step:"any"},m,{onChange:function(e){D(e.target.value)},onBlur:function(e){return y&&G(e)},value:N,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),v&&A&&k&&"datetime-workaround"===J&&t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},m,{onChange:function(e){q(e.target.value)},onBlur:function(e){return y&&G(e)},value:V,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),t().createElement("input",{type:"time","aria-label":"Time",value:H,onChange:function(e){return z(e.target.value)},onBlur:function(e){return y&&G(e)},pattern:"[0-9]{2}:[0-9]{2}"})))};R.defaultProps={autosave:!1,edit:!1};var I=R,F=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},T=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.locale,g=n.onSave,v=n.onError,y=n.edit,m=n.autosave,b=n.inputProps,w=F(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),x=(0,e.useContext)(s).fetch,S=_({dataset:l,thing:c,type:"string",property:f,properties:d,locale:h}),k=S.value,O=S.thing,A=S.property,P=S.dataset,C=S.setDataset,j=S.error;(0,e.useEffect)((function(){j&&v&&v(j)}),[j,v]);var R=null!==(u=null===k||void 0===k?void 0:k.toString())&&void 0!==u?u:"",I=(0,e.useState)(R),T=a(I,2),N=T[0],D=T[1],L=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R!==N&&O&&P&&t.target.reportValidity())){e.next=26;break}if(n=h?(0,r.setStringWithLocale)(O,A,N,h):(0,r.setStringNoLocale)(O,A,N),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(P,n),{fetch:x});case 6:return o=e.sent,e.next=9,E(p,C);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(P)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(P),(0,r.setThing)(P,n),{fetch:x});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(P),C);case 17:e.next=20;break;case 19:v&&v(new Error("Please provide saveDatasetTo location for new data"));case 20:!j&&g&&g(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),v&&v(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!y&&P&&O&&t().createElement("span",Object.assign({},w),N),y&&P&&O&&t().createElement("input",Object.assign({type:"text"},b,{onChange:function(e){D(e.target.value)},onBlur:function(e){return m&&L(e)},value:N})))};T.defaultProps={autosave:!1,edit:!1};var N=T,D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},L=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=D(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=_({dataset:l,thing:c,type:"boolean",property:f,properties:d}),S=x.value,k=x.thing,O=x.property,A=x.dataset,P=x.setDataset,C=x.error;(0,e.useEffect)((function(){C&&g&&g(C)}),[C,g]);var j,R=!1;R=null!==(u=S)&&void 0!==u&&u,j=R.toString();var I=(0,e.useState)(j),F=a(I,2),T=F[0],N=F[1],L=(0,e.useState)(R),U=a(L,2),M=U[0],B=U[1];(0,e.useEffect)((function(){N(M.toString())}),[M]);var H=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j!==T&&k&&A&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setBoolean)(k,O,M),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(A,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,P);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(A)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(A),P);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!C&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&A&&k&&t().createElement("span",Object.assign({},b),"".concat(T)),v&&A&&k&&t().createElement("input",Object.assign({type:"checkbox",checked:M},m,{onChange:function(e){B(e.target.checked)},onBlur:function(e){return y&&H(e)},value:T})))};L.defaultProps={autosave:!1,edit:!1};var U=L,M=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},B=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=M(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=_({dataset:l,thing:c,type:"url",property:f,properties:d}),S=x.value,k=x.thing,O=x.property,A=x.dataset,P=x.setDataset,C=x.error;(0,e.useEffect)((function(){C&&g&&g(C)}),[C,g]);var j=null!==(u=null===S||void 0===S?void 0:S.toString())&&void 0!==u?u:"",R=(0,e.useState)(j),I=a(R,2),F=I[0],T=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j!==F&&k&&A&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setUrl)(k,O,F),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(A,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,P);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(A)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(A),P);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!C&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&A&&k&&t().createElement("span",Object.assign({},b),"".concat(F)),v&&A&&k&&t().createElement("input",Object.assign({type:"url"},m,{onChange:function(e){T(e.target.value)},onBlur:function(e){return y&&N(e)},value:F})))};B.defaultProps={autosave:!1,edit:!1};var H=B,z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},K=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=z(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=_({dataset:l,thing:c,type:"integer",property:f,properties:d}),S=x.value,k=x.thing,O=x.property,A=x.dataset,P=x.setDataset,C=x.error;(0,e.useEffect)((function(){C&&g&&g(C)}),[C,g]);var j=null!==(u=null===S||void 0===S?void 0:S.toString())&&void 0!==u?u:"",R=(0,e.useState)(j),I=a(R,2),F=I[0],T=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j!==F&&k&&A&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setInteger)(k,O,parseInt(F,10)),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(A,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,P);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(A)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(A),P);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!C&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&A&&k&&t().createElement("span",Object.assign({},b),"".concat(F)),v&&A&&k&&t().createElement("input",Object.assign({type:"number",step:"any"},m,{onChange:function(e){T(e.target.value)},onBlur:function(e){return y&&N(e)},value:F})))};K.defaultProps={autosave:!1,edit:!1};var W=K,V=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},q=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=V(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=_({dataset:l,thing:c,type:"decimal",property:f,properties:d}),S=x.value,k=x.thing,O=x.property,A=x.dataset,P=x.setDataset,C=x.error;(0,e.useEffect)((function(){C&&g&&g(C)}),[C,g]);var j=null!==(u=null===S||void 0===S?void 0:S.toString())&&void 0!==u?u:"",R=(0,e.useState)(j),I=a(R,2),F=I[0],T=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j!==F&&k&&A&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setDecimal)(k,O,parseFloat(F)),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(A,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,P);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(A)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(A),(0,r.setThing)(A,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(A),P);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!C&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&A&&k&&t().createElement("span",Object.assign({},b),"".concat(F)),v&&A&&k&&t().createElement("input",Object.assign({type:"number",step:"any"},m,{onChange:function(e){T(e.target.value)},onBlur:function(e){return y&&N(e)},value:F})))};q.defaultProps={autosave:!1,edit:!1};var J=q,G=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function Y(r){var n,i=r,o=i.dataType,s=G(i,["dataType"]),u=s.thing,c=s.solidDataset,l=s.property,f=s.properties,d=s.edit,p=s.loadingComponent,h=s.errorComponent,g=_({dataset:c,thing:u,property:l,properties:f,type:o,locale:s.locale}),v=g.thing,y=g.value,m=g.error;d||y||"boolean"===o||(n=new Error("No value found for property."));var b=!v&&!m,w=(0,e.useState)(null!==m&&void 0!==m?m:n),x=a(w,1)[0];if(b){var S=p&&t().createElement(p,null)||t().createElement("span",null,"fetching data in progress");return null===p&&(S=null),S}if(x)return h?t().createElement(h,{error:x}):t().createElement("span",null,x.toString());var k=N;switch(o){case"boolean":k=U;break;case"datetime":k=I;break;case"decimal":k=J;break;case"integer":k=W;break;case"url":k=H;break;default:k=N}return t().createElement(k,Object.assign({},s))}Y.defaultProps={autosave:!1,edit:!1};var $=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function Q(r){var n,i=r.children,o=r.property,s=r.properties,u=r.thing,c=r.solidDataset,l=r.autosave,f=r.rel,d=r.target,p=r.edit,h=r.loadingComponent,g=r.errorComponent,v=r.onSave,y=r.onError,m=$(r,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]),b=_({dataset:c,thing:u,property:o,properties:s,type:"url"}),w=b.value,x=b.thing,S=b.property,k=b.dataset,E=b.error;p||w||(n=new Error("URL not found for given property"));var O=!x&&!E,A=(0,e.useState)(null!==E&&void 0!==E?E:n),P=a(A,1)[0];if(O){var C=h&&t().createElement(h,null)||t().createElement("span",null,"fetching data in progress");return null===h&&(C=null),C}if(P)return g?t().createElement(g,{error:P}):t().createElement("span",null,P.toString());var j=f||("_blank"===d?"noopener noreferrer":"nofollow");return p?t().createElement(Y,{dataType:"url",solidDataset:k,thing:x,property:S,autosave:l,onSave:v,onError:y,edit:!0}):t().createElement("a",Object.assign({href:w,rel:j,target:d},m),null!==i&&void 0!==i?i:w)}var X=function(r){var n=r.oidcIssuer,a=r.redirectUrl,u=r.children,c=r.authOptions,l=r.onError,f=Object.assign({redirectUrl:a,oidcIssuer:n},c),d=(0,e.useContext)(s),p=d.login,h=d.setSessionRequestInProgress;function g(){return v.apply(this,arguments)}function v(){return(v=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,p(f);case 4:h(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),h(!1),l&&l(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function y(e){return"Enter"===e.key?g():Promise.resolve()}return u?t().createElement("div",{role:"button",tabIndex:0,onClick:g,onKeyDown:y},u):t().createElement("button",{type:"button",onClick:g,onKeyDown:y},"Log In")},Z=function(r){var n=(0,e.useContext)(s).logout,a=r.children,u=r.onLogout,c=r.onError;function l(){return f.apply(this,arguments)}function f(){return(f=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:u&&u(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c&&c(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(e){return"Enter"===e.key?l():Promise.resolve()}return a?t().createElement("div",{role:"button",tabIndex:0,onClick:l,onKeyDown:d},a):t().createElement("button",{type:"button",onClick:l,onKeyDown:d},"Log Out")},ee=l(767),te=function(e){var r=e.children,n=e.solidDataset,i=e.datasetUrl,o=e.thing,a=e.thingUrl,s=e.onError,u=e.loadingComponent;return t().createElement(y,{onError:s,solidDataset:n,datasetUrl:i,loadingComponent:u},t().createElement(w,{thing:o,thingUrl:a},r))},re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ne(e){throw new Error("Can't use TableColumn outside a Table.")}function ie(n){var i=n.children,o=n.emptyStateComponent,a=n.things,s=n.filter,u=n.ascIndicator,c=n.descIndicator,l=n.getRowProps,f=re(n,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]),d=(0,e.useMemo)((function(){var t=[],n=a.map((function(){return{}}));return e.Children.forEach(i,(function(e,i){if(e){var o=e.props,s=o.property,u=o.header,c=o.body,l=o.dataType,f=void 0===l?"string":l,d=o.locale,p=o.multiple,h=void 0!==p&&p,g=o.sortable,v=o.sortFn,y=o.filterable;t.push({Header:null!==u&&void 0!==u?u:"".concat(s),accessor:"col".concat(i),disableGlobalFilter:!y,disableSortBy:!g,Cell:null!==c&&void 0!==c?c:function(e){var t=e.value;return null!=t?"".concat(t):""}}),v?t[i].sortType=function(e,t,r){var n=e.values[r],i=t.values[r];return v(n,i)}:("string"===f&&(t[i].sortType=f),"integer"!==f&&"decimal"!==f||(t[i].sortType="number")),a.forEach((function(e,t){n[t]["col".concat(i)]=h?function(e,t,n,i){switch(e){case"boolean":return(0,r.getBooleanAll)(t,n);case"datetime":return(0,r.getDatetimeAll)(t,n);case"decimal":return(0,r.getDecimalAll)(t,n);case"integer":return(0,r.getIntegerAll)(t,n);case"url":return(0,r.getUrlAll)(t,n);default:return i?(0,r.getStringWithLocaleAll)(t,n,i):(0,r.getStringNoLocaleAll)(t,n)}}(f,e.thing,s,d):k(f,e.thing,s,d)}))}})),{columns:t,data:n}}),[i,a]),p=d.columns,h=d.data,g=(0,ee.useTable)({columns:p,data:h,initialState:{globalFilter:s||void 0}},ee.useGlobalFilter,ee.useSortBy),v=g.getTableProps,y=g.getTableBodyProps,m=g.headerGroups,b=g.rows,w=g.prepareRow;return b.length?t().createElement("table",Object.assign({},v(),f),t().createElement("thead",null,m.map((function(e){return t().createElement("tr",Object.assign({},e.getHeaderGroupProps()),e.headers.map((function(e){return t().createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),e.isSorted&&(e.isSortedDesc?c:u))})))}))),t().createElement("tbody",Object.assign({},y()),b.map((function(e){w(e);var r=a[e.index].dataset,n=a[e.index].thing;return t().createElement("tr",Object.assign({},e.getRowProps(l(e,n,r))),t().createElement(te,{solidDataset:r,thing:n},e.cells.map((function(e){return t().createElement("td",Object.assign({},e.getCellProps()),e.render("Cell"))}))))})))):o?t().createElement(o,null):null}ie.defaultProps={filter:void 0,ascIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ","\ud83d\udd3c"),descIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ","\ud83d\udd3d"),getRowProps:function(){return{}}};var oe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ae(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.locale,g=n.onSave,v=n.onError,y=n.inputProps,m=n.errorComponent,b=n.loadingComponent,w=n.edit,x=void 0!==w&&w,S=n.autosave,k=void 0!==S&&S,O=oe(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]),A=(0,e.useContext)(s).fetch,P=_({dataset:l,thing:c,property:f,properties:d,type:"string",locale:h}),C=P.error,j=P.value,R=P.thing,I=P.property,F=P.dataset,T=P.setDataset;x||j||(u=new Error("No value found for property."));var N=!R&&!C,D=(0,e.useState)(null!==C&&void 0!==C?C:u),L=a(D,1)[0];(0,e.useEffect)((function(){L&&v&&v(L)}),[L,v]);var U=(0,e.useState)(j),M=a(U,2),B=M[0],H=M[1],z=(0,e.useState)(),K=a(z,2)[1],W=(0,e.useState)(j),V=a(W,2),q=V[0],J=V[1],G=function(){var e=o(i.mark((function e(t){var n,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q===t.target.value||!R||!F){e.next=27;break}if(n=t.target.value,o=h?(0,r.setStringWithLocale)(R,I,n,h):(0,r.setStringNoLocale)(R,I,n),e.prev=3,!p){e.next=12;break}return e.next=7,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(F,o),{fetch:A});case 7:return a=e.sent,e.next=10,E(p,T);case 10:e.next=21;break;case 12:if(!(0,r.hasResourceInfo)(F)){e.next=20;break}return e.next=15,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(F),(0,r.setThing)(F,o),{fetch:A});case 15:return a=e.sent,e.next=18,E((0,r.getSourceUrl)(F),T);case 18:e.next=21;break;case 20:K((function(){throw new Error("Please provide saveDatasetTo location for new data")}));case 21:g&&g(a,o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),v&&v(e.t0);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}();if(N){var Y=b&&t().createElement(b,null)||t().createElement("span",null,"fetching data in progress");return null===b&&(Y=null),Y}return L?m?t().createElement(m,{error:L}):t().createElement("span",null,L.toString()):t().createElement(t().Fragment,null,!x&&F&&R&&t().createElement("span",Object.assign({},O),B),x&&F&&R&&t().createElement("input",Object.assign({type:y&&y.type?y.type:"text"},y,{onFocus:function(e){return J(e.target.value)},onChange:function(e){return H(e.target.value)},onBlur:function(e){return k&&G(e)},value:B||""})))}var se=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ue(r){var n,u=r.property,c=r.properties,l=r.thing,f=r.edit,d=r.autosave,p=r.onSave,h=r.onError,g=r.maxSize,v=r.inputProps,y=r.errorComponent,m=r.loadingComponent,b=se(r,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]),w=(0,e.useContext)(s).fetch,S=_({thing:l,property:u,properties:c,type:"url"}),k=S.value,E=S.thing,O=S.error;f||k||(n=new Error("No value found for property."));var P=!E&&!O,C=(0,e.useState)(null!==O&&void 0!==O?O:n),j=a(C,2),R=j[0],I=j[1];(0,e.useEffect)((function(){R&&h&&h(R)}),[R,h,y]);var F=(0,e.useState)(""),T=a(F,2),N=T[0],D=T[1],L=A(k),U=L.data,M=L.error,B=L.inProgress;(0,e.useEffect)((function(){if(!B)if(M)I(M);else{var e=U&&URL.createObjectURL(U);e&&D(e)}}),[U,B,M]);var H=function(){var e=o(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.files,!(d&&r&&r.length>0&&k)){e.next=6;break}return e.next=4,x(k,r[0],t,w,g,p,h);case 4:(n=e.sent)&&D(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=null;if(P||B){var K=m&&t().createElement(m,null)||t().createElement("span",null,"fetching data in progress");return null===m&&(K=null),K}return R?z=y?t().createElement(y,{error:R}):t().createElement("span",null,R.toString()):k&&(z=t().createElement("video",Object.assign({src:N||k,controls:!0},b))),t().createElement(t().Fragment,null,z,f&&t().createElement("input",Object.assign({},v,{type:"file",accept:"video/*",onChange:function(e){return H(e.target)}})))}function ce(){var t=(0,e.useContext)(s);return{session:t.session,sessionRequestInProgress:t.sessionRequestInProgress,fetch:t.fetch,login:t.login,logout:t.logout}}function le(t,n,i){var o=h(t,i),a=o.dataset,s=o.error,u=(0,e.useContext)(b).thing;return n?a?{thing:(0,r.getThing)(a,n),error:s}:{thing:null,error:s}:{thing:u||void 0,error:s}}}(),f}()},e.exports=n(r(1),r(9),r(150),r(188),r(178))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(43);var i=r(39);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,r){var n=r(47);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.error.apply(o,Array.from(t))}},n(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},n(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(a(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new r(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var r=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},r,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(r){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return r[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},n(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(s)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=s))),this._metadataUrl}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var n=r(0),i=r(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,r){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(r)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=r.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},u=/([^&=]+)=([^&]*)/g,c=0;a=u.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return n.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in s)return s;return{}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(r(33));t.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=r(23),s=r(6),u=r(24),c=r(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration",d="id_token",p="openid",h="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.authority,i=t.metadataUrl,o=t.metadata,f=t.signingKeys,g=t.metadataSeed,v=t.client_id,y=t.client_secret,m=t.response_type,b=void 0===m?d:m,w=t.scope,x=void 0===w?p:w,S=t.redirect_uri,k=t.post_logout_redirect_uri,_=t.client_authentication,E=void 0===_?h:_,O=t.prompt,A=t.display,P=t.max_age,C=t.ui_locales,j=t.acr_values,R=t.resource,I=t.response_mode,F=t.filterProtocolClaims,T=void 0===F||F,N=t.loadUserInfo,D=void 0===N||N,L=t.staleStateAge,U=void 0===L?900:L,M=t.clockSkew,B=void 0===M?300:M,H=t.clockService,z=void 0===H?new a.ClockService:H,K=t.userInfoJwtIssuer,W=void 0===K?"OP":K,V=t.mergeClaims,q=void 0!==V&&V,J=t.stateStore,G=void 0===J?new s.WebStorageStateStore:J,Y=t.ResponseValidatorCtor,$=void 0===Y?u.ResponseValidator:Y,Q=t.MetadataServiceCtor,X=void 0===Q?c.MetadataService:Q,Z=t.extraQueryParams,ee=void 0===Z?{}:Z,te=t.extraTokenParams,re=void 0===te?{}:te;l(this,e),this._authority=r,this._metadataUrl=i,this._metadata=o,this._metadataSeed=g,this._signingKeys=f,this._client_id=v,this._client_secret=y,this._response_type=b,this._scope=x,this._redirect_uri=S,this._post_logout_redirect_uri=k,this._client_authentication=E,this._prompt=O,this._display=A,this._max_age=P,this._ui_locales=C,this._acr_values=j,this._resource=R,this._response_mode=I,this._filterProtocolClaims=!!T,this._loadUserInfo=!!D,this._staleStateAge=U,this._clockSkew=B,this._clockService=z,this._userInfoJwtIssuer=W,this._mergeClaims=!!q,this._stateStore=G,this._validator=new $(this),this._metadataService=new X(this),this._extraQueryParams="object"===(void 0===ee?"undefined":n(ee))?ee:{},this._extraTokenParams="object"===(void 0===re?"undefined":n(re))?re:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var n=r(0),i=r(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefix,n=void 0===r?"oidc.":r,a=t.store,s=void 0===a?i.Global.localStorage:a;o(this,e),this._store=s,this._prefix=n}return e.prototype.set=function(e,t){return n.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){n.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){n.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){n.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var r=this._store.key(t);0===r.indexOf(this._prefix)&&e.push(r.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var n=r(0),i=r(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),n&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=r,this._jwtHandler=n}return e.prototype.getJson=function(e,t){var r=this;if(!e)throw n.Log.error("JsonService.getJson: No url passed"),new Error("url");return n.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new r._XMLHttpRequest;a.open("GET",e);var s=r._contentTypes,u=r._jwtHandler;a.onload=function(){if(n.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var r=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==r)return void u(a).then(i,o);if(r)try{return void i(JSON.parse(a.responseText))}catch(i){return n.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){n.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(n.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,r){var i=this;if(!e)throw n.Log.error("JsonService.postForm: No url passed"),new Error("url");return n.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var u=i._contentTypes;s.onload=function(){if(n.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(r=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(r.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return n.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error(s.statusText+" ("+s.status+")"))}else{var r;if((r=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(r.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error("Invalid response Content-Type: "+r+", from URL: "+e))}},s.onerror=function(){n.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var l in t){var f=t[l];f&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(f))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==r&&s.setRequestHeader("Authorization","Basic "+btoa(r)),s.send(c)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var n=r(0),i=r(3),o=r(13);t.SigninRequest=function(){function e(t){var r=t.url,a=t.client_id,s=t.redirect_uri,u=t.response_type,c=t.scope,l=t.authority,f=t.data,d=t.prompt,p=t.display,h=t.max_age,g=t.ui_locales,v=t.id_token_hint,y=t.login_hint,m=t.acr_values,b=t.resource,w=t.response_mode,x=t.request,S=t.request_uri,k=t.extraQueryParams,_=t.request_type,E=t.client_secret,O=t.extraTokenParams,A=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw n.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw n.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw n.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw n.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw n.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var P=e.isOidc(u),C=e.isCode(u);w||(w=e.isCode(u)?"query":null),this.state=new o.SigninState({nonce:P,data:f,client_id:a,authority:l,redirect_uri:s,code_verifier:C,request_type:_,response_mode:w,client_secret:E,scope:c,extraTokenParams:O,skipUserInfo:A}),r=i.UrlUtility.addQueryParam(r,"client_id",a),r=i.UrlUtility.addQueryParam(r,"redirect_uri",s),r=i.UrlUtility.addQueryParam(r,"response_type",u),r=i.UrlUtility.addQueryParam(r,"scope",c),r=i.UrlUtility.addQueryParam(r,"state",this.state.id),P&&(r=i.UrlUtility.addQueryParam(r,"nonce",this.state.nonce)),C&&(r=i.UrlUtility.addQueryParam(r,"code_challenge",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,"code_challenge_method","S256"));var j={prompt:d,display:p,max_age:h,ui_locales:g,id_token_hint:v,login_hint:y,acr_values:m,resource:b,request:x,request_uri:S,response_mode:w};for(var R in j)j[R]&&(r=i.UrlUtility.addQueryParam(r,R,j[R]));for(var I in k)r=i.UrlUtility.addQueryParam(r,I,k[I]);this.url=r}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.data,i=t.created,s=t.request_type;a(this,e),this._id=r||(0,o.default)(),this._data=n,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,r){var n=Date.now()/1e3-r;return t.getAllKeys().then((function(r){i.Log.debug("State.clearStaleState: got keys",r);for(var o=[],a=function(a){var s=r[a];u=t.get(s).then((function(r){var o=!1;if(r)try{var a=e.fromStorageString(r);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=n&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(u)},s=0;s<r.length;s++){var u;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},n(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(5),a=r(12),s=r(8),u=r(34),c=r(35),l=r(36),f=r(13),d=r(9);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response_type,n=t.scope,o=t.redirect_uri,a=t.data,u=t.state,c=t.prompt,l=t.display,f=t.max_age,d=t.ui_locales,p=t.id_token_hint,h=t.login_hint,g=t.acr_values,v=t.resource,y=t.request,m=t.request_uri,b=t.response_mode,w=t.extraQueryParams,x=t.extraTokenParams,S=t.request_type,k=t.skipUserInfo,_=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var E=this._settings.client_id;r=r||this._settings.response_type,n=n||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,d=d||this._settings.ui_locales,g=g||this._settings.acr_values,v=v||this._settings.resource,b=b||this._settings.response_mode,w=w||this._settings.extraQueryParams,x=x||this._settings.extraTokenParams;var O=this._settings.authority;return s.SigninRequest.isCode(r)&&"code"!==r?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var A=new s.SigninRequest({url:t,client_id:E,redirect_uri:o,response_type:r,scope:n,data:a||u,authority:O,prompt:c,display:l,max_age:f,ui_locales:d,id_token_hint:p,login_hint:h,acr_values:g,resource:v,request:y,request_uri:m,extraQueryParams:w,extraTokenParams:x,request_type:S,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:k}),P=A.state;return(_=_||e._stateStore).set(P.id,P.toStorageString()).then((function(){return A}))}))},e.prototype.readSigninResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var n="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type),o=n?"?":"#",a=new u.SigninResponse(e,o);if(!a.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var c=r?t.remove.bind(t):t.get.bind(t);return c(a.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(t,n)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id_token_hint,n=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,u=t.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var f=new c.SignoutRequest({url:t,id_token_hint:r,post_logout_redirect_uri:a,data:n||o,extraQueryParams:s,request_type:u}),d=f.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(d.id,d.toStorageString())),f}))},e.prototype.readSignoutResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var n=new l.SignoutResponse(e);if(!n.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),n.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",n.error),Promise.reject(new a.ErrorResponse(n))):Promise.resolve({state:void 0,response:n});var o=n.state;t=t||this._stateStore;var s=r?t.remove.bind(t):t.get.bind(t);return s(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:n}}))},e.prototype.processSignoutResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(t,n)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),n)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,d.State.clearStaleState(e,this.settings.staleStateAge)},n(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var n=r(7),i=r(2),o=r(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=n?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var n=r(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.error,s=r.error_description,u=r.error_uri,c=r.state,l=r.session_state;if(i(this,t),!a)throw n.Log.error("No error passed to ErrorResponse"),new Error("error");var f=o(this,e.call(this,s||a));return f.name="ErrorResponse",f.error=a,f.error_description=s,f.error_uri=u,f.state=c,f.session_state=l,f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(9),a=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,o=r.client_id,l=r.redirect_uri,f=r.code_verifier,d=r.response_mode,p=r.client_secret,h=r.scope,g=r.extraTokenParams,v=r.skipUserInfo;u(this,t);var y=c(this,e.call(this,arguments[0]));if(!0===n?y._nonce=(0,s.default)():n&&(y._nonce=n),!0===f?y._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():f&&(y._code_verifier=f),y.code_verifier){var m=a.JoseUtil.hashString(y.code_verifier,"SHA256");y._code_challenge=a.JoseUtil.hexToBase64Url(m)}return y._redirect_uri=l,y._authority=i,y._client_id=o,y._response_mode=d,y._client_secret=p,y._scope=h,y._extraTokenParams=g,y._skipUserInfo=v,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},n(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=n&&null!==n&&void 0!==n.getRandomValues?i:o)().replace(/-/g,"")};var n="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^n.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.User=function(){function e(t){var r=t.id_token,n=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,u=t.profile,c=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=u,this.expires_at=c,this.state=l}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var n=r(0),i=r(46);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.accessTokenExpiringNotificationTime,n=void 0===r?60:r,a=t.accessTokenExpiringTimer,s=void 0===a?new i.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;o(this,e),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=s,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(n.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var r=t-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),n.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else n.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;n.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){n.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=r(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){n.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(19),a=r(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(s(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=n,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?r._start(e):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),r._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,r=e.session_state;r&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",r,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var n=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),n,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(r)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},n(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var n=r(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,r,n,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this._callback=t,this._client_id=r,this._url=n,this._interval=o||2e3,this._stopOnError=a;var s=n.indexOf("/",n.indexOf("//")+2);this._frame_origin=n.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=n}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(n.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(n.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):n.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){n.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var r=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(n.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var n=r(0),i=r(2),o=r(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="access_token",u="refresh_token";t.TokenRevocationClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw n.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=r,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw n.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==s&&i!=u)throw n.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){n.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=r._settings.client_id,s=r._settings.client_secret;return r._revoke(o,a,s,e,i)}if(t)throw n.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,r,i,o){var a=this;return new Promise((function(s,u){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){n.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){n.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(t);r&&(l+="&client_secret="+encodeURIComponent(r)),l+="&token_type_hint="+encodeURIComponent(o),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.CordovaPopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(10),o=r(5),a=r(6),s=r(37),u=r(38),c=r(16),l=r(2),f=r(48),d=r(49),p=r(19),h=r(20),g=r(18),v=r(1),y=r(15),m=r(50);t.default={Version:m.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:f.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:h.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:v.Global,User:y.User},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(0),o=r(2),a=r(25),s=r(11),u=r(12),c=r(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(l(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=u,this._tokenClient=new f(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var r=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var r=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=r._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var r=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[i]?Array.isArray(r[i])?r[i].indexOf(s)<0&&r[i].push(s):r[i]!==s&&("object"===(void 0===s?"undefined":n(s))&&this._settings.mergeClaims?r[i]=this._mergeClaims(r[i],s):r[i]=[r[i],s]):r[i]=s}}return r},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(f.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var r=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===n(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(n){for(var o in n)t[o]=n[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),r._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){var o=e.client_id,a=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),r._settings.getEpochTime().then((function(s){return r._joseUtil.validateJwtAttributes(t.id_token,n,o,a,s).then((function(r){return e.nonce&&e.nonce!==r.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):r.sub?(t.profile=r,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var r=this;return this._validateIdToken(e,t).then((function(e){return r._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(r){var n=e.header.kid;if(!r)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(n)o=r.filter((function(e){return e.kid===n}))[0];else{if((r=t._filterByAlg(r,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=r[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(r){return r?Promise.resolve(r):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var r=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(t.id_token);return n&&n.header&&n.payload?e.nonce!==n.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._getSigningKeyForJwtWithSingleRetry(n).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,u=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),r._joseUtil.validateJwt(t.id_token,a,o,s,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(t.profile=n.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];r="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var r=t.header.alg;if(!r||5!==r.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var o="sha"+n,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),u=this._joseUtil.hexToBase64Url(s);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var n=r(7),i=r(2),o=r(0),a=r(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(s(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(r){return o.Log.debug("UserInfoService.getClaims: received userinfo url",r),t._jsonService.getJson(r,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var r=this;try{var n=this._joseUtil.parseJwt(t.responseText);if(!n||!n.header||!n.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var i=n.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(n.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),r._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=r._settings.client_id,c=r._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),r._joseUtil.validateJwt(t.responseText,s,e,u,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];r="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",r,e.length),e},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var n=r(27);t.jws=n.jws,t.KeyUtil=n.KEYUTIL,t.X509=n.X509,t.crypto=n.crypto,t.hextob64u=n.hextob64u,t.b64tohex=n.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={userAgent:!1},i={};if(void 0===o)var o={};o.lang={extend:function(t,r,i){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i){var a;for(a in i)t.prototype[a]=i[a];var s=function(){},u=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(s=function(e,t){for(a=0;a<u.length;a+=1){var r=u[a],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(e){}s(t.prototype,i)}}};var a,s,u,c,l,f,d,p,h,g,v,y=y||(a=Math,u=(s={}).lib={},c=u.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*a.random()|0);return new l.init(t,e)}}),f=s.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},p=f.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},h=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,o=n/(4*i),s=(o=e?a.ceil(o):a.max((0|o)-this._minBufferSize,0))*i,u=a.min(4*s,n);if(s){for(var c=0;c<s;c+=i)this._doProcessBlock(r,c);var f=r.splice(0,s);t.sigBytes-=u}return new l.init(f,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}}),v=s.algo={},s);!function(e){var t,r=(t=y).lib,n=r.Base,i=r.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<r;a++)e.push(n.charAt(o>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(e.charAt(a-1))<<a%4*2,u=n.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=y,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var f=e.sqrt(l),d=2;d<=f;d++)if(!(l%d)){l=!1;break e}l=!0}l&&(8>c&&(o[c]=s(e.pow(u,.5))),a[c]=s(e.pow(u,1/3)),c++),u++}var p=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],f=r[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var h=p[d-15],g=p[d-2];p[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}h=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[d]+p[d],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&o^i&o),f=l,l=c,c=u,u=s+h|0,s=o,o=i,i=n,n=h+g|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function e(){return n.create.apply(n,arguments)}for(var t=y,r=t.lib.Hasher,n=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=e();o=o.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(f=this._hash.words)[0],n=f[1],i=f[2],o=f[3],u=f[4],c=f[5],l=f[6],f=f[7],d=r.high,p=r.low,h=n.high,g=n.low,v=i.high,y=i.low,m=o.high,b=o.low,w=u.high,x=u.low,S=c.high,k=c.low,_=l.high,E=l.low,O=f.high,A=f.low,P=d,C=p,j=h,R=g,I=v,F=y,T=m,N=b,D=w,L=x,U=S,M=k,B=_,H=E,z=O,K=A,W=0;80>W;W++){var V=s[W];if(16>W)var q=V.high=0|e[t+2*W],J=V.low=0|e[t+2*W+1];else{q=((J=(q=s[W-15]).high)>>>1|(G=q.low)<<31)^(J>>>8|G<<24)^J>>>7;var G=(G>>>1|J<<31)^(G>>>8|J<<24)^(G>>>7|J<<25),Y=((J=(Y=s[W-2]).high)>>>19|($=Y.low)<<13)^(J<<3|$>>>29)^J>>>6,$=($>>>19|J<<13)^($<<3|J>>>29)^($>>>6|J<<26),Q=(J=s[W-7]).high,X=(Z=s[W-16]).high,Z=Z.low;q=(q=(q=q+Q+((J=G+J.low)>>>0<G>>>0?1:0))+Y+((J+=$)>>>0<$>>>0?1:0))+X+((J+=Z)>>>0<Z>>>0?1:0),V.high=q,V.low=J}Q=D&U^~D&B,Z=L&M^~L&H,V=P&j^P&I^j&I;var ee=C&R^C&F^R&F,te=(G=(P>>>28|C<<4)^(P<<30|C>>>2)^(P<<25|C>>>7),Y=(C>>>28|P<<4)^(C<<30|P>>>2)^(C<<25|P>>>7),($=a[W]).high),re=$.low;X=z+((D>>>14|L<<18)^(D>>>18|L<<14)^(D<<23|L>>>9))+(($=K+((L>>>14|D<<18)^(L>>>18|D<<14)^(L<<23|D>>>9)))>>>0<K>>>0?1:0),z=B,K=H,B=U,H=M,U=D,M=L,D=T+(X=(X=(X=X+Q+(($+=Z)>>>0<Z>>>0?1:0))+te+(($+=re)>>>0<re>>>0?1:0))+q+(($+=J)>>>0<J>>>0?1:0))+((L=N+$|0)>>>0<N>>>0?1:0)|0,T=I,N=F,I=j,F=R,j=P,R=C,P=X+(V=G+V+((J=Y+ee)>>>0<Y>>>0?1:0))+((C=$+J|0)>>>0<$>>>0?1:0)|0}p=r.low=p+C,r.high=d+P+(p>>>0<C>>>0?1:0),g=n.low=g+R,n.high=h+j+(g>>>0<R>>>0?1:0),y=i.low=y+F,i.high=v+I+(y>>>0<F>>>0?1:0),b=o.low=b+N,o.high=m+T+(b>>>0<N>>>0?1:0),x=u.low=x+L,u.high=w+D+(x>>>0<L>>>0?1:0),k=c.low=k+M,c.high=S+U+(k>>>0<M>>>0?1:0),E=l.low=E+H,l.high=_+B+(E>>>0<H>>>0?1:0),A=f.low=A+K,f.high=O+z+(A>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(o),t.HmacSHA512=r._createHmacHelper(o)}(),function(){var e=y,t=(i=e.x64).Word,r=i.WordArray,n=(i=e.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}();var m,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function w(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=b.charAt(r>>6)+b.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=b.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=b.charAt(r>>2)+b.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function x(e){var t,r,n,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=b.indexOf(e.charAt(t)))<0||(0==o?(i+=P(n>>2),r=3&n,o=1):1==o?(i+=P(r<<2|n>>4),r=15&n,o=2):2==o?(i+=P(r),i+=P(n>>2),r=3&n,o=3):(i+=P(r<<2|n>>4),i+=P(15&n),o=0));return 1==o&&(i+=P(r<<2)),i}function S(e){var t,r=x(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function k(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function _(){return new k(null)}"Microsoft Internet Explorer"==n.appName?(k.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),r[n++]=1073741823&u}return i},m=30):"Netscape"!=n.appName?(k.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},m=26):(k.prototype.am=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+s*c,r[n++]=268435455&u}return i},m=28),k.prototype.DB=m,k.prototype.DM=(1<<m)-1,k.prototype.DV=1<<m,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-m,k.prototype.F2=2*m-52;var E,O,A=new Array;for(E="0".charCodeAt(0),O=0;O<=9;++O)A[E++]=O;for(E="a".charCodeAt(0),O=10;O<36;++O)A[E++]=O;for(E="A".charCodeAt(0),O=10;O<36;++O)A[E++]=O;function P(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function C(e,t){var r=A[e.charCodeAt(t)];return null==r?-1:r}function j(e){var t=_();return t.fromInt(e),t}function R(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function I(e){this.m=e}function F(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function T(e,t){return e&t}function N(e,t){return e|t}function D(e,t){return e^t}function L(e,t){return e&~t}function U(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function M(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function B(){}function H(e){return e}function z(e){this.r2=_(),this.q3=_(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},F.prototype.convert=function(e){var t=_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},F.prototype.revert=function(e){var t=_();return e.copyTo(t),this.reduce(t),t},F.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},F.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},F.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},k.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},k.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=8==r?255&e[n]:C(e,n);a<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},k.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},k.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},k.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>i|s,s=(this[r]&o)<<n;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},k.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},k.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},k.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&k.ZERO.subTo(t,t)},k.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},k.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=_());var o=_(),a=this.s,s=e.s,u=this.DB-R(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,h=1<<this.F2,g=r.t,v=g-c,y=null==t?_():t;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),k.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--g]==l?this.DM:Math.floor(r[g]*d+(r[g-1]+h)*p);if((r[g]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[g]<--m;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),a!=s&&k.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&k.ZERO.subTo(r,r)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},k.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},k.prototype.exp=function(e,t){if(e>4294967295||e<1)return k.ONE;var r=_(),n=_(),i=t.convert(this),o=R(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)},k.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=P(r));a>=0;)s<t?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=P(r));return i?o:"0"},k.prototype.negate=function(){var e=_();return k.ZERO.subTo(this,e),e},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(e){var t=_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(k.ZERO)>0&&e.subTo(t,t),t},k.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new I(t):new F(t),this.exp(e,r)},k.ZERO=j(0),k.ONE=j(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},B.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=_();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var K,W,V,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/q[q.length-1];function G(){this.i=0,this.j=0,this.S=new Array}function Y(){!function(e){W[V++]^=255&e,W[V++]^=e>>8&255,W[V++]^=e>>16&255,W[V++]^=e>>24&255,V>=256&&(V-=256)}((new Date).getTime())}if(k.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},k.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=j(r),i=_(),o=_(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a},k.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,s=0;s<e.length;++s){var u=C(e,s);u<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(k.ONE.shiftLeft(e-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(k.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},k.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},k.prototype.changeBit=function(e,t){var r=k.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},k.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},k.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},k.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},k.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},k.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},k.prototype.millerRabin=function(e){var t=this.subtract(k.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>q.length&&(e=q.length);for(var i=_(),o=0;o<e;++o){i.fromInt(q[Math.floor(Math.random()*q.length)]);var a=i.modPow(n,this);if(0!=a.compareTo(k.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<r&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},k.prototype.clone=function(){var e=_();return this.copyTo(e),e},k.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},k.prototype.equals=function(e){return 0==this.compareTo(e)},k.prototype.min=function(e){return this.compareTo(e)<0?this:e},k.prototype.max=function(e){return this.compareTo(e)>0?this:e},k.prototype.and=function(e){var t=_();return this.bitwiseTo(e,T,t),t},k.prototype.or=function(e){var t=_();return this.bitwiseTo(e,N,t),t},k.prototype.xor=function(e){var t=_();return this.bitwiseTo(e,D,t),t},k.prototype.andNot=function(e){var t=_();return this.bitwiseTo(e,L,t),t},k.prototype.not=function(){for(var e=_(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},k.prototype.shiftLeft=function(e){var t=_();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},k.prototype.shiftRight=function(e){var t=_();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},k.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+U(this[e]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=M(this[r]^t);return e},k.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},k.prototype.setBit=function(e){return this.changeBit(e,N)},k.prototype.clearBit=function(e){return this.changeBit(e,L)},k.prototype.flipBit=function(e){return this.changeBit(e,D)},k.prototype.add=function(e){var t=_();return this.addTo(e,t),t},k.prototype.subtract=function(e){var t=_();return this.subTo(e,t),t},k.prototype.multiply=function(e){var t=_();return this.multiplyTo(e,t),t},k.prototype.divide=function(e){var t=_();return this.divRemTo(e,t,null),t},k.prototype.remainder=function(e){var t=_();return this.divRemTo(e,null,t),t},k.prototype.divideAndRemainder=function(e){var t=_(),r=_();return this.divRemTo(e,t,r),new Array(t,r)},k.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=j(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new I(t):t.isEven()?new z(t):new F(t);var a=new Array,s=3,u=r-1,c=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=_();for(n.sqrTo(a[1],l);s<=c;)a[s]=_(),n.mulTo(l,a[s-2],a[s]),s+=2}var f,d,p=e.t-1,h=!0,g=_();for(i=R(e[p])-1;p>=0;){for(i>=u?f=e[p]>>i-u&c:(f=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(f|=e[p-1]>>this.DB+i-u)),s=r;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),h)a[f].copyTo(o),h=!1;else{for(;s>1;)n.sqrTo(o,g),n.sqrTo(g,o),s-=2;s>0?n.sqrTo(o,g):(d=o,o=g,g=d),n.mulTo(g,a[f],o)}for(;p>=0&&0==(e[p]&1<<i);)n.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--p)}return n.revert(o)},k.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return k.ZERO;for(var r=e.clone(),n=this.clone(),i=j(1),o=j(0),a=j(0),s=j(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(k.ONE)?k.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},k.prototype.pow=function(e){return this.exp(e,new B)},k.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},k.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(r[0]==q[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<q.length;){for(var n=q[t],i=t+1;i<q.length&&n<J;)n*=q[i++];for(n=r.modInt(n);t<i;)if(n%q[t++]==0)return!1}return r.millerRabin(e)},k.prototype.square=function(){var e=_();return this.squareTo(e),e},G.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},G.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==W){var $;if(W=new Array,V=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Q=i.crypto||i.msCrypto;if(Q.getRandomValues){var X=new Uint8Array(32);for(Q.getRandomValues(X),$=0;$<32;++$)W[V++]=X[$]}else if("Netscape"==n.appName&&n.appVersion<"5"){var Z=i.crypto.random(32);for($=0;$<Z.length;++$)W[V++]=255&Z.charCodeAt($)}}for(;V<256;)$=Math.floor(65536*Math.random()),W[V++]=$>>>8,W[V++]=255&$;V=0,Y()}function ee(){if(null==K){for(Y(),(K=new G).init(W),V=0;V<W.length;++V)W[V]=0;V=0}return K.next()}function te(){}function re(e,t){return new k(e,t)}function ne(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function oe(e,t){this.x=t,this.q=e}function ae(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?k.ONE:n,this.zinv=null}function se(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new ae(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=re(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new k(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},ie.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var i=ce.crypto.MessageDigest,o=ce.crypto.Util,a=null;if(r||(r="sha1"),"string"==typeof r&&(a=i.getCanonicalAlgName(r),n=i.getHashLength(a),r=function(e){return ke(o.hashHex(_e(e),a))}),e.length+2*n+2>t)throw"Message too long for RSA";var s,u="";for(s=0;s<t-e.length-2*n-2;s+=1)u+="\0";var c=r("")+u+"\x01"+e,l=new Array(n);(new te).nextBytes(l);var f=ne(l,c.length,r),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);var p=ne(d,l.length,r),h=[0];for(s=0;s<l.length;s+=1)h[s+1]=l[s]^p.charCodeAt(s);return new k(h.concat(d))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},ie.prototype.type="RSA",oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},oe.prototype.toBigInteger=function(){return this.x},oe.prototype.negate=function(){return new oe(this.q,this.x.negate().mod(this.q))},oe.prototype.add=function(e){return new oe(this.q,this.x.add(e.toBigInteger()).mod(this.q))},oe.prototype.subtract=function(e){return new oe(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},oe.prototype.multiply=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},oe.prototype.square=function(){return new oe(this.q,this.x.square().mod(this.q))},oe.prototype.divide=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(k.ZERO.equals(r))return k.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new k("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),s=a.multiply(r),u=i.multiply(a),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(s).multiply(r).mod(this.curve.q),f=u.multiply(n).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),d)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new k("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);k.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new k("3")),u=new ae(this.curve,this.x,this.y),c=u.negate();for(t=n.bitLength()-2;t>0;--t){o=o.twice();var l=n.testBit(t);l!=r.testBit(t)&&(o=o.add(l?this:i))}for(t=s.bitLength()-2;t>0;--t){u=u.twice();var f=s.testBit(t);f!=a.testBit(t)&&(u=u.add(f?u:c))}return o},ae.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},se.prototype.getQ=function(){return this.q},se.prototype.getA=function(){return this.a},se.prototype.getB=function(){return this.b},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},se.prototype.getInfinity=function(){return this.infinity},se.prototype.fromBigInteger=function(e){return new oe(this.q,e)},se.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new k(r,16)),this.fromBigInteger(new k(n,16)))}},oe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},ae.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var o=new k(n),a=new k(i);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),o=new k(n,16),a=new k(i,16);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,i)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(k.valueOf(2)),t=this.curve.fromBigInteger(k.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,i)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),i=this.negate(),o=this;for(t=n.bitLength()-2;t>0;--t){o=o.twice();var a=n.testBit(t);a!=r.testBit(t)&&(o=o.add2D(a?this:i))}return o},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return o.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(k.ONE)<0||t.compareTo(e.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(k.ONE)<0||r.compareTo(e.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var o=new String(""),a=Object.hasOwnProperty;return function(n,s){var u,c,l=n.match(e),f=l[0],d=!1;"{"===f?u={}:"["===f?u=[]:(u=[],d=!0);for(var p=[u],h=1-d,g=l.length;h<g;++h){var v;switch((f=l[h]).charCodeAt(0)){default:(v=p[0])[c||v.length]=+f,c=void 0;break;case 34:if(-1!==(f=f.substring(1,f.length-1)).indexOf("\\")&&(f=f.replace(t,i)),v=p[0],!c){if(!(v instanceof Array)){c=f||o;break}c=v.length}v[c]=f,c=void 0;break;case 91:v=p[0],p.unshift(v[c||v.length]=[]),c=void 0;break;case 93:case 125:p.shift();break;case 102:(v=p[0])[c||v.length]=!1,c=void 0;break;case 110:(v=p[0])[c||v.length]=null,c=void 0;break;case 116:(v=p[0])[c||v.length]=!0,c=void 0;break;case 123:v=p[0],p.unshift(v[c||v.length]={}),c=void 0}}if(d){if(1!==p.length)throw new Error;u=u[0]}else if(p.length)throw new Error;return s&&(u=function e(t,n){var i=t[n];if(i&&"object"===(void 0===i?"undefined":r(i))){var o=null;for(var u in i)if(a.call(i,u)&&i!==t){var c=e(i,u);void 0!==c?i[u]=c:(o||(o=[]),o.push(u))}if(o)for(var l=o.length;--l>=0;)delete i[o[l]]}return s.call(t,n,i)}({"":u},"")),u}}();void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new k(n,16).xor(e).add(k.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Pe(e,t)},this.newObject=function(e){var t=ce.asn1,r=t.ASN1Object,n=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,f=t.DERNumericString,d=t.DERPrintableString,p=t.DERTeletexString,h=t.DERIA5String,g=t.DERUTCTime,v=t.DERGeneralizedTime,y=t.DERVisibleString,m=t.DERBMPString,b=t.DERSequence,w=t.DERSet,x=t.DERTaggedObject,S=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var k=Object.keys(e);if(1!=k.length)throw new Error("key of param shall be only one.");var _=k[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+_+":"))throw new Error("undefined key: "+_);if("bool"==_)return new n(e[_]);if("int"==_)return new i(e[_]);if("bitstr"==_)return new o(e[_]);if("octstr"==_)return new a(e[_]);if("null"==_)return new s(e[_]);if("oid"==_)return new u(e[_]);if("enum"==_)return new c(e[_]);if("utf8str"==_)return new l(e[_]);if("numstr"==_)return new f(e[_]);if("prnstr"==_)return new d(e[_]);if("telstr"==_)return new p(e[_]);if("ia5str"==_)return new h(e[_]);if("utctime"==_)return new g(e[_]);if("gentime"==_)return new v(e[_]);if("visstr"==_)return new y(e[_]);if("bmpstr"==_)return new m(e[_]);if("asn1"==_)return new r(e[_]);if("seq"==_){for(var E=e[_],O=[],A=0;A<E.length;A++){var P=S(E[A]);O.push(P)}return new b({array:O})}if("set"==_){for(E=e[_],O=[],A=0;A<E.length;A++)P=S(E[A]),O.push(P);return new w({array:O})}if("tag"==_){var C=e[_];if("[object Array]"===Object.prototype.toString.call(C)&&3==C.length){var j=S(C[2]);return new x({tag:C[0],explicit:C[1],obj:j})}return new x(C)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new k(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new k(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=xe(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},o.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var s=i.getMilliseconds();if(0!=s){var u=n(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ve(e)},this.setByDateValue=function(e,t,r,n,i,o){var a=new Date(Date.UTC(e,t-1,r,n,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},o.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},o.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},o.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},o.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=parseInt(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};try{if(!e.match(/^[0-9.]+$/))return null;var n="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},o.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},o.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},o.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},o.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},o.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},o.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},o.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},o.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},o.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},o.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},o.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==r(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,fe,de=new function(){};function pe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function he(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function ge(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function ve(e){return ge(pe(e))}function ye(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function me(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ye(w(e))}function we(e){return x(me(e))}function xe(e){return Ie(Le(e))}function Se(e){return decodeURIComponent(Fe(e))}function ke(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function _e(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Ee(e){return w(e)}function Oe(e){var t=Ee(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ae(e){return x(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Pe(e,t){return"-----BEGIN "+t+"-----\r\n"+Oe(e)+"\r\n-----END "+t+"-----\r\n"}function Ce(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ae(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function je(e){var t,r,n,i,o,a,s,u,c,l,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=f[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(f[2])-1,n=parseInt(f[3]),i=parseInt(f[4]),o=parseInt(f[5]),a=parseInt(f[6]),s=0,""!==(c=f[7])&&(l=(c.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,r,n,i,o,a,s);throw"unsupported zulu format: "+e}function Re(e){return~~(je(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function Fe(e){return e.replace(/(..)/g,"%$1")}function Te(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),i=(e=e.replace("::",n)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Ne(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(e=e.replace(i,"::")).slice(1,-1)}function De(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ne(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Le(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+ve(t[n]);return r}function Ue(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},de.getL=function(e,t){var r=de.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},de.getVblen=function(e,t){var r;return""==(r=de.getL(e,t))?-1:("8"===r.substr(0,1)?new k(r.substr(2),16):new k(r,16)).intValue()},de.getVidx=function(e,t){var r=de.getLblen(e,t);return r<0?r:t+2*(r+1)},de.getV=function(e,t){var r=de.getVidx(e,t),n=de.getVblen(e,t);return e.substr(r,2*n)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var r,n,i,o=de,a=[];r=o.getVidx(e,t),n=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),i=0;for(var s=r;i<=n;){var u=o.getTLVblen(e,s);if((i+=u)<=n&&a.push(s),s+=u,i>=n)break}return a},de.getNthChildIdx=function(e,t,r){return de.getChildIdx(e,t)[r]},de.getIdxbyList=function(e,t,r,n){var i,o,a=de;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(i=r.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],r,n)},de.getIdxbyListEx=function(e,t,r,n){var i,o,a=de;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;i=r.shift(),o=a.getChildIdx(e,t);for(var s=0,u=0;u<o.length;u++){var c=e.substr(o[u],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[u],r,n);a.isContextTag(c)||s++}return-1},de.getTLVbyList=function(e,t,r,n){var i=de,o=i.getIdxbyList(e,t,r,n);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,r,n){var i=de,o=i.getIdxbyListEx(e,t,r,n);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,r,n))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,r,n))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,r){null==r&&(r=-1);try{var n=e.substr(t,2);if("02"!=n&&"03"!=n)return r;var i=de.getV(e,t);return"02"==n?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var r=parseInt(t,16),n=e.substr(2),i=parseInt(n,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-r),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return r}},de.getOID=function(e,t,r){null==r&&(r=null);try{return"06"!=e.substr(t,2)?r:function(e){if(!Ue(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],u="";for(a=0;a<o.length;a++)128&o[a]?u+=Be((127&o[a]).toString(2),7):(u+=Be((127&o[a]).toString(2),7),s.push(new String(parseInt(u,2))),u="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(de.getV(e,t))}catch(e){return r}},de.getOIDName=function(e,t,r){null==r&&(r=null);try{var n=de.getOID(e,t,r);if(n==r)return r;var i=ce.asn1.x509.OID.oid2name(n);return""==i?n:i}catch(e){return r}},de.getString=function(e,t,r){null==r&&(r=null);try{return ke(de.getV(e,t))}catch(e){return r}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var u=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=r.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},de.dump=function(e,t,r,n){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,f=t.ommit_long_octet;if("01"==(l=u.substr(r,2)))return"00"==(d=o(u,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+c(d=o(u,r),f)+"\n";if("03"==l){var d=o(u,r);return i.isASN1HEX(d.substr(2))?(x=n+"BITSTRING, encapsulates\n")+a(d.substr(2),t,0,n+"  "):n+"BITSTRING "+c(d,f)+"\n"}if("04"==l)return d=o(u,r),i.isASN1HEX(d)?(x=n+"OCTETSTRING, encapsulates\n")+a(d,t,0,n+"  "):n+"OCTETSTRING "+c(d,f)+"\n";if("05"==l)return n+"NULL\n";if("06"==l){var p=o(u,r),h=ce.asn1.ASN1Util.oidHexToInt(p),g=ce.asn1.x509.OID.oid2name(h),v=h.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+v+")\n":n+"ObjectIdentifier ("+v+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(o(u,r))+"\n";if("0c"==l)return n+"UTF8String '"+Se(o(u,r))+"'\n";if("13"==l)return n+"PrintableString '"+Se(o(u,r))+"'\n";if("14"==l)return n+"TeletexString '"+Se(o(u,r))+"'\n";if("16"==l)return n+"IA5String '"+Se(o(u,r))+"'\n";if("17"==l)return n+"UTCTime "+Se(o(u,r))+"\n";if("18"==l)return n+"GeneralizedTime "+Se(o(u,r))+"\n";if("1a"==l)return n+"VisualString '"+Se(o(u,r))+"'\n";if("1e"==l)return n+"BMPString '"+Se(o(u,r))+"'\n";if("30"==l){if("3000"==u.substr(r,4))return n+"SEQUENCE {}\n";x=n+"SEQUENCE\n";var y=t;if((2==(w=s(u,r)).length||3==w.length)&&"06"==u.substr(w[0],2)&&"04"==u.substr(w[w.length-1],2)){g=i.oidname(o(u,w[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=g,y=m}for(var b=0;b<w.length;b++)x+=a(u,y,w[b],n+"  ");return x}if("31"==l){x=n+"SET\n";var w=s(u,r);for(b=0;b<w.length;b++)x+=a(u,t,w[b],n+"  ");return x}if(0!=(128&(l=parseInt(l,16)))){var x,S=31&l;if(0!=(32&l)){for(x=n+"["+S+"]\n",w=s(u,r),b=0;b<w.length;b++)x+=a(u,t,w[b],n+"  ");return x}return d=o(u,r),de.isASN1HEX(d)?(x=n+"["+S+"]\n")+a(d,t,0,n+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==S)&&(d=Se(d)),n+"["+S+"] "+d+"\n")}return n+"UNKNOWN("+l+") "+o(u,r)+"\n"},de.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0);return e.length-n.length-i.length==2*r},de.checkStrictDER=function(e,t,r,n,i){var o=de;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");r=e.length,i=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>n)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),u=s.length-2-o.getL(e,t).length;if(u!==2*a)throw new Error("V string length and L's value not the same:"+u+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var l=o.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var f=o.getVblen(e,t),d=0,p=o.getChildIdx(e,t),h=0;h<p.length;h++)d+=o.getTLV(e,p[h]).length,o.checkStrictDER(e,p[h],r,n,i);if(2*f!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*f+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=le=function(t){return ye(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=fe=function(t){return e.from(me(t),"base64").toString("utf8")}):(t.utf8tob64u=le=function(e){return be(Ie(Le(e)))},t.b64utoutf8=fe=function(e){return decodeURIComponent(Fe(we(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return Ue(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=me(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,r){return null==r&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var o="0001",a="00"+n,s="",u=i-o.length-a.length,c=0;c<u;c+=2)s+="ff";return o+s+a},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new k(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],ge(r)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new k(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=_e(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":r(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=xe(e.utf8)),void 0!==e.rstr&&(t=_e(e.rstr)),void 0!==e.b64&&(t=x(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ie&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ie&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,n=k,i=ae,o=ce.crypto.ECDSA,a=ce.crypto.ECParameterDB,s=o.getName,u=de,c=u.getVbyListEx,l=u.isASN1HEX,f=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),f).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+n.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),i=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(i),u=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(u.compareTo(n.ZERO)<=0);var c=s.modInverse(i).multiply(a.add(r.multiply(u))).mod(i);return o.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(k.ZERO)<=0);var u=a.modInverse(i).multiply(o.add(r.multiply(s))).mod(i);return this.serializeSig(s,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var a,s,u=o.parseSigHex(t);a=u.r,s=u.s;var c=i.decodeFromHex(this.ecparams.curve,r),l=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,s,c)}catch(e){return!1}},this.verify=function(e,t,o){var a,s,u;if(Bitcoin.Util.isArray(t)){var c=this.parseSig(t);a=c.r,s=c.s}else{if("object"!==(void 0===t?"undefined":r(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,s=t.s}if(o instanceof ae)u=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";u=i.decodeFrom(this.ecparams.curve,o)}var l=n.fromByteArrayUnsigned(e);return this.verifyRaw(l,a,s,u)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var s=r.modInverse(o),u=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=c(e,0,["[0]",0],"06"),r=c(e,0,[1],"04");try{n=c(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n,i;try{c(e,0,[1,0],"06"),r=c(e,0,[1,1],"06"),n=c(e,0,[2,0,1],"04");try{i=c(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n;try{c(e,0,[0,0],"06"),r=c(e,0,[0,1],"06"),n=c(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i;try{n=c(e,0,[0,5,0,1],"06"),i=c(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new k(t.r,16),s:new k(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,o),s:n(e,a)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new k(e,16),n=new k(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=ce.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new k(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,o,a,s,u,c,l,f,d,p,h){e[n]={};var g=r(o),v=r(a),y=r(s),m=r(u),b=r(c),w=new se(g,v,y),x=w.decodePointHex("04"+l+f);e[n].name=n,e[n].keylen=i,e[n].curve=w,e[n].G=x,e[n].n=m,e[n].h=b,e[n].oid=p,e[n].info=h;for(var S=0;S<d.length;S++)t[d[S]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,r,n){return t(y.AES,e,r,n)},t=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s={};s.key=o,s.iv=a,s.ciphertext=i;var u=e.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(u)},r=function(e,t,r){return n(y.AES,e,t,r)},n=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s=e.encrypt(i,o,{iv:a}),u=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(y.TripleDES,e,r,n)},eproc:function(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(y.DES,e,r,n)},eproc:function(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},o=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,r){for(var n=r.substring(0,16),o=y.enc.Hex.parse(n),a=y.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=y.algo.MD5.create();if(null!=c&&l.update(c),l.update(a),l.update(o),c=l.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*s)break}var f={};return f.keyhex=u.substr(0,2*i[e].keylen),f.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),f},s=function(e,t,r,n){var o=y.enc.Base64.parse(e),a=y.enc.Hex.stringify(o);return(0,i[t].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return a(e,t,r)},decryptKeyB64:function(e,t,r,n){return s(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=o(e),n=(r.type,r.cipher),i=r.ivsalt,u=r.data,c=a(n,t,i).keyhex;return s(u,n,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,o){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==o&&null!=o||(o=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[n].ivlen).toUpperCase());var u=function(e,t,r,n){return(0,i[t].eproc)(e,r,n)}(t,n,a(n,r,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+o+"\r\n",s+="\r\n",(s+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var r=de,n=r.getChildIdx,i=r.getV,o={},a=n(t,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;o.ciphertext=i(t,a[1]);var s=n(t,a[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=i(t,s[0]))throw"this only supports pkcs5PBES2";var u=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+u.length;var c=n(t,u[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=i(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=i(t,c[1]);var l=n(t,u[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(t,l[0]))throw"this only supports pkcs5PBKDF2";var f=n(t,l[1]);if(f.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length;o.pbkdf2Salt=i(t,f[0]);var d=i(t,f[1]);try{o.pbkdf2Iter=parseInt(d,16)}catch(e){throw"malformed format pbkdf2Iter: "+d}return o},getPBKDF2KeyHexFromParam:function(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,i=y.PBKDF2(t,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Ce(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=He.getPBKDF2KeyHexFromParam(n,t),o={};o.ciphertext=y.enc.Hex.parse(n.ciphertext);var a=y.enc.Hex.parse(i),s=y.enc.Hex.parse(n.encryptionSchemeIV),u=y.TripleDES.decrypt(o,a,{iv:s});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=r(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var a=r(e,o[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=n(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=n(e,a[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ce(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new ie;else if("2a8648ce380401"==r.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new ie;else if("2a8648ce380401"===r)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=r(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null},o=r(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var a=o[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var s=r(e,a);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=n(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=n(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=n(e,o[1]).substr(2),i}}}();He.getKey=function(e,t,r){var n,i=(y=de).getChildIdx,o=(y.getV,y.getVbyList),a=ce.crypto,s=a.ECDSA,u=a.DSA,c=ie,l=Ce,f=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(e.n,e.e),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(C=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),C;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(C=new c).setPrivate(e.n,e.e,e.d),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(C=new u).setPublic(e.p,e.q,e.g,e.y),C;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(C=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(C=new c).setPublic(we(e.n),we(e.e)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(C=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),C;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(C=new c).setPrivate(we(e.n),we(e.e),we(e.d)),C;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(P=new s({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);return P.setPublicKeyHex(p),P}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(P=new s({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);var h=("0000000000"+we(e.d)).slice(-d);return P.setPublicKeyHex(p),P.setPrivateKeyHex(h),P}if("pkcs5prv"===r){var g,v=e,y=de;if(9===(g=i(v,0)).length)(C=new c).readPKCS5PrvKeyHex(v);else if(6===g.length)(C=new u).readPKCS5PrvKeyHex(v);else{if(!(g.length>2&&"04"===v.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(C=new s).readPKCS5PrvKeyHex(v)}return C}if("pkcs8prv"===r)return f.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return f._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Ce(e,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=l(e,"RSA PRIVATE KEY");return f.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=o(n=l(e,"DSA PRIVATE KEY"),0,[1],"02"),x=o(n,0,[2],"02"),S=o(n,0,[3],"02"),_=o(n,0,[4],"02"),E=o(n,0,[5],"02");return(C=new u).setPrivate(new k(w,16),new k(x,16),new k(S,16),new k(_,16),new k(E,16)),C}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=l(e,"EC PRIVATE KEY"),f.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return f.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var O=f.getDecryptedKeyHex(e,t),A=new ie;return A.readPKCS5PrvKeyHex(O),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var P,C=o(n=f.getDecryptedKeyHex(e,t),0,[1],"04"),j=o(n,0,[2,0],"06"),R=o(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[j])throw"undefined OID(hex) in KJUR.crypto.OID: "+j;return(P=new s({curve:ce.crypto.OID.oidhex2name[j]})).setPublicKeyHex(R),P.setPrivateKeyHex(C),P.isPublic=!1,P}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=o(n=f.getDecryptedKeyHex(e,t),0,[1],"02"),x=o(n,0,[2],"02"),S=o(n,0,[3],"02"),_=o(n,0,[4],"02"),E=o(n,0,[5],"02"),(C=new u).setPrivate(new k(w,16),new k(x,16),new k(S,16),new k(_,16),new k(E,16)),C;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return f.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var r=t;(a=new ie).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new ie,i=a.n.toString(16),o=a.e.toString(16);return n.setPublic(i,o),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==e){var a,s,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw"unknown algorithm: "+e},He.getPEM=function(e,t,r,n,i,o){var a=ce,s=a.asn1,u=s.DERObjectIdentifier,c=s.DERInteger,l=s.ASN1Util.newObject,f=s.x509.SubjectPublicKeyInfo,d=a.crypto,p=d.DSA,h=d.ECDSA,g=ie;function v(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==p&&e instanceof p||void 0!==h&&e instanceof h)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Pe(k=new f(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===r||null==r)&&1==e.isPrivate)return Pe(k=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===r||null==r)&&1==e.isPrivate){var w=new u({name:e.curveName}).getEncodedHex(),x=m(e).getEncodedHex(),S="";return(S+=Pe(w,"EC PARAMETERS"))+Pe(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate)return Pe(k=b(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==r&&null!=r&&1==e.isPrivate){var k=v(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",k,r,n,o)}if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==r&&null!=r&&1==e.isPrivate)return k=m(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",k,r,n,o);if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate)return k=b(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",k,r,n,o);var _=function(e,t){var r=E(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},E=function(e,t){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(t,r,{keySize:6,iterations:100}),o=y.enc.Hex.parse(e),a=y.TripleDES.encrypt(o,i,{iv:n})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=y.enc.Hex.stringify(r),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=y.enc.Hex.stringify(n),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var O=v(e).getEncodedHex();return k=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:O}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(x=_(k,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return O=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:O}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(x=_(k,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return O=new c({bigint:e.x}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:O}}]}).getEncodedHex(),void 0===r||null==r?Pe(k,"PRIVATE KEY"):Pe(x=_(k,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Ce(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=de,r=t.getChildIdx,n=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var a=r(o,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(a[0],2))throw"malformed CSR(code:003)";var s=r(o,a[0]);if(s.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(o,s[2]),i},He.getKeyID=function(e){var t=He,r=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Ce(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),o=r.getV(n,i).substring(2);return ce.crypto.Util.hashHex(o,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t.d=be(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,r=de.getV,n=r(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=r(e,t[1]),o=r(e,t[2]),a=r(e,t[3]),s=r(e,t[4]),u=r(e,t[5]),c=r(e,t[6]),l=r(e,t[7]),f=r(e,t[8]);return(t=new Array).push(n,i,o,a,s,u,c,l,f),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Ce(e),r=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,o,a,s,u,c=de,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,o,a,s,u)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),o=r(e,n[1]);this.setPublic(i,o)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ie.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new qe).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var ze=new RegExp("[^0-9a-f]","gi");function Ke(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e}function We(e,t,r){for(var n="",i=0;n.length<t;)n+=ke(r(_e(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Ve(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var r=ce.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function qe(e){var t,r=de,n=r.getChildIdx,i=r.getV,o=r.getTLV,a=r.getVbyList,s=r.getVbyListEx,u=r.getTLVbyList,c=r.getTLVbyListEx,l=r.getIdxbyList,f=r.getIdxbyListEx,d=r.getVidx,p=r.oidname,h=r.hextooidstr,g=qe,v=Ce;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return p(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return g.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return g.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=l(s,0,[0,7,0],"30"),o=n(s,t)}else{s=Ce(e);var u=l(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);t=l(s,0,[0,3,0,1,0],"30"),o=n(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var f={critical:!1},p=0;3===n(s,o[c]).length&&(f.critical=!0,p=1),f.oid=r.hextooidstr(a(s,o[c],[0],"06"));var h=l(s,o[c],[1+p]);f.vidx=d(s,h),this.aExtInfo.push(f)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=ce.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return n.cA=!0,n.pathLen=s,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(qe.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var a=i(e,0);return n.kid={hex:a},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=n(e,0),u=0;u<s.length;u++){var c=e.substr(s[u],2);if("80"===c&&(a.kid={hex:i(e,s[u])}),"a1"===c){var l=o(e,s[u]),f=this.getGeneralNames(l);a.issuer=f[0].dn}"82"===c&&(a.sn={hex:i(e,s[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=n(e,0),u=0;u<s.length;u++)a.array.push(p(i(e,s[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=o(this.hex,e.vidx);if(""===r)return t;for(var a=n(r,0),s=0;s<a.length;s++)t.push(p(i(r,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&r.push(a)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=i(e,0),n=ke(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"86"==t?{uri:n}:"87"==t?{ip:De(r)}:"a4"==t?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,u=o(this.hex,a.vidx),c=n(u,0),l=0;l<c.length;l++)r=u.substr(c[l],2),e=i(u,c[l]),"81"===r&&(t=Se(e),s.push(["MAIL",t])),"82"===r&&(t=Se(e),s.push(["DNS",t])),"84"===r&&(t=qe.hex2dn(e,0),s.push(["DN",t])),"86"===r&&(t=Se(e),s.push(["URI",t])),"87"===r&&(t=De(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var u=o(e,a[s]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),i=0;i<r.length;i++)try{var o=Se(a(this.hex,r[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),i=0;i<r.length;i++){var o=a(this.hex,r[i],[0],"06"),s=a(this.hex,r[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(Se(s)),"2b06010505073002"===o&&t.caissuer.push(Se(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=n(e,0),c=0;c<u.length;c++){var l=s(e,u[c],[0],"06"),f=Se(a(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:f});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:f})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var u=o(e,a[s]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},r=a(e,0,[0],"06");t.policyoid=p(r);var i=f(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=n(e,i),u=0;u<s.length;u++){var c=o(e,s[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=a(e,0,[0],"06");if("2b06010505070201"===r){var n=s(e,0,[1],"16");t.cps=ke(n)}else if("2b06010505070202"===r){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=ke(i(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:i(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(i(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=i(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=n(e,0);if(a.length>1){var s=o(e,a[1]),u=this.getGeneralName(s);null!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++)r.push(i[o]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,u=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getRDN(o(e,r[i])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getAttrTypeAndValue(o(e,r[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),i=a(e,r[0],[],"06"),o=a(e,r[1],[]),s=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(s),t.value=ke(o),t.ds=this.HEX2STAG[e.substr(r[1],2)],t},this.readCertPEM=function(e){this.readCertHex(v(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Pe(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=f(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=h(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var o=u(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==r?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==r?s=this.getExtKeyUsage(o,i):"2.5.29.17"==r?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==r?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==r?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==r?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==r?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==r?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==r?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==r?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==r?s=this.getExtCRLNumber(o,i):"2.5.29.21"==r?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==r?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==r?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==r&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var c={extname:r,extn:o};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var o=n[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,r,n=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(t){for(var r="",n=t.array,i=0;i<n.length;i++){var o=n[i];try{void 0!==o.dpname.full[0].uri&&(r+="    "+o.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==o.dname.full[0].dn.hex&&(r+="    "+qe.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(e){}}return r},a=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var u=r[s],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var f=this.getExtBasicConstraints();void 0===f.cA?e+="    {}\n":(e+="    cA=true",void 0!==f.pathLen&&(e+=", pathLen="+f.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+n(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ie.prototype.sign=function(e,t){var r=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},ie.prototype.signWithMessageHash=function(e,t){var r=re(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ke(this.doPrivate(r).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,r){var n=function(e){return ce.crypto.Util.hashHex(e,t)}(_e(e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,t,r)},ie.prototype.signWithMessageHashPSS=function(e,t,r){var n,i=ke(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=o;else if(-2===r)r=s-o-2;else if(r<-2)throw new Error("invalid salt length");if(s<o+r+2)throw new Error("data too long");var c="";r>0&&(c=new Array(r),(new te).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=ke(u(_e("\0\0\0\0\0\0\0\0"+i+c))),f=[];for(n=0;n<s-r-o-2;n+=1)f[n]=0;var d=String.fromCharCode.apply(String,f)+"\x01"+c,p=We(l,d.length,u),h=[];for(n=0;n<d.length;n+=1)h[n]=d.charCodeAt(n)^p.charCodeAt(n);var g=65280>>8*s-a&255;for(h[0]&=~g,n=0;n<o;n++)h.push(l.charCodeAt(n));return h.push(188),Ke(this.doPrivate(new k(h)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var r=re(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ve(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var i=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=re(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ve(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},ie.prototype.verifyPSS=function(e,t,r,n){var i=function(e){return ce.crypto.Util.hashHex(e,r)}(_e(e));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,t,r,n)},ie.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new k(t,16),a=function(e){return ce.crypto.Util.hashHex(e,r)},s=ke(e),u=s.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=l-u-2;else if(n<-2)throw new Error("invalid salt length");if(l<u+n+2)throw new Error("data too long");var f=this.doPublic(o).toByteArray();for(i=0;i<f.length;i+=1)f[i]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw new Error("encoded message does not end in 0xbc");var d=(f=String.fromCharCode.apply(String,f)).substr(0,l-u-1),p=f.substr(d.length,u),h=65280>>8*l-c&255;if(0!=(d.charCodeAt(0)&h))throw new Error("bits beyond keysize not zero");var g=We(p,d.length,a),v=[];for(i=0;i<d.length;i+=1)v[i]=d.charCodeAt(i)^g.charCodeAt(i);v[0]&=~h;var y=l-u-n-2;for(i=0;i<y;i+=1)if(0!==v[i])throw new Error("leftmost octets not zero");if(1!==v[y])throw new Error("0x01 marker not found");return p===ke(a(_e("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,v.slice(-n)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var r=new Array,n=de.getChildIdx(e,t),i=0;i<n.length;i++)r.push(qe.hex2rdn(e,n[i]));return"/"+(r=r.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=de.getChildIdx(e,t),i=0;i<n.length;i++)r.push(qe.hex2attrTypeValue(e,n[i]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var r=de,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=n(e,i[0]),a=ce.asn1.ASN1Util.oidHexToInt(o);return ce.asn1.x509.OID.oid2atype(a)+"="+ke(n(e,i[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=de.getVbyList,i={algparam:null};return(t=new qe).readCertPEM(e),r=t.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],o=n[2],a=n[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var u=we(a),c=re(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=fe(i),f=fe(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,n,i,o){var a,s,u,c=ce,l=c.jws.JWS,f=l.readSafeJSONString,d=l.isSafeJSONString,p=c.crypto,h=(p.ECDSA,p.Mac),g=p.Signature,v=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":r(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":r(t))&&(s=t,a=v.stringify(s)),"string"==typeof t){if(!d(a=t))throw"JWS Head is not safe JSON string: "+a;s=f(a)}if(u=n,"object"==(void 0===n?"undefined":r(n))&&(u=v.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,a=v.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var y=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=l.jwsalg2sigalg[e];var m=le(a)+"."+le(u),b="";if("Hmac"==y.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var w=new h({alg:y,prov:"cryptojs",pass:i});w.updateString(m),b=w.doFinal()}else if(-1!=y.indexOf("withECDSA")){(S=new g({alg:y})).init(i,o),S.updateString(m);var x=S.sign();b=ce.crypto.ECDSA.asn1SigToConcatSig(x)}else{var S;"none"!=y&&((S=new g({alg:y})).init(i,o),S.updateString(m),b=S.sign())}return m+"."+be(b)},ce.jws.JWS.verify=function(e,t,n){var i,o=ce,a=o.jws.JWS,s=a.readSafeJSONString,u=o.crypto,c=u.ECDSA,l=u.Mac,f=u.Signature;void 0!==r(ie)&&(i=ie);var d=e.split(".");if(3!==d.length)return!1;var p,h=d[0]+"."+d[1],g=we(d[2]),v=s(fe(d[0])),y=null;if(void 0===v.alg)throw"algorithm not specified in header";if(p=(y=v.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===a.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+y;if("none"==(m=a.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var b=new l({alg:m,pass:t});return b.updateString(h),g==b.doFinal()}if(-1!=m.indexOf("withECDSA")){var w,x=null;try{x=c.concatSigToASN1Sig(g)}catch(e){return!1}return(w=new f({alg:m})).init(t),w.updateString(h),w.verify(x)}return(w=new f({alg:m})).init(t),w.updateString(h),w.verify(g)},ce.jws.JWS.parse=function(e){var t,r,n,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],r=i[1],3==i.length&&(n=i[2]),o.headerObj=ce.jws.JWS.readSafeJSONString(fe(t)),o.payloadObj=ce.jws.JWS.readSafeJSONString(fe(r)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=fe(r):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==n&&(o.sigHex=we(n)),o},ce.jws.JWS.verifyJWT=function(e,t,n){var i=ce.jws,o=i.JWS,a=o.readSafeJSONString,s=o.inArray,u=o.includedArray,c=e.split("."),l=c[0],f=c[1],d=(we(c[2]),a(fe(l))),p=a(fe(f));if(void 0===d.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(d.alg,n.alg))return!1;if(void 0!==p.iss&&"object"===r(n.iss)&&!s(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"===r(n.sub)&&!s(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"===r(n.aud))if("string"==typeof p.aud){if(!s(p.aud,n.aud))return!1}else if("object"==r(p.aud)&&!u(p.aud,n.aud))return!1;var h=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<h)&&!(void 0!==p.nbf&&"number"==typeof p.nbf&&h<p.nbf-n.gracePeriod)&&!(void 0!==p.iat&&"number"==typeof p.iat&&h<p.iat-n.gracePeriod)&&(void 0===p.jti||void 0===n.jti||p.jti===n.jti)&&!!o.verify(e,t,n.alg)},ce.jws.JWS.includedArray=function(e,t){var n=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":r(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":r(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,n){var i=null;try{return"object"!=(void 0===(i=ue(e))?"undefined":r(i))||i.constructor===Array?0:(t&&(t[n]=i),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=ue(e))?"undefined":r(t))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=_e(t);return be(ce.crypto.Util.hashHex(r,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Re(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=te,t.rng_seed_time=Y,t.BigInteger=k,t.RSAKey=ie;var Je=ce.crypto.EDSA;t.EDSA=Je;var Ge=ce.crypto.DSA;t.DSA=Ge;var Ye=ce.crypto.Signature;t.Signature=Ye;var $e=ce.crypto.MessageDigest;t.MessageDigest=$e;var Qe=ce.crypto.Mac;t.Mac=Qe;var Xe=ce.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=He,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=y,t.b64tohex=x,t.b64toBA=S,t.stoBA=pe,t.BAtos=he,t.BAtohex=ge,t.stohex=ve,t.stob64=function(e){return w(ve(e))},t.stob64u=function(e){return ye(w(ve(e)))},t.b64utos=function(e){return he(S(me(e)))},t.b64tob64u=ye,t.b64utob64=me,t.hex2b64=w,t.hextob64u=be,t.b64utohex=we,t.utf8tob64u=le,t.b64utoutf8=fe,t.utf8tob64=function(e){return w(Ie(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Fe(x(e)))},t.utf8tohex=xe,t.hextoutf8=Se,t.hextorstr=ke,t.rstrtohex=_e,t.hextob64=Ee,t.hextob64nl=Oe,t.b64nltohex=Ae,t.hextopem=Pe,t.pemtohex=Ce,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=je,t.zulutosec=Re,t.zulutodate=function(e){return new Date(je(e))},t.datetozulu=function(e,t,r){var n,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var o=e.getUTCMilliseconds();0!==o&&(n+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Ie,t.hextouricmp=Fe,t.ipv6tohex=Te,t.hextoipv6=Ne,t.hextoip=De,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Te(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.KJUR=ce;var Ze=ce.crypto;t.crypto=Ze;var et=ce.asn1;t.asn1=et;var tt=ce.jws;t.jws=tt;var rt=ce.lang;t.lang=rt}).call(this,r(28).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(30),i=r(31),o=r(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function x(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return x(e,t,r,n)}function k(e,t,r,n){return K(z(t),e,r,n)}function _(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(29))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,r=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(r){n.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(r);return{header:i.headerObj,payload:i.payloadObj}}catch(e){n.Log.error(e)}},e.validateJwt=function(t,o,a,u,c,l,f){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=r.getKey(o);else{if(!o.x5c||!o.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=r.getKey(o)}return e._validateJwt(t,o,a,u,c,l,f)}catch(e){return n.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,r,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var u=e.parseJwt(t).payload;if(!u.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return n.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!s){var c=a+o,l=a-o;if(!u.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return n.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},e._validateJwt=function(r,i,o,a,s,c,l){return e.validateJwtAttributes(r,o,a,s,c,l).then((function(e){try{return t.JWS.verify(r,i,u)?e:(n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return n.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,r){try{return o.Util.hashString(t,r)}catch(e){n.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){n.Log.error(e)}},e}()};var n=r(0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";o(this,e);var n=i.UrlUtility.parseUrlFragment(t,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var n=r(0),i=r(3),o=r(9);t.SignoutRequest=function e(t){var r=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var f in a&&(r=i.UrlUtility.addQueryParam(r,"id_token_hint",a)),s&&(r=i.UrlUtility.addQueryParam(r,"post_logout_redirect_uri",s),u&&(this.state=new o.State({data:u,request_type:l}),r=i.UrlUtility.addQueryParam(r,"state",this.state.id))),c)r=i.UrlUtility.addQueryParam(r,f,c[f]);this.url=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var n=r(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.UrlUtility.parseUrlFragment(t,"?");this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.state=r.state}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},n(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(10),a=r(39),s=r(15),u=r(45),c=r(47),l=r(18),f=r(8),d=r(20),p=r(11),h=r(4);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.TokenClient,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.JoseUtil;g(this,t),r instanceof a.UserManagerSettings||(r=new a.UserManagerSettings(r));var m=v(this,e.call(this,r));return m._events=new u.UserManagerEvents(r),m._silentRenewService=new n(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new s(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=y,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(r){return r&&r.refresh_token?(t.refresh_token=r.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&r&&r.id_token,r&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",r.profile.sub),t.current_sub=r.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),r.id_token=t.id_token||r.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then((function(){return e._events.load(r),r}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){return r.settings.getEpochTime().then((function(o){return r._joseUtil.validateJwtAttributes(t,n,r._settings.client_id,r._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(r){var n=r.state;return r.response,"si:r"===n.request_type?t.signinRedirectCallback(e):"si:p"===n.request_type?t.signinPopupCallback(e):"si:s"===n.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var r=this;return this.readSignoutResponseState(e).then((function(n){var i=n.state,o=n.response;return i?"so:r"===i.request_type?r.signoutRedirectCallback(e):"so:p"===i.request_type?r.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var r=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(t.redirect_uri=r,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,n).then((function(t){return r._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(n).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),n.url=e.url,n.id=e.state.id,t.navigate(n)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var n=new s.User(e);if(r.current_sub){if(r.current_sub!==n.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",n.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(n).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(n),n}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var r="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,r)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,r).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,n).then((function(e){return r._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(n).then((function(r){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),n.url=e.url,e.state&&(n.id=e.state.id),r.navigate(n)}))}))}))})).catch((function(e){throw r.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(r){if(r)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var r=this;if(e){var n=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(n,t).then((function(e){return r._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},n(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(r(0),r(5)),o=r(40),a=r(41),s=r(43),u=r(6),c=r(1),l=r(8);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,p=r.popupWindowFeatures,h=r.popupWindowTarget,g=r.silent_redirect_uri,v=r.silentRequestTimeout,y=r.automaticSilentRenew,m=void 0!==y&&y,b=r.validateSubOnSilentRenew,w=void 0!==b&&b,x=r.includeIdTokenInSilentRenew,S=void 0===x||x,k=r.monitorSession,_=void 0===k||k,E=r.monitorAnonymousSession,O=void 0!==E&&E,A=r.checkSessionInterval,P=void 0===A?2e3:A,C=r.stopCheckSessionOnError,j=void 0===C||C,R=r.query_status_response_type,I=r.revokeAccessTokenOnSignout,F=void 0!==I&&I,T=r.accessTokenExpiringNotificationTime,N=void 0===T?60:T,D=r.redirectNavigator,L=void 0===D?new o.RedirectNavigator:D,U=r.popupNavigator,M=void 0===U?new a.PopupNavigator:U,B=r.iframeNavigator,H=void 0===B?new s.IFrameNavigator:B,z=r.userStore,K=void 0===z?new u.WebStorageStateStore({store:c.Global.sessionStorage}):z;f(this,t);var W=d(this,e.call(this,arguments[0]));return W._popup_redirect_uri=n,W._popup_post_logout_redirect_uri=i,W._popupWindowFeatures=p,W._popupWindowTarget=h,W._silent_redirect_uri=g,W._silentRequestTimeout=v,W._automaticSilentRenew=m,W._validateSubOnSilentRenew=w,W._includeIdTokenInSilentRenew=S,W._accessTokenExpiringNotificationTime=N,W._monitorSession=_,W._monitorAnonymousSession=O,W._checkSessionInterval=P,W._stopCheckSessionOnError=j,R?W._query_status_response_type=R:arguments[0]&&arguments[0].response_type?W._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=F,W._redirectNavigator=L,W._popupNavigator=M,W._iframeNavigator=H,W._userStore=K,W}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},n(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var n=r(0),i=r(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,r,o){n.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,r,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(3);t.PopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t}));var n=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",n,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,r){if(window.opener){if(e=e||window.location.href){var n=o.UrlUtility.parseUrlFragment(e,r);if(n.state){var a="popupCallback_"+n.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var n=r(0),i=r(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){n.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.IFrameWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},n(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var n=r(0),i=r(16),o=r(17);t.UserManagerEvents=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return n._userLoaded=new o.Event("User loaded"),n._userUnloaded=new o.Event("User unloaded"),n._silentRenewError=new o.Event("Silent renew error"),n._userSignedIn=new o.Event("User signed in"),n._userSignedOut=new o.Event("User signed out"),n._userSessionChanged=new o.Event("User session changed"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),r&&this._userLoaded.raise(t)},t.prototype.unload=function(){n.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){n.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){n.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){n.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){n.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(1),a=r(17);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t);var a=u(this,e.call(this,r));return a._timer=n,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var r=5;e<r&&(r=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},n(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var n=r(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){n.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){n.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){n.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var n=r(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var n=r(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.5"}])},e.exports=n()},function(e,t,r){var n=r(61);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(88),i=r(89),o=r(129);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n={};e.exports=n,n.isArray=Array.isArray,n.isBoolean=function(e){return"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},n.isDouble=function(e){return n.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},n.isEmptyObject=function(e){return n.isObject(e)&&0===Object.keys(e).length},n.isNumber=function(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)},n.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},n.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},n.isString=function(e){return"string"===typeof e||"[object String]"===Object.prototype.toString.call(e)},n.isUndefined=function(e){return"undefined"===typeof e}},function(e,t,r){var n=r(48);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(23).default,i=r(14).default,o=r(27),a=r(19),s=r(58).IdentifierIssuer,u=r(24),c=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,f=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d={accept:"application/ld+json, application/json"},p={};function h(e,t){if(a.isArray(t))for(var r=0;r<t.length;++r)t[r]=h(e,t[r]);else if(o.isList(t))t["@list"]=h(e,t["@list"]);else if(a.isObject(t)){o.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var s=n[i];"@id"!==s&&(t[s]=h(e,t[s]))}}return t}e.exports=p,p.IdentifierIssuer=s,p.clone=function(e){if(e&&"object"===typeof e){var t;if(a.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=p.clone(e[r])}else if(e instanceof Map){t=new Map;var o,s=i(e);try{for(s.s();!(o=s.n()).done;){var u=n(o.value,2),c=u[0],l=u[1];t.set(c,p.clone(l))}}catch(v){s.e(v)}finally{s.f()}}else if(e instanceof Set){t=new Set;var f,d=i(e);try{for(d.s();!(f=d.n()).done;){var h=f.value;t.add(p.clone(h))}}catch(v){d.e(v)}finally{d.f()}}else if(a.isObject(e))for(var g in t={},e)t[g]=p.clone(e[g]);else t=e.toString();return t}return e},p.asArray=function(e){return Array.isArray(e)?e:[e]},p.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).some((function(e){return"accept"===e.toLowerCase()}));if(t)throw new RangeError('Accept header may not be specified; only "'+d.accept+'" is supported.');return Object.assign({Accept:d.accept},e)},p.parseLinkHeader=function(e){for(var t={},r=e.match(c),n=0;n<r.length;++n){var i=r[n].match(l);if(i){for(var o={target:i[1]},a=i[2];i=f.exec(a);)o[i[1]]=void 0===i[2]?i[3]:i[2];var s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}}return t},p.validateTypeValue=function(e,t){if(!a.isString(e)&&(!a.isArray(e)||!e.every((function(e){return a.isString(e)})))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&p.asArray(e["@default"]).every((function(e){return a.isString(e)})))return}throw new u('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},p.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!a.isArray(r)||r.length>0}return!1},p.hasValue=function(e,t,r){if(p.hasProperty(e,t)){var n=e[t],i=o.isList(n);if(a.isArray(n)||i){i&&(n=n["@list"]);for(var s=0;s<n.length;++s)if(p.compareValues(r,n[s]))return!0}else if(!a.isArray(r))return p.compareValues(r,n)}return!1},p.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(a.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(var i=0;i<r.length;++i)p.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){var o=!n.allowDuplicate&&p.hasValue(e,t,r);a.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},p.getValues=function(e,t){return[].concat(e[t]||[])},p.removeProperty=function(e,t){delete e[t]},p.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=p.getValues(e,t).filter((function(e){return!p.compareValues(e,r)}));0===i.length?p.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},p.relabelBlankNodes=function(e,t){return h((t=t||{}).issuer||new s("_:b"),e)},p.compareValues=function(e,t){return e===t||(!(!o.isValue(e)||!o.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])},p.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s})),r.d(t,"c",(function(){return u}));var n=Object.freeze({Valarm:"http://www.w3.org/2002/12/cal/ical#Valarm",Value_DATE:"http://www.w3.org/2002/12/cal/ical#Value_DATE",Value_DURATION:"http://www.w3.org/2002/12/cal/ical#Value_DURATION",Value_PERIOD:"http://www.w3.org/2002/12/cal/ical#Value_PERIOD",Value_RECUR:"http://www.w3.org/2002/12/cal/ical#Value_RECUR",Vevent:"http://www.w3.org/2002/12/cal/ical#Vevent",Vfreebusy:"http://www.w3.org/2002/12/cal/ical#Vfreebusy",Vjournal:"http://www.w3.org/2002/12/cal/ical#Vjournal",Vtimezone:"http://www.w3.org/2002/12/cal/ical#Vtimezone",Vtodo:"http://www.w3.org/2002/12/cal/ical#Vtodo",attach:"http://www.w3.org/2002/12/cal/ical#attach",attendee:"http://www.w3.org/2002/12/cal/ical#attendee",completed:"http://www.w3.org/2002/12/cal/ical#completed",created:"http://www.w3.org/2002/12/cal/ical#created",dtend:"http://www.w3.org/2002/12/cal/ical#dtend",dtstamp:"http://www.w3.org/2002/12/cal/ical#dtstamp",dtstart:"http://www.w3.org/2002/12/cal/ical#dtstart",due:"http://www.w3.org/2002/12/cal/ical#due",duration:"http://www.w3.org/2002/12/cal/ical#duration",exdate:"http://www.w3.org/2002/12/cal/ical#exdate",exrule:"http://www.w3.org/2002/12/cal/ical#exrule",freebusy:"http://www.w3.org/2002/12/cal/ical#freebusy",geo:"http://www.w3.org/2002/12/cal/ical#geo",lastModified:"http://www.w3.org/2002/12/cal/ical#lastModified",organizer:"http://www.w3.org/2002/12/cal/ical#organizer",rdate:"http://www.w3.org/2002/12/cal/ical#rdate",recurrenceId:"http://www.w3.org/2002/12/cal/ical#recurrenceId",rrule:"http://www.w3.org/2002/12/cal/ical#rrule",trigger:"http://www.w3.org/2002/12/cal/ical#trigger",tzurl:"http://www.w3.org/2002/12/cal/ical#tzurl",url:"http://www.w3.org/2002/12/cal/ical#url",action:"http://www.w3.org/2002/12/cal/ical#action",calscale:"http://www.w3.org/2002/12/cal/ical#calscale",categories:"http://www.w3.org/2002/12/cal/ical#categories",class__workaround:"http://www.w3.org/2002/12/cal/ical#class",comment:"http://www.w3.org/2002/12/cal/ical#comment",contact:"http://www.w3.org/2002/12/cal/ical#contact",description:"http://www.w3.org/2002/12/cal/ical#description",location:"http://www.w3.org/2002/12/cal/ical#location",method:"http://www.w3.org/2002/12/cal/ical#method",percentComplete:"http://www.w3.org/2002/12/cal/ical#percentComplete",priority:"http://www.w3.org/2002/12/cal/ical#priority",prodid:"http://www.w3.org/2002/12/cal/ical#prodid",relatedTo:"http://www.w3.org/2002/12/cal/ical#relatedTo",repeat:"http://www.w3.org/2002/12/cal/ical#repeat",requestStatus:"http://www.w3.org/2002/12/cal/ical#requestStatus",resources:"http://www.w3.org/2002/12/cal/ical#resources",sequence:"http://www.w3.org/2002/12/cal/ical#sequence",status:"http://www.w3.org/2002/12/cal/ical#status",summary:"http://www.w3.org/2002/12/cal/ical#summary",transp:"http://www.w3.org/2002/12/cal/ical#transp",tzid:"http://www.w3.org/2002/12/cal/ical#tzid",tzname:"http://www.w3.org/2002/12/cal/ical#tzname",tzoffsetfrom:"http://www.w3.org/2002/12/cal/ical#tzoffsetfrom",tzoffsetto:"http://www.w3.org/2002/12/cal/ical#tzoffsetto",uid:"http://www.w3.org/2002/12/cal/ical#uid",version:"http://www.w3.org/2002/12/cal/ical#version"}),i=Object.freeze({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#value",first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",language:"http://www.w3.org/1999/02/22-rdf-syntax-ns#language",direction:"http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Property:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Statement:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Bag:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Seq:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Alt:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",List:"http://www.w3.org/1999/02/22-rdf-syntax-ns#List",CompoundLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",HTML:"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",PlainLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",XMLLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",JSON__workaround:"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON"}),o=Object.freeze({masterWorkspace:"http://www.w3.org/ns/pim/space#masterWorkspace",preferencesFile:"http://www.w3.org/ns/pim/space#preferencesFile",storage:"http://www.w3.org/ns/pim/space#storage",uriPrefix:"http://www.w3.org/ns/pim/space#uriPrefix",workspace:"http://www.w3.org/ns/pim/space#workspace",ControlledStorage:"http://www.w3.org/ns/pim/space#ControlledStorage",PersonalStorage:"http://www.w3.org/ns/pim/space#PersonalStorage",PublicStorage:"http://www.w3.org/ns/pim/space#PublicStorage",Storage:"http://www.w3.org/ns/pim/space#Storage",Workspace:"http://www.w3.org/ns/pim/space#Workspace"}),a=n,s=i,u=o},function(e,t,r){var n=r(76),i=r(112),o=r(47),a=r(78);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default,s=r(36).default;e.exports=function(e){o(r,e);var t=a(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,r),(e=t.call(this,n)).name=o,e.message=n,e.details=a,e}return n(r)}(s(Error))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return i}));function n(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}var i=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}}},function(e,t,r){var n=r(116),i=r(80),o=r(47),a=r(117);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(19),i={};e.exports=i,i.isSubject=function(e){return!(!n.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},i.isSubjectReference=function(e){return n.isObject(e)&&1===Object.keys(e).length&&"@id"in e},i.isValue=function(e){return n.isObject(e)&&"@value"in e},i.isList=function(e){return n.isObject(e)&&"@list"in e},i.isGraph=function(e){return n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},i.isSimpleGraph=function(e){return i.isGraph(e)&&!("@id"in e)},i.isBlankNode=function(e){return!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return X})),r.d(t,"b",(function(){return $})),r.d(t,"c",(function(){return G})),r.d(t,"d",(function(){return Y}));var n=r(3),i=r(1),o=r.n(i),a=r(42);r(41),r(70);var s=r(25),u=r(34),c=Object(i.createContext)("undefined"!==typeof HTMLElement?Object(a.a)({key:"css"}):null);c.Provider;var l=function(e){return Object(i.forwardRef)((function(t,r){var n=Object(i.useContext)(c);return e(t,n,r)}))},f=Object(i.createContext)({});r(182);var d=r(53),p=l((function(e,t){var r=e.styles,n=Object(u.a)([r],void 0,Object(i.useContext)(f)),o=Object(i.useRef)();return Object(i.useLayoutEffect)((function(){var e=t.key+"-global",r=new d.a({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(r.before=t.sheet.tags[0]),null!==a&&(i=!0,a.setAttribute("data-emotion",e),r.hydrate([a])),o.current=[r,i],function(){r.flush()}}),[t]),Object(i.useLayoutEffect)((function(){var e=o.current,r=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Object(s.b)(t,n.next,!0),r.tags.length){var i=r.tags[r.tags.length-1].nextElementSibling;r.before=i,r.flush()}t.insert("",n,r,!1)}}),[t,n.name]),null}));var h={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function g(e){return"number"===typeof e.size?e.size:e.sizes[e.size]||e.size||e.sizes.md}var v=r(5);function y(e){return function(e){var t=e.replace("#","");return"string"===typeof t&&6===t.length&&!Number.isNaN(Number("0x".concat(t)))}(e)?function(e){var t=e.replace("#",""),r=parseInt(t,16);return{r:r>>16&255,g:r>>8&255,b:255&r,a:1}}(e):e.startsWith("rgb")?function(e){var t=e.replace(/[^0-9,.]/g,"").split(",").map(Number),r=Object(v.a)(t,4);return{r:r[0],g:r[1],b:r[2],a:r[3]||1}}(e):{r:0,g:0,b:0,a:1}}var m={fontStyles:function(e){return function(){return{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontFamily:e.fontFamily||"sans-serif"}}},themeColor:function(e){return function(t,r){var n=e.colors[e.primaryColor];return t in e.colors?e.colors[t][r]:n[r]}},focusStyles:function(e){return function(){return{WebkitTapHighlightColor:"transparent","&:focus":{outline:"none",boxShadow:"0 0 0 2px ".concat("dark"===e.colorScheme?e.colors.dark[9]:e.white,", 0 0 0 4px ").concat(e.colors[e.primaryColor]["dark"===e.colorScheme?7:5])},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}},linearGradient:function(e){for(var t,r="",n=1;n<(arguments.length<=1?0:arguments.length-1)-1;n+=1)r+="".concat(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]," ").concat(n/((arguments.length<=1?0:arguments.length-1)-1)*100,"%, ");return"linear-gradient(".concat(e,"deg, ").concat(arguments.length<=1?void 0:arguments[1]," 0%, ").concat(r).concat((t=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=t?void 0:arguments[t]," 100%)")},radialGradient:function(){for(var e,t="",r=1;r<arguments.length-1;r+=1)t+="".concat(r<0||arguments.length<=r?void 0:arguments[r]," ").concat(r/(arguments.length-1)*100,"%, ");return"radial-gradient(circle, ".concat(arguments.length<=0?void 0:arguments[0]," 0%, ").concat(t).concat((e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]," 100%)")},smallerThan:function(e){return function(t){return"@media (max-width: ".concat(g({size:t,sizes:e.breakpoints}),"px)")}},largerThan:function(e){return function(t){return"@media (min-width: ".concat(g({size:t,sizes:e.breakpoints})+1,"px)")}},rgba:function(e,t){if("string"!==typeof e||t>1||t<0)return"rgba(0, 0, 0, 1)";var r=y(e),n=r.r,i=r.g,o=r.b;return"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(t,")")},size:g,cover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{position:"absolute",top:e,right:e,left:e,bottom:e}},darken:function(e,t){var r=y(e),n=r.r,i=r.g,o=r.b,a=r.a,s=1-t,u=function(e){return Math.round(e*s)};return"rgba(".concat(u(n),", ").concat(u(i),", ").concat(u(o),", ").concat(a,")")},lighten:function(e,t){var r=y(e),n=r.r,i=r.g,o=r.b,a=r.a,s=function(e){return Math.round(e+(255-e)*t)};return"rgba(".concat(s(n),", ").concat(s(i),", ").concat(s(o),", ").concat(a,")")}},b=Object.defineProperty,w=Object.defineProperties,x=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,E=function(e,t,r){return t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function O(e){return t=function(e,t){for(var r in t||(t={}))k.call(t,r)&&E(e,r,t[r]);if(S){var i,o=Object(n.a)(S(t));try{for(o.s();!(i=o.n()).done;)r=i.value,_.call(t,r)&&E(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({},e),r={fn:{fontStyles:m.fontStyles(e),themeColor:m.themeColor(e),focusStyles:m.focusStyles(e),largerThan:m.largerThan(e),smallerThan:m.smallerThan(e),radialGradient:m.radialGradient,linearGradient:m.linearGradient,rgba:m.rgba,size:m.size,cover:m.cover,lighten:m.lighten,darken:m.darken}},w(t,x(r));var t,r}Object.keys(h);var A=O({loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21)",colors:h,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3},h2:{fontSize:26,lineHeight:1.35},h3:{fontSize:22,lineHeight:1.4},h4:{fontSize:18,lineHeight:1.45},h5:{fontSize:16,lineHeight:1.5},h6:{fontSize:14,lineHeight:1.5}}},other:{},datesLocale:"en"}),P=Object.defineProperty,C=Object.defineProperties,j=Object.getOwnPropertyDescriptors,R=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,T=function(e,t,r){return t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},N=function(e,t){for(var r in t||(t={}))I.call(t,r)&&T(e,r,t[r]);if(R){var i,o=Object(n.a)(R(t));try{for(o.s();!(i=o.n()).done;){r=i.value;F.call(t,r)&&T(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},D=function(e,t){return C(e,j(t))};var L={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"textfield",outlineOffset:"-2px"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function U(){return o.a.createElement(p,{styles:L})}var M=Object.defineProperty,B=Object.defineProperties,H=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,V=function(e,t,r){return t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},q=function(e,t){for(var r in t||(t={}))K.call(t,r)&&V(e,r,t[r]);if(z){var i,o=Object(n.a)(z(t));try{for(o.s();!(i=o.n()).done;){r=i.value;W.call(t,r)&&V(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},J=Object(i.createContext)({theme:A,styles:{},emotionOptions:{key:"mantine",prepend:!0}});function G(){var e;return(null==(e=Object(i.useContext)(J))?void 0:e.theme)||A}function Y(){var e;return(null==(e=Object(i.useContext)(J))?void 0:e.styles)||{}}function $(){var e;return(null==(e=Object(i.useContext)(J))?void 0:e.emotionOptions)||{key:"mantine",prepend:!0}}function Q(){var e,t,r=G();return o.a.createElement(p,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},body:(e=q({},r.fn.fontStyles()),t={backgroundColor:"dark"===r.colorScheme?r.colors.dark[7]:r.white,color:"dark"===r.colorScheme?r.colors.dark[0]:r.black,lineHeight:r.lineHeight,fontSizes:r.fontSizes.md},B(e,H(t)))}})}function X(e){var t,r,n=e.theme,i=e.styles,a=void 0===i?{}:i,s=e.emotionOptions,u=e.withNormalizeCSS,c=void 0!==u&&u,l=e.withGlobalStyles,f=void 0!==l&&l,d=e.children;return o.a.createElement(J.Provider,{value:{theme:(t=A,r=n,O(r?Object.keys(t).reduce((function(e,n){if("headings"===n&&r.headings){var i=r.headings.sizes?Object.keys(t.headings.sizes).reduce((function(e,n){return e[n]=N(N({},t.headings.sizes[n]),r.headings.sizes[n]),e}),{}):t.headings.sizes;return D(N({},e),{headings:D(N(N({},t.headings),r.headings),{sizes:i})})}return e[n]="object"===typeof r[n]?N(N({},t[n]),r[n]):r[n]||t[n],e}),{}):t)),styles:a,emotionOptions:s}},c&&o.a.createElement(U,null),f&&o.a.createElement(Q,null),d)}X.displayName="@mantine/core/MantineProvider"},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,"a",(function(){return i}))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(19),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=function(e,t){for(var r={},n=i.parsers[t||"full"],o=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=function(e,t){if(null===e)return t;if(i.isAbsolute(t))return t;e&&!n.isString(e)||(e=i.parse(e||""));var r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{var a=e.path;((a=a.substr(0,a.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==a.substr(-1)&&(a+="/"),a+=r.path,o.path=a}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));var s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s},i.removeBase=function(e,t){if(null===e)return t;e&&!n.isString(e)||(e=i.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();var c="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=function(e){return n.isString(e)&&o.test(e)},i.isRelative=function(e){return n.isString(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(40);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&Object(n.a)(e,t)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(44),i=r(52),o=r(79);function a(e){var t=Object(i.a)();return function(){var r,i=Object(n.a)(e);if(t){var a=Object(n.a)(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return Object(o.a)(this,r)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return g}));var n=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=r(69),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,u=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=Object(o.a)((function(e){return u(e)?e:e.replace(a,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,r){return p={name:t,styles:r,next:p},t}))}return 1===i[e]||u(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)p={name:n.name,styles:n.styles,next:p},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=d(e,t,r[i])+";";else for(var o in r){var a=r[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":c(a)&&(n+=l(o)+":"+f(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=d(e,t,a);switch(o){case"animation":case"animationName":n+=l(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)c(a[u])&&(n+=l(o)+":"+f(o,a[u])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=p,o=r(e);return p=i,d(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var p,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var g=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";p=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=d(r,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=d(r,t,e[s]),i&&(o+=a[s]);h.lastIndex=0;for(var u,c="";null!==(u=h.exec(o));)c+="-"+u[1];return{name:n(o)+c,styles:o,next:p}}},function(e,t,r){"use strict";r.d(t,"b",(function(){return h}));var n=r(3),i=r(192),o=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=function(e,t,r){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},d=function(e,t){for(var r in t||(t={}))c.call(t,r)&&f(e,r,t[r]);if(u){var i,o=Object(n.a)(u(t));try{for(o.s();!(i=o.n()).done;){r=i.value;l.call(t,r)&&f(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},p=function(e,t){return a(e,s(t))},h={xs:30,sm:36,md:42,lg:50,xl:60},g=Object(i.a)((function(e,t){var r=t.size,n=t.multiline,i=t.radius,o=t.variant,a=t.invalid,s=e.colors.red["dark"===e.colorScheme?6:7],u="default"===o||"filled"===o?{minHeight:e.fn.size({size:r,sizes:h}),paddingLeft:e.fn.size({size:r,sizes:h})/3,paddingRight:e.fn.size({size:r,sizes:h})/3,borderRadius:e.fn.size({size:i,sizes:e.radius})}:null;return{wrapper:{position:"relative"},input:"headless"===o?{}:p(d(p(d({},e.fn.fontStyles()),{height:n?"unstyled"===o?void 0:"auto":e.fn.size({size:r,sizes:h}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:"".concat(e.fn.size({size:r,sizes:h})-2,"px"),appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:r,sizes:e.fontSizes}),width:"100%",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"block",textAlign:"left"}),u),{"&:disabled":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),defaultVariant:{border:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[4]),backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":{outline:"none",borderColor:e.colors[e.primaryColor]["dark"===e.colorScheme?8:5]}},filledVariant:{border:"1px solid transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":{outline:"none",borderColor:"".concat(e.colors[e.primaryColor]["dark"===e.colorScheme?8:5]," !important")}},unstyledVariant:{borderWidth:0,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}},withIcon:{paddingLeft:"".concat(e.fn.size({size:r,sizes:h}),"px !important")},invalid:{color:s,borderColor:s,"&::placeholder":{opacity:1,color:s}},disabled:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:e.fn.size({size:r,sizes:h}),color:a?e.colors.red["dark"===e.colorScheme?6:7]:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}}}));t.a=g},function(e,t,r){var n=r(88),i=r(61),o=r(134),a=r(135);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(26).default,i=r(0),o=r(23).default,a=r(14).default,s=r(10).default,u=r(21),c=r(24),l=r(19),f=l.isArray,d=l.isObject,p=l.isString,h=l.isUndefined,g=r(31),v=g.isAbsolute,y=g.isRelative,m=g.prependBase,b=r(21),w=b.asArray,x=b.compareShortestLeast,S=new Map,k=/^@[a-zA-Z]+$/,_={};function E(e,t,r,n,i,o){if(null===t||!p(t)||_.isKeyword(t))return t;if(t.match(k))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&_.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){var a=e.mappings.get(t);if(null===a)return null;if(d(a)&&"@id"in a)return a["@id"]}var s=t.indexOf(":");if(s>0){var u=t.substr(0,s),c=t.substr(s+1);if("_"===u||0===c.indexOf("//"))return t;n&&n.hasOwnProperty(u)&&_.createTermDefinition({activeCtx:e,localCtx:n,term:u,defined:i,options:o});var l=e.mappings.get(u);if(l&&l._prefix)return l["@id"]+c;if(v(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return m(m(o.base,e["@base"]),t)}else if(r.base)return m(o.base,t);return t}function O(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!O(e[n],t[n]))return!1;return!0}var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a in e){var s=e[a],u=t[a];if("@container"===a&&Array.isArray(s)&&Array.isArray(u)&&(s=s.slice().sort(),u=u.slice().sort()),!O(s,u))return!1}return!0}e.exports=_,_.process=function(){var e=s(i.mark((function e(t){var r,n,s,l,h,g,b,x,S,k,O,A,P,C,j,R,I,F,T,N,D,L,U,M,B,H,z,K,W,V,q,J,G,Y,$,Q,X,Z;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.localCtx,s=t.options,l=t.propagate,h=void 0===l||l,g=t.overrideProtected,b=void 0!==g&&g,x=t.cycles,S=void 0===x?new Set:x,d(n)&&"@context"in n&&f(n["@context"])&&(n=n["@context"]),0!==w(n).length){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,s.contextResolver.resolve({activeCtx:r,context:n,documentLoader:s.documentLoader,base:s.base});case 7:k=e.sent,d(k[0].document)&&"boolean"===typeof k[0].document["@propagate"]&&(h=k[0].document["@propagate"]),O=r,h||O.previousContext||((O=O.clone()).previousContext=r),A=a(k),e.prev=12,A.s();case 14:if((P=A.n()).done){e.next=164;break}if(C=P.value,j=C.document,r=O,null!==j){e.next=40;break}if(b||0===Object.keys(r.protected).length){e.next=38;break}if("error"!==(R=s&&s.protectedMode||"error")){e.next=25;break}throw new c("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 25:if("warn"!==R){e.next=37;break}if(console.warn("WARNING: invalid context nullification"),!(I=C.getProcessed(r))){e.next=31;break}return O=r=I,e.abrupt("continue",162);case 31:for(F=r,O=r=_.getInitialContext(s).clone(),T=0,N=Object.entries(F.protected);T<N.length;T++)D=o(N[T],2),L=D[0],D[1]&&(r.mappings[L]=u.clone(F.mappings[L]));return r.protected=u.clone(F.protected),C.setProcessed(F,O),e.abrupt("continue",162);case 37:throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,protectedMode:R});case 38:return O=r=_.getInitialContext(s).clone(),e.abrupt("continue",162);case 40:if(!(U=C.getProcessed(r))){e.next=44;break}return O=r=U,e.abrupt("continue",162);case 44:if(d(j)&&"@context"in j&&(j=j["@context"]),d(j)){e.next=47;break}throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:j});case 47:if(O=O.clone(),M=new Map,!("@version"in j)){e.next=57;break}if(1.1===j["@version"]){e.next=52;break}throw new c("Unsupported JSON-LD version: "+j["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:j});case 52:if(!r.processingMode||"json-ld-1.0"!==r.processingMode){e.next=54;break}throw new c("@version: "+j["@version"]+" not compatible with "+r.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:j});case 54:O.processingMode="json-ld-1.1",O["@version"]=j["@version"],M.set("@version",!0);case 57:if(O.processingMode=O.processingMode||r.processingMode,!("@base"in j)){e.next=70;break}if(null!==(B=j["@base"])&&!v(B)){e.next=63;break}e.next=68;break;case 63:if(!y(B)){e.next=67;break}B=m(O["@base"],B),e.next=68;break;case 67:throw new c('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:j});case 68:O["@base"]=B,M.set("@base",!0);case 70:if(!("@vocab"in j)){e.next=86;break}if(null!==(H=j["@vocab"])){e.next=76;break}delete O["@vocab"],e.next=85;break;case 76:if(p(H)){e.next=80;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:j});case 80:if(v(H)||!_.processingMode(O,1)){e.next=84;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:j});case 84:O["@vocab"]=E(O,H,{vocab:!0,base:!0},void 0,void 0,s);case 85:M.set("@vocab",!0);case 86:if(!("@language"in j)){e.next=98;break}if(null!==(z=j["@language"])){e.next=92;break}delete O["@language"],e.next=97;break;case 92:if(p(z)){e.next=96;break}throw new c('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:j});case 96:O["@language"]=z.toLowerCase();case 97:M.set("@language",!0);case 98:if(!("@direction"in j)){e.next=112;break}if(K=j["@direction"],"json-ld-1.0"!==r.processingMode){e.next=102;break}throw new c("Invalid JSON-LD syntax; @direction not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:j});case 102:if(null!==K){e.next=106;break}delete O["@direction"],e.next=111;break;case 106:if("ltr"===K||"rtl"===K){e.next=110;break}throw new c('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:j});case 110:O["@direction"]=K;case 111:M.set("@direction",!0);case 112:if(!("@propagate"in j)){e.next=119;break}if(W=j["@propagate"],"json-ld-1.0"!==r.processingMode){e.next=116;break}throw new c("Invalid JSON-LD syntax; @propagate not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:j});case 116:if("boolean"===typeof W){e.next=118;break}throw new c("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:n});case 118:M.set("@propagate",!0);case 119:if(!("@import"in j)){e.next=141;break}if(V=j["@import"],"json-ld-1.0"!==r.processingMode){e.next=123;break}throw new c("Invalid JSON-LD syntax; @import not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:j});case 123:if(p(V)){e.next=125;break}throw new c("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:n});case 125:return e.next=127,s.contextResolver.resolve({activeCtx:r,context:V,documentLoader:s.documentLoader,base:s.base});case 127:if(1===(q=e.sent).length){e.next=130;break}throw new c("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:n});case 130:if(!(J=q[0].getProcessed(r))){e.next=135;break}j=J,e.next=140;break;case 135:if(!("@import"in(G=q[0].document))){e.next=138;break}throw new c("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:n});case 138:for(Y in G)j.hasOwnProperty(Y)||(j[Y]=G[Y]);q[0].setProcessed(r,j);case 140:M.set("@import",!0);case 141:M.set("@protected",j["@protected"]||!1),e.t0=i.keys(j);case 143:if((e.t1=e.t0()).done){e.next=161;break}if($=e.t1.value,_.createTermDefinition({activeCtx:O,localCtx:j,term:$,defined:M,options:s,overrideProtected:b}),!d(j[$])||!("@context"in j[$])){e.next=159;break}if(Q=j[$]["@context"],X=!0,p(Q)&&(Z=m(s.base,Q),S.has(Z)?X=!1:S.add(Z)),!X){e.next=159;break}return e.prev=151,e.next=154,_.process({activeCtx:O.clone(),localCtx:j[$]["@context"],overrideProtected:!0,options:s,cycles:S});case 154:e.next=159;break;case 156:throw e.prev=156,e.t2=e.catch(151),new c("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:j[$]["@context"],term:$});case 159:e.next=143;break;case 161:C.setProcessed(r,O);case 162:e.next=14;break;case 164:e.next=169;break;case 166:e.prev=166,e.t3=e.catch(12),A.e(e.t3);case 169:return e.prev=169,A.f(),e.finish(169);case 172:return e.abrupt("return",O);case 173:case"end":return e.stop()}}),e,null,[[12,166,169,172],[151,156]])})));return function(t){return e.apply(this,arguments)}}(),_.createTermDefinition=function(e){var t,r=e.activeCtx,n=e.localCtx,i=e.term,o=e.defined,a=e.options,s=e.overrideProtected,u=void 0!==s&&s;if(o.has(i)){if(o.get(i))return;throw new c("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:n,term:i})}if(o.set(i,!1),n.hasOwnProperty(i)&&(t=n[i]),"@type"===i&&d(t)&&"@set"===(t["@container"]||"@set")&&_.processingMode(r,1.1)){var l=["@container","@id","@protected"],h=Object.keys(t);if(0===h.length||h.some((function(e){return!l.includes(e)})))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i})}else{if(_.isKeyword(i))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i});if(i.match(k))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:i});if(""===i)throw new c("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:n})}var g=r.mappings.get(i);r.mappings.has(i)&&r.mappings.delete(i);var y=!1;if((p(t)||null===t)&&(y=!0,t={"@id":t}),!d(t))throw new c("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:n});var m={};r.mappings.set(i,m),m.reverse=!1;var b=["@container","@id","@language","@reverse","@type"];for(var w in _.processingMode(r,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!b.includes(w))throw new c("Invalid JSON-LD syntax; a term definition must not contain "+w,"jsonld.SyntaxError",{code:"invalid term definition",context:n});var x=i.indexOf(":");if(m._termHasColon=x>0,"@reverse"in t){if("@id"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});if("@nest"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});var S=t["@reverse"];if(!p(S))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(!_.isKeyword(S)&&S.match(k))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:S}),void(g?r.mappings.set(i,g):r.mappings.delete(i));var A=E(r,S,{vocab:!0,base:!1},n,o,a);if(!v(A))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});m["@id"]=A,m.reverse=!0}else if("@id"in t){var P=t["@id"];if(P&&!p(P))throw new c("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(null===P)m["@id"]=null;else{if(!_.isKeyword(P)&&P.match(k))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:P}),void(g?r.mappings.set(i,g):r.mappings.delete(i));if(P!==i){if(P=E(r,P,{vocab:!0,base:!1},n,o,a),!v(P)&&!_.isKeyword(P))throw new c("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(i.match(/(?::[^:])|\//))if(E(r,i,{vocab:!0,base:!1},n,new Map(o).set(i,!0),a)!==P)throw new c("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});m["@id"]=P,m._prefix=y&&!m._termHasColon&&P.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in m))if(m._termHasColon){var C=i.substr(0,x);if(n.hasOwnProperty(C)&&_.createTermDefinition({activeCtx:r,localCtx:n,term:C,defined:o,options:a}),r.mappings.has(C)){var j=i.substr(x+1);m["@id"]=r.mappings.get(C)["@id"]+j}else m["@id"]=i}else if("@type"===i)m["@id"]=i;else{if(!("@vocab"in r))throw new c("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n,term:i});m["@id"]=r["@vocab"]+i}if((!0===t["@protected"]||!0===o.get("@protected")&&!1!==t["@protected"])&&(r.protected[i]=!0,m.protected=!0),o.set(i,!0),"@type"in t){var R=t["@type"];if(!p(R))throw new c("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if("@json"===R||"@none"===R){if(_.processingMode(r,1))throw new c("Invalid JSON-LD syntax; an @context @type value must not be "+'"'.concat(R,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else if("@id"!==R&&"@vocab"!==R){if(R=E(r,R,{vocab:!0,base:!1},n,o,a),!v(R))throw new c("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if(0===R.indexOf("_:"))throw new c("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}m["@type"]=R}if("@container"in t){var I=p(t["@container"])?[t["@container"]]:t["@container"]||[],F=["@list","@set","@index","@language"],T=!0,N=I.includes("@set");if(_.processingMode(r,1.1)){if(F.push("@graph","@id","@type"),I.includes("@list")){if(1!==I.length)throw new c("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else if(I.includes("@graph")){if(I.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new c("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else T&=I.length<=(N?2:1);if(I.includes("@type")&&(m["@type"]=m["@type"]||"@id",!["@id","@vocab"].includes(m["@type"])))throw new c("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else T&=!f(t["@container"]),T&=I.length<=1;if(T&=I.every((function(e){return F.includes(e)})),!(T&=!(N&&I.includes("@list"))))throw new c("Invalid JSON-LD syntax; @context @container value must be one of the following: "+F.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:n});if(m.reverse&&!I.every((function(e){return["@index","@set"].includes(e)})))throw new c("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});m["@container"]=I}if("@index"in t){if(!("@container"in t)||!m["@container"].includes("@index"))throw new c("Invalid JSON-LD syntax; @index without @index in @container: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});if(!p(t["@index"])||0===t["@index"].indexOf("@"))throw new c("Invalid JSON-LD syntax; @index must expand to an IRI: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});m["@index"]=t["@index"]}if("@context"in t&&(m["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var D=t["@language"];if(null!==D&&!p(D))throw new c("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:n});null!==D&&(D=D.toLowerCase()),m["@language"]=D}if("@prefix"in t){if(i.match(/:|\//))throw new c("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:n});if(_.isKeyword(m["@id"]))throw new c("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:n});if("boolean"!==typeof t["@prefix"])throw new c("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:n});m._prefix=!0===t["@prefix"]}if("@direction"in t){var L=t["@direction"];if(null!==L&&"ltr"!==L&&"rtl"!==L)throw new c('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:n});m["@direction"]=L}if("@nest"in t){var U=t["@nest"];if(!p(U)||"@nest"!==U&&0===U.indexOf("@"))throw new c("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:n});m["@nest"]=U}var M=m["@id"];if("@context"===M||"@preserve"===M)throw new c("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:n});if(g&&g.protected&&!u&&(r.protected[i]=!0,m.protected=!0,!O(g,m))){var B=a&&a.protectedMode||"error";if("error"===B)throw new c('Invalid JSON-LD syntax; tried to redefine "'.concat(i,'" which is a ')+"protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:n,term:i});if("warn"===B)return void console.warn("WARNING: protected term redefinition",{term:i});throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,term:i,protectedMode:B})}},_.expandIri=function(e,t,r,n){return E(e,t,r,void 0,void 0,n)},_.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),r=S.get(t);if(r)return r;var i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,r=e.inverse={},i=e.fastCurieMap={},u={},c=(e["@language"]||"@none").toLowerCase(),l=e["@direction"],f=e.mappings,d=n(f.keys()).sort(x),p=a(d);try{for(p.s();!(t=p.n()).done;){var h=t.value,g=f.get(h);if(null!==g){var v=g["@container"]||"@none";if(v=[].concat(v).sort().join(""),null!==g["@id"]){var y,m=w(g["@id"]),b=a(m);try{for(b.s();!(y=b.n()).done;){var S=y.value,k=r[S],E=_.isKeyword(S);if(k)E||g._termHasColon||u[S].push(h);else if(r[S]=k={},!E&&!g._termHasColon){u[S]=[h];var O={iri:S,terms:u[S]};S[0]in i?i[S[0]].push(O):i[S[0]]=[O]}if(k[v]||(k[v]={"@language":{},"@type":{},"@any":{}}),k=k[v],s(h,k["@any"],"@none"),g.reverse)s(h,k["@type"],"@reverse");else if("@none"===g["@type"])s(h,k["@any"],"@none"),s(h,k["@language"],"@none"),s(h,k["@type"],"@none");else if("@type"in g)s(h,k["@type"],g["@type"]);else if("@language"in g&&"@direction"in g){var A=g["@language"],P=g["@direction"];s(h,k["@language"],A&&P?"".concat(A,"_").concat(P).toLowerCase():A?A.toLowerCase():P?"_".concat(P):"@null")}else"@language"in g?s(h,k["@language"],(g["@language"]||"@null").toLowerCase()):"@direction"in g?g["@direction"]?s(h,k["@language"],"_".concat(g["@direction"])):s(h,k["@language"],"@none"):l?(s(h,k["@language"],"_".concat(l)),s(h,k["@language"],"@none"),s(h,k["@type"],"@none")):(s(h,k["@language"],c),s(h,k["@language"],"@none"),s(h,k["@type"],"@none"))}}catch(j){b.e(j)}finally{b.f()}}}}}catch(j){p.e(j)}finally{p.f()}for(var C in i)o(i,C,1);return r},clone:function(){var e={};e.mappings=u.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=u.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===S.size&&S.clear(),S.set(t,i),i;function o(e,t,r){var n,i,s,u=e[t],c=e[t]={},l=a(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;(i=r>=(n=f.iri).length?"":n[r])in c?c[i].push(f):c[i]=[f]}}catch(p){l.e(p)}finally{l.f()}for(var d in c)""!==d&&o(c,d,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},_.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(h(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},_.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},_.isKeyword=function(e){if(!p(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},function(e,t,r){"use strict";r.r(t),r.d(t,"CordovaIFrameNavigator",(function(){return c.CordovaIFrameNavigator})),r.d(t,"CordovaPopupNavigator",(function(){return c.CordovaPopupNavigator})),r.d(t,"InMemoryWebStorage",(function(){return c.InMemoryWebStorage})),r.d(t,"Log",(function(){return c.Log})),r.d(t,"OidcClient",(function(){return c.OidcClient})),r.d(t,"SessionMonitor",(function(){return c.SessionMonitor})),r.d(t,"User",(function(){return c.User})),r.d(t,"UserManager",(function(){return c.UserManager})),r.d(t,"Version",(function(){return c.Version})),r.d(t,"WebStorageStateStore",(function(){return c.WebStorageStateStore})),r.d(t,"clearOidcPersistentStorage",(function(){return j})),r.d(t,"getBearerToken",(function(){return k})),r.d(t,"getDpopToken",(function(){return E})),r.d(t,"refresh",(function(){return A})),r.d(t,"registerClient",(function(){return g})),r.d(t,"removeOidcQueryParam",(function(){return C}));var n=r(8);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a=r(2),s=r(0),u=r.n(s),c=r(16),l=r(11),f=r(72),d=r.n(f);function p(e,t){var r,n,i,o;if("invalid_redirect_uri"===e.error)throw new Error("Dynamic client registration failed: the provided redirect uri [".concat(null===(r=t.redirectUrl)||void 0===r?void 0:r.toString(),"] is invalid - ").concat(null!==(n=e.error_description)&&void 0!==n?n:""));if("invalid_client_metadata"===e.error)throw new Error("Dynamic client registration failed: the provided client metadata ".concat(JSON.stringify(t)," is invalid - ").concat(null!==(i=e.error_description)&&void 0!==i?i:""));throw new Error("Dynamic client registration failed: ".concat(e.error," - ").concat(null!==(o=e.error_description)&&void 0!==o?o:""))}function h(e,t){if(void 0===e.client_id)throw new Error("Dynamic client registration failed: no client_id has been found on ".concat(JSON.stringify(e)));if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error("Dynamic client registration failed: the returned redirect URIs ".concat(JSON.stringify(e.redirect_uris)," don't match the provided ").concat(JSON.stringify([t.redirectUrl.toString()])))}function g(e,t){return v.apply(this,arguments)}function v(){return(v=Object(a.a)(u.a.mark((function e(t,r){var n,i,o,a,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.registrationEndpoint){e.next=2;break}throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");case 2:if(Array.isArray(r.idTokenSigningAlgValuesSupported)){e.next=4;break}throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");case 4:return i=Object(l.determineSigningAlg)(r.idTokenSigningAlgValuesSupported,l.PREFERRED_SIGNING_ALG),o={client_name:t.clientName,application_type:"web",redirect_uris:[null===(n=t.redirectUrl)||void 0===n?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},t.registrationAccessToken&&(a.Authorization="Bearer ".concat(t.registrationAccessToken)),e.next=10,fetch(r.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(o)});case 10:if(!(s=e.sent).ok){e.next=17;break}return e.next=14,s.json();case 14:return h(c=e.sent,t),e.abrupt("return",{clientId:c.client_id,clientSecret:c.client_secret,idTokenSignedResponseAlg:c.id_token_signed_response_alg,clientType:"dynamic"});case 17:if(400!==s.status){e.next=24;break}return e.t0=p,e.next=21,s.json();case 21:e.t1=e.sent,e.t2=t,(0,e.t0)(e.t1,e.t2);case 24:return e.t3=Error,e.t4="Dynamic client registration failed: the server returned ".concat(s.status," ").concat(s.statusText," - "),e.next=28,s.text();case 28:throw e.t5=e.sent,e.t6=e.t4.concat.call(e.t4,e.t5),new e.t3(e.t6);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return void 0!==e.error_description&&"string"===typeof e.error_description}function m(e){return void 0!==e.refresh_token&&"string"===typeof e.refresh_token}function b(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error("The issuer [".concat(e.issuer,"] does not support the [").concat(t.grantType,"] grant"));if(!e.tokenEndpoint)throw new Error("This issuer [".concat(e.issuer,"] does not have a token endpoint"))}function w(e,t){if(void 0!==(r=e).error&&"string"===typeof r.error)throw new l.OidcProviderError("Token endpoint returned error [".concat(e.error,"]").concat(y(e)?": ".concat(e.error_description):"").concat(function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?" (see ".concat(e.error_uri,")"):""),e.error,y(e)?e.error_description:void 0);var r;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new l.InvalidResponseError(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new l.InvalidResponseError(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new l.InvalidResponseError(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new l.InvalidResponseError(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error("Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [".concat(e.token_type,"]."));return e}function x(e,t,r,n){return S.apply(this,arguments)}function S(){return(S=Object(a.a)(u.a.mark((function e(t,r,n,i){var o,a,s,c,f,p,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(t,n),o={"content-type":"application/x-www-form-urlencoded"},!i){e.next=9;break}return e.next=5,Object(l.generateDpopKeyPair)();case 5:return a=e.sent,e.next=8,Object(l.createDpopHeader)(t.tokenEndpoint,"POST",a);case 8:o.DPoP=e.sent;case 9:return r.clientSecret&&(o.Authorization="Basic ".concat(btoa("".concat(r.clientId,":").concat(r.clientSecret)))),s={method:"POST",headers:o,body:d()({grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:r.clientId})},e.next=13,fetch(t.tokenEndpoint,s);case 13:return e.next=15,e.sent;case 15:return c=e.sent,e.next=18,c.json();case 18:return f=e.sent,p=w(f,i),e.next=22,Object(l.getWebidFromTokenPayload)(p.id_token,t.jwksUri,t.issuer,r.clientId);case 22:return h=e.sent,e.abrupt("return",{accessToken:p.access_token,idToken:p.id_token,refreshToken:m(p)?p.refresh_token:void 0,webId:h,dpopKey:a,expiresIn:p.expires_in});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return _.apply(this,arguments)}function _(){return(_=Object(a.a)(u.a.mark((function e(t){var r,n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new c.OidcClient({response_mode:"query",loadUserInfo:!1}),e.next=4,n.processSigninResponse(t);case 4:if(r=e.sent,void 0!==n.settings.metadata){e.next=7;break}throw new Error("Cannot retrieve issuer metadata from client information in storage.");case 7:if(void 0!==n.settings.metadata.jwks_uri){e.next=9;break}throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");case 9:if(void 0!==n.settings.metadata.issuer){e.next=11;break}throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");case 11:if(void 0!==n.settings.client_id){e.next=13;break}throw new Error("Missing some client information in storage: 'client_id' is undefined");case 13:return e.next=15,Object(l.getWebidFromTokenPayload)(r.id_token,n.settings.metadata.jwks_uri,n.settings.metadata.issuer,n.settings.client_id);case 15:return i=e.sent,e.abrupt("return",{accessToken:r.access_token,idToken:r.id_token,webId:i,refreshToken:r.refresh_token});case 19:throw e.prev=19,e.t0=e.catch(0),new Error("Problem handling Auth Code Grant (Flow) redirect - URL [".concat(t,"]: ").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function E(e,t,r){return O.apply(this,arguments)}function O(){return(O=Object(a.a)(u.a.mark((function e(t,r,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t,r,n,!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e,t,r,n){return P.apply(this,arguments)}function P(){return(P=Object(a.a)(u.a.mark((function e(t,r,n,i){var a,s,c,f,p,h,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={grant_type:"refresh_token",refresh_token:t,scope:"openid offline_access"},s={},void 0===i){e.next=7;break}return e.next=5,Object(l.createDpopHeader)(r.tokenEndpoint,"POST",i);case 5:e.t0=e.sent,s={DPoP:e.t0};case 7:return c={},void 0!==n.clientSecret&&(c={Authorization:"Basic ".concat(btoa("".concat(n.clientId,":").concat(n.clientSecret)))}),e.next=11,fetch(r.tokenEndpoint,{method:"POST",body:d()(a),headers:o(o(o({},s),c),{},{"Content-Type":"application/x-www-form-urlencoded"})});case 11:return f=e.sent,e.prev=12,e.next=15,f.json();case 15:p=e.sent,e.next=21;break;case 18:throw e.prev=18,e.t1=e.catch(12),new Error("The token endpoint of issuer ".concat(r.issuer," returned a malformed response."));case 21:return h=w(p,void 0!==i),e.next=24,Object(l.getWebidFromTokenPayload)(h.id_token,r.jwksUri,r.issuer,n.clientId);case 24:return g=e.sent,e.abrupt("return",{accessToken:h.access_token,idToken:h.id_token,refreshToken:"string"===typeof h.refresh_token?h.refresh_token:void 0,webId:g,dpopKey:i,expiresIn:h.expires_in});case 26:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function C(e){var t=new URL(e);return t.searchParams.delete("code"),t.searchParams.delete("state"),t.hash="",t.toString()}function j(){return R.apply(this,arguments)}function R(){return(R=Object(a.a)(u.a.mark((function e(){var t,r,n,i,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new c.OidcClient({response_mode:"query"}),e.next=3,t.clearStaleState(new c.WebStorageStateStore({}));case 3:for(r=window.localStorage,n=[],i=0;i<=r.length;i+=1)(o=r.key(i))&&(o.match(/^oidc\..+$/)||o.match(/^solidClientAuthenticationUser:.+$/))&&n.push(o);n.forEach((function(e){return r.removeItem(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(43);function i(e,t){if(e){if("string"===typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";t.a=function(e){var t=new WeakMap;return function(r){if(t.has(r))return t.get(r);var n=e(r);return t.set(r,n),n}}},function(e,t,r){"use strict";var n=r(53),i="-ms-",o="-moz-",a="-webkit-",s="comm",u="rule",c="decl",l="@keyframes",f=Math.abs,d=String.fromCharCode,p=Object.assign;function h(e){return e.trim()}function g(e,t,r){return e.replace(t,r)}function v(e,t){return e.indexOf(t)}function y(e,t){return 0|e.charCodeAt(t)}function m(e,t,r){return e.slice(t,r)}function b(e){return e.length}function w(e){return e.length}function x(e,t){return t.push(e),e}function S(e,t){return e.map(t).join("")}var k=1,_=1,E=0,O=0,A=0,P="";function C(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:k,column:_,length:a,return:""}}function j(e,t){return p(C("",null,null,"",null,null,0),e,{length:-e.length},t)}function R(){return A=O>0?y(P,--O):0,_--,10===A&&(_=1,k--),A}function I(){return A=O<E?y(P,O++):0,_++,10===A&&(_=1,k++),A}function F(){return y(P,O)}function T(){return O}function N(e,t){return m(P,e,t)}function D(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return k=_=1,E=b(P=e),O=0,[]}function U(e){return P="",e}function M(e){return h(N(O-1,z(91===e?e+2:40===e?e+1:e)))}function B(e){for(;(A=F())&&A<33;)I();return D(e)>2||D(A)>3?"":" "}function H(e,t){for(;--t&&I()&&!(A<48||A>102||A>57&&A<65||A>70&&A<97););return N(e,T()+(t<6&&32==F()&&32==I()))}function z(e){for(;I();)switch(A){case e:return O;case 34:case 39:34!==e&&39!==e&&z(A);break;case 40:41===e&&z(e);break;case 92:I()}return O}function K(e,t){for(;I()&&e+A!==57&&(e+A!==84||47!==F()););return"/*"+N(t,O-1)+"*"+d(47===e?e:I())}function W(e){for(;!D(F());)I();return N(e,O)}function V(e){return U(q("",null,null,null,[""],e=L(e),0,[0],e))}function q(e,t,r,n,i,o,a,s,u){for(var c=0,l=0,f=a,p=0,h=0,y=0,m=1,w=1,S=1,k=0,_="",E=i,O=o,A=n,P=_;w;)switch(y=k,k=I()){case 40:if(108!=y&&58==P.charCodeAt(f-1)){-1!=v(P+=g(M(k),"&","&\f"),"&\f")&&(S=-1);break}case 34:case 39:case 91:P+=M(k);break;case 9:case 10:case 13:case 32:P+=B(y);break;case 92:P+=H(T()-1,7);continue;case 47:switch(F()){case 42:case 47:x(G(K(I(),T()),t,r),u);break;default:P+="/"}break;case 123*m:s[c++]=b(P)*S;case 125*m:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+l:h>0&&b(P)-f&&x(h>32?Y(P+";",n,r,f-1):Y(g(P," ","")+";",n,r,f-2),u);break;case 59:P+=";";default:if(x(A=J(P,t,r,c,l,i,s,_,E=[],O=[],f),o),123===k)if(0===l)q(P,t,A,A,E,o,f,s,O);else switch(p){case 100:case 109:case 115:q(e,A,A,n&&x(J(e,A,A,0,0,i,s,_,i,E=[],f),O),i,O,f,s,n?E:O);break;default:q(P,A,A,A,[""],O,0,s,O)}}c=l=h=0,m=S=1,_=P="",f=a;break;case 58:f=1+b(P),h=y;default:if(m<1)if(123==k)--m;else if(125==k&&0==m++&&125==R())continue;switch(P+=d(k),k*m){case 38:S=l>0?1:(P+="\f",-1);break;case 44:s[c++]=(b(P)-1)*S,S=1;break;case 64:45===F()&&(P+=M(I())),p=F(),l=f=b(_=P+=W(T())),k++;break;case 45:45===y&&2==b(P)&&(m=0)}}return o}function J(e,t,r,n,i,o,a,s,c,l,d){for(var p=i-1,v=0===i?o:[""],y=w(v),b=0,x=0,S=0;b<n;++b)for(var k=0,_=m(e,p+1,p=f(x=a[b])),E=e;k<y;++k)(E=h(x>0?v[k]+" "+_:g(_,/&\f/g,v[k])))&&(c[S++]=E);return C(e,t,r,0===i?u:s,c,l,d)}function G(e,t,r){return C(e,t,r,s,d(A),m(e,2,-2),0)}function Y(e,t,r,n){return C(e,t,r,c,m(e,0,n),m(e,n+1,-1),n)}function $(e,t){switch(function(e,t){return(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3)}(e,t)){case 5103:return a+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return a+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return a+e+o+e+i+e+e;case 6828:case 4268:return a+e+i+e+e;case 6165:return a+e+i+"flex-"+e+e;case 5187:return a+e+g(e,/(\w+).+(:[^]+)/,a+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return a+e+i+"flex-item-"+g(e,/flex-|-self/,"")+e;case 4675:return a+e+i+"flex-line-pack"+g(e,/align-content|flex-|-self/,"")+e;case 5548:return a+e+i+g(e,"shrink","negative")+e;case 5292:return a+e+i+g(e,"basis","preferred-size")+e;case 6060:return a+"box-"+g(e,"-grow","")+a+e+i+g(e,"grow","positive")+e;case 4554:return a+g(e,/([^-])(transform)/g,"$1"+a+"$2")+e;case 6187:return g(g(g(e,/(zoom-|grab)/,a+"$1"),/(image-set)/,a+"$1"),e,"")+e;case 5495:case 3959:return g(e,/(image-set\([^]*)/,a+"$1$`$1");case 4968:return g(g(e,/(.+:)(flex-)?(.*)/,a+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+a+e+e;case 4095:case 3583:case 4068:case 2532:return g(e,/(.+)-inline(.+)/,a+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(y(e,t+1)){case 109:if(45!==y(e,t+4))break;case 102:return g(e,/(.+:)(.+)-([^]+)/,"$1"+a+"$2-$3$1"+o+(108==y(e,t+3)?"$3":"$2-$3"))+e;case 115:return~v(e,"stretch")?$(g(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==y(e,t+1))break;case 6444:switch(y(e,b(e)-3-(~v(e,"!important")&&10))){case 107:return g(e,":",":"+a)+e;case 101:return g(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+a+(45===y(e,14)?"inline-":"")+"box$3$1"+a+"$2$3$1"+i+"$2box$3")+e}break;case 5936:switch(y(e,t+11)){case 114:return a+e+i+g(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return a+e+i+g(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return a+e+i+g(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return a+e+i+e+e}return e}function Q(e,t){for(var r="",n=w(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function X(e,t,r,n){switch(e.type){case"@import":case c:return e.return=e.return||e.value;case s:return"";case l:return e.return=e.value+"{"+Q(e.children,n)+"}";case u:e.value=e.props.join(",")}return b(r=Q(e.children,n))?e.return=e.value+"{"+r+"}":""}function Z(e){return function(t){t.root||(t=t.return)&&e(t)}}r(41),r(69);var ee=function(e,t,r){for(var n=0,i=0;n=i,i=F(),38===n&&12===i&&(t[r]=1),!D(i);)I();return N(e,O)},te=function(e,t){return U(function(e,t){var r=-1,n=44;do{switch(D(n)){case 0:38===n&&12===F()&&(t[r]=1),e[r]+=ee(O-1,t,r);break;case 2:e[r]+=M(n);break;case 4:if(44===n){e[++r]=58===F()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=d(n)}}while(n=I());return e}(L(e),t))},re=new WeakMap,ne=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||re.get(r))&&!n){re.set(e,!0);for(var i=[],o=te(t,i),a=r.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ie=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},oe=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case c:e.return=$(e.value,e.length);break;case l:return Q([j(e,{value:g(e.value,"@","@"+a)})],n);case u:if(e.length)return S(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Q([j(e,{props:[g(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return Q([j(e,{props:[g(t,/:(plac\w+)/,":"+a+"input-$1")]}),j(e,{props:[g(t,/:(plac\w+)/,":-moz-$1")]}),j(e,{props:[g(t,/:(plac\w+)/,i+"input-$1")]})],n)}return""}))}}];t.a=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||oe;var o,a,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)s[t[r]]=!0;u.push(e)}));var c=[ne,ie];var l,f=[X,Z((function(e){l.insert(e)}))],d=function(e){var t=w(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}(c.concat(i,f));a=function(e,t,r,n){l=r,Q(V(e?e+"{"+t.styles+"}":t.styles),d),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new n.a({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return p.sheet.hydrate(u),p}},function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,"a",(function(){return n}))},function(e,t,r){var n=r(118);e.exports=n},,function(e,t,r){var n=r(77);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(14).default,i=r(37).isKeyword,o=r(27),a=r(19),s=r(21),u=r(24),c={};e.exports=c,c.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),n={"@default":{}};return c.createNodeMap(e,n,"@default",r),c.mergeNodeMaps(n)},c.createNodeMap=function(e,t,r,l,f,d){if(a.isArray(e)){var p,h=n(e);try{for(h.s();!(p=h.n()).done;){var g=p.value;c.createNodeMap(g,t,r,l,void 0,d)}}catch(z){h.e(z)}finally{h.f()}}else if(a.isObject(e))if(o.isValue(e)){if("@type"in e){var v=e["@type"];0===v.indexOf("_:")&&(e["@type"]=v=l.getId(v))}d&&d.push(e)}else{if(d&&o.isList(e)){var y=[];return c.createNodeMap(e["@list"],t,r,l,f,y),void d.push({"@list":y})}if("@type"in e){var m,b=e["@type"],w=n(b);try{for(w.s();!(m=w.n()).done;){var x=m.value;0===x.indexOf("_:")&&l.getId(x)}}catch(z){w.e(z)}finally{w.f()}}a.isUndefined(f)&&(f=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),d&&d.push({"@id":f});var S=t[r],k=S[f]=S[f]||{};k["@id"]=f;var _,E=Object.keys(e).sort(),O=n(E);try{for(O.s();!(_=O.n()).done;){var A=_.value;if("@id"!==A)if("@reverse"!==A)if("@graph"!==A)if("@included"!==A)if("@type"!==A&&i(A)){if("@index"===A&&A in k&&(e[A]!==k[A]||e[A]["@id"]!==k[A]["@id"]))throw new u("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:k});k[A]=e[A]}else{var P=e[A];if(0===A.indexOf("_:")&&(A=l.getId(A)),0!==P.length){var C,j=n(P);try{for(j.s();!(C=j.n()).done;){var R=C.value;if("@type"===A&&(R=0===R.indexOf("_:")?l.getId(R):R),o.isSubject(R)||o.isSubjectReference(R)){if("@id"in R&&!R["@id"])continue;var I=o.isBlankNode(R)?l.getId(R["@id"]):R["@id"];s.addValue(k,A,{"@id":I},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(R,t,r,l,I)}else if(o.isValue(R))s.addValue(k,A,R,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(R)){var F=[];c.createNodeMap(R["@list"],t,r,l,f,F),R={"@list":F},s.addValue(k,A,R,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(R,t,r,l,f),s.addValue(k,A,R,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){j.e(z)}finally{j.f()}}else s.addValue(k,A,[],{propertyIsArray:!0})}else c.createNodeMap(e[A],t,r,l);else f in t||(t[f]={}),c.createNodeMap(e[A],t,f,l);else{var T={"@id":f},N=e["@reverse"];for(var D in N){var L,U=N[D],M=n(U);try{for(M.s();!(L=M.n()).done;){var B=L.value,H=B["@id"];o.isBlankNode(B)&&(H=l.getId(H)),c.createNodeMap(B,t,r,l,H),s.addValue(S[H],D,T,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){M.e(z)}finally{M.f()}}}}}catch(z){O.e(z)}finally{O.f()}}else d&&d.push(e)},c.mergeNodeMapGraphs=function(e){var t,r={},o=n(Object.keys(e).sort());try{for(o.s();!(t=o.n()).done;){var a,u=t.value,c=n(Object.keys(e[u]).sort());try{for(c.s();!(a=c.n()).done;){var l=a.value,f=e[u][l];l in r||(r[l]={"@id":l});var d,p=r[l],h=n(Object.keys(f).sort());try{for(h.s();!(d=h.n()).done;){var g=d.value;if(i(g)&&"@type"!==g)p[g]=s.clone(f[g]);else{var v,y=n(f[g]);try{for(y.s();!(v=y.n()).done;){var m=v.value;s.addValue(p,g,s.clone(m),{propertyIsArray:!0,allowDuplicate:!1})}}catch(b){y.e(b)}finally{y.f()}}}}catch(b){h.e(b)}finally{h.f()}}}catch(b){c.e(b)}finally{c.f()}}}catch(b){o.e(b)}finally{o.f()}return r},c.mergeNodeMaps=function(e){var t,r=e["@default"],i=Object.keys(e).sort(),a=n(i);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("@default"!==s){var u=e[s],c=r[s];c?"@graph"in c||(c["@graph"]=[]):r[s]=c={"@id":s,"@graph":[]};var l,f=c["@graph"],d=n(Object.keys(u).sort());try{for(d.s();!(l=d.n()).done;){var p=u[l.value];o.isSubjectReference(p)||f.push(p)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){a.e(h)}finally{a.f()}return r}},function(e,t,r){"use strict";var n=r(23).default,i=r(83).default,o=r(26).default,a=r(20).default,s=r(0),u=r(10).default,c=r(14).default,l=r(7).default,f=r(6).default,d=r(62).default,p=r(17).default,h=r(18).default,g=r(36).default,v=["ext","key_ops","alg","use"],y=["payload"],m=["encryptedKey"],b=["encryptedKey"];Object.defineProperty(t,"__esModule",{value:!0});var w=function(e){p(r,e);var t=h(r);function r(e){var n;return f(this,r),(n=t.call(this,e)).code=r.code,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(d(n),n.constructor),n}return l(r)}(g(Error));w.code="ERR_JOSE_GENERIC";var x=function(e){p(r,e);var t=h(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return f(this,r),(n=t.call(this,e)).code=r.code,n.claim=i,n.reason=o,n}return l(r)}(w);x.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var S=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);S.code="ERR_JOSE_ALG_NOT_ALLOWED";var k=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);k.code="ERR_JOSE_NOT_SUPPORTED";var _=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="decryption operation failed",e}return l(r)}(w);_.code="ERR_JWE_DECRYPTION_FAILED";var E=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);E.code="ERR_JWE_INVALID";var O=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);O.code="ERR_JWS_INVALID";var A=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);A.code="ERR_JWT_INVALID";var P=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);P.code="ERR_JWK_INVALID";var C=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(w);C.code="ERR_JWKS_INVALID";var j=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="no applicable key found in the JSON Web Key Set",e}return l(r)}(w);j.code="ERR_JWKS_NO_MATCHING_KEY";var R=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="multiple matching keys found in the JSON Web Key Set",e}return l(r)}(w);R.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var I=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="signature verification failed",e}return l(r)}(w);I.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var F=function(e){p(r,e);var t=h(r);function r(){var e;return f(this,r),(e=t.apply(this,arguments)).code=r.code,e}return l(r)}(x);F.code="ERR_JWT_EXPIRED";var T=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.filter(Boolean);if(0===i.length||1===i.length)return!0;var o,a=c(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=Object.keys(s);if(n&&0!==n.size)for(var l=0,f=u;l<f.length;l++){var d=f[l];if(n.has(d))return!1;n.add(d)}else n=new Set(u)}}catch(p){a.e(p)}finally{a.f()}return!0};function N(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}var D=new TextEncoder,L=new TextDecoder,U=Math.pow(2,32);function M(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),o=0;return t.forEach((function(e){i.set(e,o),o+=e.length})),i}function B(e,t){return M(D.encode(e),new Uint8Array([0]),t)}function H(e,t,r){if(t<0||t>=U)throw new RangeError("value must be >= 0 and <= ".concat(U-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function z(e){var t=Math.floor(e/U),r=e%U,n=new Uint8Array(8);return H(n,t,0),H(n,r,4),n}function K(e){var t=new Uint8Array(4);return H(t,e),t}function W(e){return M(K(e.length),e)}function V(e,t,r,n){return q.apply(this,arguments)}function q(){return q=u(s.mark((function e(t,r,n,i){var o,a,u,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Math.ceil((n>>3)/32),u=1;case 2:if(!(u<=o)){e.next=22;break}if((c=new Uint8Array(4+r.length+i.length)).set(K(u)),c.set(r,4),c.set(i,4+r.length),a){e.next=13;break}return e.next=10,t("sha256",c);case 10:a=e.sent,e.next=19;break;case 13:return e.t0=M,e.t1=a,e.next=17,t("sha256",c);case 17:e.t2=e.sent,a=(0,e.t0)(e.t1,e.t2);case 19:u++,e.next=2;break;case 22:return a=a.slice(0,n>>3),e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}var J=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}(),G=function(e){var t=e;"string"===typeof t&&(t=D.encode(t));for(var r=[],n=0;n<t.length;n+=32768)r.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return J.btoa(r.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},Y=function(e){var t=e;t instanceof Uint8Array&&(t=L.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return new Uint8Array(J.atob(t).split("").map((function(e){return e.charCodeAt(0)})))}catch(r){throw new TypeError("The input to be decoded is not correctly encoded.")}},$=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),Q=function(e){return function(t){var r=$.get(t);if(!r)throw new k("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}},X=function(e,t){if(t.length<<3!==$.get(e))throw new E("Invalid Initialization Vector length")},Z=J.crypto;function ee(e){return"undefined"!==typeof J.CryptoKey&&(null!=e&&e instanceof J.CryptoKey)}var te=function(e,t){var r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(r=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError("".concat(e," content encryption requires Uint8Array as key input"));break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.substr(1,3),10);break;default:throw new k("Content Encryption Algorithm ".concat(e," is not supported either by JOSE or your javascript runtime"))}if(t instanceof Uint8Array){if(t.length<<3!==r)throw new E("Invalid Content Encryption Key length")}else{if(!ee(t))throw new TypeError("Invalid Content Encryption Key type");if(t.algorithm.length!==r)throw new E("Invalid Content Encryption Key length")}},re=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");for(var r=e.length,n=0,i=-1;++i<r;)n|=e[i]^t[i];return 0===n},ne=function(e){for(var t="Key must be ",r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n.length>2){var o=n.pop();t+="one of type ".concat(n.join(", "),", or ").concat(o,".")}else 2===n.length?t+="one of type ".concat(n[0]," or ").concat(n[1],"."):t+="of type ".concat(n[0],".");return null==e?t+=" Received ".concat(e):"function"===typeof e&&e.name?t+=" Received function ".concat(e.name):"object"===typeof e&&null!=e&&e.constructor&&e.constructor.name&&(t+=" Received an instance of ".concat(e.constructor.name)),t};function ie(e,t,r,n,i,o){return oe.apply(this,arguments)}function oe(){return(oe=u(s.mark((function e(t,r,n,i,o,a){var u,c,l,f,d,p,h;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=parseInt(t.substr(1,3),10),e.next=3,Z.subtle.importKey("raw",r.subarray(u>>3),"AES-CBC",!1,["decrypt"]);case 3:return c=e.sent,e.next=6,Z.subtle.importKey("raw",r.subarray(0,u>>3),{hash:{name:"SHA-".concat(u<<1)},name:"HMAC"},!1,["sign"]);case 6:return l=e.sent,f=M(a,i,n,z(a.length<<3)),e.t0=Uint8Array,e.next=11,Z.subtle.sign("HMAC",l,f);case 11:e.t1=e.sent.slice(0,u>>3),d=new e.t0(e.t1);try{p=re(o,d)}catch(s){}if(p){e.next=16;break}throw new _;case 16:return e.prev=16,e.t2=Uint8Array,e.next=20,Z.subtle.decrypt({iv:i,name:"AES-CBC"},c,n);case 20:e.t3=e.sent,h=new e.t2(e.t3),e.next=26;break;case 24:e.prev=24,e.t4=e.catch(16);case 26:if(h){e.next=28;break}throw new _;case 28:return e.abrupt("return",h);case 29:case"end":return e.stop()}}),e,null,[[16,24]])})))).apply(this,arguments)}function ae(e,t,r,n,i){return se.apply(this,arguments)}function se(){return(se=u(s.mark((function e(t,r,n,i,o){var a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=6;break}return e.next=3,Z.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return a=e.t0,e.prev=8,e.t1=Uint8Array,e.next=12,Z.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},a,M(r,i));case 12:return e.t2=e.sent,e.abrupt("return",new e.t1(e.t2));case 16:throw e.prev=16,e.t3=e.catch(8),new _;case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var ue=function(){var e=u(s.mark((function e(t,r,n,i,o,a){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(r)||r instanceof Uint8Array){e.next=2;break}throw new TypeError(ne(r,"CryptoKey","Uint8Array"));case 2:te(t,r),X(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",ie(t,r,n,i,o,a));case 8:return e.abrupt("return",ae(r,n,i,o,a));case 9:throw new k("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,a){return e.apply(this,arguments)}}(),ce=function(){var e=u(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new k('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation, e.g. using the "pako" module.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=u(s.mark((function e(){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new k('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function de(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError("invalid key size for alg: ".concat(t))}function pe(e,t){if(ee(e))return e;if(e instanceof Uint8Array)return Z.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(ne(e,"CryptoKey","Uint8Array"))}var he=function(){var e=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(r,"wrapKey");case 2:return de(o=e.sent,t),e.next=6,(i=Z.subtle).importKey.apply(i,["raw",n].concat(fe));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,Z.subtle.wrapKey("raw",a,o,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ge=function(){var e=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(r,"unwrapKey");case 2:return de(o=e.sent,t),e.next=6,(i=Z.subtle).unwrapKey.apply(i,["raw",n,o,"AES-KW"].concat(fe));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,Z.subtle.exportKey("raw",a);case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ve=function(){var e=u(s.mark((function e(t,r){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="SHA-".concat(t.substr(-3)),e.t0=Uint8Array,e.next=4,Z.subtle.digest(n,r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ye=function(){var e=u(s.mark((function e(t,r,n,i){var o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:new Uint8Array(0),a=l.length>5&&void 0!==l[5]?l[5]:new Uint8Array(0),ee(t)){e.next=4;break}throw new TypeError(ne(t,"CryptoKey"));case 4:if(ee(r)){e.next=6;break}throw new TypeError(ne(r,"CryptoKey"));case 6:if(u=M(W(D.encode(n)),W(o),W(a),K(i)),r.usages.includes("deriveBits")){e.next=9;break}throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');case 9:return e.t0=Uint8Array,e.next=12,Z.subtle.deriveBits({name:"ECDH",public:t},r,Math.ceil(parseInt(r.algorithm.namedCurve.substr(-3),10)/8)<<3);case 12:return e.t1=e.sent,c=new e.t0(e.t1),e.abrupt("return",V(ve,c,i,u));case 15:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),me=function(){var e=u(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(t)){e.next=2;break}throw new TypeError(ne(t,"CryptoKey"));case 2:return e.next=4,Z.subtle.generateKey({name:"ECDH",namedCurve:t.algorithm.namedCurve},!0,["deriveBits"]);case 4:return e.abrupt("return",e.sent.privateKey);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){if(!ee(e))throw new TypeError(ne(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)},we=Z.getRandomValues.bind(Z);function xe(e){if(!(e instanceof Uint8Array)||e.length<8)throw new E("PBES2 Salt Input must be 8 or more octets")}function Se(e){if(e instanceof Uint8Array)return Z.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(ee(e))return e;throw new TypeError(ne(e,"CryptoKey","Uint8Array"))}var ke=function(){var e=u(s.mark((function e(t,r,n){var i,o,a,u,c,l,f,d,p,h=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=h.length>3&&void 0!==h[3]?h[3]:Math.floor(2049*Math.random())+2048,xe(o=h.length>4&&void 0!==h[4]?h[4]:we(new Uint8Array(16))),a=B(t,o),u=parseInt(t.substr(13,3),10),c={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},l={length:u,name:"AES-KW"},e.next=9,Se(r);case 9:if(!(f=e.sent).usages.includes("deriveBits")){e.next=18;break}return e.t0=Uint8Array,e.next=14,Z.subtle.deriveBits(c,f,u);case 14:e.t1=e.sent,d=new e.t0(e.t1),e.next=25;break;case 18:if(!f.usages.includes("deriveKey")){e.next=24;break}return e.next=21,Z.subtle.deriveKey(c,f,l,!1,["wrapKey"]);case 21:d=e.sent,e.next=25;break;case 24:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 25:return e.next=27,he(t.substr(-6),d,n);case 27:return p=e.sent,e.abrupt("return",{encryptedKey:p,p2c:i,p2s:G(o)});case 29:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),_e=function(){var e=u(s.mark((function e(t,r,n,i,o){var a,u,c,l,f,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xe(o),a=B(t,o),u=parseInt(t.substr(13,3),10),c={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},l={length:u,name:"AES-KW"},e.next=7,Se(r);case 7:if(!(f=e.sent).usages.includes("deriveBits")){e.next=16;break}return e.t0=Uint8Array,e.next=12,Z.subtle.deriveBits(c,f,u);case 12:e.t1=e.sent,d=new e.t0(e.t1),e.next=23;break;case 16:if(!f.usages.includes("deriveKey")){e.next=22;break}return e.next=19,Z.subtle.deriveKey(c,f,l,!1,["unwrapKey"]);case 19:d=e.sent,e.next=23;break;case 22:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 23:return e.abrupt("return",ge(t.substr(-6),d,n));case 24:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();function Ee(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new k("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var Oe=function(e,t){if(e.startsWith("HS")){var r=parseInt(e.substr(-3),10),n=t.algorithm.length;if("number"!==typeof n||n<r)throw new TypeError("".concat(e," requires symmetric keys to be ").concat(r," bits or larger"))}if(e.startsWith("RS")||e.startsWith("PS")){var i=t.algorithm.modulusLength;if("number"!==typeof i||i<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}},Ae=function(){var e=u(s.mark((function e(t,r,n){var i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(r)){e.next=2;break}throw new TypeError(ne(r,"CryptoKey"));case 2:if(Oe(t,r),!r.usages.includes("encrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,Z.subtle.encrypt(Ee(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("wrapKey")){e.next=18;break}return e.next=12,(i=Z.subtle).importKey.apply(i,["raw",n].concat(fe));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,Z.subtle.wrapKey("raw",o,r,Ee(t));case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Pe=function(){var e=u(s.mark((function e(t,r,n){var i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(r)){e.next=2;break}throw new TypeError(ne(r,"CryptoKey"));case 2:if(Oe(t,r),!r.usages.includes("decrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,Z.subtle.decrypt(Ee(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("unwrapKey")){e.next=18;break}return e.next=12,(i=Z.subtle).unwrapKey.apply(i,["raw",n,r,Ee(t)].concat(fe));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,Z.subtle.exportKey("raw",o);case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function Ce(e,t,r,n,i){return je.apply(this,arguments)}function je(){return(je=u(s.mark((function e(t,r,n,i,o){var a,u,c,l,f,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.substr(1,3),10),e.next=3,Z.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]);case 3:return u=e.sent,e.next=6,Z.subtle.importKey("raw",n.subarray(0,a>>3),{hash:{name:"SHA-".concat(a<<1)},name:"HMAC"},!1,["sign"]);case 6:return c=e.sent,e.t0=Uint8Array,e.next=10,Z.subtle.encrypt({iv:i,name:"AES-CBC"},u,r);case 10:return e.t1=e.sent,l=new e.t0(e.t1),f=M(o,i,l,z(o.length<<3)),e.t2=Uint8Array,e.next=16,Z.subtle.sign("HMAC",c,f);case 16:return e.t3=e.sent.slice(0,a>>3),d=new e.t2(e.t3),e.abrupt("return",{ciphertext:l,tag:d});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t,r,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=u(s.mark((function e(t,r,n,i){var o,a,u,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Uint8Array)){e.next=6;break}return e.next=3,Z.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=r;case 7:return o=e.t0,e.t1=Uint8Array,e.next=11,Z.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t);case 11:return e.t2=e.sent,a=new e.t1(e.t2),u=a.slice(-16),c=a.slice(0,-16),e.abrupt("return",{ciphertext:c,tag:u});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=function(){var e=u(s.mark((function e(t,r,n,i,o){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(ne(n,"CryptoKey","Uint8Array"));case 2:te(t,n),X(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",Ce(t,r,n,i,o));case 8:return e.abrupt("return",Re(r,n,i,o));case 9:throw new k("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),Te=Q(we),Ne=function(){var e=u(s.mark((function e(t,r,n,i){var o,a,u,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.substr(0,7),i||(i=Te(o)),e.next=4,Fe(o,n,r,i,new Uint8Array(0));case 4:return a=e.sent,u=a.ciphertext,c=a.tag,e.abrupt("return",{encryptedKey:u,iv:G(i),tag:G(c)});case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),De=function(){var e=u(s.mark((function e(t,r,n,i,o){var a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.substr(0,7),e.abrupt("return",ue(a,r,n,i,o,new Uint8Array(0)));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),Le=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),Ue=function(e){return function(t){var r=Le.get(t);if(!r)throw new k("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}};function Me(e){var t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new k("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new k('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(e.alg.substr(-3),10)||1)}},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new k('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":case"ES384":case"ES512":t={name:"ECDSA",namedCurve:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new k('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;default:throw new k('unsupported or invalid JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var Be=function(){var e=u(s.mark((function e(t){var r,n,i,o,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Me(t),o=i.algorithm,u=i.keyUsages,c="jwk",delete(l=a({},t)).alg,"PBKDF2"===o.name&&(c="raw",l=Y(t.k)),e.abrupt("return",Z.subtle.importKey(c,l,o,null!==(r=t.ext)&&void 0!==r&&r,null!==(n=t.key_ops)&&void 0!==n?n:u));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function He(e,t,r){return ze.apply(this,arguments)}function ze(){return(ze=u(s.mark((function e(t,r,n){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(r||(r=t.alg),"string"===typeof r&&r){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==n&&void 0!==n||(n=!0!==t.ext),!n){e.next=13;break}return e.abrupt("return",Be(a(a({},t),{},{alg:r,ext:!1})));case 13:return e.abrupt("return",Y(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new k('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",Be(a(a({},t),{},{alg:r})));case 17:throw new k('unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ke=function(e,t,r){if(!(t instanceof Uint8Array)&&!(null===t||void 0===t?void 0:t.type))throw new TypeError(ne(t,"KeyObject","CryptoKey","Uint8Array"));if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||e.match(/^A\d{3}(?:GCM)?KW$/)){if(t instanceof Uint8Array||"secret"===t.type)return;throw new TypeError('CryptoKey or KeyObject instances for symmetric algorithms must be of type "secret"')}if(t instanceof Uint8Array)throw new TypeError(ne(t,"KeyObject","CryptoKey"));if("secret"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithms must not be of type "secret"');if("sign"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm decryption must be of type "private"')};function We(e){if(!e)throw new E("JWE Encrypted Key missing")}function Ve(e,t,r){if(void 0===e[t])throw new E("JOSE Header ".concat(r," (").concat(t,") missing"))}function qe(e,t,r,n){return Je.apply(this,arguments)}function Je(){return(Je=u(s.mark((function e(t,r,n,i){var o,a,u,c,l,f,d,p,h;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ke(t,r,"decrypt"),e.t0=t,e.next="dir"===e.t0?4:"ECDH-ES"===e.t0?7:"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?9:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?25:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?27:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?33:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?35:41;break;case 4:if(void 0===n){e.next=6;break}throw new E("Encountered unexpected JWE Encrypted Key");case 6:return e.abrupt("return",r);case 7:if(void 0===n){e.next=9;break}throw new E("Encountered unexpected JWE Encrypted Key");case 9:if(Ve(i,"epk","Ephemeral Public Key"),be(r)){e.next=12;break}throw new k("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 12:return e.next=14,He(i.epk,t);case 14:return o=e.sent,void 0!==i.apu&&(a=Y(i.apu)),void 0!==i.apv&&(u=Y(i.apv)),e.next=19,ye(o,r,"ECDH-ES"===t?i.enc:t,parseInt(t.substr(-5,3),10)||Le.get(i.enc),a,u);case 19:if(c=e.sent,"ECDH-ES"!==t){e.next=22;break}return e.abrupt("return",c);case 22:return We(n),l=t.substr(-6),e.abrupt("return",ge(l,c,n));case 25:return We(n),e.abrupt("return",Pe(t,r,n));case 27:return We(n),Ve(i,"p2c","PBES2 Count"),Ve(i,"p2s","PBES2 Salt"),f=i.p2c,d=Y(i.p2s),e.abrupt("return",_e(t,r,n,f,d));case 33:return We(n),e.abrupt("return",ge(t,r,n));case 35:return We(n),Ve(i,"iv","Initialization Vector"),Ve(i,"tag","Authentication Tag"),p=Y(i.iv),h=Y(i.tag),e.abrupt("return",De(t,r,n,p,h));case 41:throw new k('unsupported or invalid "alg" (JWE Algorithm) header value');case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,r,n,i){if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var a;a=void 0!==r?new Map([].concat(o(Object.entries(r)),o(t.entries()))):t;var s,u=c(n.crit);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(!a.has(l))throw new k('Extension Header Parameter "'.concat(l,'" is not recognized'));if(void 0===i[l])throw new e('Extension Header Parameter "'.concat(l,'" is missing'));if(a.get(l)&&void 0===n[l])throw new e('Extension Header Parameter "'.concat(l,'" MUST be integrity protected'))}}catch(f){u.e(f)}finally{u.f()}return new Set(n.crit)}var Ye=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)},$e=Ue(we),Qe=Ge.bind(void 0,E,new Map),Xe=Ye.bind(void 0,"keyManagementAlgorithms"),Ze=Ye.bind(void 0,"contentEncryptionAlgorithms");function et(e,t,r){return tt.apply(this,arguments)}function tt(){return(tt=u(s.mark((function e(t,r,n){var i,o,u,c,l,f,d,p,h,g,v,y,m,b,w,x;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t)){e.next=2;break}throw new E("Flattened JWE must be an object");case 2:if(void 0!==t.protected||void 0!==t.header||void 0!==t.unprotected){e.next=4;break}throw new E("JOSE Header missing");case 4:if("string"===typeof t.iv){e.next=6;break}throw new E("JWE Initialization Vector missing or incorrect type");case 6:if("string"===typeof t.ciphertext){e.next=8;break}throw new E("JWE Ciphertext missing or incorrect type");case 8:if("string"===typeof t.tag){e.next=10;break}throw new E("JWE Authentication Tag missing or incorrect type");case 10:if(void 0===t.protected||"string"===typeof t.protected){e.next=12;break}throw new E("JWE Protected Header incorrect type");case 12:if(void 0===t.encrypted_key||"string"===typeof t.encrypted_key){e.next=14;break}throw new E("JWE Encrypted Key incorrect type");case 14:if(void 0===t.aad||"string"===typeof t.aad){e.next=16;break}throw new E("JWE AAD incorrect type");case 16:if(void 0===t.header||N(t.header)){e.next=18;break}throw new E("JWE Shared Unprotected Header incorrect type");case 18:if(void 0===t.unprotected||N(t.unprotected)){e.next=20;break}throw new E("JWE Per-Recipient Unprotected Header incorrect type");case 20:if(!t.protected){e.next=29;break}u=Y(t.protected),e.prev=22,o=JSON.parse(L.decode(u)),e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(22),new E("JWE Protected Header is invalid");case 29:if(T(o,t.header,t.unprotected)){e.next=31;break}throw new E("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");case 31:if(c=a(a(a({},o),t.header),t.unprotected),Qe(null===n||void 0===n?void 0:n.crit,o,c),void 0===c.zip){e.next=38;break}if(o&&o.zip){e.next=36;break}throw new E('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 36:if("DEF"===c.zip){e.next=38;break}throw new k('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 38:if(l=c.alg,f=c.enc,"string"===typeof l&&l){e.next=41;break}throw new E("missing JWE Algorithm (alg) in JWE Header");case 41:if("string"===typeof f&&f){e.next=43;break}throw new E("missing JWE Encryption Algorithm (enc) in JWE Header");case 43:if(d=n&&Xe(n.keyManagementAlgorithms),p=n&&Ze(n.contentEncryptionAlgorithms),!d||d.has(l)){e.next=47;break}throw new S('"alg" (Algorithm) Header Parameter not allowed');case 47:if(!p||p.has(f)){e.next=49;break}throw new S('"enc" (Encryption Algorithm) Header Parameter not allowed');case 49:if(void 0!==t.encrypted_key&&(h=Y(t.encrypted_key)),"function"!==typeof r){e.next=54;break}return e.next=53,r(o,t);case 53:r=e.sent;case 54:return e.prev=54,e.next=57,qe(l,r,h,c);case 57:g=e.sent,e.next=65;break;case 60:if(e.prev=60,e.t1=e.catch(54),!(e.t1 instanceof TypeError)){e.next=64;break}throw e.t1;case 64:g=$e(f);case 65:return v=Y(t.iv),y=Y(t.tag),m=D.encode(null!==(i=t.protected)&&void 0!==i?i:""),b=void 0!==t.aad?M(m,D.encode("."),D.encode(t.aad)):m,e.next=71,ue(f,g,Y(t.ciphertext),v,y,b);case 71:if(w=e.sent,"DEF"!==c.zip){e.next=76;break}return e.next=75,((null===n||void 0===n?void 0:n.inflateRaw)||ce)(w);case 75:w=e.sent;case 76:return x={plaintext:w},void 0!==t.protected&&(x.protectedHeader=o),void 0!==t.aad&&(x.additionalAuthenticatedData=Y(t.aad)),void 0!==t.unprotected&&(x.sharedUnprotectedHeader=t.unprotected),void 0!==t.header&&(x.unprotectedHeader=t.header),e.abrupt("return",x);case 82:case"end":return e.stop()}}),e,null,[[22,26],[54,60]])})))).apply(this,arguments)}function rt(e,t,r){return nt.apply(this,arguments)}function nt(){return(nt=u(s.mark((function e(t,r,n){var i,o,a,u,c,l,f;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=L.decode(t)),"string"===typeof t){e.next=3;break}throw new E("Compact JWE must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],u=i[2],c=i[3],l=i[4],5===i.length){e.next=6;break}throw new E("Invalid Compact JWE");case 6:return e.next=8,et({ciphertext:c||void 0,iv:u||void 0,protected:o||void 0,tag:l||void 0,encrypted_key:a||void 0},r,n);case 8:return f=e.sent,e.abrupt("return",{plaintext:f.plaintext,protectedHeader:f.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var it=function(){var e=u(s.mark((function e(t){var r,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:G(t)});case 2:if(ee(t)){e.next=4;break}throw new TypeError(ne(t,"CryptoKey","Uint8Array"));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,Z.subtle.exportKey("jwk",t);case 8:return r=e.sent,r.ext,r.key_ops,r.alg,r.use,n=i(r,v),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ot(e){return at.apply(this,arguments)}function at(){return(at=u(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",it(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var st=Ue(we);function ut(e,t,r,n){return ct.apply(this,arguments)}function ct(){return ct=u(s.mark((function e(t,r,n,o){var a,u,c,l,f,d,p,h,g,v,y,w,x,S,_,E,O,A,P,C=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=C.length>4&&void 0!==C[4]?C[4]:{},Ke(t,n,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?38:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?43:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?52:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?57:66;break;case 5:return l=n,e.abrupt("break",67);case 7:if(be(n)){e.next=9;break}throw new k("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 9:if(f=a.apu,d=a.apv,p=a.epk,e.t1=p,e.t1){e.next=16;break}return e.next=15,me(n);case 15:p=e.sent;case 16:return e.next=18,ot(p);case 18:return h=e.sent,g=h.x,v=h.y,y=h.crv,w=h.kty,e.next=25,ye(n,p,"ECDH-ES"===t?r:t,parseInt(t.substr(-5,3),10)||Le.get(r),f,d);case 25:if(x=e.sent,c={epk:{x:g,y:v,crv:y,kty:w}},f&&(c.apu=G(f)),d&&(c.apv=G(d)),"ECDH-ES"!==t){e.next=32;break}return l=x,e.abrupt("break",67);case 32:return l=o||st(r),S=t.substr(-6),e.next=36,he(S,x,l);case 36:return u=e.sent,e.abrupt("break",67);case 38:return l=o||st(r),e.next=41,Ae(t,n,l);case 41:return u=e.sent,e.abrupt("break",67);case 43:return l=o||st(r),_=a.p2c,E=a.p2s,e.next=47,ke(t,n,l,_,E);case 47:return O=e.sent,u=O.encryptedKey,c=i(O,m),e.abrupt("break",67);case 52:return l=o||st(r),e.next=55,he(t,n,l);case 55:return u=e.sent,e.abrupt("break",67);case 57:return l=o||st(r),A=a.iv,e.next=61,Ne(t,n,l,A);case 61:return P=e.sent,u=P.encryptedKey,c=i(P,b),e.abrupt("break",67);case 66:throw new k('unsupported or invalid "alg" (JWE Algorithm) header value');case 67:return e.abrupt("return",{cek:l,encryptedKey:u,parameters:c});case 68:case"end":return e.stop()}}),e)}))),ct.apply(this,arguments)}var lt=Q(we),ft=Ge.bind(void 0,E,new Map),dt=function(){function e(t){f(this,e),this._plaintext=t}return l(e,[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:function(){var e=u(s.mark((function e(t,r){var n,i,o,u,c,l,f,d,p,h,g,v,y,m,b,w;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new E("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(T(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new E("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(n=a(a(a({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),ft(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),void 0===n.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new E('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===n.zip){e.next=11;break}throw new k('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(i=n.alg,o=n.enc,"string"===typeof i&&i){e.next=14;break}throw new E('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"===typeof o&&o){e.next=16;break}throw new E('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==i){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==i){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,ut(i,o,t,this._cek,this._keyManagementParameters);case 26:if(f=e.sent,c=f.cek,u=f.encryptedKey,(l=f.parameters)&&(this._protectedHeader?this._protectedHeader=a(a({},this._protectedHeader),l):this.setProtectedHeader(l)),this._iv||(this._iv=lt(o)),p=this._protectedHeader?D.encode(G(JSON.stringify(this._protectedHeader))):D.encode(""),this._aad?(h=G(this._aad),d=M(p,D.encode("."),D.encode(h))):d=p,"DEF"!==n.zip){e.next=45;break}return e.next=37,((null===r||void 0===r?void 0:r.deflateRaw)||le)(this._plaintext);case 37:return y=e.sent,e.next=40,Fe(o,y,c,this._iv,d);case 40:m=e.sent,g=m.ciphertext,v=m.tag,e.next=50;break;case 45:return e.next=47,Fe(o,this._plaintext,c,this._iv,d);case 47:b=e.sent,g=b.ciphertext,v=b.tag;case 50:return w={ciphertext:G(g),iv:G(this._iv),tag:G(v)},u&&(w.encrypted_key=G(u)),h&&(w.aad=h),this._protectedHeader&&(w.protected=L.decode(p)),this._sharedUnprotectedHeader&&(w.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(w.header=this._unprotectedHeader),e.abrupt("return",w);case 57:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),pt=function(){function e(t){f(this,e),this._flattened=new dt(t)}return l(e,[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:function(){var e=u(s.mark((function e(t,r){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,r);case 2:return n=e.sent,e.abrupt("return",[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function ht(){return(ht=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t)){e.next=2;break}throw new E("General JWE must be an object");case 2:if(Array.isArray(t.recipients)&&t.recipients.every(N)){e.next=4;break}throw new E("JWE Recipients missing or incorrect type");case 4:i=c(t.recipients),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,et({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new _;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}function gt(){return(gt=u(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N((n=a(a({},t),r.header)).jwk)){e.next=3;break}throw new O('"jwk" (JSON Web Key) Header Parameter must be a JSON object');case 3:return e.next=5,He(n.jwk,n.alg,!0);case 5:if("public"===(i=e.sent).type){e.next=8;break}throw new O('"jwk" (JSON Web Key) Header Parameter must be a public key');case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vt=function(e,t){if("string"!==typeof e||!e)throw new P("".concat(t," missing or invalid"))};function yt(){return yt=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:"sha256",N(t)){e.next=3;break}throw new TypeError("JWK must be an object");case 3:e.t0=t.kty,e.next="EC"===e.t0?6:"OKP"===e.t0?11:"RSA"===e.t0?15:"oct"===e.t0?19:22;break;case 6:return vt(t.crv,'"crv" (Curve) Parameter'),vt(t.x,'"x" (X Coordinate) Parameter'),vt(t.y,'"y" (Y Coordinate) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x,y:t.y},e.abrupt("break",23);case 11:return vt(t.crv,'"crv" (Subtype of Key Pair) Parameter'),vt(t.x,'"x" (Public Key) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x},e.abrupt("break",23);case 15:return vt(t.e,'"e" (Exponent) Parameter'),vt(t.n,'"n" (Modulus) Parameter'),n={e:t.e,kty:t.kty,n:t.n},e.abrupt("break",23);case 19:return vt(t.k,'"k" (Key Value) Parameter'),n={k:t.k,kty:t.kty},e.abrupt("break",23);case 22:throw new k('"kty" (Key Type) Parameter missing or unsupported');case 23:return i=D.encode(JSON.stringify(n)),e.t1=G,e.next=27,ve(r,i);case 27:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 29:case"end":return e.stop()}}),e)}))),yt.apply(this,arguments)}var mt=function(){var e=u(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"function"===typeof AbortController&&(n=new AbortController,setTimeout((function(){return n.abort()}),r)),e.next=3,J.fetch(t.href,{signal:n?n.signal:void 0,redirect:"manual",referrerPolicy:"no-referrer",credentials:"omit",mode:"cors",method:"GET"});case 3:if(200===(i=e.sent).status){e.next=6;break}throw new w("Expected 200 OK from the JSON Web Key Set HTTP response");case 6:return e.prev=6,e.next=9,i.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),new w("Failed to parse the JSON Web Key Set HTTP response as JSON");case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,r){return e.apply(this,arguments)}}();function bt(e){switch(e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new k('Unsupported "alg" value for a JSON Web Key Set')}}function wt(e){return N(e)}var xt=function(){function e(t,r){if(f(this,e),this._cached=new WeakMap,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:null===r||void 0===r?void 0:r.agent},this._timeoutDuration="number"===typeof(null===r||void 0===r?void 0:r.timeoutDuration)?null===r||void 0===r?void 0:r.timeoutDuration:5e3,this._cooldownDuration="number"===typeof(null===r||void 0===r?void 0:r.cooldownDuration)?null===r||void 0===r?void 0:r.cooldownDuration:3e4}return l(e,[{key:"coolingDown",value:function(){return"undefined"!==typeof this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}},{key:"getKey",value:function(){var e=u(s.mark((function e(t){var r,n,i,o,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks){e.next=3;break}return e.next=3,this.reload();case 3:if(r=this._jwks.keys.filter((function(e){var r=e.kty===bt(t.alg);if(r&&"string"===typeof t.kid&&(r=t.kid===e.kid),r&&"string"===typeof e.alg&&(r=t.alg===e.alg),r&&"string"===typeof e.use&&(r="sig"===e.use),r&&Array.isArray(e.key_ops)&&(r=e.key_ops.includes("verify")),r&&"EdDSA"===t.alg&&(r=["Ed25519","Ed448"].includes(e.crv)),r)switch(t.alg){case"ES256":r="P-256"===e.crv;break;case"ES256K":r="secp256k1"===e.crv;break;case"ES384":r="P-384"===e.crv;break;case"ES512":r="P-521"===e.crv}return r})),n=r[0],0!==(i=r.length)){e.next=13;break}if(!1!==this.coolingDown()){e.next=10;break}return e.next=9,this.reload();case 9:return e.abrupt("return",this.getKey(t));case 10:throw new j;case 13:if(1===i){e.next=15;break}throw new R;case 15:if(this._cached.has(n)||this._cached.set(n,{}),void 0!==(o=this._cached.get(n))[t.alg]){e.next=24;break}return e.next=20,He(a(a({},n),{},{alg:t.alg}));case 20:if("public"===(u=e.sent).type){e.next=23;break}throw new C("JSON Web Key Set members must be public keys");case 23:o[t.alg]=u;case 24:return e.abrupt("return",o[t.alg]);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=u(s.mark((function e(){var t=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._pendingFetch||(this._pendingFetch=mt(this._url,this._timeoutDuration,this._options).then((function(e){if("object"!==typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(wt))throw new C("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._cooldownStarted=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=3,this._pendingFetch;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function St(e){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};default:throw new k("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}function kt(e,t,r){if(ee(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(ne(t,"CryptoKey"));return Z.subtle.importKey("raw",t,{hash:{name:"SHA-".concat(e.substr(-3))},name:"HMAC"},!1,[r])}throw new TypeError(ne(t,"CryptoKey","Uint8Array"))}var _t=function(){var e=u(s.mark((function e(t,r,n){var i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(t,r,"sign");case 2:return i=e.sent,Oe(t,i),e.next=6,Z.subtle.sign(St(t),i,n);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Et=Ge.bind(void 0,O,new Map([["b64",!0]])),Ot=function(){function e(t){f(this,e),this._payload=t}return l(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"sign",value:function(){var e=u(s.mark((function e(t,r){var n,i,o,u,c,l,f,d,p;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader){e.next=2;break}throw new O("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");case 2:if(T(this._protectedHeader,this._unprotectedHeader)){e.next=4;break}throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 4:if(n=a(a({},this._protectedHeader),this._unprotectedHeader),i=Et(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),o=!0,!i.has("b64")){e.next=11;break}if("boolean"===typeof(o=this._protectedHeader.b64)){e.next=11;break}throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 11:if("string"===typeof(u=n.alg)&&u){e.next=14;break}throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 14:return Ke(u,t,"sign"),c=this._payload,o&&(c=D.encode(G(c))),l=this._protectedHeader?D.encode(G(JSON.stringify(this._protectedHeader))):D.encode(""),f=M(l,D.encode("."),c),e.next=21,_t(u,t,f);case 21:return d=e.sent,p={signature:G(d),payload:""},o&&(p.payload=L.decode(c)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=L.decode(l)),e.abrupt("return",p);case 27:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),At=function(){function e(t){f(this,e),this._flattened=new Ot(t)}return l(e,[{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"sign",value:function(){var e=u(s.mark((function e(t,r){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.sign(t,r);case 2:if(void 0!==(n=e.sent).payload){e.next=5;break}throw new TypeError("use the flattened module for creating JWS with b64: false");case 5:return e.abrupt("return","".concat(n.protected,".").concat(n.payload,".").concat(n.signature));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Pt=function(){var e=u(s.mark((function e(t,r,n,i){var o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt(t,r,"verify");case 2:return o=e.sent,Oe(t,o),a=St(t),e.prev=5,e.next=8,Z.subtle.verify(a,o,n,i);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,r,n,i){return e.apply(this,arguments)}}(),Ct=Ge.bind(void 0,O,new Map([["b64",!0]])),jt=Ye.bind(void 0,"algorithms");function Rt(e,t,r){return It.apply(this,arguments)}function It(){return(It=u(s.mark((function e(t,r,n){var i,o,u,c,l,f,d,p,h,g,v,y;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t)){e.next=2;break}throw new O("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new O('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new O("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new O("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new O("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||N(t.header)){e.next=12;break}throw new O("JWS Unprotected Header incorrect type");case 12:if(o={},!t.protected){e.next=22;break}u=Y(t.protected),e.prev=15,o=JSON.parse(L.decode(u)),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(15),new O("JWS Protected Header is invalid");case 22:if(T(o,t.header)){e.next=24;break}throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 24:if(c=a(a({},o),t.header),l=Ct(null===n||void 0===n?void 0:n.crit,o,c),f=!0,!l.has("b64")){e.next=31;break}if("boolean"===typeof(f=o.b64)){e.next=31;break}throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 31:if("string"===typeof(d=c.alg)&&d){e.next=34;break}throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 34:if(!(p=n&&jt(n.algorithms))||p.has(d)){e.next=37;break}throw new S('"alg" (Algorithm) Header Parameter not allowed');case 37:if(!f){e.next=42;break}if("string"===typeof t.payload){e.next=40;break}throw new O("JWS Payload must be a string");case 40:e.next=44;break;case 42:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=44;break}throw new O("JWS Payload must be a string or an Uint8Array instance");case 44:if("function"!==typeof r){e.next=48;break}return e.next=47,r(o,t);case 47:r=e.sent;case 48:return Ke(d,r,"verify"),h=M(D.encode(null!==(i=t.protected)&&void 0!==i?i:""),D.encode("."),"string"===typeof t.payload?D.encode(t.payload):t.payload),g=Y(t.signature),e.next=53,Pt(d,r,g,h);case 53:if(e.sent){e.next=56;break}throw new I;case 56:return v=f?Y(t.payload):"string"===typeof t.payload?D.encode(t.payload):t.payload,y={payload:v},void 0!==t.protected&&(y.protectedHeader=o),void 0!==t.header&&(y.unprotectedHeader=t.header),e.abrupt("return",y);case 61:case"end":return e.stop()}}),e,null,[[15,19]])})))).apply(this,arguments)}function Ft(e,t,r){return Tt.apply(this,arguments)}function Tt(){return(Tt=u(s.mark((function e(t,r,n){var i,o,a,u,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=L.decode(t)),"string"===typeof t){e.next=3;break}throw new O("Compact JWS must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],u=i[2],3===i.length){e.next=6;break}throw new O("Invalid Compact JWS");case 6:return e.next=8,Rt({payload:a||void 0,protected:o||void 0,signature:u||void 0},r,n);case 8:return c=e.sent,e.abrupt("return",{payload:c.payload,protectedHeader:c.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nt=new WeakMap,Dt=function(){function e(){f(this,e)}return l(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"_protectedHeader",get:function(){return Nt.get(this).protectedHeader},set:function(e){Nt.get(this).protectedHeader=e}},{key:"_unprotectedHeader",get:function(){return Nt.get(this).unprotectedHeader},set:function(e){Nt.get(this).unprotectedHeader=e}}]),e}(),Lt=function(){function e(t){f(this,e),this._signatures=[],this._payload=t}return l(e,[{key:"addSignature",value:function(e,t){var r=new Dt;return Nt.set(r,{key:e,options:t}),this._signatures.push(r),r}},{key:"sign",value:function(){var e=u(s.mark((function e(){var t,r,n=this;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signatures.length){e.next=2;break}throw new O("at least one signature must be added");case 2:return t={signatures:[],payload:""},r=new Set,e.next=6,Promise.all(this._signatures.map(function(){var e=u(s.mark((function e(o){var a,u,c,l,f,d,p,h,g;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nt.get(o),u=a.protectedHeader,c=a.unprotectedHeader,l=a.options,f=a.key,d=new Ot(n._payload),u&&d.setProtectedHeader(u),c&&d.setUnprotectedHeader(c),e.next=6,d.sign(f,l);case 6:p=e.sent,h=p.payload,g=i(p,y),r.add(h),t.payload=h,t.signatures.push(g);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:if(1===r.size){e.next=8;break}throw new O("inconsistent use of JWS Unencoded Payload Option (RFC7797)");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ut(){return(Ut=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N(t)){e.next=2;break}throw new O("General JWS must be an object");case 2:if(Array.isArray(t.signatures)&&t.signatures.every(N)){e.next=4;break}throw new O("JWS Signatures missing or incorrect type");case 4:i=c(t.signatures),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,Rt({header:a.header,payload:t.payload,protected:a.protected,signature:a.signature},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new I;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}var Mt=function(e){return Math.floor(e.getTime()/1e3)},Bt=86400,Ht=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,zt=function(e){var t=Ht.exec(e);if(!t)throw new TypeError("Invalid time period format");var r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*Bt);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},Kt=function(e){return e.toLowerCase().replace(/^application\//,"")},Wt=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},Vt=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.typ;if(i&&("string"!==typeof e.typ||Kt(e.typ)!==Kt(i)))throw new x('unexpected "typ" JWT header value',"typ","check_failed");try{r=JSON.parse(L.decode(t))}catch(p){}if(!N(r))throw new A("JWT Claims Set must be a top-level JSON object");var o=n.issuer;if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new x('unexpected "iss" claim value',"iss","check_failed");var a=n.subject;if(a&&r.sub!==a)throw new x('unexpected "sub" claim value',"sub","check_failed");var s,u=n.audience;if(u&&!Wt(r.aud,"string"===typeof u?[u]:u))throw new x('unexpected "aud" claim value',"aud","check_failed");switch(typeof n.clockTolerance){case"string":s=zt(n.clockTolerance);break;case"number":s=n.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var c=n.currentDate,l=Mt(c||new Date);if(void 0!==r.iat||n.maxTokenAge){if("number"!==typeof r.iat)throw new x('"iat" claim must be a number',"iat","invalid");if(void 0===r.exp&&r.iat>l+s)throw new x('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==r.nbf){if("number"!==typeof r.nbf)throw new x('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>l+s)throw new x('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!==typeof r.exp)throw new x('"exp" claim must be a number',"exp","invalid");if(r.exp<=l-s)throw new F('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){var f=l-r.iat,d="number"===typeof n.maxTokenAge?n.maxTokenAge:zt(n.maxTokenAge);if(f-s>d)throw new F('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(f<0-s)throw new x('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};function qt(){return(qt=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt(t,r,n);case 2:if(i=e.sent,o=Vt(i.protectedHeader,i.plaintext,n),void 0===(a=i.protectedHeader).iss||a.iss===o.iss){e.next=7;break}throw new x('replicated "iss" claim header parameter mismatch',"iss","mismatch");case 7:if(void 0===a.sub||a.sub===o.sub){e.next=9;break}throw new x('replicated "sub" claim header parameter mismatch',"sub","mismatch");case 9:if(void 0===a.aud||JSON.stringify(a.aud)===JSON.stringify(o.aud)){e.next=11;break}throw new x('replicated "aud" claim header parameter mismatch',"aud","mismatch");case 11:return e.abrupt("return",{payload:o,protectedHeader:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jt=function(){function e(t){if(f(this,e),!N(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}return l(e,[{key:"setIssuer",value:function(e){return this._payload=a(a({},this._payload),{},{iss:e}),this}},{key:"setSubject",value:function(e){return this._payload=a(a({},this._payload),{},{sub:e}),this}},{key:"setAudience",value:function(e){return this._payload=a(a({},this._payload),{},{aud:e}),this}},{key:"setJti",value:function(e){return this._payload=a(a({},this._payload),{},{jti:e}),this}},{key:"setNotBefore",value:function(e){return this._payload=a(a({},this._payload),{},"number"===typeof e?{nbf:e}:{nbf:Mt(new Date)+zt(e)}),this}},{key:"setExpirationTime",value:function(e){return this._payload=a(a({},this._payload),{},"number"===typeof e?{exp:e}:{exp:Mt(new Date)+zt(e)}),this}},{key:"setIssuedAt",value:function(e){return this._payload=a(a({},this._payload),{},"undefined"===typeof e?{iat:Mt(new Date)}:{iat:e}),this}}]),e}(),Gt=function(e){p(r,e);var t=h(r);function r(){return f(this,r),t.apply(this,arguments)}return l(r,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"replicateIssuerAsHeader",value:function(){return this._replicateIssuerAsHeader=!0,this}},{key:"replicateSubjectAsHeader",value:function(){return this._replicateSubjectAsHeader=!0,this}},{key:"replicateAudienceAsHeader",value:function(){return this._replicateAudienceAsHeader=!0,this}},{key:"encrypt",value:function(){var e=u(s.mark((function e(t,r){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new pt(D.encode(JSON.stringify(this._payload))),this._replicateIssuerAsHeader&&(this._protectedHeader=a(a({},this._protectedHeader),{},{iss:this._payload.iss})),this._replicateSubjectAsHeader&&(this._protectedHeader=a(a({},this._protectedHeader),{},{sub:this._payload.sub})),this._replicateAudienceAsHeader&&(this._protectedHeader=a(a({},this._protectedHeader),{},{aud:this._payload.aud})),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),e.abrupt("return",n.encrypt(t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Jt),Yt=function(e){p(r,e);var t=h(r);function r(){return f(this,r),t.apply(this,arguments)}return l(r,[{key:"setProtectedHeader",value:function(e){return this._protectedHeader=e,this}},{key:"sign",value:function(){var e=u(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new At(D.encode(JSON.stringify(this._payload)))).setProtectedHeader(this._protectedHeader),!Array.isArray(null===(n=this._protectedHeader)||void 0===n?void 0:n.crit)||!this._protectedHeader.crit.includes("b64")||!1!==this._protectedHeader.b64){e.next=4;break}throw new A("JWTs MUST NOT use unencoded payload");case 4:return e.abrupt("return",i.sign(t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(Jt),$t=function(e){p(r,e);var t=h(r);function r(){return f(this,r),t.apply(this,arguments)}return l(r,[{key:"encode",value:function(){var e=G(JSON.stringify({alg:"none"})),t=G(JSON.stringify(this._payload));return"".concat(e,".").concat(t,".")}}],[{key:"decode",value:function(e,t){if("string"!==typeof e)throw new A("Unsecured JWT must be a string");var r,n=e.split("."),i=n[0],o=n[1],a=n[2];if(3!==n.length||""!==a)throw new A("Invalid Unsecured JWT");try{if("none"!==(r=JSON.parse(L.decode(Y(i)))).alg)throw new Error}catch(s){throw new A("Invalid Unsecured JWT")}return{payload:Vt(r,Y(o),t),header:r}}}]),r}(Jt);function Qt(){return(Qt=u(s.mark((function e(t,r,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(t,r,n);case 2:if(o=e.sent,!(null===(i=o.protectedHeader.crit)||void 0===i?void 0:i.includes("b64"))||!1!==o.protectedHeader.b64){e.next=5;break}throw new A("JWTs MUST NOT use unencoded payload");case 5:return a=Vt(o.protectedHeader,o.payload,n),e.abrupt("return",{payload:a,protectedHeader:o.protectedHeader});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xt=G,Zt=Y;function er(e,t){return tr.apply(this,arguments)}function tr(){return(tr=u(s.mark((function e(t,r){var n,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="HS256"===e.t0||"HS384"===e.t0||"HS512"===e.t0?3:"A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?9:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0||"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?13:17;break;case 3:return i=parseInt(t.substr(-3),10),o={name:"HMAC",hash:{name:"SHA-".concat(i)},length:i},a=["sign","verify"],e.abrupt("break",18);case 7:return i=parseInt(t.substr(-3),10),e.abrupt("return",we(new Uint8Array(i>>3)));case 9:return i=parseInt(t.substring(1,4),10),o={name:"AES-KW",length:i},a=["wrapKey","unwrapKey"],e.abrupt("break",18);case 13:return i=parseInt(t.substring(1,4),10),o={name:"AES-GCM",length:i},a=["encrypt","decrypt"],e.abrupt("break",18);case 17:throw new k('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 18:return e.abrupt("return",Z.subtle.generateKey(o,null!==(n=null===r||void 0===r?void 0:r.extractable)&&void 0!==n&&n,a));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e){var t,r=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof r||r<2048)throw new k("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}function nr(e,t){return ir.apply(this,arguments)}function ir(){return(ir=u(s.mark((function e(t,r){var n,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?3:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?6:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?9:"ES256"===e.t0?12:"ES384"===e.t0?15:"ES512"===e.t0?18:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?21:24;break;case 3:return o={name:"RSA-PSS",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:rr(r)},a=["sign","verify"],e.abrupt("break",25);case 6:return o={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:rr(r)},a=["sign","verify"],e.abrupt("break",25);case 9:return o={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(t.substr(-3),10)||1)},publicExponent:new Uint8Array([1,0,1]),modulusLength:rr(r)},a=["decrypt","unwrapKey","encrypt","wrapKey"],e.abrupt("break",25);case 12:return o={name:"ECDSA",namedCurve:"P-256"},a=["sign","verify"],e.abrupt("break",25);case 15:return o={name:"ECDSA",namedCurve:"P-384"},a=["sign","verify"],e.abrupt("break",25);case 18:return o={name:"ECDSA",namedCurve:"P-521"},a=["sign","verify"],e.abrupt("break",25);case 21:return o={name:"ECDH",namedCurve:null!==(n=null===r||void 0===r?void 0:r.crv)&&void 0!==n?n:"P-256"},a=["deriveKey","deriveBits"],e.abrupt("break",25);case 24:throw new k('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 25:return e.abrupt("return",Z.subtle.generateKey(o,null!==(i=null===r||void 0===r?void 0:r.extractable)&&void 0!==i&&i,a));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(){return(or=u(s.mark((function e(t,r){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",nr(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(){return(ar=u(s.mark((function e(t,r){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",er(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var sr=we;t.CompactEncrypt=pt,t.CompactSign=At,t.EmbeddedJWK=function(e,t){return gt.apply(this,arguments)},t.EncryptJWT=Gt,t.FlattenedEncrypt=dt,t.FlattenedSign=Ot,t.GeneralSign=Lt,t.JOSEAlgNotAllowed=S,t.JOSEError=w,t.JOSENotSupported=k,t.JWEDecryptionFailed=_,t.JWEInvalid=E,t.JWKInvalid=P,t.JWKSInvalid=C,t.JWKSMultipleMatchingKeys=R,t.JWKSNoMatchingKey=j,t.JWSInvalid=O,t.JWSSignatureVerificationFailed=I,t.JWTClaimValidationFailed=x,t.JWTExpired=F,t.JWTInvalid=A,t.SignJWT=Yt,t.UnsecuredJWT=$t,t.base64UrlDecode=Zt,t.base64UrlEncode=Xt,t.calculateThumbprint=function(e){return yt.apply(this,arguments)},t.compactDecrypt=rt,t.compactVerify=Ft,t.createRemoteJWKSet=function(e,t){var r=new xt(e,t);return r.getKey.bind(r)},t.decodeProtectedHeader=function(e){var t;if("string"===typeof e){var r=e.split(".");if(3===r.length||5===r.length)t=n(r,1)[0]}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;var i=JSON.parse(L.decode(Zt(t)));if(!N(i))throw new Error;return i}catch(o){throw new TypeError("Invalid Token or Protected Header formatting")}},t.flattenedDecrypt=et,t.flattenedVerify=Rt,t.fromKeyLike=ot,t.generalDecrypt=function(e,t,r){return ht.apply(this,arguments)},t.generalVerify=function(e,t,r){return Ut.apply(this,arguments)},t.generateKeyPair=function(e,t){return or.apply(this,arguments)},t.generateSecret=function(e,t){return ar.apply(this,arguments)},t.jwtDecrypt=function(e,t,r){return qt.apply(this,arguments)},t.jwtVerify=function(e,t,r){return Qt.apply(this,arguments)},t.parseJwk=He,t.random=sr},function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=h(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function x(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,r){return new Promise((function(n,o){var a=new b(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:x(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new S(t,e))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=d,e.Request=b,e.Response=S),t.Headers=d,t.Request=b,t.Response=S,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(3),i=r(1),o=r.n(i),a=r(191),s=r(190),u=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=function(e,t,r){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},p=Object(i.forwardRef)((function(e,t){var r=e,i=r.className,u=r.component,p=r.style,h=r.sx,g=function(e,t){var r={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&c){var o,a=Object(n.a)(c(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&f.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["className","component","style","sx"]),v=Object(a.a)({sx:h,className:i}).sxClassName,y=Object(s.a)({others:g,style:p}),m=y.mergedStyles,b=y.rest,w=u||"div";return o.a.createElement(w,function(e,t){for(var r in t||(t={}))l.call(t,r)&&d(e,r,t[r]);if(c){var i,o=Object(n.a)(c(t));try{for(o.s();!(i=o.n()).done;)r=i.value,f.call(t,r)&&d(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({ref:t,className:v,style:m},b))}));p.displayName="@mantine/core/Box"},function(e,t,r){"use strict";r.d(t,"a",(function(){return _}));var n=r(5),i=r(3);function o(e){var t,r,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=o(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}var a=function(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=o(e))&&(n&&(n+=" "),n+=t);return n},s=r(34),u=r(25),c=r(13),l=r(1);var f=r(42),d=r(28),p=function(){var e;return{getCache:function(t){return void 0===e&&(e=Object(f.a)(t||{key:"mantine",prepend:!0})),e}}}().getCache,h=Object(l.createContext)(void 0);var g=Object.defineProperty,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,b=function(e,t,r){return t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},w="ref";function x(e){var t;if(1!==e.length)return{args:e,ref:t};var r=Object(n.a)(e,1)[0];if(!(r instanceof Object))return{args:e,ref:t};if(!(w in r))return{args:e,ref:t};t=r.ref;var o=function(e,t){for(var r in t||(t={}))y.call(t,r)&&b(e,r,t[r]);if(v){var n,o=Object(i.a)(v(t));try{for(o.s();!(n=o.n()).done;)r=n.value,m.call(t,r)&&b(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({},r);return delete o.ref,{args:[o],ref:t}}var S=function(){function e(e,t,r){var n=[],i=Object(u.a)(e,n,r);return n.length<2?r:i+t(n)}return{cssFactory:function(t){var r=t.cache,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=x(t),o=i.ref,a=i.args,c=Object(s.a)(a,r.registered);return Object(u.b)(r,c,!1),"".concat(r.key,"-").concat(c.name).concat(void 0===o?"":" ".concat(o))};return{css:n,cx:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(r.registered,n,a(i))}}}}}(),k=S.cssFactory;function _(){var e=function(){var e=Object(d.b)();return Object(l.useContext)(h)||p(e)}();return function(e,t){var r=Object(l.useRef)();return(!r.current||t.length!==r.current.prevDeps.length||r.current.prevDeps.map((function(e,r){return e===t[r]})).indexOf(!1)>=0)&&(r.current={v:e(),prevDeps:Object(c.a)(t)}),r.current.v}((function(){return k({cache:e})}),[e])}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var r,s,u=a(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))i.call(r,l)&&(u[l]=r[l]);if(n){s=n(r);for(var f=0;f<s.length;f++)o.call(r,s[f])&&(u[s[f]]=r[s[f]])}}return u}},function(e,t,r){e.exports=r(126)},function(e,t,r){"use strict";var n=r(26).default,i=r(6).default,o=r(7).default;e.exports=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.prefix=t,this._existing=r,this.counter=n}return o(e,[{key:"clone",value:function(){var t=this.prefix,r=this._existing,n=this.counter;return new e(t,new Map(r),n)}},{key:"getId",value:function(e){var t=e&&this._existing.get(e);if(t)return t;var r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}},{key:"hasId",value:function(e){return this._existing.has(e)}},{key:"getOldIds",value:function(){return n(this._existing.keys())}}]),e}()},function(e,t,r){"use strict";var n=r(14).default,i=r(6).default,o=r(7).default,a="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",s="http://www.w3.org/2001/XMLSchema#string",u="NamedNode",c="BlankNode",l="Literal",f="DefaultGraph",d={};function p(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==l||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}d.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,d.empty=new RegExp("^[ \\t]*$"),d.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=function(){function e(){i(this,e)}return o(e,null,[{key:"parse",value:function(e){var t,r=[],i={},o=e.split(d.eoln),h=0,v=n(o);try{for(v.s();!(t=v.n()).done;){var y=t.value;if(h++,!d.empty.test(y)){var m=y.match(d.quad);if(null===m)throw new Error("N-Quads parse error on line "+h+".");var b={subject:null,predicate:null,object:null,graph:null};if(void 0!==m[1]?b.subject={termType:u,value:m[1]}:b.subject={termType:c,value:m[2]},b.predicate={termType:u,value:m[3]},void 0!==m[4]?b.object={termType:u,value:m[4]}:void 0!==m[5]?b.object={termType:c,value:m[5]}:(b.object={termType:l,value:void 0,datatype:{termType:u}},void 0!==m[7]?b.object.datatype.value=m[7]:void 0!==m[8]?(b.object.datatype.value=a,b.object.language=m[8]):b.object.datatype.value=s,b.object.value=m[6].replace(g,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==m[9]?b.graph={termType:u,value:m[9]}:void 0!==m[10]?b.graph={termType:c,value:m[10]}:b.graph={termType:f,value:""},b.graph.value in i){var w,x=!0,S=i[b.graph.value],k=n(S);try{for(k.s();!(w=k.n()).done;){if(p(w.value,b)){x=!1;break}}}catch(_){k.e(_)}finally{k.f()}x&&(S.push(b),r.push(b))}else i[b.graph.value]=[b],r.push(b)}}}catch(_){v.e(_)}finally{v.f()}return r}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var r,i=[],o=n(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(e.serializeQuad(a))}}catch(s){o.e(s)}finally{o.f()}return i.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,r=e.predicate,n=e.object,i=e.graph,o="";return t.termType===u?o+="<".concat(t.value,">"):o+="".concat(t.value),o+=" <".concat(r.value,"> "),n.termType===u?o+="<".concat(n.value,">"):n.termType===c?o+=n.value:(o+='"'.concat(function(e){return e.replace(h,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value),'"'),n.datatype.value===a?n.language&&(o+="@".concat(n.language)):n.datatype.value!==s&&(o+="^^<".concat(n.datatype.value,">"))),i.termType===u?o+=" <".concat(i.value,">"):i.termType===c&&(o+=" ".concat(i.value)),o+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],r={"blank node":c,IRI:u,literal:l},n=function(n){e[n].forEach((function(e){var i={};for(var o in e){var d=e[o],p={termType:r[d.type],value:d.value};p.termType===l&&(p.datatype={termType:u},"datatype"in d&&(p.datatype.value=d.datatype),"language"in d?("datatype"in d||(p.datatype.value=a),p.language=d.language):"datatype"in d||(p.datatype.value=s)),i[o]=p}i.graph="@default"===n?{termType:f,value:""}:{termType:n.startsWith("_:")?c:u,value:n},t.push(i)}))};for(var i in e)n(i);return t}}]),e}();var h=/["\\\n\r]/g;var g=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_BEFORE_EXPIRATION_SECONDS=t.EVENTS=t.PREFERRED_SIGNING_ALG=t.SOLID_CLIENT_AUTHN_KEY_PREFIX=void 0,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.PREFERRED_SIGNING_ALG=["ES256","RS256"],t.EVENTS={NEW_REFRESH_TOKEN:"newRefreshToken",ERROR:"onError",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",TIMEOUT_SET:"timeoutSet"},t.REFRESH_BEFORE_EXPIRATION_SECONDS=5},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CURRENT_URL=t.KEY_CURRENT_SESSION=void 0;var n=r(11);t.KEY_CURRENT_SESSION="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentSession"),t.KEY_CURRENT_URL="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentUrl")},function(e,t,r){"use strict";var n=r(0),i=r(6).default,o=r(7).default,a=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionInfoManager=t.clear=t.getUnauthenticatedSession=void 0;var s=r(11),u=r(67),c=r(38);function l(e,t){return f.apply(this,arguments)}function f(){return(f=a(n.mark((function e(t,r){var i,o,a,s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("tmp-resource-server-session-info");case 2:if(i=e.sent,o=JSON.parse(null!==i&&void 0!==i?i:"{}"),void 0===(a=o.webId)){e.next=10;break}return s=new URL(a),u=s.origin,e.next=10,r.clearResourceServerSessionInfo(u);case 10:return e.next=12,Promise.all([r.deleteAllUserData(t,{secure:!1}),r.deleteAllUserData(t,{secure:!0}),r.delete("clientKey",{secure:!1})]);case 12:return e.next=14,c.clearOidcPersistentStorage();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:u.v4(),fetch:fetch}},t.clear=l;var d=function(){function e(t){i(this,e),this.storageUtility=t}return o(e,[{key:"update",value:function(e,t){throw new Error("Not Implemented")}},{key:"get",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,u,c,l,f,d,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});case 2:return i=e.sent,e.next=5,this.storageUtility.getForUser(t,"webId",{secure:!0});case 5:return o=e.sent,e.next=8,this.storageUtility.getForUser(t,"clientId",{secure:!1});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(t,"clientSecret",{secure:!1});case 11:return u=e.sent,e.next=14,this.storageUtility.getForUser(t,"idToken",{secure:!1});case 14:return c=e.sent,e.next=17,this.storageUtility.getForUser(t,"redirectUrl",{secure:!1});case 17:return l=e.sent,e.next=20,this.storageUtility.getForUser(t,"refreshToken",{secure:!0});case 20:return f=e.sent,e.next=23,this.storageUtility.getForUser(t,"issuer",{secure:!1});case 23:return d=e.sent,e.next=26,this.storageUtility.getForUser(t,"tokenType",{secure:!1});case 26:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=30;break}e.t0=void 0!==r;case 30:if(!e.t0){e.next=34;break}e.t2=r,e.next=35;break;case 34:e.t2="DPoP";case 35:if(p=e.t2,s.isSupportedTokenType(p)){e.next=38;break}throw new Error("Tokens of type [".concat(p,"] are not supported."));case 38:if(void 0!==a||void 0!==c||void 0!==i||void 0!==o||void 0!==f){e.next=40;break}return e.abrupt("return",void 0);case 40:return e.abrupt("return",{sessionId:t,webId:o,isLoggedIn:"true"===i,redirectUrl:l,idToken:c,refreshToken:f,issuer:d,clientAppId:a,clientAppSecret:u,tokenType:p});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,this.storageUtility));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisteredSessionIdAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SessionInfoManager=d},function(e,t,r){"use strict";var n;r.r(t),r.d(t,"v1",(function(){return g})),r.d(t,"v3",(function(){return E})),r.d(t,"v4",(function(){return O})),r.d(t,"v5",(function(){return C})),r.d(t,"NIL",(function(){return j})),r.d(t,"version",(function(){return R})),r.d(t,"validate",(function(){return s})),r.d(t,"stringify",(function(){return d})),r.d(t,"parse",(function(){return v}));var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,f,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},p=0,h=0;var g=function(e,t,r){var n=t&&r||0,i=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var u=e.random||(e.rng||o)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=f=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:h+1,v=c-p+(g-h)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||c>p)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,h=g,f=s;var y=(1e4*(268435455&(c+=122192928e5))+g)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=255&y;var m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var b=0;b<6;++b)i[n+b]=a[b];return t||d(i)};var v=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};var y=function(e,t,r){function n(e,n,i,o){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return d(a)}try{n.name=e}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function m(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,i,o){return b((a=b(b(t,e),b(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function x(e,t,r,n,i,o,a){return w(t&r|~t&n,e,t,i,o,a)}function S(e,t,r,n,i,o,a){return w(t&n|r&~n,e,t,i,o,a)}function k(e,t,r,n,i,o,a){return w(t^r^n,e,t,i,o,a)}function _(e,t,r,n,i,o,a){return w(r^(t|~n),e,t,i,o,a)}var E=y("v3",48,(function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,u=n,c=i,l=o;r=x(r,n,i,o,e[a],7,-680876936),o=x(o,r,n,i,e[a+1],12,-389564586),i=x(i,o,r,n,e[a+2],17,606105819),n=x(n,i,o,r,e[a+3],22,-1044525330),r=x(r,n,i,o,e[a+4],7,-176418897),o=x(o,r,n,i,e[a+5],12,1200080426),i=x(i,o,r,n,e[a+6],17,-1473231341),n=x(n,i,o,r,e[a+7],22,-45705983),r=x(r,n,i,o,e[a+8],7,1770035416),o=x(o,r,n,i,e[a+9],12,-1958414417),i=x(i,o,r,n,e[a+10],17,-42063),n=x(n,i,o,r,e[a+11],22,-1990404162),r=x(r,n,i,o,e[a+12],7,1804603682),o=x(o,r,n,i,e[a+13],12,-40341101),i=x(i,o,r,n,e[a+14],17,-1502002290),r=S(r,n=x(n,i,o,r,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=S(o,r,n,i,e[a+6],9,-1069501632),i=S(i,o,r,n,e[a+11],14,643717713),n=S(n,i,o,r,e[a],20,-373897302),r=S(r,n,i,o,e[a+5],5,-701558691),o=S(o,r,n,i,e[a+10],9,38016083),i=S(i,o,r,n,e[a+15],14,-660478335),n=S(n,i,o,r,e[a+4],20,-405537848),r=S(r,n,i,o,e[a+9],5,568446438),o=S(o,r,n,i,e[a+14],9,-1019803690),i=S(i,o,r,n,e[a+3],14,-187363961),n=S(n,i,o,r,e[a+8],20,1163531501),r=S(r,n,i,o,e[a+13],5,-1444681467),o=S(o,r,n,i,e[a+2],9,-51403784),i=S(i,o,r,n,e[a+7],14,1735328473),r=k(r,n=S(n,i,o,r,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=k(o,r,n,i,e[a+8],11,-2022574463),i=k(i,o,r,n,e[a+11],16,1839030562),n=k(n,i,o,r,e[a+14],23,-35309556),r=k(r,n,i,o,e[a+1],4,-1530992060),o=k(o,r,n,i,e[a+4],11,1272893353),i=k(i,o,r,n,e[a+7],16,-155497632),n=k(n,i,o,r,e[a+10],23,-1094730640),r=k(r,n,i,o,e[a+13],4,681279174),o=k(o,r,n,i,e[a],11,-358537222),i=k(i,o,r,n,e[a+3],16,-722521979),n=k(n,i,o,r,e[a+6],23,76029189),r=k(r,n,i,o,e[a+9],4,-640364487),o=k(o,r,n,i,e[a+12],11,-421815835),i=k(i,o,r,n,e[a+15],16,530742520),r=_(r,n=k(n,i,o,r,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=_(o,r,n,i,e[a+7],10,1126891415),i=_(i,o,r,n,e[a+14],15,-1416354905),n=_(n,i,o,r,e[a+5],21,-57434055),r=_(r,n,i,o,e[a+12],6,1700485571),o=_(o,r,n,i,e[a+3],10,-1894986606),i=_(i,o,r,n,e[a+10],15,-1051523),n=_(n,i,o,r,e[a+1],21,-2054922799),r=_(r,n,i,o,e[a+8],6,1873313359),o=_(o,r,n,i,e[a+15],10,-30611744),i=_(i,o,r,n,e[a+6],15,-1560198380),n=_(n,i,o,r,e[a+13],21,1309151649),r=_(r,n,i,o,e[a+4],6,-145523070),o=_(o,r,n,i,e[a+11],10,-1120210379),i=_(i,o,r,n,e[a+2],15,718787259),n=_(n,i,o,r,e[a+9],21,-343485551),r=b(r,s),n=b(n,u),i=b(i,c),o=b(o,l)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));var O=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return d(n)};function A(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function P(e,t){return e<<t|e>>>32-t}var C=y("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var h=16;h<80;++h)d[h]=P(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var g=r[0],v=r[1],y=r[2],m=r[3],b=r[4],w=0;w<80;++w){var x=Math.floor(w/20),S=P(g,5)+A(x,v,y,m)+b+t[x]+d[w]>>>0;b=m,m=y,y=P(v,30)>>>0,v=g,g=S}r[0]=r[0]+g>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),j="00000000-0000-0000-0000-000000000000";var R=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.a=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}},function(e,t,r){"use strict";var n=r(183),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),g=u(r),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!n||!n[y])&&(!g||!g[y])&&(!s||!s[y])){var m=d(r,y);try{c(t,y,m)}catch(b){}}}}return t}},function(e,t,r){var n=r(45),i=r(124);e.exports=Object.assign({dataset:function(e){return new i(e)}},n)},function(e,t){e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sorted,n=t.skipIndex,i=t.ignorenull,o=t.skipBracket,a=t.useDot,s=t.whitespace,u=void 0===s?"+":s,c=function(e){return String(e).replace(/(?:(?![ !'-\*~])[\s\S])/g,encodeURIComponent).replace(/ /g,u).replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(e);return r?t.sort():t},f=function(e){return e.filter((function(e){return e})).join("&")},d=function(e,t){return f(l(t).map((function(r){return g(a?"".concat(e,".").concat(r):"".concat(e,"[").concat(r,"]"),t[r])})))},p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o?"":"[]";return t.length?f(t.map((function(t,i){return g(n?e+r:e+"["+i+"]",t)}))):c(e+r)},h=function(e,t){return f(Array.from(t).map((function(t){return g(e,t)})))},g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:typeof t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t===n?n=i?n:c(e)+"="+n:/string|number|boolean/.test(r)?n=c(e)+"="+c(t):Array.isArray(t)?n=p(e,t):t instanceof Set?n=h(e,t):"object"===r&&(n=d(e,t)),n};return e&&f(l(e).map((function(t){return g(t,e[t])})))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return A}));var n=r(8),i=r(3),o=r(1),a=r.n(o),s=r(190),u=r(192),c=r(193),l=Object.defineProperty,f=Object.defineProperties,d=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,v=function(e,t,r){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},y=function(e,t){for(var r in t||(t={}))h.call(t,r)&&v(e,r,t[r]);if(p){var n,o=Object(i.a)(p(t));try{for(o.s();!(n=o.n()).done;){r=n.value;g.call(t,r)&&v(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e};function m(e){var t=e.theme,r=e.color,n=e.variant;return"dimmed"===r?"dark"===t.colorScheme?t.colors.dark[2]:t.colors.gray[6]:r in t.colors?t.colors[r]["dark"===t.colorScheme?5:7]:"link"===n?t.colors[t.primaryColor]["dark"===t.colorScheme?5:7]:"dark"===t.colorScheme?t.colors.dark[0]:t.black}function b(e){return"number"===typeof e?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var w=Object(u.a)((function(e,t){var r,n,i=t.color,o=t.variant,a=t.size,s=t.lineClamp,u=t.inline,l=t.inherit,p=t.gradientDeg,h=t.gradientTo,g=t.gradientFrom,v=Object(c.a)({theme:e,variant:"gradient",gradient:{from:g,to:h,deg:p}});return{root:(r=y(y(y({},e.fn.fontStyles()),e.fn.focusStyles()),b(s)),n={color:m({color:i,theme:e,variant:o}),fontFamily:l?"inherit":e.fontFamily,fontSize:l?"inherit":e.fontSizes[a],lineHeight:l?"inherit":u?1:e.lineHeight,textDecoration:"none",WebkitTapHighlightColor:"transparent","&:hover":{textDecoration:"link"===o?"underline":"none"}},f(r,d(n))),gradient:{backgroundImage:v.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}})),x=Object.defineProperty,S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,E=function(e,t,r){return t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},O=function(e,t){for(var r in t||(t={}))k.call(t,r)&&E(e,r,t[r]);if(S){var n,o=Object(i.a)(S(t));try{for(o.s();!(n=o.n()).done;){r=n.value;_.call(t,r)&&E(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},A=Object(o.forwardRef)((function(e,t){var r=e,o=r.className,u=r.component,c=r.children,l=r.size,f=void 0===l?"md":l,d=r.weight,p=r.transform,h=r.style,g=r.color,v=r.align,y=r.variant,m=void 0===y?"text":y,b=r.lineClamp,x=r.gradient,E=void 0===x?{from:"blue",to:"cyan",deg:45}:x,A=r.inline,P=void 0!==A&&A,C=r.inherit,j=void 0!==C&&C,R=r.sx,I=function(e,t){var r={};for(var n in e)k.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&S){var o,a=Object(i.a)(S(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&_.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["className","component","children","size","weight","transform","style","color","align","variant","lineClamp","gradient","inline","inherit","sx"]),F=w({variant:m,color:g,size:f,lineClamp:b,inline:P,inherit:j,gradientFrom:E.from,gradientTo:E.to,gradientDeg:E.deg},{sx:R,name:"Text"}),T=F.classes,N=F.cx,D=Object(s.a)({others:I,style:h}),L=D.mergedStyles,U=D.rest,M=u||"div";return a.a.createElement(M,O({ref:t,className:N(T.root,Object(n.a)({},T.gradient,"gradient"===m),o),style:O({fontWeight:j?"inherit":d,textTransform:p,textAlign:v},L)},U),c)}));A.displayName="@mantine/core/Text"},function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,"a",(function(){return n}))},,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(68),i=r.n(n),o=r(74);function a(e,t){if(t&&("object"===i()(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o.a)(e)}},function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(6).default,i=r(7).default,o=function(){"use strict";function e(){n(this,e)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType}}]),e}();o.prototype.termType="DefaultGraph",o.prototype.value="",e.exports=o},function(e,t,r){var n=r(6).default,i=r(7).default,o=function(){"use strict";function e(t){n(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="NamedNode",e.exports=o},function(e,t,r){var n=r(125);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";(function(t){var n=r(0),i=r(20).default,o=r(26).default,a=r(14).default,s=r(10).default,u=r(6).default,c=r(7).default,l=r(59),f=r(86),d=r(87),p=r(60);function h(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){u(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new l("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return c(e,[{key:"main",value:function(){var e=s(n.mark((function e(t){var r,s,u,c,f,d,g,v,y,m,b,w,x,S,k,_,E,O,A,P,C,j,R,I,F,T,N,D,L,U,M,B,H,z,K,W,V;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quads=t,r=a(t);try{for(r.s();!(s=r.n()).done;)u=s.value,this._addBlankNodeQuadInfo({quad:u,component:u.subject}),this._addBlankNodeQuadInfo({quad:u,component:u.object}),this._addBlankNodeQuadInfo({quad:u,component:u.graph})}catch(n){r.e(n)}finally{r.f()}c=new Map,f=o(this.blankNodeInfo.keys()),d=0,g=a(f),e.prev=7,g.s();case 9:if((v=g.n()).done){e.next=18;break}if(y=v.value,++d%100!==0){e.next=14;break}return e.next=14,this._yield();case 14:return e.next=16,this._hashAndTrackBlankNode({id:y,hashToBlankNodes:c});case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),g.e(e.t0);case 23:return e.prev=23,g.f(),e.finish(23);case 26:m=o(c.keys()).sort(),b=[],w=a(m),e.prev=29,w.s();case 31:if((x=w.n()).done){e.next=41;break}if(S=x.value,!((k=c.get(S)).length>1)){e.next=37;break}return b.push(k),e.abrupt("continue",39);case 37:_=k[0],this.canonicalIssuer.getId(_);case 39:e.next=31;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(29),w.e(e.t1);case 46:return e.prev=46,w.f(),e.finish(46);case 49:E=0,O=b;case 50:if(!(E<O.length)){e.next=81;break}A=O[E],P=[],C=a(A),e.prev=54,C.s();case 56:if((j=C.n()).done){e.next=68;break}if(R=j.value,!this.canonicalIssuer.hasId(R)){e.next=60;break}return e.abrupt("continue",66);case 60:return(I=new l("_:b")).getId(R),e.next=64,this.hashNDegreeQuads(R,I);case 64:F=e.sent,P.push(F);case 66:e.next=56;break;case 68:e.next=73;break;case 70:e.prev=70,e.t2=e.catch(54),C.e(e.t2);case 73:return e.prev=73,C.f(),e.finish(73);case 76:for(P.sort(h),T=0,N=P;T<N.length;T++){D=N[T],L=D.issuer.getOldIds(),U=a(L);try{for(U.s();!(M=U.n()).done;)B=M.value,this.canonicalIssuer.getId(B)}catch(n){U.e(n)}finally{U.f()}}case 78:E++,e.next=50;break;case 81:H=[],z=a(this.quads);try{for(z.s();!(K=z.n()).done;)W=K.value,(V=i({},W)).subject=this._useCanonicalId({component:V.subject}),V.object=this._useCanonicalId({component:V.object}),V.graph=this._useCanonicalId({component:V.graph}),H.push(p.serializeQuad(V))}catch(n){z.e(n)}finally{z.f()}return H.sort(),e.abrupt("return",H.join(""));case 86:case"end":return e.stop()}}),e,this,[[7,20,23,26],[29,43,46,49],[54,70,73,76]])})));return function(t){return e.apply(this,arguments)}}()},{key:"hashFirstDegreeQuads",value:function(){var e=s(n.mark((function e(t){var r,i,o,s,u,c,l,d,h,g,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=this.blankNodeInfo.get(t),o=i.quads,s=a(o);try{for(s.s();!(u=s.n()).done;)c=u.value,(l={subject:null,predicate:c.predicate,object:null,graph:null}).subject=this.modifyFirstDegreeComponent(t,c.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,c.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,c.graph,"graph"),r.push(p.serializeQuad(l))}catch(n){s.e(n)}finally{s.f()}for(r.sort(),d=new f(this.hashAlgorithm),h=0,g=r;h<g.length;h++)v=g[h],d.update(v);return e.next=10,d.digest();case 10:return i.hash=e.sent,e.abrupt("return",i.hash);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hashRelatedBlankNode",value:function(){var e=s(n.mark((function e(t,r,i,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash,(s=new f(this.hashAlgorithm)).update(o),"g"!==o&&s.update(this.getRelatedPredicate(r)),s.update(a),e.abrupt("return",s.digest());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"hashNDegreeQuads",value:function(){var e=s(n.mark((function e(t,r){var i,s,u,c,l,p,h,g,v,y,m,b,w,x,S,k,_,E,O,A,P,C;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new f(this.hashAlgorithm),e.next=3,this.createHashToRelated(t,r);case 3:s=e.sent,u=o(s.keys()).sort(),c=a(u),e.prev=6,c.s();case 8:if((l=c.n()).done){e.next=69;break}p=l.value,i.update(p),h="",g=void 0,v=new d(s.get(p)),y=0;case 15:if(!v.hasNext()){e.next=65;break}if(m=v.next(),++y%3!==0){e.next=20;break}return e.next=20,this._yield();case 20:b=r.clone(),w="",x=[],S=!1,k=a(m),e.prev=25,k.s();case 27:if((_=k.n()).done){e.next=35;break}if(E=_.value,this.canonicalIssuer.hasId(E)?w+=this.canonicalIssuer.getId(E):(b.hasId(E)||x.push(E),w+=b.getId(E)),!(0!==h.length&&w>h)){e.next=33;break}return S=!0,e.abrupt("break",35);case 33:e.next=27;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(25),k.e(e.t0);case 40:return e.prev=40,k.f(),e.finish(40);case 43:if(!S){e.next=45;break}return e.abrupt("continue",15);case 45:O=0,A=x;case 46:if(!(O<A.length)){e.next=60;break}return P=A[O],e.next=50,this.hashNDegreeQuads(P,b);case 50:if(C=e.sent,w+=b.getId(P),w+="<".concat(C.hash,">"),b=C.issuer,!(0!==h.length&&w>h)){e.next=57;break}return S=!0,e.abrupt("break",60);case 57:O++,e.next=46;break;case 60:if(!S){e.next=62;break}return e.abrupt("continue",15);case 62:(0===h.length||w<h)&&(h=w,g=b),e.next=15;break;case 65:i.update(h),r=g;case 67:e.next=8;break;case 69:e.next=74;break;case 71:e.prev=71,e.t1=e.catch(6),c.e(e.t1);case 74:return e.prev=74,c.f(),e.finish(74);case 77:return e.next=79,i.digest();case 79:return e.t2=e.sent,e.t3=r,e.abrupt("return",{hash:e.t2,issuer:e.t3});case 82:case"end":return e.stop()}}),e,this,[[6,71,74,77],[25,37,40,43]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(){var e=s(n.mark((function e(t,r){var i,o,s,u,c,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,o=this.blankNodeInfo.get(t).quads,s=0,u=a(o),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=15;break}if(l=c.value,++s%100!==0){e.next=11;break}return e.next=11,this._yield();case 11:return e.next=13,Promise.all([this._addRelatedBlankNodeHash({quad:l,component:l.subject,position:"s",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.object,position:"o",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.graph,position:"g",id:t,issuer:r,hashToRelated:i})]);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u.e(e.t0);case 20:return e.prev=20,u.f(),e.finish(20);case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_hashAndTrackBlankNode",value:function(){var e=s(n.mark((function e(t){var r,i,o,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.hashToBlankNodes,e.next=3,this.hashFirstDegreeQuads(r);case 3:o=e.sent,(a=i.get(o))?a.push(r):i.set(o,[r]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(){var e=s(n.mark((function e(t){var r,i,o,a,s,u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.quad,i=t.component,o=t.position,a=t.id,s=t.issuer,u=t.hashToRelated,"BlankNode"===i.termType&&i.value!==a){e.next=3;break}return e.abrupt("return");case 3:return c=i.value,e.next=6,this.hashRelatedBlankNode(c,r,s,o);case 6:l=e.sent,(f=u.get(l))?f.push(c):u.set(l,[c]);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}},{key:"_yield",value:function(){var e=s(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return t(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()}).call(this,r(127).setImmediate)},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){l(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&l(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},n=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;n=function(t){var r=s.createElement("script");r.onreadystatechange=function(){l(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():n=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var a={callback:e,args:t};return o[i]=a,n(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,r(56),r(104))},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;r(85);var s=self.crypto||self.msCrypto;e.exports=function(){function e(t){if(o(this,e),!s||!s.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error('Unsupport algorithm "'.concat(t,'".'));this.algorithm={name:"SHA-1"}}this._content=""}return a(e,[{key:"update",value:function(e){this._content+=e}},{key:"digest",value:function(){var e=i(n.mark((function e(){var t,r,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(this._content),e.t0=Uint8Array,e.next=4,s.subtle.digest(this.algorithm,t);case 4:for(e.t1=e.sent,r=new e.t0(e.t1),i="",o=0;o<r.length;++o)i+=r[o].toString(16).padStart(2,"0");return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},function(e,t,r){"use strict";var n=r(14).default,i=r(6).default,o=r(7).default;e.exports=function(){function e(t){i(this,e),this.current=t.sort(),this.done=!1,this.dir=new Map;for(var r=0;r<t.length;++r)this.dir.set(t[r],!0)}return o(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.current,t=this.dir,r=e.slice(),i=null,o=0,a=e.length,s=0;s<a;++s){var u=e[s],c=t.get(u);(null===i||u>i)&&(c&&s>0&&u>e[s-1]||!c&&s<a-1&&u>e[s+1])&&(i=u,o=s)}if(null===i)this.done=!0;else{var l=t.get(i)?o-1:o+1;e[o]=e[l],e[l]=i;var f,d=n(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;p>i&&t.set(p,!t.get(p))}}catch(h){d.e(h)}finally{d.f()}}return r}}]),e}()},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(20).default,i=r(26).default,o=r(14).default,a=r(6).default,s=r(7).default,u=r(59),c=r(86),l=r(87),f=r(60);function d(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){a(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new u("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return s(e,[{key:"main",value:function(e){this.quads=e;var t,r=o(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph})}}catch(z){r.e(z)}finally{r.f()}var s,c=new Map,l=i(this.blankNodeInfo.keys()),p=o(l);try{for(p.s();!(s=p.n()).done;){var h=s.value;this._hashAndTrackBlankNode({id:h,hashToBlankNodes:c})}}catch(z){p.e(z)}finally{p.f()}var g,v=i(c.keys()).sort(),y=[],m=o(v);try{for(m.s();!(g=m.n()).done;){var b=g.value,w=c.get(b);if(w.length>1)y.push(w);else{var x=w[0];this.canonicalIssuer.getId(x)}}}catch(z){m.e(z)}finally{m.f()}for(var S=0,k=y;S<k.length;S++){var _,E=k[S],O=[],A=o(E);try{for(A.s();!(_=A.n()).done;){var P=_.value;if(!this.canonicalIssuer.hasId(P)){var C=new u("_:b");C.getId(P);var j=this.hashNDegreeQuads(P,C);O.push(j)}}}catch(z){A.e(z)}finally{A.f()}O.sort(d);for(var R=0,I=O;R<I.length;R++){var F,T=I[R].issuer.getOldIds(),N=o(T);try{for(N.s();!(F=N.n()).done;){var D=F.value;this.canonicalIssuer.getId(D)}}catch(z){N.e(z)}finally{N.f()}}}var L,U=[],M=o(this.quads);try{for(M.s();!(L=M.n()).done;){var B=L.value,H=n({},B);H.subject=this._useCanonicalId({component:H.subject}),H.object=this._useCanonicalId({component:H.object}),H.graph=this._useCanonicalId({component:H.graph}),U.push(f.serializeQuad(H))}}catch(z){M.e(z)}finally{M.f()}return U.sort(),U.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t,r=[],n=this.blankNodeInfo.get(e),i=n.quads,a=o(i);try{for(a.s();!(t=a.n()).done;){var s=t.value,u={subject:null,predicate:s.predicate,object:null,graph:null};u.subject=this.modifyFirstDegreeComponent(e,s.subject,"subject"),u.object=this.modifyFirstDegreeComponent(e,s.object,"object"),u.graph=this.modifyFirstDegreeComponent(e,s.graph,"graph"),r.push(f.serializeQuad(u))}}catch(g){a.e(g)}finally{a.f()}r.sort();for(var l=new c(this.hashAlgorithm),d=0,p=r;d<p.length;d++){var h=p[d];l.update(h)}return n.hash=l.digest(),n.hash}},{key:"hashRelatedBlankNode",value:function(e,t,r,n){var i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;var o=new c(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){var r,n=new c(this.hashAlgorithm),a=this.createHashToRelated(e,t),s=i(a.keys()).sort(),u=o(s);try{for(u.s();!(r=u.n()).done;){var f=r.value;n.update(f);for(var d="",p=void 0,h=new l(a.get(f));h.hasNext();){var g,v=h.next(),y=t.clone(),m="",b=[],w=!1,x=o(v);try{for(x.s();!(g=x.n()).done;){var S=g.value;if(this.canonicalIssuer.hasId(S)?m+=this.canonicalIssuer.getId(S):(y.hasId(S)||b.push(S),m+=y.getId(S)),0!==d.length&&m>d){w=!0;break}}}catch(A){x.e(A)}finally{x.f()}if(!w){for(var k=0,_=b;k<_.length;k++){var E=_[k],O=this.hashNDegreeQuads(E,y);if(m+=y.getId(E),m+="<".concat(O.hash,">"),y=O.issuer,0!==d.length&&m>d){w=!0;break}}w||(0===d.length||m<d)&&(d=m,p=y)}}n.update(d),t=p}}catch(A){u.e(A)}finally{u.f()}return{hash:n.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(e,t){var r,n=new Map,i=this.blankNodeInfo.get(e).quads,a=o(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:e,issuer:t,hashToRelated:n})}}catch(u){a.e(u)}finally{a.f()}return n}},{key:"_hashAndTrackBlankNode",value:function(e){var t=e.id,r=e.hashToBlankNodes,n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(e){var t=e.quad,r=e.component,n=e.position,i=e.id,o=e.issuer,a=e.hashToRelated;if("BlankNode"===r.termType&&r.value!==i){var s=r.value,u=this.hashRelatedBlankNode(s,t,o,n),c=a.get(u);c?c.push(s):a.set(u,[s])}}},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}]),e}()},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;e.exports=function(){function e(){o(this,e),this._requests={}}return a(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:function(){var e=i(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return r=this._requests[t]=this._loader(t),e.prev=4,e.next=7,r;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,r){"use strict";var n=r(6).default,i=r(7).default,o=r(138),a=Symbol("max"),s=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),g=Symbol("updateAgeOnGet"),v=function(){return 1},y=function(){function e(t){if(n(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[a]=t.max||1/0;var r=t.length||v;if(this[u]="function"!==typeof r?v:r,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[f]=t.dispose,this[d]=t.noDisposeOnSet||!1,this[g]=t.updateAgeOnGet||!1,this.reset()}return i(e,[{key:"max",get:function(){return this[a]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,w(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,w(this)}},{key:"lengthCalculator",get:function(){return this[u]},set:function(e){var t=this;"function"!==typeof e&&(e=v),e!==this[u]&&(this[u]=e,this[s]=0,this[p].forEach((function(e){e.length=t[u](e.value,e.key),t[s]+=e.length}))),w(this)}},{key:"length",get:function(){return this[s]}},{key:"itemCount",get:function(){return this[p].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var r=this[p].tail;null!==r;){var n=r.prev;k(this,e,r,t),r=n}}},{key:"forEach",value:function(e,t){t=t||this;for(var r=this[p].head;null!==r;){var n=r.next;k(this,e,r,t),r=n}}},{key:"keys",value:function(){return this[p].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[p].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[f]&&this[p]&&this[p].length&&this[p].forEach((function(t){return e[f](t.key,t.value)})),this[h]=new Map,this[p]=new o,this[s]=0}},{key:"dump",value:function(){var e=this;return this[p].map((function(t){return!b(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[p]}},{key:"set",value:function(e,t,r){if((r=r||this[l])&&"number"!==typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,i=this[u](t,e);if(this[h].has(e)){if(i>this[a])return x(this,this[h].get(e)),!1;var o=this[h].get(e).value;return this[f]&&(this[d]||this[f](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[s]+=i-o.length,o.length=i,this.get(e),w(this),!0}var c=new S(e,t,i,n,r);return c.length>this[a]?(this[f]&&this[f](e,t),!1):(this[s]+=c.length,this[p].unshift(c),this[h].set(e,this[p].head),w(this),!0)}},{key:"has",value:function(e){if(!this[h].has(e))return!1;var t=this[h].get(e).value;return!b(this,t)}},{key:"get",value:function(e){return m(this,e,!0)}},{key:"peek",value:function(e){return m(this,e,!1)}},{key:"pop",value:function(){var e=this[p].tail;return e?(x(this,e),e.value):null}},{key:"del",value:function(e){x(this,this[h].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-t;o>0&&this.set(n.k,n.v,o)}}}},{key:"prune",value:function(){var e=this;this[h].forEach((function(t,r){return m(e,r,!1)}))}}]),e}(),m=function(e,t,r){var n=e[h].get(t);if(n){var i=n.value;if(b(e,i)){if(x(e,n),!e[c])return}else r&&(e[g]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return i.value}},b=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},w=function(e){if(e[s]>e[a])for(var t=e[p].tail;e[s]>e[a]&&null!==t;){var r=t.prev;x(e,t),t=r}},x=function(e,t){if(t){var r=t.value;e[f]&&e[f](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[p].removeNode(t)}},S=i((function e(t,r,i,o,a){n(this,e),this.key=t,this.value=r,this.length=i,this.now=o,this.maxAge=a||0})),k=function(e,t,r,n){var i=r.value;b(e,i)&&(x(e,r),e[c]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=y},function(e,t,r){"use strict";var n=r(0),i=r(20).default,o=r(6).default,a=r(7).default,s=r(62).default,u=r(17).default,c=r(18).default,l=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.silentlyAuthenticate=void 0;var f=r(105),d=r(11),p=r(67),h=r(98),g=r(65),v=r(99);function y(e,t){return m.apply(this,arguments)}function m(){return m=l(n.mark((function e(t,r){var i,o,a,s,u=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{inIframe:!1},o=u.length>3?u[3]:void 0,e.next=4,r.validateCurrentSession();case 4:if(null===(s=e.sent)){e.next=10;break}return window.localStorage.setItem(g.KEY_CURRENT_URL,window.location.href),e.next=9,r.login({sessionId:t,prompt:"none",oidcIssuer:s.issuer,redirectUrl:s.redirectUrl,clientId:s.clientAppId,clientSecret:s.clientAppSecret,tokenType:null!==(a=s.tokenType)&&void 0!==a?a:"DPoP",inIframe:i.inIframe},o);case 9:return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}t.silentlyAuthenticate=y;var w=function(e){u(r,e);var t=c(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;return o(this,r),(e=t.call(this)).tokenRequestInProgress=!1,e.tmpFetchWithCookies=!1,e.login=function(){var t=l(n.mark((function t(r){var o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.login(i(i({sessionId:e.info.sessionId},r),{},{tokenType:null!==(o=r.tokenType)&&void 0!==o?o:"DPoP"}),s(e));case 2:return t.abrupt("return",new Promise((function(){})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetch=function(){var t=l(n.mark((function t(r,o){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.clientAuthentication.fetch(r,i(i({},o),{},{credentials:e.tmpFetchWithCookies?"include":null===o||void 0===o?void 0:o.credentials})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.logout=l(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.logout(e.info.sessionId);case 2:e.info.isLoggedIn=!1,e.tmpFetchWithCookies=!1,e.emit("logout");case 5:case"end":return t.stop()}}),t)}))),e.handleIncomingRedirect=l(n.mark((function t(){var r,i,o,a,u,c,l,f,d,p,h,m,w,x,S=arguments;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=S.length>0&&void 0!==S[0]?S[0]:{},!e.info.isLoggedIn){t.next=3;break}return t.abrupt("return",e.info);case 3:if(!e.tokenRequestInProgress){t.next=5;break}return t.abrupt("return",void 0);case 5:if(a=null!==(i=(o="string"===typeof r?{url:r}:r).url)&&void 0!==i?i:window.location.href,null===window.frameElement){t.next=10;break}return v.postRedirectUrlToParent(a),t.abrupt("return",void 0);case 10:if(!0!==o.useEssSession||!0===o.restorePreviousSession?window.localStorage.setItem("tmp-resource-server-session-enabled","false"):window.localStorage.setItem("tmp-resource-server-session-enabled","true"),"string"!==typeof(u=window.localStorage.getItem("tmp-resource-server-session-info"))||!0===o.restorePreviousSession||!0!==o.useEssSession){t.next=25;break}if(c=function(e){var t,r=Object.keys(null!==(t=e.sessions)&&void 0!==t?t:{});return"string"===typeof e.webId&&r.length>0&&"number"===typeof e.sessions[r[0]].expiration},l=JSON.parse(u),!c(l)){t.next=25;break}if(f=Object.keys(l.sessions),d=new URL(l.webId).hostname,p=f.find((function(e){return new URL(e).hostname===d})),h=null!==p&&void 0!==p?p:f[0],!(l.sessions[h].expiration-Date.now()>3e5)){t.next=25;break}return e.info.isLoggedIn=!0,e.info.webId=l.webId,e.tmpFetchWithCookies=!0,t.abrupt("return",e.info);case 25:return e.tokenRequestInProgress=!0,t.next=28,e.clientAuthentication.handleIncomingRedirect(a,s(e));case 28:if(!b(m=t.sent)){t.next=35;break}e.setSessionInfo(m),null===(w=window.localStorage.getItem(g.KEY_CURRENT_URL))?e.emit("login"):(window.localStorage.removeItem(g.KEY_CURRENT_URL),e.emit("sessionRestore",w)),t.next=43;break;case 35:if(!0!==o.restorePreviousSession){t.next=43;break}if(null===(x=window.localStorage.getItem(g.KEY_CURRENT_SESSION))){t.next=43;break}return t.next=40,y(x,e.clientAuthentication,void 0,s(e));case 40:if(!t.sent){t.next=43;break}return t.abrupt("return",new Promise((function(){})));case 43:return e.tokenRequestInProgress=!1,t.abrupt("return",m);case 45:case"end":return t.stop()}}),t)}))),a.clientAuthentication?e.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?e.clientAuthentication=h.getClientAuthenticationWithDependencies({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):e.clientAuthentication=h.getClientAuthenticationWithDependencies({}),a.sessionInfo?e.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:e.info={sessionId:null!==u&&void 0!==u?u:p.v4(),isLoggedIn:!1},v.setupIframeListener(function(){var t=l(n.mark((function t(r){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.handleIncomingRedirect(r,s(e));case 2:if(b(i=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.setSessionInfo(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on("tokenRenewal",(function(){return y(e.info.sessionId,e.clientAuthentication,{inIframe:!0},s(e))})),e}return a(r,[{key:"onLogin",value:function(e){this.on("login",e)}},{key:"onLogout",value:function(e){this.on("logout",e)}},{key:"onError",value:function(e){this.on(d.EVENTS.ERROR,e)}},{key:"onSessionRestore",value:function(e){this.on("sessionRestore",e)}},{key:"onSessionExpiration",value:function(e){this.on(d.EVENTS.SESSION_EXPIRED,e)}},{key:"setSessionInfo",value:function(e){var t=this;this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.on(d.EVENTS.SESSION_EXTENDED,(function(e){t.info.expirationDate=Date.now()+1e3*e}))}}]),r}(f.EventEmitter);t.Session=w},function(e,t,r){"use strict";var n=r(26).default,i=r(6).default,o=r(7).default,a=r(17).default,s=r(18).default,u=r(36).default;Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){a(r,e);var t=s(r);function r(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i(this,r),t.call(this,"string"===typeof e?r.substituteParams(e,n):r.appendErrorIri(r.lookupErrorIri(e,n),e,o))}return o(r,[{key:"httpResponse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.message=r.appendHttpResponseDetails(this.message,e,t),this.httpErrorResponse=e,this}},{key:"hasHttpResponse",value:function(){return void 0!==this.httpErrorResponse}},{key:"getHttpResponse",value:function(){return this.httpErrorResponse}},{key:"getHttpStatusCode",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code.");return this.httpErrorResponse.status}},{key:"getHttpStatusText",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}}],[{key:"determineIfVocabTerm",value:function(e){return void 0!==e.strict}},{key:"lookupErrorIri",value:function(e,t){if(r.determineIfVocabTerm(e)){var i=void 0===t?e.message:e.messageParams.apply(e,n(t));return void 0===i?"Looked up error message IRI [".concat(e.value,"], but found no message value."):i}return"Error message looked up at: [".concat(e.value,"]").concat(void 0===t?"":", with params [".concat(t.toString(),"]"))}},{key:"appendHttpResponseDetails",value:function(e,t,r){return r&&"undefined"!==typeof t?"".concat(e," HTTP details: status code [").concat(t.status,"], status text [").concat(t.statusText,"]."):e}},{key:"appendErrorIri",value:function(e,t,r){return r?"".concat(e," Error IRI: [").concat(t.value,"]."):e}},{key:"substituteParams",value:function(e,t){var r=e;if(void 0!==t){var n=e.split("{{").length-1;if(n!==t.length)throw new Error("Setting parameters on message [".concat(e,"], but it requires [").concat(n,"] params and we received [").concat(t.length,"]."));for(var i=0;i<t.length;i+=1){var o="{{".concat(i,"}}");r=r.replace(o,t[i])}}return r}}]),r}(u(Error));t.default=c},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default,s=r(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidResponseError=void 0;var u=function(e){o(r,e);var t=a(r);function r(e){var n;return i(this,r),(n=t.call(this,"Invalid response from OIDC provider: missing fields ".concat(e))).missingFields=e,n}return n(r)}(s(Error));t.InvalidResponseError=u},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default,s=r(36).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OidcProviderError=void 0;var u=function(e){o(r,e);var t=a(r);function r(e,n,o){var a;return i(this,r),(a=t.call(this,e)).error=n,a.errorDescription=o,a}return n(r)}(s(Error));t.OidcProviderError=u},function(e,t,r){"use strict";var n=r(23).default,i=r(0),o=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.generateDpopKeyPair=t.createDpopHeader=void 0;var a=r(50),s=r(67),u=r(64);function c(e){var t=new URL(e);return t.hash="",t.username="",t.password="",t.toString()}function l(){return(l=o(i.mark((function e(t,r,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.SignJWT({htu:c(t),htm:r.toUpperCase(),jti:s.v4()}).setProtectedHeader({alg:u.PREFERRED_SIGNING_ALG[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=o(i.mark((function e(){var t,r,o,s,c;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.generateKeyPair(u.PREFERRED_SIGNING_ALG[0]);case 2:return t=e.sent,r=t.privateKey,o=t.publicKey,e.t0=r,e.next=8,a.fromKeyLike(o);case 8:return e.t1=e.sent,s={privateKey:e.t0,publicKey:e.t1},c=n(u.PREFERRED_SIGNING_ALG,1),s.publicKey.alg=c[0],e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.createDpopHeader=function(e,t,r){return l.apply(this,arguments)},t.generateDpopKeyPair=function(){return f.apply(this,arguments)}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAuthenticationWithDependencies=void 0;var i=r(11),o=n(r(162)),a=n(r(163)),s=n(r(164)),u=n(r(165)),c=n(r(166)),l=r(168),f=n(r(169)),d=r(66),p=r(170),h=n(r(171)),g=n(r(172)),v=n(r(173)),y=n(r(174)),m=r(175),b=n(r(176));t.getClientAuthenticationWithDependencies=function(e){var t=new i.InMemoryStorage,r=e.secureStorage||t,n=e.insecureStorage||new g.default,w=new o.default(r,n),x=new c.default(w),S=new y.default(w),k=new d.SessionInfoManager(w),_=new b.default(w,x,S),E=new s.default(w,new u.default(w,new v.default),x,S),O=new h.default([new m.ErrorOidcHandler,new p.AuthCodeRedirectHandler(w,k,x,S,_),new l.FallbackRedirectHandler]);return new a.default(E,O,new f.default(k),k,x)}},function(e,t,r){"use strict";var n,i=r(0),o=r(10).default;function a(){return"undefined"===typeof n&&((n=window.document.createElement("iframe")).setAttribute("hidden","true"),n.setAttribute("sandbox","allow-scripts allow-same-origin")),n}Object.defineProperty(t,"__esModule",{value:!0}),t.postRedirectUrlToParent=t.setupIframeListener=t.redirectInIframe=void 0,t.redirectInIframe=function(e){var t=a();window.document.body.appendChild(t),t.src=e},t.setupIframeListener=function(e){"undefined"!==typeof window&&window.addEventListener("message",function(){var t=o(i.mark((function t(r){var n;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a(),r.origin!==window.location.origin||r.source!==n.contentWindow){t.next=5;break}if("string"!==typeof r.data.redirectUrl){t.next=5;break}return t.next=5,e(r.data.redirectUrl);case 5:window.document.body.contains(n)&&window.document.body.removeChild(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},t.postRedirectUrlToParent=function(e){window.top.postMessage({redirectUrl:e},window.location.origin)}},function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(107)},function(e,t,r){"use strict";(function(t){var n=r(26).default,i=r(6).default,o=r(7).default,a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/\s|\uFEFF|\xA0/,c=/\r?\n[\x20\x09]+/g,l=/[;,"]/,f=/[;,"]|\s/,d=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,p=1,h=2,g=4;function v(e){return e.replace(s,"")}function y(e){return u.test(e)}function m(e,t){for(;y(e[t]);)t++;return t}function b(e){return f.test(e)||!d.test(e)}var w=function(){function e(t){i(this,e),this.refs=[],t&&this.parse(t)}return o(e,[{key:"rel",value:function(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}},{key:"get",value:function(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}},{key:"set",value:function(e){return this.refs.push(e),this}},{key:"has",value:function(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}},{key:"parse",value:function(t,r){t=v(t=(r=r||0)?t.slice(r):t).replace(c,"");for(var i,o=p,a=t.length,s=(r=0,null);r<a;)if(o===p){if(y(t[r])){r++;continue}if("<"!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);var u;if(null!=s&&(null!=s.rel?(u=this.refs).push.apply(u,n(e.expandRelations(s))):this.refs.push(s)),-1===(b=t.indexOf(">",r)))throw new Error("Expected end of URI delimiter at offset "+r);s={uri:t.slice(r+1,b)},r=b,o=h,r++}else if(o===h){if(y(t[r])){r++;continue}if(";"===t[r])o=g,r++;else{if(","!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);o=p,r++}}else{if(o!==g)throw new Error('Unknown parser state "'+o+'"');if(";"===t[r]||y(t[r])){r++;continue}if(-1===(b=t.indexOf("=",r)))throw new Error("Expected attribute delimiter at offset "+r);var f=v(t.slice(r,b)).toLowerCase(),d="";if('"'===t[r=m(t,r=b+1)])for(r++;r<a;){if('"'===t[r]){r++;break}"\\"===t[r]&&r++,d+=t[r],r++}else{for(var b=r+1;!l.test(t[b])&&b<a;)b++;d=t.slice(r,b),r=b}switch(s[f]&&e.isSingleOccurenceAttr(f)||("*"===f[f.length-1]?s[f]=e.parseExtendedValue(d):(d="type"===f?d.toLowerCase():d,null!=s[f]?Array.isArray(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d)),t[r]){case",":o=p;break;case";":o=g}r++}null!=s&&(null!=s.rel?(i=this.refs).push.apply(i,n(e.expandRelations(s))):this.refs.push(s));return s=null,this}},{key:"toString",value:function(){for(var t=[],r="",n=null,i=0;i<this.refs.length;i++)n=this.refs[i],r=Object.keys(this.refs[i]).reduce((function(t,r){return"uri"===r?t:t+"; "+e.formatAttribute(r,n[r])}),"<"+n.uri+">"),t.push(r);return t.join(", ")}}]),e}();w.isCompatibleEncoding=function(e){return a.test(e)},w.parse=function(e,t){return(new w).parse(e,t)},w.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},w.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},w.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},w.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},w.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:w.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:w.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},w.formatExtendedAttribute=function(e,r){var n=(r.encoding||"utf-8").toUpperCase();return e+"="+n+"'"+(r.language||"en")+"'"+(t.isBuffer(r.value)&&w.isCompatibleEncoding(n)?r.value.toString(n):t.isBuffer(r.value)?r.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(r.value))},w.formatAttribute=function(e,t){return Array.isArray(t)?t.map((function(t){return w.formatAttribute(e,t)})).join("; "):"*"===e[e.length-1]||"string"!==typeof t?w.formatExtendedAttribute(e,t):(w.isTokenAttr(e)?t=b(t)?'"'+w.escapeQuotes(t)+'"':w.escapeQuotes(t):b(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=w}).call(this,r(103).Buffer)},function(e,t,r){var n=r(83).default,i=r(20).default,o=r(0),a=r(10).default,s=["documentLoader"],u=r(58),c=r(132),l=r(21),f=r(136),d=l.IdentifierIssuer,p=r(24),h=r(92),g=r(140),v=r(141).expand,y=r(142).flatten,m=r(143).fromRDF,b=r(144).toRDF,w=r(146),x=w.frameMergedOrDefault,S=w.cleanupNull,k=r(19),_=k.isArray,E=k.isObject,O=k.isString,A=r(27).isSubjectReference,P=r(37),C=P.expandIri,j=P.getInitialContext,R=P.process,I=P.processingMode,F=r(147),T=F.compact,N=F.compactIri,D=r(49),L=D.createNodeMap,U=D.createMergedNodeMap,M=D.mergeNodeMaps,B=function(e){var t={},w=new h({max:100});function k(t,r){var i=r.documentLoader,o=void 0===i?e.documentLoader:i,a=n(r,s);return Object.assign({},{documentLoader:o},a,t)}return e.compact=function(){var t=a(o.mark((function t(r,n,i){var a,s,u,c,h,g,v,y,m,b,x=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(x.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==n){t.next=4;break}throw new p("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==r){t.next=6;break}return t.abrupt("return",null);case 6:if((i=k(i,{base:O(r)?r:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new d("_:b"),contextResolver:new f({sharedCache:w})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,!i.skipExpansion){t.next=13;break}a=r,t.next=16;break;case 13:return t.next=15,e.expand(r,i);case 15:a=t.sent;case 16:return t.next=18,e.processContext(j(i),n,i);case 18:return s=t.sent,t.next=21,T({activeCtx:s,element:a,options:i,compactionMap:i.compactionMap});case 21:u=t.sent,i.compactArrays&&!i.graph&&_(u)?1===u.length?u=u[0]:0===u.length&&(u={}):i.graph&&E(u)&&(u=[u]),E(n)&&"@context"in n&&(n=n["@context"]),n=l.clone(n),_(n)||(n=[n]),c=n,n=[];for(h=0;h<c.length;++h)(!E(c[h])||Object.keys(c[h]).length>0)&&n.push(c[h]);if(g=n.length>0,1===n.length&&(n=n[0]),_(u))v=N({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),y=u,u={},g&&(u["@context"]=n),u[v]=y;else if(E(u)&&g)for(b in m=u,u={"@context":n},m)u[b]=m[b];return t.abrupt("return",u);case 33:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.expand=function(){var t=a(o.mark((function t(r,n){var i,a,s,u,c,d,p,h,g,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(n=k(n,{keepFreeFloatingNodes:!1,contextResolver:new f({sharedCache:w})})).expansionMap&&(n.expansionMap=void 0),i={},a=[],"expandContext"in n&&(s=l.clone(n.expandContext),E(s)&&"@context"in s?i.expandContext=s:i.expandContext={"@context":s},a.push(i.expandContext)),O(r)){t.next=11;break}i.input=l.clone(r),t.next=17;break;case 11:return t.next=13,e.get(r,n);case 13:c=t.sent,u=c.documentUrl,i.input=c.document,c.contextUrl&&(i.remoteContext={"@context":c.contextUrl},a.push(i.remoteContext));case 17:"base"in n||(n.base=u||""),d=j(n),p=0,h=a;case 20:if(!(p<h.length)){t.next=28;break}return g=h[p],t.next=24,R({activeCtx:d,localCtx:g,options:n});case 24:d=t.sent;case 25:p++,t.next=20;break;case 28:return t.next=30,v({activeCtx:d,element:i.input,options:n,expansionMap:n.expansionMap});case 30:return y=t.sent,E(y)&&"@graph"in y&&1===Object.keys(y).length?y=y["@graph"]:null===y&&(y=[]),_(y)||(y=[y]),t.abrupt("return",y);case 34:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.flatten=function(){var t=a(o.mark((function t(r,n,i){var a,s,u,c=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return n="function"===typeof n?null:n||null,i=k(i,{base:O(r)?r:"",contextResolver:new f({sharedCache:w})}),t.next=6,e.expand(r,i);case 6:if(a=t.sent,s=y(a),null!==n){t.next=10;break}return t.abrupt("return",s);case 10:return i.graph=!0,i.skipExpansion=!0,t.next=14,e.compact(s,n,i);case 14:return u=t.sent,t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.frame=function(){var t=a(o.mark((function t(r,n,a){var s,u,c,l,d,p,h,g,v,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(a=k(a,{base:O(r)?r:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new f({sharedCache:w})}),!O(n)){t.next=9;break}return t.next=6,e.get(n,a);case 6:s=t.sent,n=s.document,s.contextUrl&&((u=n["@context"])?_(u)?u.push(s.contextUrl):u=[u,s.contextUrl]:u=s.contextUrl,n["@context"]=u);case 9:return c=n&&n["@context"]||{},t.next=12,e.processContext(j(a),c,a);case 12:return l=t.sent,a.hasOwnProperty("omitGraph")||(a.omitGraph=I(l,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=I(l,1.1)),t.next=17,e.expand(r,a);case 17:return d=t.sent,(p=i({},a)).isFrame=!0,p.keepFreeFloatingNodes=!0,t.next=23,e.expand(n,p);case 23:return h=t.sent,g=Object.keys(n).map((function(e){return C(l,e,{vocab:!0})})),p.merged=!g.includes("@graph"),p.is11=I(l,1.1),v=x(d,h,p),p.graph=!a.omitGraph,p.skipExpansion=!0,p.link={},p.framing=!0,t.next=34,e.compact(v,c,p);case 34:return y=t.sent,p.link={},y=S(y,p),t.abrupt("return",y);case 38:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.link=function(){var t=a(o.mark((function t(r,n,i){var a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},n&&(a["@context"]=n),a["@embed"]="@link",t.abrupt("return",e.frame(r,a,i));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.normalize=e.canonize=function(){var t=a(o.mark((function t(r,n){var a,s,c,l=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(n=k(n,{base:O(r)?r:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new f({sharedCache:w})})))){t.next=8;break}if("application/n-quads"===n.inputFormat||"application/nquads"===n.inputFormat){t.next=6;break}throw new p("Unknown canonicalization input format.","jsonld.CanonizeError");case 6:return a=g.parse(r),t.abrupt("return",u.canonize(a,n));case 8:return delete(s=i({},n)).format,s.produceGeneralizedRdf=!1,t.next=13,e.toRDF(r,s);case 13:return c=t.sent,t.abrupt("return",u.canonize(c,n));case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.fromRDF=function(){var e=a(o.mark((function e(r,n){var i,a,s,u=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(n=k(n,{format:O(r)?"application/n-quads":void 0}),i=n.format,a=n.rdfParser,!i){e.next=11;break}if(a=a||t[i]){e.next=9;break}throw new p("Unknown input format.","jsonld.UnknownFormat",{format:i});case 9:e.next=12;break;case 11:a=function(){return r};case 12:return e.next=14,a(r);case 14:return s=e.sent,e.abrupt("return",m(s,n));case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.toRDF=function(){var t=a(o.mark((function t(r,n){var i,a,s=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(n=k(n,{base:O(r)?r:"",skipExpansion:!1,contextResolver:new f({sharedCache:w})})).skipExpansion){t.next=7;break}i=r,t.next=10;break;case 7:return t.next=9,e.expand(r,n);case 9:i=t.sent;case 10:if(a=b(i,n),!n.format){t.next=15;break}if("application/n-quads"!==n.format&&"application/nquads"!==n.format){t.next=14;break}return t.abrupt("return",g.serialize(a));case 14:throw new p("Unknown output format.","jsonld.UnknownFormat",{format:n.format});case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.createNodeMap=function(){var t=a(o.mark((function t(r,n){var i,a=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return n=k(n,{base:O(r)?r:"",contextResolver:new f({sharedCache:w})}),t.next=5,e.expand(r,n);case 5:return i=t.sent,t.abrupt("return",U(i,n));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.merge=function(){var t=a(o.mark((function t(r,n,a){var s,u,c,p,h,g,v,y,m,b,x,S,E,O,P,C,j,R=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(R.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(_(r)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return n="function"===typeof n?null:n||null,a=k(a,{contextResolver:new f({sharedCache:w})}),t.next=8,Promise.all(r.map((function(t){var r=i({},a);return e.expand(t,r)})));case 8:s=t.sent,u=!0,"mergeNodes"in a&&(u=a.mergeNodes),c=a.issuer||new d("_:b"),p={"@default":{}},h=0;case 14:if(!(h<s.length)){t.next=33;break}if(g=l.relabelBlankNodes(s[h],{issuer:new d("_:b"+h+"-")}),L(g,v=u||0===h?p:{"@default":{}},"@default",c),v===p){t.next=30;break}t.t0=o.keys(v);case 20:if((t.t1=t.t0()).done){t.next=30;break}if(y=t.t1.value,m=v[y],y in p){t.next=26;break}return p[y]=m,t.abrupt("continue",20);case 26:for(x in b=p[y],m)x in b||(b[x]=m[x]);t.next=20;break;case 30:++h,t.next=14;break;case 33:for(S=M(p),E=[],O=Object.keys(S).sort(),P=0;P<O.length;++P)C=S[O[P]],A(C)||E.push(C);if(null!==n){t.next=39;break}return t.abrupt("return",E);case 39:return a.graph=!0,a.skipExpansion=!0,t.next=43,e.compact(E,n,a);case 43:return j=t.sent,t.abrupt("return",j);case 45:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=t}}),e.documentLoader=function(){var e=a(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new p("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get=function(){var t=a(o.mark((function t(r,n){var i,a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader,t.next=3,i(r);case 3:if(a=t.sent,t.prev=4,a.document){t.next=7;break}throw new p("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:O(a.document)&&(a.document=JSON.parse(a.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new p("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:a});case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}(),e.processContext=function(){var e=a(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(n,{base:"",contextResolver:new f({sharedCache:w})}),null!==r){e.next=3;break}return e.abrupt("return",j(n));case 3:return r=l.clone(r),E(r)&&"@context"in r||(r={"@context":r}),e.abrupt("return",R({activeCtx:t,localCtx:r,options:n}));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.getContextValue=r(37).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new p('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",g.parse),e.registerRDFParser("application/nquads",g.parse),e.url=r(31),e.util=l,Object.assign(e,l),e.promises=e,e.RequestQueue=r(91),e.JsonLdProcessor=r(149)(e),c.setupGlobals(e),c.setupDocumentLoaders(e),e},H=function e(){return B((function(){return e()}))};B(H),e.exports=H},function(e,t,r){"use strict";(function(e){var n=r(113),i=r(114),o=r(115);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,r);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,r,n):"string"===typeof t?function(e,t,r){"string"===typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=s(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(n=t.length)!==n?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return O(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return C(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function x(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return x(e,t,r,n)}function k(e,t,r,n){return K(z(t),e,r,n)}function _(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function O(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"===typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return S(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function R(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(56))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"===typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"===typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";var n,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,a,s;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"===typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=d.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):v(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var c=u.length,l=v(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},s.prototype.addListener=function(e,t){return f(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return f(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var r,n,i,o,a;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";var n=r(57),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}function y(){}function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=m.prototype=new y;b.constructor=m,n(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,n)&&!S.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===n?"."+O(u,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),A(a,t,r,"",(function(e){return e}))):null!=a&&(_(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+O(s=e[c],c);u+=A(s,t,r,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=A(s=s.value,t,r,l=n+O(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function P(e,t,r){if(null==e)return e;var n=[],i=0;return A(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var j={current:null};function R(){var e=j.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:P,forEach:function(e,t,r){P(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(p(267,e));var o=n({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return R().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,r){return R().useReducer(e,t,r)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},function(e,t,r){"use strict";var n=r(1),i=r(57),o=r(108);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},g={};function v(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,r,n){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!p.call(g,e)||!p.call(h,e)&&(d.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,_=60107,E=60108,O=60114,A=60109,P=60110,C=60112,j=60113,R=60120,I=60115,F=60116,T=60121,N=60128,D=60129,L=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var M=Symbol.for;S=M("react.element"),k=M("react.portal"),_=M("react.fragment"),E=M("react.strict_mode"),O=M("react.profiler"),A=M("react.provider"),P=M("react.context"),C=M("react.forward_ref"),j=M("react.suspense"),R=M("react.suspense_list"),I=M("react.memo"),F=M("react.lazy"),T=M("react.block"),M("react.scope"),N=M("react.opaque.id"),D=M("react.debug_trace_mode"),L=M("react.offscreen"),U=M("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function K(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?K(e):""}function q(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case O:return"Profiler";case E:return"StrictMode";case j:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return J(e.type);case T:return J(e._render);case F:t=e._payload,e=e._init;try{return J(e(t))}catch(r){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Y(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=G(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){te(e,t);var r=G(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ie(e,t,r){"number"===t&&X(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+G(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:G(r)}}function ce(e,t){var r=G(t.value),n=G(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,ye=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Oe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Pe=null,Ce=null;function je(e){if(e=ni(e)){if("function"!==typeof Ae)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ae(e.stateNode,e.type,t))}}function Re(e){Pe?Ce?Ce.push(e):Ce=[e]:Pe=e}function Ie(){if(Pe){var e=Pe,t=Ce;if(Ce=Pe=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Fe(e,t){return e(t)}function Te(e,t,r,n,i){return e(t,r,n,i)}function Ne(){}var De=Fe,Le=!1,Ue=!1;function Me(){null===Pe&&null===Ce||(Ne(),Ie())}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=oi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var He=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){He=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){He=!1}function Ke(e,t,r,n,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var We=!1,Ve=null,qe=!1,Je=null,Ge={onError:function(e){We=!0,Ve=e}};function Ye(e,t,r,n,i,o,a,s,u){We=!1,Ve=null,Ke.apply(Ge,arguments)}function $e(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Xe(i),e;if(o===n)return Xe(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,r,n,i,o),null!==t&&(null!==(t=ni(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ri(e.target);if(null!==t){var r=$e(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Qe(r)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ni(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){mt(e)&&r.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function St(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var r=1;r<at.length;r++){var n=at[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&xt(st,e),null!==ut&&xt(ut,e),null!==ct&&xt(ct,e),lt.forEach(t),ft.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)yt(r),null===r.blockedOn&&dt.shift()}function kt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _t={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Et={},Ot={};function At(e){if(Et[e])return Et[e];if(!_t[e])return e;var t,r=_t[e];for(t in r)if(r.hasOwnProperty(t)&&t in Ot)return Et[e]=r[t];return e}f&&(Ot=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Pt=At("animationend"),Ct=At("animationiteration"),jt=At("animationstart"),Rt=At("transitionend"),It=new Map,Ft=new Map,Tt=["abort","abort",Pt,"animationEnd",Ct,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ft.set(n,t),It.set(n,i),c(i,[n])}}(0,o.unstable_now)();var Dt=8;function Lt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Ut(e,t){var r=e.pendingLanes;if(0===r)return Dt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,i=Dt=15;else if(0!==(o=134217727&r)){var u=o&~a;0!==u?(n=Lt(u),i=Dt):0!==(s&=o)&&(n=Lt(s),i=Dt)}else 0!==(o=r&~a)?(n=Lt(o),i=Dt):0!==s&&(n=Lt(s),i=Dt);if(0===n)return 0;if(n=r&((0>(n=31-Wt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(Lt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-Wt(t)),n|=e[r],t&=~i;return n}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function zt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Wt(t)]=r}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/qt|0)|0},Vt=Math.log,qt=Math.LN2;var Jt=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Yt=!0;function $t(e,t,r,n){Le||Ne();var i=Xt,o=Le;Le=!0;try{Te(i,e,t,r,n)}finally{(Le=o)||Me()}}function Qt(e,t,r,n){Gt(Jt,Xt.bind(null,e,t,r,n))}function Xt(e,t,r,n){var i;if(Yt)if((i=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ht(null,e,t,r,n),at.push(e);else{var o=Zt(e,t,r,n);if(null===o)i&&gt(e,n);else{if(i){if(-1<pt.indexOf(e))return e=ht(o,e,t,r,n),void at.push(e);if(function(e,t,r,n,i){switch(t){case"focusin":return st=vt(st,e,t,r,n,i),!0;case"dragenter":return ut=vt(ut,e,t,r,n,i),!0;case"mouseover":return ct=vt(ct,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,r,n,i)),!0}return!1}(o,e,t,r,n))return;gt(e,n)}Nn(e,t,n,null,r)}}}function Zt(e,t,r,n){var i=Oe(n);if(null!==(i=ri(i))){var o=$e(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Qe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nn(e,t,n,i,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,i="value"in er?er.value:er.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return rr=i.slice(e,1<t?1-t:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function ar(){return!1}function sr(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?or:ar,this.isPropagationStopped=ar,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var ur,cr,lr,fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=sr(fr),pr=i({},fr,{view:0,detail:0}),hr=sr(pr),gr=i({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ar,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ur=e.screenX-lr.screenX,cr=e.screenY-lr.screenY):cr=ur=0,lr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),vr=sr(gr),yr=sr(i({},gr,{dataTransfer:0})),mr=sr(i({},pr,{relatedTarget:0})),br=sr(i({},fr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=i({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=sr(wr),Sr=sr(i({},fr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Or(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Ar(){return Or}var Pr=i({},pr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ir(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_r[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ar,charCode:function(e){return"keypress"===e.type?ir(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ir(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cr=sr(Pr),jr=sr(i({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rr=sr(i({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ar})),Ir=sr(i({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fr=i({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tr=sr(Fr),Nr=[9,13,27,32],Dr=f&&"CompositionEvent"in window,Lr=null;f&&"documentMode"in document&&(Lr=document.documentMode);var Ur=f&&"TextEvent"in window&&!Lr,Mr=f&&(!Dr||Lr&&8<Lr&&11>=Lr),Br=String.fromCharCode(32),Hr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Jr(e,t,r,n){Re(n),0<(t=Ln(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Gr=null,Yr=null;function $r(e){Cn(e,0)}function Qr(e){if(Q(ii(e)))return e}function Xr(e,t){if("change"===e)return t}var Zr=!1;if(f){var en;if(f){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"===typeof rn.oninput}en=tn}else en=!1;Zr=en&&(!document.documentMode||9<document.documentMode)}function nn(){Gr&&(Gr.detachEvent("onpropertychange",on),Yr=Gr=null)}function on(e){if("value"===e.propertyName&&Qr(Yr)){var t=[];if(Jr(t,Yr,e,Oe(e)),e=$r,Le)e(t);else{Le=!0;try{Fe(e,t)}finally{Le=!1,Me()}}}}function an(e,t,r){"focusin"===e?(nn(),Yr=r,(Gr=t).attachEvent("onpropertychange",on)):"focusout"===e&&nn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qr(Yr)}function un(e,t){if("click"===e)return Qr(t)}function cn(e,t){if("input"===e||"change"===e)return Qr(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fn=Object.prototype.hasOwnProperty;function dn(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!fn.call(t,r[n])||!ln(e[r[n]],t[r[n]]))return!1;return!0}function pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=pn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pn(n)}}function gn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=X((e=t.contentWindow).document)}return t}function yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=f&&"documentMode"in document&&11>=document.documentMode,bn=null,wn=null,xn=null,Sn=!1;function kn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Sn||null==bn||bn!==X(n)||("selectionStart"in(n=bn)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&dn(xn,n)||(xn=n,0<(n=Ln(wn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Tt,2);for(var _n="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),En=0;En<_n.length;En++)Ft.set(_n[En],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var On="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),An=new Set("cancel close invalid load scroll toggle".split(" ").concat(On));function Pn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,u,c){if(Ye.apply(this,arguments),We){if(!We)throw Error(a(198));var l=Ve;We=!1,Ve=null,qe||(qe=!0,Je=l)}}(n,t,void 0,e),e.currentTarget=null}function Cn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Pn(i,s,c),o=u}else for(a=0;a<n.length;a++){if(u=(s=n[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Pn(i,s,c),o=u}}}if(qe)throw e=Je,qe=!1,Je=null,e}function jn(e,t){var r=ai(t),n=e+"__bubble";r.has(n)||(Tn(t,e,2,!1),r.add(n))}var Rn="_reactListening"+Math.random().toString(36).slice(2);function In(e){e[Rn]||(e[Rn]=!0,s.forEach((function(t){An.has(t)||Fn(t,!1,e,null),Fn(t,!0,e,null)})))}function Fn(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&An.has(e)){if("scroll"!==e)return;i|=2,o=n}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Tn(o,e,i,t),a.add(s))}function Tn(e,t,r,n){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Qt;break;default:i=Xt}r=i.bind(null,t,r,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ri(s)))return;if(5===(u=a.tag)||6===u){n=o=a;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Ue)return e(t,r);Ue=!0;try{De(e,t,r)}finally{Ue=!1,Me()}}((function(){var n=o,i=Oe(r),a=[];e:{var s=It.get(e);if(void 0!==s){var u=dr,c=e;switch(e){case"keypress":if(0===ir(r))break e;case"keydown":case"keyup":u=Cr;break;case"focusin":c="focus",u=mr;break;case"focusout":c="blur",u=mr;break;case"beforeblur":case"afterblur":u=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rr;break;case Pt:case Ct:case jt:u=br;break;case Rt:u=Ir;break;case"scroll":u=hr;break;case"wheel":u=Tr;break;case"copy":case"cut":case"paste":u=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=jr}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=n;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Be(h,d))&&l.push(Dn(h,g,p)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,r,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=r.relatedTarget||r.fromElement)||!ri(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(c=(c=r.relatedTarget||r.toElement)?ri(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=n),u!==c)){if(l=vr,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=jr,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:ii(u),p=null==c?s:ii(c),(s=new l(g,h+"leave",u,r,i)).target=f,s.relatedTarget=p,g=null,ri(i)===n&&((l=new l(d,h+"enter",c,r,i)).target=p,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,h=0,p=l=u;p;p=Un(p))h++;for(p=0,g=d;g;g=Un(g))p++;for(;0<h-p;)l=Un(l),h--;for(;0<p-h;)d=Un(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Un(l),d=Un(d)}l=null}else l=null;null!==u&&Mn(a,s,u,l,!1),null!==c&&null!==f&&Mn(a,f,c,l,!0)}if("select"===(u=(s=n?ii(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Xr;else if(qr(s))if(Zr)v=cn;else{v=sn;var y=an}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=un);switch(v&&(v=v(e,n))?Jr(a,v,r,i):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=n?ii(n):window,e){case"focusin":(qr(y)||"true"===y.contentEditable)&&(bn=y,wn=n,xn=null);break;case"focusout":xn=wn=bn=null;break;case"mousedown":Sn=!0;break;case"contextmenu":case"mouseup":case"dragend":Sn=!1,kn(a,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":kn(a,r,i)}var m;if(Dr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?zr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Mr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(m=nr()):(tr="value"in(er=i)?er.value:er.textContent,Wr=!0)),0<(y=Ln(n,b)).length&&(b=new Sr(b,e,null,r,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Kr(r))&&(b.data=m))),(m=Ur?function(e,t){switch(e){case"compositionend":return Kr(t);case"keypress":return 32!==t.which?null:(Hr=!0,Br);case"textInput":return(e=t.data)===Br&&Hr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Dr&&zr(e,t)?(e=nr(),rr=tr=er=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Ln(n,"onBeforeInput")).length&&(i=new Sr("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=m))}Cn(a,t)}))}function Dn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ln(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,r))&&n.unshift(Dn(e,o,i)),null!=(o=Be(e,t))&&n.push(Dn(e,o,i))),e=e.return}return n}function Un(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,c=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(r,o))&&a.unshift(Dn(r,u,s)):i||null!=(u=Be(r,o))&&a.push(Dn(r,u,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function Bn(){}var Hn=null,zn=null;function Kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vn="function"===typeof setTimeout?setTimeout:void 0,qn="function"===typeof clearTimeout?clearTimeout:void 0;function Jn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var $n=0;var Qn=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Qn,Zn="__reactProps$"+Qn,ei="__reactContainer$"+Qn,ti="__reactEvents$"+Qn;function ri(e){var t=e[Xn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ei]||r[Xn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Yn(e);null!==e;){if(r=e[Xn])return r;e=Yn(e)}return t}r=(e=r).parentNode}return null}function ni(e){return!(e=e[Xn]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zn]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var di={},pi=ci(di),hi=ci(!1),gi=di;function vi(e,t){var r=e.type.contextTypes;if(!r)return di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(hi),li(pi)}function bi(e,t,r){if(pi.current!==di)throw Error(a(168));fi(pi,t),fi(hi,r)}function wi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,J(t)||"Unknown",o));return i({},r,n)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=pi.current,fi(pi,e),fi(hi,hi.current),!0}function Si(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=wi(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,li(hi),li(pi),fi(pi,e)):li(hi),fi(hi,r)}var ki=null,_i=null,Ei=o.unstable_runWithPriority,Oi=o.unstable_scheduleCallback,Ai=o.unstable_cancelCallback,Pi=o.unstable_shouldYield,Ci=o.unstable_requestPaint,ji=o.unstable_now,Ri=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Fi=o.unstable_UserBlockingPriority,Ti=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Li={},Ui=void 0!==Ci?Ci:function(){},Mi=null,Bi=null,Hi=!1,zi=ji(),Ki=1e4>zi?ji:function(){return ji()-zi};function Wi(){switch(Ri()){case Ii:return 99;case Fi:return 98;case Ti:return 97;case Ni:return 96;case Di:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Ii;case 98:return Fi;case 97:return Ti;case 96:return Ni;case 95:return Di;default:throw Error(a(332))}}function qi(e,t){return e=Vi(e),Ei(e,t)}function Ji(e,t,r){return e=Vi(e),Oi(e,t,r)}function Gi(){if(null!==Bi){var e=Bi;Bi=null,Ai(e)}Yi()}function Yi(){if(!Hi&&null!==Mi){Hi=!0;var e=0;try{var t=Mi;qi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Mi=null}catch(r){throw null!==Mi&&(Mi=Mi.slice(e+1)),Oi(Ii,Gi),r}finally{Hi=!1}}}var $i=x.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Xi=ci(null),Zi=null,eo=null,to=null;function ro(){to=eo=Zi=null}function no(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function po(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ho(e,t,r,n){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,f=l=c=null;;){u=a.lane;var p=a.eventTime;if((n&u)===u){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(u=t,p=r,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,u);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=g.payload)?h.call(p,d,u):h)||void 0===u)break e;d=i({},d,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=p,c=d):f=f.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Hs|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var vo=(new n.Component).refs;function yo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=du(),i=pu(e),o=lo(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),fo(e,o),hu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=du(),i=pu(e),o=lo(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),fo(e,o),hu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=du(),n=pu(e),i=lo(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),hu(e,n,r)}};function bo(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dn(r,n)||!dn(i,o))}function wo(e,t,r){var n=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?gi:pi.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?vi(e,i):di),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function So(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?gi:pi.current,i.context=vi(e,o)),ho(e,r,i,n),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),ho(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function _o(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;t===vo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Oo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=$u(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=_o(e,t,r),n.return=e,n):((n=Ju(r.type,r.key,r.props,null,e.mode,n)).ref=_o(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Qu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function f(e,t,r,n,o){return null===t||7!==t.tag?((t=Gu(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=$u(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(r=Ju(t.type,t.key,t.props,null,e.mode,r)).ref=_o(e,null,t),r.return=e,r;case k:return(t=Qu(t,e.mode,r)).return=e,t}if(ko(t)||z(t))return(t=Gu(t,e.mode,r,null)).return=e,t;Eo(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return r.key===i?r.type===_?f(e,t,r.props.children,n,i):c(e,t,r,n):null;case k:return r.key===i?l(e,t,r,n):null}if(ko(r)||z(r))return null!==i?null:f(e,t,r,n,null);Eo(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return e=e.get(null===n.key?r:n.key)||null,n.type===_?f(t,e,n.props.children,i,n.key):c(t,e,n,i);case k:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ko(n)||z(n))return f(t,e=e.get(r)||null,n,i,null);Eo(t,n)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var y=p(i,f,s[g],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,g),null===l?c=y:l.sibling=y,l=y,f=v}if(g===s.length)return r(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=n(i,f);g<s.length;g++)null!==(v=h(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=p(i,g,m.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,g=y}if(m.done)return r(i,g),l;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=d(i,m.value,c))&&(s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return l}for(g=n(i,g);!m.done;v++,m=u.next())null!==(m=h(g,i,v,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,n,o,u){var c="object"===typeof o&&null!==o&&o.type===_&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case S:e:{for(l=o.key,c=n;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===_){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}}else if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=_o(e,c,o),n.return=e,e=n;break e}r(e,c);break}t(e,c),c=c.sibling}o.type===_?((n=Gu(o.props.children,e.mode,u,o.key)).return=e,e=n):((u=Ju(o.type,o.key,o.props,null,e.mode,u)).ref=_o(e,n,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Qu(o,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=$u(o,e.mode,u)).return=e,e=n),s(e);if(ko(o))return g(e,n,o,u);if(z(o))return v(e,n,o,u);if(l&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,J(e.type)||"Component"))}return r(e,n)}}var Ao=Oo(!0),Po=Oo(!1),Co={},jo=ci(Co),Ro=ci(Co),Io=ci(Co);function Fo(e){if(e===Co)throw Error(a(174));return e}function To(e,t){switch(fi(Io,t),fi(Ro,e),fi(jo,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(jo),fi(jo,t)}function No(){li(jo),li(Ro),li(Io)}function Do(e){Fo(Io.current);var t=Fo(jo.current),r=he(t,e.type);t!==r&&(fi(Ro,e),fi(jo,r))}function Lo(e){Ro.current===e&&(li(jo),li(Ro))}var Uo=ci(0);function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Ho=null,zo=!1;function Ko(e,t){var r=Wu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Wo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vo(e){if(zo){var t=Ho;if(t){var r=t;if(!Wo(e,t)){if(!(t=Gn(r.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Ko(Bo,r)}Bo=e,Ho=Gn(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Jo(e){if(e!==Bo)return!1;if(!zo)return qo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wn(t,e.memoizedProps))for(t=Ho;t;)Ko(e,t),t=Gn(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ho=Gn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ho=null}}else Ho=Bo?Gn(e.stateNode.nextSibling):null;return!0}function Go(){Ho=Bo=null,zo=!1}var Yo=[];function $o(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Qo=x.ReactCurrentDispatcher,Xo=x.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,ra=null,na=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function sa(e,t,r,n,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Fa:Ta,e=r(n,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,ra=ta=null,t.updateQueue=null,Qo.current=Na,e=r(n,i)}while(ia)}if(Qo.current=Ia,t=null!==ta&&null!==ta.next,Zo=0,ra=ta=ea=null,na=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?ea.memoizedState=ra=e:ra=ra.next=e,ra}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===ra?ea.memoizedState:ra.next;if(null!==t)ra=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ra?ea.memoizedState=ra=e:ra=ra.next=e}return ra}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=ta,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===e?c.eagerState:e(n,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=n):u=u.next=f,ea.lanes|=l,Hs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=n:u.next=s,ln(n,t.memoizedState)||(La=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function da(e){var t=ca(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ln(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function pa(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=n,Yo.push(t))),e)return r(t._source);throw Yo.push(t),Error(a(350))}function ha(e,t,r,n){var i=Fs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Qo.current,c=u.useState((function(){return pa(i,t,r)})),l=c[1],f=c[0];c=ra;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:p,source:t,subscribe:n},u.useEffect((function(){p.getSnapshot=r,p.setSnapshot=l;var e=o(t._source);if(!ln(s,e)){e=r(t._source),ln(f,e)||(l(e),e=pu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;n[u]|=e,a&=~c}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var n=pu(v);i.mutableReadLanes|=n&i.pendingLanes}catch(o){r((function(){throw o}))}}))}),[t,n]),ln(h,r)&&ln(g,t)&&ln(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Ra.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=pa(i,t,r),c.memoizedState=c.baseState=f),f}function ga(e,t,r){return ha(ca(),e,t,r)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Ra.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,r,n){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,r,void 0,void 0===n?null:n)}function xa(e,t,r,n){var i=ca();n=void 0===n?null:n;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==n&&aa(n,a.deps))return void ya(t,r,o,n)}ea.flags|=e,i.memoizedState=ya(1|t,r,o,n)}function Sa(e,t){return wa(516,4,e,t)}function ka(e,t){return xa(516,4,e,t)}function _a(e,t){return xa(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Oa(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,xa(4,2,Ea.bind(null,t,e),r)}function Aa(){}function Pa(e,t){var r=ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ca(e,t){var r=ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ja(e,t){var r=Wi();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Xo.transition;Xo.transition=1;try{e(!1),t()}finally{Xo.transition=r}}))}function Ra(e,t,r){var n=du(),i=pu(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,ln(u,s))return}catch(c){}hu(e,i,n)}}var Ia={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Fa={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Sa,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,wa(4,2,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var r=ua();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ua();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ra.bind(null,ea,e),[n.memoizedState,e]},useRef:ma,useState:va,useDebugValue:Aa,useDeferredValue:function(e){var t=va(e),r=t[0],n=t[1];return Sa((function(){var t=Xo.transition;Xo.transition=1;try{n(e)}finally{Xo.transition=t}}),[e]),r},useTransition:function(){var e=va(!1),t=e[0];return ma(e=ja.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ua();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},ha(n,e,t,r)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+($n++).toString(36))),Error(a(355))})),r=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){r("r:"+($n++).toString(36))}),void 0,null)),t}return va(t="r:"+($n++).toString(36)),t},unstable_isNewReconciler:!1},Ta={readContext:ao,useCallback:Pa,useContext:ao,useEffect:ka,useImperativeHandle:Oa,useLayoutEffect:_a,useMemo:Ca,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=fa(la),r=t[0],n=t[1];return ka((function(){var t=Xo.transition;Xo.transition=1;try{n(e)}finally{Xo.transition=t}}),[e]),r},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:Pa,useContext:ao,useEffect:ka,useImperativeHandle:Oa,useLayoutEffect:_a,useMemo:Ca,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Aa,useDeferredValue:function(e){var t=da(la),r=t[0],n=t[1];return ka((function(){var t=Xo.transition;Xo.transition=1;try{n(e)}finally{Xo.transition=t}}),[e]),r},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Da=x.ReactCurrentOwner,La=!1;function Ua(e,t,r,n){t.child=null===e?Po(t,null,r,n):Ao(t,e.child,r,n)}function Ma(e,t,r,n,i){r=r.render;var o=t.ref;return oo(t,i),n=sa(e,t,r,n,o,i),null===e||La?(t.flags|=1,Ua(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ju(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ha(e,t,a,n,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:dn)(i,n)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=qu(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ha(e,t,r,n,i,o){if(null!==e&&dn(e.memoizedProps,n)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Wa(e,t,r,n,o)}function za(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Su(t,r);else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Su(t,e),null;t.memoizedState={baseLanes:0},Su(t,null!==o?o.baseLanes:r)}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Su(t,n);return Ua(e,t,i,r),t.child}function Ka(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Wa(e,t,r,n,i){var o=yi(r)?gi:pi.current;return o=vi(t,o),oo(t,i),r=sa(e,t,r,n,o,i),null===e||La?(t.flags|=1,Ua(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,r,n,i){if(yi(r)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,r,n),So(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=yi(r)?gi:pi.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==c)&&xo(t,a,n,c),so=!1;var d=t.memoizedState;a.state=d,ho(t,n,a,i),u=t.memoizedState,s!==n||d!==u||hi.current||so?("function"===typeof l&&(yo(t,r,l,n),u=t.memoizedState),(s=so||bo(t,r,s,n,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Qi(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=r.contextType)&&null!==u?u=ao(u):u=vi(t,u=yi(r)?gi:pi.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&xo(t,a,n,u),so=!1,d=t.memoizedState,a.state=d,ho(t,n,a,i);var h=t.memoizedState;s!==f||d!==h||hi.current||so?("function"===typeof p&&(yo(t,r,p,n),h=t.memoizedState),(c=so||bo(t,r,c,n,d,h,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=u,n=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return qa(e,t,r,n,o,i)}function qa(e,t,r,n,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!n&&!a)return i&&Si(t,r,!1),os(e,t,o);n=t.stateNode,Da.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Ao(t,e.child,null,o),t.child=Ao(t,null,s,o)):Ua(e,t,s,o),t.memoizedState=n.state,i&&Si(t,r,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),To(e,t.containerInfo)}var Ga,Ya,$a,Qa={dehydrated:null,retryLane:0};function Xa(e,t,r){var n,i=t.pendingProps,o=Uo.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Uo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Qa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=Qa,t.lanes=33554432,e):((r=Yu({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,r),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=Qa,i):(r=es(e,t,i.children,r),t.memoizedState=null,r))}function Za(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yu(t,i,0,null),r=Gu(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function es(e,t,r,n){var i=e.child;return e=i.sibling,r=qu(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function ts(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 0===(2&o)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=s,null!==(a=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=qu(a,s),null!==e?n=qu(e,n):(n=Gu(n,o,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function rs(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),io(e.return,t)}function ns(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function is(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ua(e,t,n.children,r),0!==(2&(n=Uo.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,r);else if(19===e.tag)rs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fi(Uo,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Mo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ns(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ns(t,!0,r,null,o,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Hs|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=qu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=qu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function as(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ss(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return No(),li(hi),li(pi),$o(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Jo(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=Fo(Io.current);if(r=t.type,null!==e&&null!=t.stateNode)Ya(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Fo(jo.current),Jo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Xn]=t,n[Zn]=s,r){case"dialog":jn("cancel",n),jn("close",n);break;case"iframe":case"object":case"embed":jn("load",n);break;case"video":case"audio":for(e=0;e<On.length;e++)jn(On[e],n);break;case"source":jn("error",n);break;case"img":case"image":case"link":jn("error",n),jn("load",n);break;case"details":jn("toggle",n);break;case"input":ee(n,s),jn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},jn("invalid",n);break;case"textarea":ue(n,s),jn("invalid",n)}for(var c in _e(r,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?n.textContent!==o&&(e=["children",o]):"number"===typeof o&&n.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&jn("scroll",n));switch(r){case"input":$(n),ne(n,s,!0);break;case"textarea":$(n),le(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Bn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=pe(r)),e===fe?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[Xn]=t,e[Zn]=n,Ga(e,t),t.stateNode=e,c=Ee(r,n),r){case"dialog":jn("cancel",e),jn("close",e),o=n;break;case"iframe":case"object":case"embed":jn("load",e),o=n;break;case"video":case"audio":for(o=0;o<On.length;o++)jn(On[o],e);o=n;break;case"source":jn("error",e),o=n;break;case"img":case"image":case"link":jn("error",e),jn("load",e),o=n;break;case"details":jn("toggle",e),o=n;break;case"input":ee(e,n),o=Z(e,n),jn("invalid",e);break;case"option":o=oe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=i({},n,{value:void 0}),jn("invalid",e);break;case"textarea":ue(e,n),o=se(e,n),jn("invalid",e);break;default:o=n}_e(r,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?Se(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==r||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&jn("scroll",e):null!=f&&w(e,s,f,c))}switch(r){case"input":$(e),ne(e,n,!1);break;case"textarea":$(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+G(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Bn)}Kn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)$a(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=Fo(Io.current),Fo(jo.current),Jo(t)?(n=t.stateNode,r=t.memoizedProps,n[Xn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Xn]=t,t.stateNode=n)}return null;case 13:return li(Uo),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Jo(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Fs||0===(134217727&Hs)&&0===(134217727&zs)||mu(Fs,Ns))),(n||r)&&(t.flags|=4),null);case 4:return No(),null===e&&In(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(Uo),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=n.rendering))if(s)as(n,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Mo(e))){for(t.flags|=64,as(n,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fi(Uo,1&Uo.current|2),t.child}e=e.sibling}null!==n.tail&&Ki()>qs&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Mo(c))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),as(n,!0),null===n.tail&&"hidden"===n.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-n.renderingStartTime>qs&&1073741824!==r&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432);n.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=n.last)?r.sibling=c:t.child=c,n.last=c)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ki(),r.sibling=null,t=Uo.current,fi(Uo,s?1&t|2:1&t),r):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),li(hi),li(pi),$o(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Uo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Uo),null;case 4:return No(),null;case 10:return no(e),null;case 23:case 24:return ku(),null;default:return null}}function cs(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Ga=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ya=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Fo(jo.current);var a,s=null;switch(r){case"input":o=Z(e,o),n=Z(e,n),s=[];break;case"option":o=oe(e,o),n=oe(e,n),s=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":o=se(e,o),n=se(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Bn)}for(f in _e(r,n),r=null,o)if(!n.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var l=n[f];if(c=null!=o?o[f]:void 0,n.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(f,r)),r=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&jn("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===N?l.toString():(s=s||[]).push(f,l))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},$a=function(e,t,r,n){r!==n&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,r){(r=lo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$s||($s=!0,Qs=n),ls(0,t)},r}function ps(e,t,r){(r=lo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return ls(0,t),n(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Bu(e,r)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Qi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Jn(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(r,e),Du(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:Qi(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&go(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}go(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Kn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&St(r)))))}throw Error(a(163))}function ms(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=xe("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function bs(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))Lu(t,r);else{n=t;try{i()}catch(o){Bu(n,o)}}r=r.next}while(r!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:gs(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.flags&&(me(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||xs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ks(e,r,t):_s(e,r,t)}function ks(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Bn));else if(4!==n&&null!==(e=e.child))for(ks(e,t,r),e=e.sibling;null!==e;)ks(e,t,r),e=e.sibling}function _s(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(_s(e,t,r),e=e.sibling;null!==e;)_s(e,t,r),e=e.sibling}function Es(e,t){for(var r,n,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Os(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Zn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Ee(e,i),t=Ee(e,n),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Se(r,u):"dangerouslySetInnerHTML"===s?ye(r,u):"children"===s?me(r,u):w(r,s,u,t)}switch(e){case"input":re(r,n);break;case"textarea":ce(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?ae(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?ae(r,!!n.multiple,n.defaultValue,!0):ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,St(r.containerInfo)));case 13:return null!==t.memoizedState&&(Vs=Ki(),ms(t.child,!0)),void As(t);case 19:return void As(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function As(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=zu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Ps(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Cs=Math.ceil,js=x.ReactCurrentDispatcher,Rs=x.ReactCurrentOwner,Is=0,Fs=null,Ts=null,Ns=0,Ds=0,Ls=ci(0),Us=0,Ms=null,Bs=0,Hs=0,zs=0,Ks=0,Ws=null,Vs=0,qs=1/0;function Js(){qs=Ki()+500}var Gs,Ys=null,$s=!1,Qs=null,Xs=null,Zs=!1,eu=null,tu=90,ru=[],nu=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Is)?Ki():-1!==su?su:su=Ki()}function pu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Bs),0!==$i.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Is)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,r){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Kt(e,t,r),e===Fs&&(zs|=t,4===Us&&mu(e,Ns));var n=Wi();1===t?0!==(8&Is)&&0===(48&Is)?bu(e):(vu(e,r),0===Is&&(Js(),Gi())):(0===(4&Is)||98!==n&&99!==n||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,r)),Ws=e}function gu(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function vu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&n)||0!==(c&i)){l=t,Lt(c);var f=Dt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(n=Ut(e,e===Fs?Ns:0),t=Dt,0===n)null!==r&&(r!==Li&&Ai(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Li&&Ai(r)}15===t?(r=bu.bind(null,e),null===Mi?(Mi=[r],Bi=Oi(Ii,Yi)):Mi.push(r),r=Li):14===t?r=Ji(99,bu.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),r=Ji(r,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Is))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var r=Ut(e,e===Fs?Ns:0);if(0===r)return null;var n=r,i=Is;Is|=16;var o=Ou();for(Fs===e&&Ns===n||(Js(),_u(e,n));;)try{Cu();break}catch(u){Eu(e,u)}if(ro(),js.current=o,Is=i,null!==Ts?n=0:(Fs=null,Ns=0,n=Us),0!==(Bs&zs))_u(e,0);else if(0!==n){if(2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jn(e.containerInfo)),0!==(r=Mt(e))&&(n=Au(e,r))),1===n)throw t=Ms,_u(e,0),mu(e,r),vu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e);break;case 3:if(mu(e,r),(62914560&r)===r&&10<(n=Vs+500-Ki())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&r)!==r){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vn(Iu.bind(null,e),n);break}Iu(e);break;case 4:if(mu(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-Wt(r);o=1<<s,(s=n[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ki()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cs(r/1960))-r)){e.timeoutHandle=Vn(Iu.bind(null,e),r);break}Iu(e);break;default:throw Error(a(329))}}return vu(e,Ki()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~Ks,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function bu(e){if(0!==(48&Is))throw Error(a(327));if(Nu(),e===Fs&&0!==(e.expiredLanes&Ns)){var t=Ns,r=Au(e,t);0!==(Bs&zs)&&(r=Au(e,t=Ut(e,t)))}else r=Au(e,t=Ut(e,0));if(0!==e.tag&&2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jn(e.containerInfo)),0!==(t=Mt(e))&&(r=Au(e,t))),1===r)throw r=Ms,_u(e,0),mu(e,t),vu(e,Ki()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),vu(e,Ki()),null}function wu(e,t){var r=Is;Is|=1;try{return e(t)}finally{0===(Is=r)&&(Js(),Gi())}}function xu(e,t){var r=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=r)&&(Js(),Gi())}}function Su(e,t){fi(Ls,Ds),Ds|=t,Bs|=t}function ku(){Ds=Ls.current,li(Ls)}function _u(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,qn(r)),null!==Ts)for(r=Ts.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:No(),li(hi),li(pi),$o();break;case 5:Lo(n);break;case 4:No();break;case 13:case 19:li(Uo);break;case 10:no(n);break;case 23:case 24:ku()}r=r.return}Fs=e,Ts=qu(e.current,null),Ns=Ds=Bs=t,Us=0,Ms=null,Ks=zs=Hs=0}function Eu(e,t){for(;;){var r=Ts;try{if(ro(),Qo.current=Ia,na){for(var n=ea.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}na=!1}if(Zo=0,ra=ta=ea=null,ia=!1,Rs.current=null,null===r||null===r.return){Us=1,Ms=t,Ts=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Uo.current),d=a;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var v=d.updateQueue;if(null===v){var y=new Set;y.add(c),d.updateQueue=y}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Hu.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((J(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,po(d,ds(0,o,t));break e;case 1:o=u;var x=d.type,S=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Xs||!Xs.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,po(d,ps(d,o,t));break e}}d=d.return}while(null!==d)}Ru(r)}catch(k){t=k,Ts===r&&null!==r&&(Ts=r=r.return);continue}break}}function Ou(){var e=js.current;return js.current=Ia,null===e?Ia:e}function Au(e,t){var r=Is;Is|=16;var n=Ou();for(Fs===e&&Ns===t||_u(e,t);;)try{Pu();break}catch(i){Eu(e,i)}if(ro(),Is=r,js.current=n,null!==Ts)throw Error(a(261));return Fs=null,Ns=0,Us}function Pu(){for(;null!==Ts;)ju(Ts)}function Cu(){for(;null!==Ts&&!Pi();)ju(Ts)}function ju(e){var t=Gs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?Ru(e):Ts=t,Rs.current=null}function Ru(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=ss(r,t,Ds)))return void(Ts=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ds)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=us(t)))return r.flags&=2047,void(Ts=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Us&&(Us=5)}function Iu(e){var t=Wi();return qi(99,Fu.bind(null,e,t)),null}function Fu(e,t){do{Nu()}while(null!==eu);if(0!==(48&Is))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&n)&&iu.has(e)&&iu.delete(e),e===Fs&&(Ts=Fs=null,Ns=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Is,Is|=32,Rs.current=null,Hn=Yt,yn(s=vn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(O){u=null;break e}var f=0,d=-1,p=-1,h=0,g=0,v=s,y=null;t:for(;;){for(var m;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==c||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===s)break t;if(y===u&&++h===o&&(d=f),y===c&&++g===l&&(p=f),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}u=-1===d||-1===p?null:{start:d,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;zn={focusedElem:s,selectionRange:u},Yt=!1,lu=null,fu=!1,Ys=n;do{try{Tu()}catch(O){if(null===Ys)throw Error(a(330));Bu(Ys,O),Ys=Ys.nextEffect}}while(null!==Ys);lu=null,Ys=n;do{try{for(s=e;null!==Ys;){var b=Ys.flags;if(16&b&&me(Ys.stateNode,""),128&b){var w=Ys.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:Ss(Ys),Ys.flags&=-3;break;case 6:Ss(Ys),Ys.flags&=-3,Os(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Os(Ys.alternate,Ys);break;case 4:Os(Ys.alternate,Ys);break;case 8:Es(s,u=Ys);var S=u.alternate;ws(u),null!==S&&ws(S)}Ys=Ys.nextEffect}}catch(O){if(null===Ys)throw Error(a(330));Bu(Ys,O),Ys=Ys.nextEffect}}while(null!==Ys);if(x=zn,w=vn(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&gn(b.ownerDocument.documentElement,b)){null!==s&&yn(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,S=Math.min(s.start,u),s=void 0===s.end?S:Math.min(s.end,u),!x.extend&&S>s&&(u=s,s=S,S=u),u=hn(b,S),o=hn(b,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),S>s?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Yt=!!Hn,zn=Hn=null,e.current=r,Ys=n;do{try{for(b=e;null!==Ys;){var k=Ys.flags;if(36&k&&ys(b,Ys.alternate,Ys),128&k){w=void 0;var _=Ys.ref;if(null!==_){var E=Ys.stateNode;Ys.tag,w=E,"function"===typeof _?_(w):_.current=w}}Ys=Ys.nextEffect}}catch(O){if(null===Ys)throw Error(a(330));Bu(Ys,O),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,Ui(),Is=i}else e.current=r;if(Zs)Zs=!1,eu=e,tu=t;else for(Ys=n;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((k=Ys).sibling=null,k.stateNode=null),Ys=t;if(0===(n=e.pendingLanes)&&(Xs=null),1===n?e===au?ou++:(ou=0,au=e):ou=0,r=r.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(ki,r,void 0,64===(64&r.current.flags))}catch(O){}if(vu(e,Ki()),$s)throw $s=!1,e=Qs,Qs=null,e;return 0!==(8&Is)||Gi(),null}function Tu(){for(;null!==Ys;){var e=Ys.alternate;fu||null===lu||(0!==(8&Ys.flags)?et(Ys,lu)&&(fu=!0):13===Ys.tag&&Ps(e,Ys)&&et(Ys,lu)&&(fu=!0));var t=Ys.flags;0!==(256&t)&&vs(e,Ys),0===(512&t)||Zs||(Zs=!0,Ji(97,(function(){return Nu(),null}))),Ys=Ys.nextEffect}}function Nu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,qi(e,Uu)}return!1}function Du(e,t){ru.push(t,e),Zs||(Zs=!0,Ji(97,(function(){return Nu(),null})))}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Ji(97,(function(){return Nu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Is))throw Error(a(331));var t=Is;Is|=32;var r=nu;nu=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(r=ru,ru=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Gi(),!0}function Mu(e,t,r){fo(e,t=ds(0,t=cs(r,t),1)),t=du(),null!==(e=gu(e,1))&&(Kt(e,1,t),vu(e,t))}function Bu(e,t){if(3===e.tag)Mu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Mu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Xs||!Xs.has(n))){var i=ps(r,e=cs(t,e),1);if(fo(r,i),i=du(),null!==(r=gu(r,1)))Kt(r,1,i),vu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Xs||!Xs.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function Hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&r,Fs===e&&(Ns&r)===r&&(4===Us||3===Us&&(62914560&Ns)===Ns&&500>Ki()-Vs?_u(e,0):Ks|=r),vu(e,t)}function zu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Bs),0===(t=Ht(62914560&~uu))&&(t=4194304))),r=du(),null!==(e=gu(e,t))&&(Kt(e,t,r),vu(e,r))}function Ku(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,r,n){return new Ku(e,t,r,n)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var r=e.alternate;return null===r?((r=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Gu(r.children,i,o,t);case D:s=8,i|=16;break;case E:s=8,i|=1;break;case O:return(e=Wu(12,r,t,8|i)).elementType=O,e.type=O,e.lanes=o,e;case j:return(e=Wu(13,r,t,i)).type=j,e.elementType=j,e.lanes=o,e;case R:return(e=Wu(19,r,t,i)).elementType=R,e.lanes=o,e;case L:return Yu(r,i,o,t);case U:return(e=Wu(24,r,t,i)).elementType=U,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:s=10;break e;case P:s=9;break e;case C:s=11;break e;case I:s=14;break e;case F:s=16,n=null;break e;case T:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Gu(e,t,r,n){return(e=Wu(7,e,n,t)).lanes=r,e}function Yu(e,t,r,n){return(e=Wu(23,e,n,t)).elementType=L,e.lanes=r,e}function $u(e,t,r){return(e=Wu(6,e,null,t)).lanes=r,e}function Qu(e,t,r){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ec(e,t,r,n){var i=t.current,o=du(),s=pu(i);e:if(r){t:{if($e(r=r._reactInternals)!==r||1!==r.tag)throw Error(a(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===r.tag){var c=r.type;if(yi(c)){r=wi(r,c,u);break e}}r=u}else r=di;return null===t.context?t.context=r:t.pendingContext=r,(t=lo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(i,t),hu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nc(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function ic(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Xu(e,t,null!=r&&!0===r.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,uo(t),e[ei]=r.current,In(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var i=(t=n[e])._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new ic(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}xu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,r)}Gs=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)La=!0;else{if(0===(r&n)){switch(La=!1,t.tag){case 3:Ja(t),Go();break;case 5:Do(t);break;case 1:yi(t.type)&&xi(t);break;case 4:To(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Xa(e,t,r):(fi(Uo,1&Uo.current),null!==(t=os(e,t,r))?t.sibling:null);fi(Uo,1&Uo.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return is(e,t,r);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Uo,Uo.current),n)break;return null;case 23:case 24:return t.lanes=0,za(e,t,r)}return os(e,t,r)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,pi.current),oo(t,r),i=sa(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(n)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&yo(t,n,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,So(t,n,e,r),t=qa(null,t,n,!0,o,r)}else t.tag=0,Ua(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===I)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=Wa(null,t,i,e,r);break e;case 1:t=Va(null,t,i,e,r);break e;case 11:t=Ma(null,t,i,e,r);break e;case 14:t=Ba(null,t,i,Qi(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Wa(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Va(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 3:if(Ja(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,n,null,r),(n=t.memoizedState.element)===i)Go(),t=os(e,t,r);else{if((o=(i=t.stateNode).hydrate)&&(Ho=Gn(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(r=Po(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Ua(e,t,n,r),Go();t=t.child}return t;case 5:return Do(t),null===e&&Vo(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wn(n,i)?s=null:null!==o&&Wn(n,o)&&(t.flags|=16),Ka(e,t),Ua(e,t,s,r),t.child;case 6:return null===e&&Vo(t),null;case 13:return Xa(e,t,r);case 4:return To(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ao(t,null,n,r):Ua(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Ma(e,t,n,i=t.elementType===n?i:Qi(n,i),r);case 7:return Ua(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=ln(u,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,r&-r)).tag=2,fo(u,l)),u.lanes|=r,null!==(l=u.alternate)&&(l.lanes|=r),io(u.return,r),c.lanes|=r;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ua(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,oo(t,r),n=n(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ua(e,t,n,r),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ba(e,t,i,o=Qi(i.type,o),n,r);case 15:return Ha(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Qi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(n)?(e=!0,xi(t)):e=!1,oo(t,r),wo(t,n,i),So(t,n,i,r),qa(null,t,n,!0,e,r);case 19:return is(e,t,r);case 23:case 24:return za(e,t,r)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hu(e,4,du()),nc(e,4))},rt=function(e){13===e.tag&&(hu(e,67108864,du()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=du(),r=pu(e);hu(e,r,t),nc(e,r)}},it=function(e,t){return t()},Ae=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=oi(n);if(!i)throw Error(a(90));Q(n),re(n,i)}}}break;case"textarea":ce(e,r);break;case"select":null!=(t=r.value)&&ae(e,!!r.multiple,t,!1)}},Fe=wu,Te=function(e,t,r,n,i){var o=Is;Is|=4;try{return qi(98,e.bind(null,t,r,n,i))}finally{0===(Is=o)&&(Js(),Gi())}},Ne=function(){0===(49&Is)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ki())}))}Gi()}(),Nu())},De=function(e,t){var r=Is;Is|=2;try{return e(t)}finally{0===(Is=r)&&(Js(),Gi())}};var uc={Events:[ni,ii,oi,Re,Ie,Nu,{current:!1}]},cc={findFiberByHostInstance:ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),_i=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Is;if(0!==(48&r))return e(t);Is|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Is=r,Gi()}},t.hydrate=function(e,t,r){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,r)},t.render=function(e,t,r){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(xu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,r,!1,n)},t.version="17.0.2"},function(e,t,r){"use strict";e.exports=r(109)},function(e,t,r){"use strict";var n,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,d=function e(){if(null!==l)try{var r=t.unstable_now();l(!0,r),l=null}catch(n){throw setTimeout(e,0),n}};n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(d,0))},i=function(e,t){f=setTimeout(e,t)},o=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,b=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,S=x.port2;x.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();w=e+b;try{y(!0,e)?S.postMessage(null):(v=!1,y=null)}catch(r){throw S.postMessage(null),r}}else v=!1},n=function(e){y=e,v||(v=!0,S.postMessage(null))},i=function(e,r){m=p((function(){e(t.unstable_now())}),r)},o=function(){h(m),m=-1}}function k(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<O(i,t)))break e;e[n]=t,e[r]=i,r=n}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>O(a,r))void 0!==u&&0>O(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==u&&0>O(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function O(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],P=[],C=1,j=null,R=3,I=!1,F=!1,T=!1;function N(e){for(var t=_(P);null!==t;){if(null===t.callback)E(P);else{if(!(t.startTime<=e))break;E(P),t.sortIndex=t.expirationTime,k(A,t)}t=_(P)}}function D(e){if(T=!1,N(e),!F)if(null!==_(A))F=!0,n(L);else{var t=_(P);null!==t&&i(D,t.startTime-e)}}function L(e,r){F=!1,T&&(T=!1,o()),I=!0;var n=R;try{for(N(r),j=_(A);null!==j&&(!(j.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=j.callback;if("function"===typeof a){j.callback=null,R=j.priorityLevel;var s=a(j.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?j.callback=s:j===_(A)&&E(A),N(r)}else E(A);j=_(A)}if(null!==j)var u=!0;else{var c=_(P);null!==c&&i(D,c.startTime-r),u=!1}return u}finally{j=null,R=n,I=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||I||(F=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return _(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:r,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,k(P,e),null===_(A)&&e===_(P)&&(T?o():T=!0,i(D,a-s))):(e.sortIndex=u,k(A,e),F||I||(F=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},,function(e,t,r){var n=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(R){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new P(n||[]);return o._invoke=function(e,t,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return j()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?h:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function v(){}function y(){}function m(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(C([])));x&&x!==r&&n.call(x,o)&&(b=x);var S=m.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function C(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:j}}function j(){return{value:t,done:!0}}return y.prototype=m,u(S,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},k(_.prototype),u(_.prototype,a,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new _(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),u(S,s,"Generator"),u(S,o,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=C,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;A(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=n}catch(i){"object"===typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){var n=r(77);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(119),i=r(81),o=r(120),a=r(121),s=r(82),u=r(122),c=r(123);var l={namedNode:function(e){return new s(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,l.namedNode(t)):new a(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return l.defaultGraphInstance},triple:function(e,t,r){return l.quad(e,t,r)},quad:function(e,t,r,n){return new u(e,t,r,n||l.defaultGraphInstance)},fromTerm:function(e){return o.call(l,e)},fromQuad:function(e){return o.call(l,e)},defaultGraphInstance:new i};e.exports=l},function(e,t,r){var n=r(6).default,i=r(7).default,o=function(){"use strict";function e(t){n(this,e),this.value=t||"b"+ ++e.nextId}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="BlankNode",o.nextId=0,e.exports=o},function(e,t){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){var t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,r,n,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error("unknown termType ".concat(e.termType))}},function(e,t,r){var n=r(6).default,i=r(7).default,o=r(82),a=function(){"use strict";function e(t,r,i){n(this,e),this.value=t,this.datatype=e.stringDatatype,this.language="",r?(this.language=r,this.datatype=e.langStringDatatype):i&&(this.datatype=i)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();a.prototype.termType="Literal",a.langStringDatatype=new o("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new o("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},function(e,t,r){var n=r(6).default,i=r(7).default,o=r(81),a=function(){"use strict";function e(t,r,i,a){n(this,e),this.subject=t,this.predicate=r,this.object=i,this.graph=a||new o}return i(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}]),e}();a.prototype.termType="Quad",a.prototype.value="",e.exports=a},function(e,t,r){var n=r(6).default,i=r(7).default,o=function(){"use strict";function e(t){n(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="Variable",e.exports=o},function(e,t,r){var n=r(48).default,i=r(14).default,o=r(6).default,a=r(7).default;function s(e){return"string"===typeof e||e instanceof String}function u(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;var t,r,n,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return e.language?'"'.concat(e.value,'"@').concat(e.language):'"'.concat(e.value,'"').concat(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?"^^".concat(e.datatype.value):"");case"Quad":return t=l(u(e.subject)),r=l(u(e.predicate)),n=l(u(e.object)),i="DefaultGraph"===e.graph.termType?"":" ".concat(u(e.graph)),"<<".concat(t," ").concat(r," ").concat(n).concat(i,">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}var c=/^"(.*".*)(?="[^"]*$)/;function l(e){return e.replace(c,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}var f=function(e){"use strict";function t(e){if(o(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e){var r,n=i(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;this.add(a)}}catch(s){n.e(s)}finally{n.f()}}}return a(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var a in r=t[o])e+=Object.keys(r[a]).length;return this._size=e,this._size}},{key:"add",value:function(e){var t=u(e.subject),r=u(e.predicate),n=u(e.object),i=u(e.graph),o=this._graphs[i];o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var a=this._ids,s=this._entities;return t=a[t]||(a[s[++this._id]=t]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id),n=a[n]||(a[s[++this._id]=n]=this._id),this._addToIndex(o.subjects,t,r,n),this._addToIndex(o.predicates,r,n,t),this._addToIndex(o.objects,n,t,r),this._setQuad(t,r,n,i,e),this._size=null,this}},{key:"delete",value:function(e){var t,r,n,i=u(e.subject),o=u(e.predicate),a=u(e.object),s=u(e.graph),c=this._ids,l=this._graphs;if(!(i=c[i])||!(o=c[o])||!(a=c[a])||!(t=l[s])||!(r=t.subjects[i])||!(n=r[o])||!(a in n))return this;for(i in this._removeFromIndex(t.subjects,i,o,a),this._removeFromIndex(t.predicates,o,a,i),this._removeFromIndex(t.objects,a,i,o),null!==this._size&&this._size--,this._deleteQuad(i,o,a,s),t.subjects)return this;return delete l[s],this}},{key:"has",value:function(e){var t=u(e.subject),r=u(e.predicate),n=u(e.object),i=u(e.graph),o=this._graphs[i];if(!o)return!1;var a,c,l,f=this._ids;return!(s(t)&&!(a=f[t])||s(r)&&!(c=f[r])||s(n)&&!(l=f[n]))&&1===this._countInIndex(o.objects,l,a,c)}},{key:"match",value:function(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}},{key:e,value:function(){return this._match()[Symbol.iterator]()}},{key:"_addToIndex",value:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}},{key:"_removeFromIndex",value:function(e,t,r,n){var i=e[t],o=i[r];for(var a in delete o[n],o)return;for(var s in delete i[r],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,r,i,o,a,s,u,c,l){var f,d,p;for(var h in t&&((f=e,e={})[t]=f[t]),e)if(d=e[h])for(var g in r&&((f=d,d={})[r]=f[r]),d)if(p=d[g])for(var v=(i?i in p?[i]:[]:Object.keys(p)),y=0;y<v.length;y++){var m,b=(n(m={},o,h),n(m,a,g),n(m,s,v[y]),m),w=this._getQuad(b.subject,b.predicate,b.object,u);if(l)l.push(w);else if(c(w))return!0}return l}},{key:"_countInIndex",value:function(e,t,r,n){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){return s(e)?n({},e,this._graphs[e]):this._graphs}},{key:"_match",value:function(e,t,r,n){e=e&&u(e),t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,o,a,c,l=[],f=this._getGraphs(n),d=this._ids;if(s(e)&&!(o=d[e])||s(t)&&!(a=d[t])||s(r)&&!(c=d[r]))return l;for(var p in f)(i=f[p])&&(o?c?this._findInIndex(i.objects,c,o,a,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",p,null,l):a?this._findInIndex(i.predicates,a,c,null,"predicate","object","subject",p,null,l):c?this._findInIndex(i.objects,c,null,null,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p,null,l));return l}},{key:"_getQuad",value:function(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}},{key:"_setQuad",value:function(e,t,r,n,i){this._quads.set(this._toId(e,t,r,n),i)}},{key:"_deleteQuad",value:function(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}},{key:"_createDataset",value:function(e){return new this.constructor(e)}},{key:"_toId",value:function(e,t,r,n){return"".concat(e,":").concat(t,":").concat(r,":").concat(n)}}]),t}(Symbol.iterator);e.exports=f},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n,i=r(0),o=r(10).default,a=r(84),s=r(128),u=r(90),c=r(130);try{n=r(131)}catch(f){}var l={};e.exports=l,l.NQuads=r(60),l.IdentifierIssuer=r(59),l._rdfCanonizeNative=function(e){return e&&(n=e),n},l.canonize=function(){var e=o(i.mark((function e(t,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=l.NQuads.legacyDatasetToQuads(t)),!r.useNative){e.next=5;break}if(n){e.next=4;break}throw new Error("rdf-canonize-native not available");case 4:return e.abrupt("return",new Promise((function(e,i){return n.canonize(t,r,(function(t,r){return t?i(t):e(r)}))})));case 5:if("URDNA2015"!==r.algorithm){e.next=7;break}return e.abrupt("return",new a(r).main(t));case 7:if("URGNA2012"!==r.algorithm){e.next=9;break}return e.abrupt("return",new s(r).main(t));case 9:if("algorithm"in r){e.next=11;break}throw new Error("No RDF Dataset Canonicalization algorithm specified.");case 11:throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(n)return n.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new u(t).main(e);if("URGNA2012"===t.algorithm)return new c(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},function(e,t,r){(function(e){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(85),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(56))},function(e,t,r){"use strict";var n=r(0),i=r(14).default,o=r(10).default,a=r(6).default,s=r(7).default,u=r(17).default,c=r(18).default,l=r(84);e.exports=function(e){u(r,e);var t=c(r);function r(){var e;return a(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return s(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(){var e=o(n.mark((function e(t,r){var o,a,s,u,c,l,f,d,p,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Map,a=this.blankNodeInfo.get(t).quads,s=0,u=i(a),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=31;break}if(l=c.value,f=void 0,d=void 0,"BlankNode"!==l.subject.termType||l.subject.value===t){e.next=15;break}d=l.subject.value,f="p",e.next=21;break;case 15:if("BlankNode"!==l.object.termType||l.object.value===t){e.next=20;break}d=l.object.value,f="r",e.next=21;break;case 20:return e.abrupt("continue",29);case 21:if(++s%100!==0){e.next=24;break}return e.next=24,this._yield();case 24:return e.next=26,this.hashRelatedBlankNode(d,l,r,f);case 26:p=e.sent,(h=o.get(p))?h.push(d):o.set(p,[d]);case 29:e.next=6;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(4),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:return e.abrupt("return",o);case 40:case"end":return e.stop()}}),e,this,[[4,33,36,39]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(l)},function(e,t,r){var n=r(68).default,i=r(62);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(14).default,i=r(6).default,o=r(7).default,a=r(17).default,s=r(18).default,u=r(90);e.exports=function(e){a(r,e);var t=s(r);function r(){var e;return i(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return o(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){var r,i=new Map,o=this.blankNodeInfo.get(e).quads,a=n(o);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=void 0,c=void 0;if("BlankNode"===s.subject.termType&&s.subject.value!==e)c=s.subject.value,u="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;c=s.object.value,u="r"}var l=this.hashRelatedBlankNode(c,s,t,u),f=i.get(l);f?f.push(c):i.set(l,[c])}}catch(d){a.e(d)}finally{a.f()}return i}}]),r}(u)},,function(e,t,r){"use strict";var n=r(133),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(21),a=o.parseLinkHeader,s=o.buildHeaders,u=r(63).LINK_HEADER_CONTEXT,c=r(24),l=r(91),f=r(31).prependBase,d=/(^|(\r\n))link:/i;function p(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var o in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(o,r[o]);n.send()}))}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,o=void 0===r?{}:r,h=e.xhr;o=s(o);var g=new l;return g.wrapLoader(v);function v(e){return y.apply(this,arguments)}function y(){return(y=i(n.mark((function e(r){var i,s,l,g,y,m,b;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new c('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new c('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:return e.prev=4,e.next=7,p(h,r,o);case 7:i=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new c("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 13:if(!(i.status>=400)){e.next=15;break}throw new c("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:i.status});case 15:if(s={contextUrl:null,documentUrl:r,document:i.response},l=null,g=i.getResponseHeader("Content-Type"),d.test(i.getAllResponseHeaders())&&(y=i.getResponseHeader("Link")),!y||"application/ld+json"===g){e.next=30;break}if(m=a(y),b=m[u],!Array.isArray(b)){e.next=24;break}throw new c("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 24:if(b&&(s.contextUrl=b.target),!(l=m.alternate)||"application/ld+json"!=l.type||(g||"").match(/^application\/(\w*\+)?json$/)){e.next=30;break}return e.next=29,v(f(r,l.target));case 29:s=e.sent;case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}}},function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(61),i=r(89);function o(t,r,a){return i()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0),i=r(26).default,o=r(14).default,a=r(10).default,s=r(6).default,u=r(7).default,c=r(19),l=c.isArray,f=c.isObject,d=c.isString,p=r(21).asArray,h=r(31).prependBase,g=r(24),v=r(137);function y(e){throw new g("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function m(e){var t=e.context,r=e.base;if(t){var n=t["@context"];if(d(n))t["@context"]=h(r,n);else if(l(n))for(var i=0;i<n.length;++i){var o=n[i];d(o)?n[i]=h(r,o):f(o)&&m({context:{"@context":o},base:r})}else if(f(n))for(var a in n)m({context:n[a],base:r})}}e.exports=function(){function e(t){var r=t.sharedCache;s(this,e),this.perOpCache=new Map,this.sharedCache=r}return u(e,[{key:"resolve",value:function(){var e=a(n.mark((function e(t){var r,a,s,u,c,h,g,m,b,w,x,S,k;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,a=t.context,s=t.documentLoader,u=t.base,c=t.cycles,h=void 0===c?new Set:c,a&&f(a)&&a["@context"]&&(a=a["@context"]),a=p(a),g=[],m=o(a),e.prev=5,m.s();case 7:if((b=m.n()).done){e.next=27;break}if(w=b.value,!d(w)){e.next=17;break}if(x=this._get(w)){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:r,url:w,documentLoader:s,base:u,cycles:h});case 14:x=e.sent;case 15:return l(x)?g.push.apply(g,i(x)):g.push(x),e.abrupt("continue",25);case 17:if(null!==w){e.next=20;break}return g.push(new v({document:null})),e.abrupt("continue",25);case 20:f(w)||y(a),S=JSON.stringify(w),(k=this._get(S))||(k=new v({document:w}),this._cacheResolvedContext({key:S,resolved:k,tag:"static"})),g.push(k);case 25:e.next=7;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(5),m.e(e.t0);case 32:return e.prev=32,m.f(),e.finish(32);case 35:return e.abrupt("return",g);case 36:case"end":return e.stop()}}),e,this,[[5,29,32,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var r=this.sharedCache.get(e);r&&(t=r.get("static"))&&this.perOpCache.set(e,t)}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,r=e.resolved,n=e.tag;if(this.perOpCache.set(t,r),void 0!==n){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}},{key:"_resolveRemoteContext",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,s,u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.activeCtx,i=t.url,o=t.documentLoader,a=t.base,s=t.cycles,i=h(a,i),e.next=4,this._fetchContext({activeCtx:r,url:i,documentLoader:o,cycles:s});case 4:return u=e.sent,c=u.context,l=u.remoteDoc,a=l.documentUrl||i,m({context:c,base:a}),e.next=11,this.resolve({activeCtx:r,context:c,documentLoader:o,base:a,cycles:s});case 11:return f=e.sent,this._cacheResolvedContext({key:i,resolved:f,tag:l.tag}),e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchContext",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.url,o=t.documentLoader,!((a=t.cycles).size>10)){e.next=3;break}throw new g("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!a.has(i)){e.next=5;break}throw new g("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"recursive context inclusion":"context overflow",url:i});case 5:return a.add(i),e.prev=6,e.next=9,o(i);case 9:u=e.sent,s=u.document||null,d(s)&&(s=JSON.parse(s)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new g("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:i,cause:e.t0});case 17:if(f(s)){e.next=19;break}throw new g("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:i});case 19:return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},u.contextUrl&&(l(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(u.contextUrl)),e.abrupt("return",{context:s,remoteDoc:u});case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,r){"use strict";var n=r(6).default,i=r(7).default,o=r(92);e.exports=function(){function e(t){var r=t.document;n(this,e),this.document=r,this.cache=new o({max:10})}return i(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}()},function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var o=[];for(r=0;n&&r<t;r++)o.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=i(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(139)(n)}catch(u){}},function(e,t,r){"use strict";var n=r(0);e.exports=function(e){e.prototype[Symbol.iterator]=n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},function(e,t,r){"use strict";e.exports=r(58).NQuads},function(e,t,r){"use strict";var n=r(23).default,i=r(0),o=r(14).default,a=r(10).default,s=r(24),u=r(19),c=u.isArray,l=u.isObject,f=u.isEmptyObject,d=u.isString,p=u.isUndefined,h=r(27),g=h.isList,v=h.isValue,y=h.isGraph,m=h.isSubject,b=r(37),w=b.expandIri,x=b.getContextValue,S=b.isKeyword,k=b.process,_=b.processingMode,E=r(31).isAbsolute,O=r(21),A=O.addValue,P=O.asArray,C=O.getValues,j=O.validateTypeValue,R={};e.exports=R;var I=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function F(e){return T.apply(this,arguments)}function T(){return(T=a(i.mark((function e(t){var r,a,u,h,y,b,O,C,T,N,U,M,B,H,z,K,W,V,q,J,G,Y,$,Q,X,Z,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,ge,ve,ye,me,be,we,xe,Se,ke,_e,Ee,Oe,Ae;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,a=t.activeProperty,u=t.expandedActiveProperty,h=t.element,y=t.expandedParent,b=t.options,O=void 0===b?{}:b,C=t.insideList,T=t.typeKey,N=t.typeScopedContext,U=t.expansionMap,M=Object.keys(h).sort(),B=[],z=h[T]&&"@json"===w(r,c(h[T])?h[T][0]:h[T],{vocab:!0},O),K=o(M),e.prev=5,K.s();case 7:if((W=K.n()).done){e.next=202;break}if(V=W.value,q=h[V],J=void 0,"@context"!==V){e.next=13;break}return e.abrupt("continue",200);case 13:if(null!==(G=w(r,V,{vocab:!0},O))&&(E(G)||S(G))){e.next=18;break}if(void 0!==(G=U({unmappedProperty:V,activeCtx:r,activeProperty:a,parent:h,options:O,insideList:C,value:q,expandedParent:y}))){e.next=18;break}return e.abrupt("continue",200);case 18:if(!S(G)){e.next=23;break}if("@reverse"!==u){e.next=21;break}throw new s("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:q});case 21:if(!(G in y)||"@included"===G||"@type"===G){e.next=23;break}throw new s("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:G});case 23:if("@id"!==G){e.next=40;break}if(d(q)){e.next=38;break}if(O.isFrame){e.next=27;break}throw new s('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 27:if(!l(q)){e.next=32;break}if(f(q)){e.next=30;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 30:e.next=38;break;case 32:if(!c(q)){e.next=37;break}if(q.every((function(e){return d(e)}))){e.next=35;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 35:e.next=38;break;case 37:throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 38:return A(y,"@id",P(q).map((function(e){return d(e)?w(r,e,{base:!0},O):e})),{propertyIsArray:O.isFrame}),e.abrupt("continue",200);case 40:if("@type"!==G){e.next=45;break}return l(q)&&(q=Object.fromEntries(Object.entries(q).map((function(e){var t=n(e,2),r=t[0],i=t[1];return[w(N,r,{vocab:!0}),P(i).map((function(e){return w(N,e,{base:!0,vocab:!0})}))]})))),j(q,O.isFrame),A(y,"@type",P(q).map((function(e){return d(e)?w(N,e,{base:!0,vocab:!0},O):e})),{propertyIsArray:O.isFrame}),e.abrupt("continue",200);case 45:if("@included"!==G||!_(r,1.1)){e.next=55;break}return e.t0=P,e.next=49,R.expand({activeCtx:r,activeProperty:a,element:q,options:O,expansionMap:U});case 49:if(e.t1=e.sent,(Y=(0,e.t0)(e.t1)).every((function(e){return m(e)}))){e.next=53;break}throw new s("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:q});case 53:return A(y,"@included",Y,{propertyIsArray:!0}),e.abrupt("continue",200);case 55:if("@graph"!==G||l(q)||c(q)){e.next=57;break}throw new s('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:q});case 57:if("@value"!==G){e.next=61;break}return H=q,z&&_(r,1.1)?y["@value"]=q:A(y,"@value",q,{propertyIsArray:O.isFrame}),e.abrupt("continue",200);case 61:if("@language"!==G){e.next=71;break}if(null!==q){e.next=64;break}return e.abrupt("continue",200);case 64:if(d(q)||O.isFrame){e.next=66;break}throw new s('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:q});case 66:q=P(q).map((function(e){return d(e)?e.toLowerCase():e})),$=o(q);try{for($.s();!(Q=$.n()).done;)X=Q.value,d(X)&&!X.match(I)&&console.warn("@language must be valid BCP47: ".concat(X))}catch(Pe){$.e(Pe)}finally{$.f()}return A(y,"@language",q,{propertyIsArray:O.isFrame}),e.abrupt("continue",200);case 71:if("@direction"!==G){e.next=94;break}if(d(q)||O.isFrame){e.next=74;break}throw new s('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 74:q=P(q),Z=o(q),e.prev=76,Z.s();case 78:if((ee=Z.n()).done){e.next=84;break}if(te=ee.value,!d(te)||"ltr"===te||"rtl"===te){e.next=82;break}throw new s('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 82:e.next=78;break;case 84:e.next=89;break;case 86:e.prev=86,e.t2=e.catch(76),Z.e(e.t2);case 89:return e.prev=89,Z.f(),e.finish(89);case 92:return A(y,"@direction",q,{propertyIsArray:O.isFrame}),e.abrupt("continue",200);case 94:if("@index"!==G){e.next=99;break}if(d(q)){e.next=97;break}throw new s('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:q});case 97:return A(y,"@index",q),e.abrupt("continue",200);case 99:if("@reverse"!==G){e.next=127;break}if(l(q)){e.next=102;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:q});case 102:return e.next=104,R.expand({activeCtx:r,activeProperty:"@reverse",element:q,options:O,expansionMap:U});case 104:if("@reverse"in(J=e.sent))for(re in J["@reverse"])A(y,re,J["@reverse"][re],{propertyIsArray:!0});ne=y["@reverse"]||null,e.t3=i.keys(J);case 108:if((e.t4=e.t3()).done){e.next=126;break}if("@reverse"!==(ie=e.t4.value)){e.next=112;break}return e.abrupt("continue",108);case 112:null===ne&&(ne=y["@reverse"]={}),A(ne,ie,[],{propertyIsArray:!0}),oe=J[ie],ae=0;case 116:if(!(ae<oe.length)){e.next=124;break}if(se=oe[ae],!v(se)&&!g(se)){e.next=120;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 120:A(ne,ie,se,{propertyIsArray:!0});case 121:++ae,e.next=116;break;case 124:e.next=108;break;case 126:return e.abrupt("continue",200);case 127:if("@nest"!==G){e.next=130;break}return B.push(V),e.abrupt("continue",200);case 130:if(ue=r,ce=x(r,V,"@context"),p(ce)){e.next=136;break}return e.next=135,k({activeCtx:r,localCtx:ce,propagate:!0,overrideProtected:!0,options:O});case 135:ue=e.sent;case 136:if(!(le=x(ue,V,"@container")||[]).includes("@language")||!l(q)){e.next=142;break}fe=x(ue,V,"@direction"),J=D(ue,q,fe,O),e.next=180;break;case 142:if(!le.includes("@index")||!l(q)){e.next=151;break}return de=le.includes("@graph"),pe=x(ue,V,"@index")||"@index",he="@index"!==pe&&w(r,pe,{vocab:!0},O),e.next=148,L({activeCtx:ue,options:O,activeProperty:V,value:q,expansionMap:U,asGraph:de,indexKey:pe,propertyIndex:he});case 148:J=e.sent,e.next=180;break;case 151:if(!le.includes("@id")||!l(q)){e.next=158;break}return ge=le.includes("@graph"),e.next=155,L({activeCtx:ue,options:O,activeProperty:V,value:q,expansionMap:U,asGraph:ge,indexKey:"@id"});case 155:J=e.sent,e.next=180;break;case 158:if(!le.includes("@type")||!l(q)){e.next=164;break}return e.next=161,L({activeCtx:ue.revertToPreviousContext(),options:O,activeProperty:V,value:q,expansionMap:U,asGraph:!1,indexKey:"@type"});case 161:J=e.sent,e.next=180;break;case 164:if(!(ve="@list"===G)&&"@set"!==G){e.next=173;break}return ye=a,ve&&"@graph"===u&&(ye=null),e.next=170,R.expand({activeCtx:ue,activeProperty:ye,element:q,options:O,insideList:ve,expansionMap:U});case 170:J=e.sent,e.next=180;break;case 173:if("@json"!==x(r,V,"@type")){e.next=177;break}J={"@type":"@json","@value":q},e.next=180;break;case 177:return e.next=179,R.expand({activeCtx:ue,activeProperty:V,element:q,options:O,insideList:!1,expansionMap:U});case 179:J=e.sent;case 180:if(null!==J||"@value"===G){e.next=184;break}if(void 0!==(J=U({unmappedValue:q,expandedProperty:G,activeCtx:ue,activeProperty:a,parent:h,options:O,insideList:C,key:V,expandedParent:y}))){e.next=184;break}return e.abrupt("continue",200);case 184:if("@list"!==G&&!g(J)&&le.includes("@list")&&(J={"@list":P(J)}),le.includes("@graph")&&!le.some((function(e){return"@id"===e||"@index"===e}))&&(J=P(J).map((function(e){return{"@graph":P(e)}}))),!ue.mappings.has(V)||!ue.mappings.get(V).reverse){e.next=199;break}me=y["@reverse"]=y["@reverse"]||{},J=P(J),be=0;case 190:if(!(be<J.length)){e.next=198;break}if(we=J[be],!v(we)&&!g(we)){e.next=194;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 194:A(me,G,we,{propertyIsArray:!0});case 195:++be,e.next=190;break;case 198:return e.abrupt("continue",200);case 199:A(y,G,J,{propertyIsArray:!0});case 200:e.next=7;break;case 202:e.next=207;break;case 204:e.prev=204,e.t5=e.catch(5),K.e(e.t5);case 207:return e.prev=207,K.f(),e.finish(207);case 210:if(!("@value"in y)){e.next=216;break}if("@json"!==y["@type"]||!_(r,1.1)){e.next=214;break}e.next=216;break;case 214:if(!l(H)&&!c(H)||O.isFrame){e.next=216;break}throw new s('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:H});case 216:xe=0,Se=B;case 217:if(!(xe<Se.length)){e.next=242;break}ke=Se[xe],_e=c(h[ke])?h[ke]:[h[ke]],Ee=o(_e),e.prev=221,Ee.s();case 223:if((Oe=Ee.n()).done){e.next=231;break}if(Ae=Oe.value,l(Ae)&&!Object.keys(Ae).some((function(e){return"@value"===w(r,e,{vocab:!0},O)}))){e.next=227;break}throw new s("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Ae});case 227:return e.next=229,F({activeCtx:r,activeProperty:a,expandedActiveProperty:u,element:Ae,expandedParent:y,options:O,insideList:C,typeScopedContext:N,typeKey:T,expansionMap:U});case 229:e.next=223;break;case 231:e.next=236;break;case 233:e.prev=233,e.t6=e.catch(221),Ee.e(e.t6);case 236:return e.prev=236,Ee.f(),e.finish(236);case 239:xe++,e.next=217;break;case 242:case"end":return e.stop()}}),e,null,[[5,204,207,210],[76,86,89,92],[221,233,236,239]])})))).apply(this,arguments)}function N(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(null===n||void 0===n)return null;var o=w(t,r,{vocab:!0},i);if("@id"===o)return w(t,n,{base:!0},i);if("@type"===o)return w(t,n,{vocab:!0,base:!0},i);var a=x(t,r,"@type");if(("@id"===a||"@graph"===o)&&d(n))return{"@id":w(t,n,{base:!0},i)};if("@vocab"===a&&d(n))return{"@id":w(t,n,{vocab:!0,base:!0},i)};if(S(o))return n;var s={};if(a&&!["@id","@vocab","@none"].includes(a))s["@type"]=a;else if(d(n)){var u=x(t,r,"@language");null!==u&&(s["@language"]=u);var c=x(t,r,"@direction");null!==c&&(s["@direction"]=c)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function D(e,t,r,n){var i,a=[],u=Object.keys(t).sort(),l=o(u);try{for(l.s();!(i=l.n()).done;){var f=i.value,p=w(e,f,{vocab:!0},n),h=t[f];c(h)||(h=[h]);var g,v=o(h);try{for(v.s();!(g=v.n()).done;){var y=g.value;if(null!==y){if(!d(y))throw new s("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var m={"@value":y};"@none"!==p&&(m["@language"]=f.toLowerCase()),r&&(m["@direction"]=r),a.push(m)}}}catch(b){v.e(b)}finally{v.f()}}}catch(b){l.e(b)}finally{l.f()}return a}function L(e){return U.apply(this,arguments)}function U(){return(U=a(i.mark((function e(t){var r,n,a,u,l,f,d,h,g,m,b,S,_,E,O,P,C,j,I,F;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,n=t.options,a=t.activeProperty,u=t.value,l=t.expansionMap,f=t.asGraph,d=t.indexKey,h=t.propertyIndex,g=[],m=Object.keys(u).sort(),b="@type"===d,S=o(m),e.prev=5,S.s();case 7:if((_=S.n()).done){e.next=51;break}if(E=_.value,!b){e.next=15;break}if(O=x(r,E,"@context"),p(O)){e.next=15;break}return e.next=14,k({activeCtx:r,localCtx:O,propagate:!1,options:n});case 14:r=e.sent;case 15:return P=u[E],c(P)||(P=[P]),e.next=19,R.expand({activeCtx:r,activeProperty:a,element:P,options:n,insideList:!1,insideIndex:!0,expansionMap:l});case 19:P=e.sent,C=void 0,C=h?"@none"===E?"@none":N({activeCtx:r,activeProperty:d,value:E,options:n}):w(r,E,{vocab:!0},n),"@id"===d?E=w(r,E,{base:!0},n):b&&(E=C),j=o(P),e.prev=24,j.s();case 26:if((I=j.n()).done){e.next=41;break}if(F=I.value,f&&!y(F)&&(F={"@graph":[F]}),"@type"!==d){e.next=33;break}"@none"===C||(F["@type"]?F["@type"]=[E].concat(F["@type"]):F["@type"]=[E]),e.next=38;break;case 33:if(!v(F)||["@language","@type","@index"].includes(d)){e.next=37;break}throw new s("Invalid JSON-LD syntax; Attempt to add illegal key to value "+'object: "'.concat(d,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:F});case 37:h?"@none"!==C&&A(F,h,C,{propertyIsArray:!0,prependValue:!0}):"@none"===C||d in F||(F[d]=E);case 38:g.push(F);case 39:e.next=26;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(24),j.e(e.t0);case 46:return e.prev=46,j.f(),e.finish(46);case 49:e.next=7;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(5),S.e(e.t1);case 56:return e.prev=56,S.f(),e.finish(56);case 59:return e.abrupt("return",g);case 60:case"end":return e.stop()}}),e,null,[[5,53,56,59],[24,43,46,49]])})))).apply(this,arguments)}R.expand=function(){var e=a(i.mark((function e(t){var r,n,a,u,h,g,v,y,m,b,S,O,A,j,I,T,D,L,U,M,B,H,z,K,W,V,q,J,G,Y,$,Q,X,Z,ee,te,re,ne,ie,oe,ae,se,ue,ce,le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.activeProperty,a=void 0===n?null:n,u=t.element,h=t.options,g=void 0===h?{}:h,v=t.insideList,y=void 0!==v&&v,m=t.insideIndex,b=void 0!==m&&m,S=t.typeScopedContext,O=void 0===S?null:S,A=t.expansionMap,j=void 0===A?function(){}:A,null!==u&&void 0!==u){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===a&&(g=Object.assign({},g,{isFrame:!1})),c(u)||l(u)){e.next=13;break}if(y||null!==a&&"@graph"!==w(r,a,{vocab:!0},g)){e.next=12;break}return e.next=8,j({unmappedValue:u,activeCtx:r,activeProperty:a,options:g,insideList:y});case 8:if(void 0!==(I=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",I);case 12:return e.abrupt("return",N({activeCtx:r,activeProperty:a,value:u,options:g}));case 13:if(!c(u)){e.next=34;break}T=[],D=x(r,a,"@container")||[],y=y||D.includes("@list"),L=0;case 18:if(!(L<u.length)){e.next=33;break}return e.next=21,R.expand({activeCtx:r,activeProperty:a,element:u[L],options:g,expansionMap:j,insideIndex:b,typeScopedContext:O});case 21:if(U=e.sent,y&&c(U)&&(U={"@list":U}),null!==U){e.next=29;break}return e.next=26,j({unmappedValue:u[L],activeCtx:r,activeProperty:a,parent:u,index:L,options:g,expandedParent:T,insideList:y});case 26:if(void 0!==(U=e.sent)){e.next=29;break}return e.abrupt("continue",30);case 29:c(U)?T=T.concat(U):T.push(U);case 30:++L,e.next=18;break;case 33:return e.abrupt("return",T);case 34:if(M=w(r,a,{vocab:!0},g),B=x(r,a,"@context"),O=O||(r.previousContext?r:null),H=Object.keys(u).sort(),!((z=!b)&&O&&H.length<=2)||H.includes("@context")){e.next=63;break}K=o(H),e.prev=41,K.s();case 43:if((W=K.n()).done){e.next=55;break}if(V=W.value,"@value"!==(q=w(O,V,{vocab:!0},g))){e.next=50;break}return z=!1,r=O,e.abrupt("break",55);case 50:if("@id"!==q||1!==H.length){e.next=53;break}return z=!1,e.abrupt("break",55);case 53:e.next=43;break;case 55:e.next=60;break;case 57:e.prev=57,e.t0=e.catch(41),K.e(e.t0);case 60:return e.prev=60,K.f(),e.finish(60);case 63:if(z&&(r=r.revertToPreviousContext()),p(B)){e.next=68;break}return e.next=67,k({activeCtx:r,localCtx:B,propagate:!0,overrideProtected:!0,options:g});case 67:r=e.sent;case 68:if(!("@context"in u)){e.next=72;break}return e.next=71,k({activeCtx:r,localCtx:u["@context"],options:g});case 71:r=e.sent;case 72:O=r,J=null,G=o(H),e.prev=75,G.s();case 77:if((Y=G.n()).done){e.next=106;break}if($=Y.value,"@type"!==w(r,$,{vocab:!0},g)){e.next=104;break}J=J||$,Q=u[$],X=Array.isArray(Q)?Q.length>1?Q.slice().sort():Q:[Q],Z=o(X),e.prev=85,Z.s();case 87:if((ee=Z.n()).done){e.next=96;break}if(te=ee.value,re=x(O,te,"@context"),p(re)){e.next=94;break}return e.next=93,k({activeCtx:r,localCtx:re,options:g,propagate:!1});case 93:r=e.sent;case 94:e.next=87;break;case 96:e.next=101;break;case 98:e.prev=98,e.t1=e.catch(85),Z.e(e.t1);case 101:return e.prev=101,Z.f(),e.finish(101);case 104:e.next=77;break;case 106:e.next=111;break;case 108:e.prev=108,e.t2=e.catch(75),G.e(e.t2);case 111:return e.prev=111,G.f(),e.finish(111);case 114:return ne={},e.next=117,F({activeCtx:r,activeProperty:a,expandedActiveProperty:M,element:u,expandedParent:ne,options:g,insideList:y,typeKey:J,typeScopedContext:O,expansionMap:j});case 117:if(H=Object.keys(ne),ie=H.length,!("@value"in ne)){e.next=149;break}if(!("@type"in ne)||!("@language"in ne)&&!("@direction"in ne)){e.next=122;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 122:if(oe=ie-1,"@type"in ne&&(oe-=1),"@index"in ne&&(oe-=1),"@language"in ne&&(oe-=1),"@direction"in ne&&(oe-=1),0===oe){e.next=129;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 129:if(ae=null===ne["@value"]?[]:P(ne["@value"]),se=C(ne,"@type"),!_(r,1.1)||!se.includes("@json")||1!==se.length){e.next=134;break}e.next=147;break;case 134:if(0!==ae.length){e.next=141;break}return e.next=137,j({unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 137:ue=e.sent,ne=void 0!==ue?ue:null,e.next=147;break;case 141:if(ae.every((function(e){return d(e)||f(e)}))||!("@language"in ne)){e.next=145;break}throw new s("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ne});case 145:if(se.every((function(e){return E(e)&&!(d(e)&&0===e.indexOf("_:"))||f(e)}))){e.next=147;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ne});case 147:e.next=164;break;case 149:if(!("@type"in ne)||c(ne["@type"])){e.next=153;break}ne["@type"]=[ne["@type"]],e.next=164;break;case 153:if(!("@set"in ne)&&!("@list"in ne)){e.next=159;break}if(!(ie>1)||2===ie&&"@index"in ne){e.next=156;break}throw new s('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ne});case 156:"@set"in ne&&(ne=ne["@set"],H=Object.keys(ne),ie=H.length),e.next=164;break;case 159:if(1!==ie||!("@language"in ne)){e.next=164;break}return e.next=162,j(ne,{unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 162:ce=e.sent,ne=void 0!==ce?ce:null;case 164:if(!l(ne)||g.keepFreeFloatingNodes||y||null!==a&&"@graph"!==M){e.next=170;break}if(!(0===ie||"@value"in ne||"@list"in ne||1===ie&&"@id"in ne)){e.next=170;break}return e.next=168,j({unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 168:le=e.sent,ne=void 0!==le?le:null;case 170:return e.abrupt("return",ne);case 171:case"end":return e.stop()}}),e,null,[[41,57,60,63],[75,108,111,114],[85,98,101,104]])})));return function(t){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";var n=r(27).isSubjectReference,i=r(49).createMergedNodeMap,o={};e.exports=o,o.flatten=function(e){for(var t=i(e),r=[],o=Object.keys(t).sort(),a=0;a<o.length;++a){var s=t[o[a]];n(s)||r.push(s)}return r}},function(e,t,r){"use strict";var n=r(23).default,i=r(0),o=r(14).default,a=r(10).default,s=r(24),u=r(27),c=r(19),l=r(21),f=r(63),d=f.RDF_LIST,p=f.RDF_FIRST,h=f.RDF_REST,g=f.RDF_NIL,v=f.RDF_TYPE,y=f.RDF_JSON_LITERAL,m=f.XSD_BOOLEAN,b=f.XSD_DOUBLE,w=f.XSD_INTEGER,x=f.XSD_STRING,S=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,k={};function _(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};var i={"@value":e.value};if(e.language)i["@language"]=e.language;else{var o=e.datatype.value;if(o||(o=x),o===y){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(p){throw new s("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:p})}}if(t){if(o===m)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(c.isNumeric(i["@value"]))if(o===w){var a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===b&&(i["@value"]=parseFloat(i["@value"]));[m,w,b,x].includes(o)||(i["@type"]=o)}else if("i18n-datatype"===r&&o.startsWith("https://www.w3.org/ns/i18n#")){var u=o.split(/[#_]/),l=n(u,3),f=l[1],d=l[2];f.length>0&&(i["@language"]=f,f.match(S)||console.warn("@language must be valid BCP47: ".concat(f))),i["@direction"]=d}else o!==x&&(i["@type"]=o)}return i}e.exports=k,k.fromRDF=function(){var e=a(i.mark((function e(t,r){var n,a,s,f,y,m,b,w,x,S,k,E,O,A,P,C,j,R,I,F,T,N,D,L,U,M,B,H,z,K,W,V,q,J,G,Y,$,Q,X,Z,ee,te,re,ne,ie,oe,ae,se,ue;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.useRdfType,a=void 0!==n&&n,s=r.useNativeTypes,f=void 0!==s&&s,y=r.rdfDirection,m=void 0===y?null:y,w={"@default":b={}},x={},S=o(t),e.prev=5,S.s();case 7:if((k=S.n()).done){e.next=28;break}if(E=k.value,(O="DefaultGraph"===E.graph.termType?"@default":E.graph.value)in w||(w[O]={}),"@default"===O||O in b||(b[O]={"@id":O}),A=w[O],P=E.subject.value,C=E.predicate.value,j=E.object,P in A||(A[P]={"@id":P}),R=A[P],(I=j.termType.endsWith("Node"))&&!(j.value in A)&&(A[j.value]={"@id":j.value}),C!==v||a||!I){e.next=23;break}return l.addValue(R,"@type",j.value,{propertyIsArray:!0}),e.abrupt("continue",26);case 23:F=_(j,f,m),l.addValue(R,C,F,{propertyIsArray:!0}),I&&(j.value===g?("usages"in(T=A[j.value])||(T.usages=[]),T.usages.push({node:R,property:C,value:F})):j.value in x?x[j.value]=!1:x[j.value]={node:R,property:C,value:F});case 26:e.next=7;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),S.e(e.t0);case 33:return e.prev=33,S.f(),e.finish(33);case 36:e.t1=i.keys(w);case 37:if((e.t2=e.t1()).done){e.next=84;break}if(N=e.t2.value,D=w[N],g in D){e.next=42;break}return e.abrupt("continue",37);case 42:if((L=D[g]).usages){e.next=45;break}return e.abrupt("continue",37);case 45:U=o(L.usages),e.prev=46,U.s();case 48:if((M=U.n()).done){e.next=73;break}B=M.value,H=B.node,z=B.property,K=B.value,W=[],V=[],q=Object.keys(H).length;case 56:if(!(z===h&&c.isObject(x[H["@id"]])&&c.isArray(H[p])&&1===H[p].length&&c.isArray(H[h])&&1===H[h].length&&(3===q||4===q&&c.isArray(H["@type"])&&1===H["@type"].length&&H["@type"][0]===d))){e.next=68;break}if(W.push(H[p][0]),V.push(H["@id"]),B=x[H["@id"]],H=B.node,z=B.property,K=B.value,q=Object.keys(H).length,u.isBlankNode(H)){e.next=66;break}return e.abrupt("break",68);case 66:e.next=56;break;case 68:for(delete K["@id"],K["@list"]=W.reverse(),J=0,G=V;J<G.length;J++)Y=G[J],delete D[Y];case 71:e.next=48;break;case 73:e.next=78;break;case 75:e.prev=75,e.t3=e.catch(46),U.e(e.t3);case 78:return e.prev=78,U.f(),e.finish(78);case 81:delete L.usages,e.next=37;break;case 84:$=[],Q=Object.keys(b).sort(),X=o(Q);try{for(X.s();!(Z=X.n()).done;){if(ee=Z.value,te=b[ee],ee in w){re=te["@graph"]=[],ne=w[ee],ie=Object.keys(ne).sort(),oe=o(ie);try{for(oe.s();!(ae=oe.n()).done;)se=ae.value,ue=ne[se],u.isSubjectReference(ue)||re.push(ue)}catch(ce){oe.e(ce)}finally{oe.f()}}u.isSubjectReference(te)||$.push(te)}}catch(ce){X.e(ce)}finally{X.f()}return e.abrupt("return",$);case 89:case"end":return e.stop()}}),e,null,[[5,30,33,36],[46,75,78,81]])})));return function(t,r){return e.apply(this,arguments)}}()},function(e,t,r){"use strict";var n=r(14).default,i=r(49).createNodeMap,o=r(37).isKeyword,a=r(27),s=r(145),u=r(19),c=r(21),l=r(63),f=l.RDF_FIRST,d=l.RDF_REST,p=l.RDF_NIL,h=l.RDF_TYPE,g=l.RDF_JSON_LITERAL,v=l.RDF_LANGSTRING,y=l.XSD_BOOLEAN,m=l.XSD_DOUBLE,b=l.XSD_INTEGER,w=l.XSD_STRING,x=r(31).isAbsolute,S={};function k(e,t,r,i,a){var s,u=Object.keys(t).sort(),c=n(u);try{for(c.s();!(s=c.n()).done;){var l,f=s.value,d=t[f],p=Object.keys(d).sort(),g=n(p);try{for(g.s();!(l=g.n()).done;){var v=l.value,y=d[v];if("@type"===v)v=h;else if(o(v))continue;var m,b=n(y);try{for(b.s();!(m=b.n()).done;){var w=m.value,S={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(x(f)){var k={termType:v.startsWith("_:")?"BlankNode":"NamedNode",value:v};if(x(v)&&("BlankNode"!==k.termType||a.produceGeneralizedRdf)){var E=_(w,i,e,r,a.rdfDirection);E&&e.push({subject:S,predicate:k,object:E,graph:r})}}}}catch(O){b.e(O)}finally{b.f()}}}catch(O){g.e(O)}finally{g.f()}}}catch(O){c.e(O)}finally{c.f()}}function _(e,t,r,i,o){var c={};if(a.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};var l=e["@value"],h=e["@type"]||null;if("@json"===h)c.value=s(l),c.datatype.value=g;else if(u.isBoolean(l))c.value=l.toString(),c.datatype.value=h||y;else if(u.isDouble(l)||h===m)u.isDouble(l)||(l=parseFloat(l)),c.value=l.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=h||m;else if(u.isNumber(l))c.value=l.toFixed(0),c.datatype.value=h||b;else if("i18n-datatype"===o&&"@direction"in e){var S="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_".concat(e["@direction"]);c.datatype.value=S,c.value=l}else"@language"in e?(c.value=l,c.datatype.value=h||v,c.language=e["@language"]):(c.value=l,c.datatype.value=h||w)}else if(a.isList(e)){var k=function(e,t,r,i,o){var a,s={termType:"NamedNode",value:f},u={termType:"NamedNode",value:d},c={termType:"NamedNode",value:p},l=e.pop(),h=l?{termType:"BlankNode",value:t.getId()}:c,g=h,v=n(e);try{for(v.s();!(a=v.n()).done;){var y=_(a.value,t,r,i,o),m={termType:"BlankNode",value:t.getId()};r.push({subject:g,predicate:s,object:y,graph:i}),r.push({subject:g,predicate:u,object:m,graph:i}),g=m}}catch(w){v.e(w)}finally{v.f()}if(l){var b=_(l,t,r,i,o);r.push({subject:g,predicate:s,object:b,graph:i}),r.push({subject:g,predicate:u,object:c,graph:i})}return h}(e["@list"],t,r,i,o);c.termType=k.termType,c.value=k.value}else{var E=u.isObject(e)?e["@id"]:e;c.termType=E.startsWith("_:")?"BlankNode":"NamedNode",c.value=E}return"NamedNode"!==c.termType||x(c.value)?c:null}e.exports=S,S.toRDF=function(e,t){var r=new c.IdentifierIssuer("_:b"),o={"@default":{}};i(e,o,"@default",r);var a,s=[],u=Object.keys(o).sort(),l=n(u);try{for(l.s();!(a=l.n()).done;){var f=a.value,d=void 0;if("@default"===f)d={termType:"DefaultGraph",value:""};else{if(!x(f))continue;(d=f.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=f}k(s,o[f],d,r,t)}}catch(p){l.e(p)}finally{l.f()}return s}},function(e,t,r){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((function(t,r,n){return t+(0===n?"":",")+e(void 0===r||"symbol"===typeof r?null:r)}),"")+"]":"{"+Object.keys(t).sort().reduce((function(r,n,i){return void 0===t[n]||"symbol"===typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"}},function(e,t,r){"use strict";var n=r(20).default,i=r(48).default,o=r(14).default,a=r(37).isKeyword,s=r(27),u=r(19),c=r(21),l=r(31),f=r(24),d=r(49),p=d.createNodeMap,h=d.mergeNodeMapGraphs,g={};function v(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function y(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function m(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function b(e){if(!u.isArray(e)||1!==e.length||!u.isObject(e[0]))throw new f("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,r=o(c.asArray(e[0]["@id"]));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!u.isObject(n)&&!l.isAbsolute(n)||u.isString(n)&&0===n.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){r.e(d)}finally{r.f()}}if("@type"in e[0]){var i,a=o(c.asArray(e[0]["@type"]));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!u.isObject(s)&&!l.isAbsolute(s)||u.isString(s)&&0===s.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){a.e(d)}finally{a.f()}}}function w(e,t,r,n){var i,a={},s=o(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=e.graphMap[e.graph][u];x(e,c,r,n)&&(a[u]=c)}}catch(l){s.e(l)}finally{s.f()}return a}function x(e,t,r,n){var i=!0,l=!1;for(var f in r){var d=!1,p=c.getValues(t,f),h=0===c.getValues(r,f).length;if("@id"===f){if(u.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(p[0])),!n.requireAll)return d}else if("@type"===f){if(i=!1,h){if(p.length>0)return!1;d=!0}else if(1===r["@type"].length&&u.isEmptyObject(r["@type"][0]))d=p.length>0;else{var g,v=o(r["@type"]);try{var y=function(){var e=g.value;d=!(!u.isObject(e)||!("@default"in e))||(d||p.some((function(t){return t===e})))};for(v.s();!(g=v.n()).done;)y()}catch(w){v.e(w)}finally{v.f()}}if(!n.requireAll)return d}else{if(a(f))continue;var m=function(){var t=c.getValues(r,f)[0],o=!1;if(t&&(b([t]),o="@default"in t),i=!1,0===p.length&&o)return"continue";if(p.length>0&&h)return{v:!1};if(void 0===t){if(p.length>0)return{v:!1};d=!0}else if(s.isList(t)){var a=t["@list"][0];if(s.isList(p[0])){var l=p[0]["@list"];s.isValue(a)?d=l.some((function(e){return O(a,e)})):(s.isSubject(a)||s.isSubjectReference(a))&&(d=l.some((function(t){return E(e,a,t,n)})))}}else d=s.isValue(t)?p.some((function(e){return O(t,e)})):s.isSubjectReference(t)?p.some((function(r){return E(e,t,r,n)})):!!u.isObject(t)&&p.length>0}();if("continue"===m)continue;if("object"===typeof m)return m.v}if(!d&&n.requireAll)return!1;l=l||d}return i||l}function S(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,a={"@id":t};if(u.isArray(i)){for(var s=0;s<i.length;++s)if(c.compareValues(i[s],a)){i[s]=a;break}}else{var l=u.isArray(i[o]);c.removeValue(i,o,a,{propertyIsArray:l}),c.addValue(i,o,a,{propertyIsArray:l})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var o=i[n];o in r&&u.isObject(r[o].parent)&&r[o].parent["@id"]===t&&(delete r[o],e(o))}}(t)}function k(e,t){if(u.isArray(e))return e.map((function(e){return k(e,t)}));if(u.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(s.isValue(e))return e;if(s.isList(e))return e["@list"]=k(e["@list"],t),e;if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)"@id"===i&&t.bnodesToClear.includes(e[i])?delete e["@id"]:e[i]=k(e[i],t)}return e}function _(e,t,r){u.isObject(e)?c.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function E(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&x(e,i,t,n)}function O(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?u.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?u.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?u.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===a.length&&0===s.length||!(!o.includes(r)&&!u.isEmptyObject(o[0]))&&(!!(!n&&0===a.length||a.includes(n)||n&&u.isEmptyObject(a[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&u.isEmptyObject(s[0])))}e.exports=g,g.frameMergedOrDefault=function(e,t,r){var n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new c.IdentifierIssuer("_:b");p(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=h(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var o=[];return g.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),r.link={},k(o,r)},g.frame=function(e,t,r,l){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;b(r),r=r[0];var p=e.options,h={embed:m(r,p,"embed"),explicit:m(r,p,"explicit"),requireAll:m(r,p,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var x,k=e.link[e.graph],E=w(e,t,r,h),A=Object.keys(E).sort(),P=o(A);try{var C=function(){var b=x.value,w=E[b];if(null===d?e.uniqueEmbeds=i({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===h.embed&&b in k)return _(l,d,k[b]),"continue";var A={"@id":b};if(0===b.indexOf("_:")&&c.addValue(e.bnodeMap,b,A,{propertyIsArray:!0}),k[b]=A,("@first"===h.embed||"@last"===h.embed)&&e.is11)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(b))return"continue";if(e.embedded&&("@never"===h.embed||y(w,e.graph,e.subjectStack)))return _(l,d,A),"continue";if(e.embedded&&("@first"==h.embed||"@once"==h.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(b))return _(l,d,A),"continue";if("@last"===h.embed&&b in e.uniqueEmbeds[e.graph]&&S(e,b),e.uniqueEmbeds[e.graph][b]={parent:l,property:d},e.subjectStack.push({subject:w,graph:e.graph}),b in e.graphMap){var P=!1,C=null;"@graph"in r?(C=r["@graph"][0],P=!("@merged"===b||"@default"===b),u.isObject(C)||(C={})):(P="@merged"!==e.graph,C={}),P&&g.frame(n(n({},e),{},{graph:b,embedded:!1}),Object.keys(e.graphMap[b]).sort(),[C],A,"@graph")}"@included"in r&&g.frame(n(n({},e),{},{embedded:!1}),t,r["@included"],A,"@included");var j,R=o(Object.keys(w).sort());try{for(R.s();!(j=R.n()).done;){var I=j.value;if(a(I)){if(A[I]=c.clone(w[I]),"@type"===I){var F,T=o(w["@type"]);try{for(T.s();!(F=T.n()).done;){var N=F.value;0===N.indexOf("_:")&&c.addValue(e.bnodeMap,N,A,{propertyIsArray:!0})}}catch(ie){T.e(ie)}finally{T.f()}}}else if(!h.explicit||I in r){var D,L=o(w[I]);try{for(L.s();!(D=L.n()).done;){var U=D.value,M=I in r?r[I]:v(h);if(s.isList(U)){var B=r[I]&&r[I][0]&&r[I][0]["@list"]?r[I][0]["@list"]:v(h),H={"@list":[]};_(A,I,H);var z,K=U["@list"],W=o(K);try{for(W.s();!(z=W.n()).done;){var V=z.value;s.isSubjectReference(V)?g.frame(n(n({},e),{},{embedded:!0}),[V["@id"]],B,H,"@list"):_(H,"@list",c.clone(V))}}catch(ie){W.e(ie)}finally{W.f()}}else s.isSubjectReference(U)?g.frame(n(n({},e),{},{embedded:!0}),[U["@id"]],M,A,I):O(M[0],U)&&_(A,I,c.clone(U))}}catch(ie){L.e(ie)}finally{L.f()}}}}catch(ie){R.e(ie)}finally{R.f()}var q,J=o(Object.keys(r).sort());try{for(J.s();!(q=J.n()).done;){var G=q.value;if("@type"===G){if(!u.isObject(r[G][0])||!("@default"in r[G][0]))continue}else if(a(G))continue;var Y=r[G][0]||{};if(!m(Y,p,"omitDefault")&&!(G in A)){var $="@null";"@default"in Y&&($=c.clone(Y["@default"])),u.isArray($)||($=[$]),A[G]=[{"@preserve":$}]}}}catch(ie){J.e(ie)}finally{J.f()}var Q,X=o(Object.keys(r["@reverse"]||{}).sort());try{for(X.s();!(Q=X.n()).done;)for(var Z=Q.value,ee=r["@reverse"][Z],te=0,re=Object.keys(e.subjects);te<re.length;te++){var ne=re[te];c.getValues(e.subjects[ne],Z).some((function(e){return e["@id"]===b}))&&(A["@reverse"]=A["@reverse"]||{},c.addValue(A["@reverse"],Z,[],{propertyIsArray:!0}),g.frame(n(n({},e),{},{embedded:!0}),[ne],ee,A["@reverse"][Z],d))}}catch(ie){X.e(ie)}finally{X.f()}_(l,d,A),e.subjectStack.pop()};for(P.s();!(x=P.n()).done;)C()}catch(j){P.e(j)}finally{P.f()}},g.cleanupNull=function(e,t){if(u.isArray(e))return e.map((function(e){return g.cleanupNull(e,t)})).filter((function(e){return e}));if("@null"===e)return null;if(u.isObject(e)){if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)e[i]=g.cleanupNull(e[i],t)}return e}},function(e,t,r){"use strict";var n=r(23).default,i=r(0),o=r(148).default,a=r(48).default,s=r(14).default,u=r(10).default,c=r(24),l=r(19),f=l.isArray,d=l.isObject,p=l.isString,h=l.isUndefined,g=r(27),v=g.isList,y=g.isValue,m=g.isGraph,b=g.isSimpleGraph,w=g.isSubjectReference,x=r(37),S=x.expandIri,k=x.getContextValue,_=x.isKeyword,E=x.process,O=x.processingMode,A=r(31),P=A.removeBase,C=A.prependBase,j=r(21),R=j.addValue,I=j.asArray,F=j.compareShortestLeast,T={};function N(e,t,r){if("@nest"!==S(e,t,{vocab:!0},r))throw new c("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=T,T.compact=function(){var e=u(i.mark((function e(t){var r,n,u,l,g,x,S,A,P,C,j,F,D;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.activeProperty,u=void 0===n?null:n,l=t.element,g=t.options,x=void 0===g?{}:g,S=t.compactionMap,A=void 0===S?function(){}:S,!f(l)){e.next=20;break}P=[],C=0;case 4:if(!(C<l.length)){e.next=18;break}return e.next=7,T.compact({activeCtx:r,activeProperty:u,element:l[C],options:x,compactionMap:A});case 7:if(null!==(j=e.sent)){e.next=14;break}return e.next=11,A({unmappedValue:l[C],activeCtx:r,activeProperty:u,parent:l,index:C,options:x});case 11:if(void 0!==(j=e.sent)){e.next=14;break}return e.abrupt("continue",15);case 14:P.push(j);case 15:++C,e.next=4;break;case 18:return x.compactArrays&&1===P.length&&0===(k(r,u,"@container")||[]).length&&(P=P[0]),e.abrupt("return",P);case 20:if(F=k(r,u,"@context"),h(F)){e.next=25;break}return e.next=24,E({activeCtx:r,localCtx:F,propagate:!0,overrideProtected:!0,options:x});case 24:r=e.sent;case 25:if(!d(l)){e.next=30;break}return e.delegateYield(i.mark((function e(){var t,n,g,S,P,C,j,F,D,L,U,M,B,H,z,K,W,V,q,J,G,Y,$,Q,X,Z,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,ge,ve,ye,me,be,we,xe,Se,ke,_e,Ee,Oe,Ae,Pe,Ce,je,Re,Ie,Fe,Te,Ne,De,Le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x.link&&"@id"in l&&x.link.hasOwnProperty(l["@id"]))){e.next=9;break}t=x.link[l["@id"]],n=0;case 3:if(!(n<t.length)){e.next=9;break}if(t[n].expanded!==l){e.next=6;break}return e.abrupt("return",{v:t[n].compacted});case 6:++n,e.next=3;break;case 9:if(!y(l)&&!w(l)){e.next=13;break}return g=T.compactValue({activeCtx:r,activeProperty:u,value:l,options:x}),x.link&&w(l)&&(x.link.hasOwnProperty(l["@id"])||(x.link[l["@id"]]=[]),x.link[l["@id"]].push({expanded:l,compacted:g})),e.abrupt("return",{v:g});case 13:if(!v(l)){e.next=17;break}if(!(k(r,u,"@container")||[]).includes("@list")){e.next=17;break}return e.abrupt("return",{v:T.compact({activeCtx:r,activeProperty:u,element:l["@list"],options:x,compactionMap:A})});case 17:if(S="@reverse"===u,P={},C=r,y(l)||w(l)||(r=r.revertToPreviousContext()),j=k(C,u,"@context"),h(j)){e.next=26;break}return e.next=25,E({activeCtx:r,localCtx:j,propagate:!0,overrideProtected:!0,options:x});case 25:r=e.sent;case 26:x.link&&"@id"in l&&(x.link.hasOwnProperty(l["@id"])||(x.link[l["@id"]]=[]),x.link[l["@id"]].push({expanded:l,compacted:P})),(F=l["@type"]||[]).length>1&&(F=Array.from(F).sort()),D=r,L=s(F),e.prev=31,L.s();case 33:if((U=L.n()).done){e.next=43;break}if(M=U.value,B=T.compactIri({activeCtx:D,iri:M,relativeTo:{vocab:!0}}),H=k(C,B,"@context"),h(H)){e.next=41;break}return e.next=40,E({activeCtx:r,localCtx:H,options:x,propagate:!1});case 40:r=e.sent;case 41:e.next=33;break;case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(31),L.e(e.t0);case 48:return e.prev=48,L.f(),e.finish(48);case 51:z=Object.keys(l).sort(),K=s(z),e.prev=53,K.s();case 55:if((W=K.n()).done){e.next=211;break}if(V=W.value,q=l[V],"@id"!==V){e.next=64;break}return 1===(J=I(q).map((function(e){return T.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:!1},base:x.base})}))).length&&(J=J[0]),G=T.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),P[G]=J,e.abrupt("continue",209);case 64:if("@type"!==V){e.next=73;break}return 1===(Y=I(q).map((function(e){return T.compactIri({activeCtx:C,iri:e,relativeTo:{vocab:!0}})}))).length&&(Y=Y[0]),$=T.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),Q=k(r,$,"@container")||[],X=Q.includes("@set")&&O(r,1.1),Z=X||f(Y)&&0===q.length,R(P,$,Y,{propertyIsArray:Z}),e.abrupt("continue",209);case 73:if("@reverse"!==V){e.next=80;break}return e.next=76,T.compact({activeCtx:r,activeProperty:"@reverse",element:q,options:x,compactionMap:A});case 76:for(te in ee=e.sent)r.mappings.has(te)&&r.mappings.get(te).reverse&&(re=ee[te],ne=k(r,te,"@container")||[],ie=ne.includes("@set")||!x.compactArrays,R(P,te,re,{propertyIsArray:ie}),delete ee[te]);return Object.keys(ee).length>0&&(oe=T.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),R(P,oe,ee)),e.abrupt("continue",209);case 80:if("@preserve"!==V){e.next=86;break}return e.next=83,T.compact({activeCtx:r,activeProperty:u,element:q,options:x,compactionMap:A});case 83:return ae=e.sent,f(ae)&&0===ae.length||R(P,V,ae),e.abrupt("continue",209);case 86:if("@index"!==V){e.next=93;break}if(!(k(r,u,"@container")||[]).includes("@index")){e.next=90;break}return e.abrupt("continue",209);case 90:return se=T.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),R(P,se,q),e.abrupt("continue",209);case 93:if("@graph"===V||"@list"===V||"@included"===V||!_(V)){e.next=97;break}return ue=T.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),R(P,ue,q),e.abrupt("continue",209);case 97:if(f(q)){e.next=99;break}throw new c("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 99:0===q.length&&(ce=T.compactIri({activeCtx:r,iri:V,value:q,relativeTo:{vocab:!0},reverse:S}),le=r.mappings.has(ce)?r.mappings.get(ce)["@nest"]:null,fe=P,le&&(N(r,le,x),d(P[le])||(P[le]={}),fe=P[le]),R(fe,ce,q,{propertyIsArray:!0})),de=s(q),e.prev=101,de.s();case 103:if((pe=de.n()).done){e.next=201;break}return he=pe.value,ge=T.compactIri({activeCtx:r,iri:V,value:he,relativeTo:{vocab:!0},reverse:S}),ve=r.mappings.has(ge)?r.mappings.get(ge)["@nest"]:null,ye=P,ve&&(N(r,ve,x),d(P[ve])||(P[ve]={}),ye=P[ve]),me=k(r,ge,"@container")||[],be=m(he),we=v(he),xe=void 0,we?xe=he["@list"]:be&&(xe=he["@graph"]),e.next=116,T.compact({activeCtx:r,activeProperty:ge,element:we||be?xe:he,options:x,compactionMap:A});case 116:if(Se=e.sent,!we){e.next=126;break}if(f(Se)||(Se=[Se]),me.includes("@list")){e.next=124;break}Se=a({},T.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),Se),"@index"in he&&(Se[T.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=he["@index"]),e.next=126;break;case 124:return R(ye,ge,Se,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",199);case 126:if(!be){e.next=130;break}me.includes("@graph")&&(me.includes("@id")||me.includes("@index")&&b(he))?(ke=void 0,ye.hasOwnProperty(ge)?ke=ye[ge]:ye[ge]=ke={},_e=(me.includes("@id")?he["@id"]:he["@index"])||T.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}}),R(ke,_e,Se,{propertyIsArray:!x.compactArrays||me.includes("@set")})):me.includes("@graph")&&b(he)?(f(Se)&&Se.length>1&&(Se={"@included":Se}),R(ye,ge,Se,{propertyIsArray:!x.compactArrays||me.includes("@set")})):(f(Se)&&1===Se.length&&x.compactArrays&&(Se=Se[0]),Se=a({},T.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),Se),"@id"in he&&(Se[T.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=he["@id"]),"@index"in he&&(Se[T.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=he["@index"]),R(ye,ge,Se,{propertyIsArray:!x.compactArrays||me.includes("@set")})),e.next=199;break;case 130:if(!(me.includes("@language")||me.includes("@index")||me.includes("@id")||me.includes("@type"))){e.next=197;break}if(Ee=void 0,ye.hasOwnProperty(ge)?Ee=ye[ge]:ye[ge]=Ee={},Oe=void 0,!me.includes("@language")){e.next=139;break}y(Se)&&(Se=Se["@value"]),Oe=he["@language"],e.next=193;break;case 139:if(!me.includes("@index")){e.next=167;break}if(Ae=k(r,ge,"@index")||"@index",Pe=T.compactIri({activeCtx:r,iri:Ae,relativeTo:{vocab:!0}}),"@index"!==Ae){e.next=147;break}Oe=he["@index"],delete Se[Pe],e.next=165;break;case 147:if(Ce=void 0,je=I(Se[Ae]||[]),Re=o(je),Oe=Re[0],Ce=Re.slice(1),p(Oe)){e.next=156;break}Oe=null,e.next=165;break;case 156:e.t1=Ce.length,e.next=0===e.t1?159:1===e.t1?161:163;break;case 159:return delete Se[Ae],e.abrupt("break",165);case 161:return Se[Ae]=Ce[0],e.abrupt("break",165);case 163:return Se[Ae]=Ce,e.abrupt("break",165);case 165:e.next=193;break;case 167:if(!me.includes("@id")){e.next=173;break}Ie=T.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),Oe=Se[Ie],delete Se[Ie],e.next=193;break;case 173:if(!me.includes("@type")){e.next=193;break}Fe=T.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),Te=void 0,Ne=I(Se[Fe]||[]),De=o(Ne),Oe=De[0],Te=De.slice(1),e.t2=Te.length,e.next=0===e.t2?183:1===e.t2?185:187;break;case 183:return delete Se[Fe],e.abrupt("break",189);case 185:return Se[Fe]=Te[0],e.abrupt("break",189);case 187:return Se[Fe]=Te,e.abrupt("break",189);case 189:if(1!==Object.keys(Se).length||!("@id"in he)){e.next=193;break}return e.next=192,T.compact({activeCtx:r,activeProperty:ge,element:{"@id":he["@id"]},options:x,compactionMap:A});case 192:Se=e.sent;case 193:Oe||(Oe=T.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}})),R(Ee,Oe,Se,{propertyIsArray:me.includes("@set")}),e.next=199;break;case 197:Le=!x.compactArrays||me.includes("@set")||me.includes("@list")||f(Se)&&0===Se.length||"@list"===V||"@graph"===V,R(ye,ge,Se,{propertyIsArray:Le});case 199:e.next=103;break;case 201:e.next=206;break;case 203:e.prev=203,e.t3=e.catch(101),de.e(e.t3);case 206:return e.prev=206,de.f(),e.finish(206);case 209:e.next=55;break;case 211:e.next=216;break;case 213:e.prev=213,e.t4=e.catch(53),K.e(e.t4);case 216:return e.prev=216,K.f(),e.finish(216);case 219:return e.abrupt("return",{v:P});case 220:case"end":return e.stop()}}),e,null,[[31,45,48,51],[53,213,216,219],[101,203,206,209]])}))(),"t0",27);case 27:if("object"!==typeof(D=e.t0)){e.next=30;break}return e.abrupt("return",D.v);case 30:return e.abrupt("return",l);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T.compactIri=function(e){var t=e.activeCtx,r=e.iri,i=e.value,o=void 0===i?null:i,a=e.relativeTo,u=void 0===a?{vocab:!1}:a,l=e.reverse,f=void 0!==l&&l,p=e.base,h=void 0===p?null:p;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var g=t.getInverse();if(_(r)&&r in g&&"@none"in g[r]&&"@type"in g[r]["@none"]&&"@none"in g[r]["@none"]["@type"])return g[r]["@none"]["@type"]["@none"];if(u.vocab&&r in g){var b=t["@language"]||"@none",w=[];d(o)&&"@index"in o&&!("@graph"in o)&&w.push("@index","@index@set"),d(o)&&"@preserve"in o&&(o=o["@preserve"][0]),m(o)?("@index"in o&&w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o&&w.push("@graph@id","@graph@id@set"),w.push("@graph","@graph@set","@set"),"@index"in o||w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o||w.push("@graph@id","@graph@id@set")):d(o)&&!y(o)&&w.push("@id","@id@set","@type","@set@type");var x="@language",S="@null";if(f)x="@type",S="@reverse",w.push("@set");else if(v(o)){"@index"in o||w.push("@list");var k=o["@list"];if(0===k.length)x="@any",S="@none";else{for(var E=0===k.length?b:null,O=null,A=0;A<k.length;++A){var j=k[A],R="@none",I="@none";if(y(j))if("@direction"in j){var N=(j["@language"]||"").toLowerCase(),D=j["@direction"];R="".concat(N,"_").concat(D)}else"@language"in j?R=j["@language"].toLowerCase():"@type"in j?I=j["@type"]:R="@null";else I="@id";if(null===E?E=R:R!==E&&y(j)&&(E="@none"),null===O?O=I:I!==O&&(O="@none"),"@none"===E&&"@none"===O)break}E=E||"@none","@none"!==(O=O||"@none")?(x="@type",S=O):S=E}}else{if(y(o))if("@language"in o&&!("@index"in o)){w.push("@language","@language@set"),S=o["@language"];var L=o["@direction"];L&&(S="".concat(S,"_").concat(L))}else"@direction"in o&&!("@index"in o)?S="_".concat(o["@direction"]):"@type"in o&&(x="@type",S=o["@type"]);else x="@type",S="@id";w.push("@set")}w.push("@none"),d(o)&&!("@index"in o)&&w.push("@index","@index@set"),y(o)&&1===Object.keys(o).length&&w.push("@language","@language@set");var U=function(e,t,r,n,i,o){null===o&&(o="@null");var a=[];if(("@id"===o||"@reverse"===o)&&d(r)&&"@id"in r){"@reverse"===o&&a.push("@reverse");var u=T.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(u)&&e.mappings.get(u)&&e.mappings.get(u)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);var c=a.find((function(e){return e.includes("_")}));c&&a.push(c.replace(/^[^_]+_/,"_"))}a.push("@none");var l,f=e.inverse[t],p=s(n);try{for(p.s();!(l=p.n()).done;){var h=l.value;if(h in f){var g,v=f[h][i],y=s(a);try{for(y.s();!(g=y.n()).done;){var m=g.value;if(m in v)return v[m]}}catch(b){y.e(b)}finally{y.f()}}}}catch(b){p.e(b)}finally{p.f()}return null}(t,r,o,w,x,S);if(null!==U)return U}if(u.vocab&&"@vocab"in t){var M=t["@vocab"];if(0===r.indexOf(M)&&r!==M){var B=r.substr(M.length);if(!t.mappings.has(B))return B}}for(var H=null,z=[],K=t.fastCurieMap,W=r.length-1,V=0;V<W&&r[V]in K;++V)""in(K=K[r[V]])&&z.push(K[""][0]);for(var q=z.length-1;q>=0;--q){var J,G=z[q],Y=G.terms,$=s(Y);try{for($.s();!(J=$.n()).done;){var Q=J.value,X=Q+":"+r.substr(G.iri.length);t.mappings.get(Q)._prefix&&(!t.mappings.has(X)||null===o&&t.mappings.get(X)["@id"]===r)&&(null===H||F(X,H)<0)&&(H=X)}}catch(ie){$.e(ie)}finally{$.f()}}if(null!==H)return H;var Z,ee=s(t.mappings);try{for(ee.s();!(Z=ee.n()).done;){var te=n(Z.value,2),re=te[0],ne=te[1];if(ne&&ne._prefix&&r.startsWith(re+":"))throw new c('Absolute IRI "'.concat(r,'" confused with prefix "').concat(re,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch(ie){ee.e(ie)}finally{ee.f()}return u.vocab?r:"@base"in t?t["@base"]?P(C(h,t["@base"]),r):r:P(h,r)},T.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(y(n)){var o=k(t,r,"@type"),s=k(t,r,"@language"),u=k(t,r,"@direction"),c=k(t,r,"@container")||[],l="@index"in n&&!c.includes("@index");if(!l&&"@none"!==o){if(n["@type"]===o)return n["@value"];if("@language"in n&&n["@language"]===s&&"@direction"in n&&n["@direction"]===u)return n["@value"];if("@language"in n&&n["@language"]===s)return n["@value"];if("@direction"in n&&n["@direction"]===u)return n["@value"]}var f=Object.keys(n).length,d=1===f||2===f&&"@index"in n&&!l,h="@language"in t,g=p(n["@value"]),v=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(d&&"@none"!==o&&(!h||!g||v))return n["@value"];var m={};return l&&(m[T.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?m[T.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=T.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(m[T.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(m[T.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),m[T.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],m}var b=S(t,r,{vocab:!0},i),w=k(t,r,"@type"),x=T.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===w},base:i.base});return"@id"===w||"@vocab"===w||"@graph"===b?x:a({},T.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),x)}},function(e,t,r){var n=r(76),i=r(80),o=r(47),a=r(78);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(6).default,i=r(7).default;e.exports=function(e){var t=function(){function e(){n(this,e)}return i(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=t.ConfigurationError=t.NotImplementedError=t.getClientAuthenticationWithDependencies=t.Session=void 0;var o=r(93);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return o.Session}});var a=r(98);Object.defineProperty(t,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),i(r(177),t);var s=r(11);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return s.NotImplementedError}}),Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return s.ConfigurationError}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return s.InMemoryStorage}})},function(e,t,r){"use strict";var n=r(0),i=r(26).default,o=r(10).default,a=r(6).default,s=r(7).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(94)),l=function(){function e(t){a(this,e),this.handleables=t}return s(e,[{key:"getProperHandler",value:function(){var e=o(n.mark((function e(t){var r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.handleables.map((function(e){return e.canHandle.apply(e,i(t))})));case 2:r=e.sent,o=0;case 4:if(!(o<r.length)){e.next=10;break}if(!r[o]){e.next=7;break}return e.abrupt("return",this.handleables[o]);case 7:o+=1,e.next=4;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canHandle",value:function(){var e=o(n.mark((function e(){var t,r,i,o=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,r=new Array(t),i=0;i<t;i++)r[i]=o[i];return e.next=3,this.getProperHandler(r);case 3:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(n.mark((function e(){var t,r,i,o,a=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,r=new Array(t),i=0;i<t;i++)r[i]=a[i];return e.next=3,this.getProperHandler(r);case 3:if(!(o=e.sent)){e.next=6;break}return e.abrupt("return",o.handle.apply(o,r));case 6:throw new c.default("[".concat(this.constructor.name,"] cannot find a suitable handler for: ").concat(r.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){"use strict";var n=r(0),i=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getWebidFromTokenPayload=t.fetchJwks=void 0;var o=r(51),a=r(50);function s(e,t){return u.apply(this,arguments)}function u(){return(u=i(n.mark((function e(t,r){var i,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetch(t);case 2:if(200===(i=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(i.status," ").concat(i.statusText));case 5:return e.prev=5,e.next=8,i.json();case 8:a=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function c(){return(c=i(n.mark((function e(t,r,i,o){var u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,i);case 2:return u=e.sent,e.prev=3,e.t0=a,e.t1=t,e.next=8,a.parseJwk(u);case 8:return e.t2=e.sent,e.t3={issuer:i,audience:o},e.next=12,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 12:l=e.sent,f=l.payload,c=f,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("ID token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof c.webid){e.next=22;break}return e.abrupt("return",c.webid);case 22:if("string"===typeof c.sub){e.next=24;break}throw new Error("The ID token ".concat(JSON.stringify(c)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(c.sub),e.abrupt("return",c.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The ID token has no 'webid' claim, and its 'sub' claim of [".concat(c.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}t.fetchJwks=s,t.getWebidFromTokenPayload=function(e,t,r,n){return c.apply(this,arguments)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedTokenType=void 0,t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SESSION_PREFIX=void 0,t.USER_SESSION_PREFIX="solidClientAuthenticationUser"},function(e,t,r){"use strict";var n=r(0),i=r(10).default;function o(e){try{return new URL(e),!0}catch(t){return!1}}function a(e,t){return void 0===e.clientId||o(e.clientId)?"https://solidproject.org/TR/solid-oidc"===t.solidOidcSupported&&void 0!==e.clientId&&o(e.clientId)?"solid-oidc":"dynamic":"static"}function s(){return(s=i(n.mark((function e(t,r,i,o){var s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dynamic"!==(s=a(t,r))){e.next=3;break}return e.abrupt("return",o.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},r));case 3:return e.next=5,i.setForUser(t.sessionId,{clientId:t.clientId});case 5:if(!t.clientSecret){e.next=8;break}return e.next=8,i.setForUser(t.sessionId,{clientSecret:t.clientSecret});case 8:if(!t.clientName){e.next=11;break}return e.next=11,i.setForUser(t.sessionId,{clientName:t.clientName});case 11:return e.abrupt("return",{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegistration=t.determineSigningAlg=void 0,t.determineSigningAlg=function(e,t){var r;return null!==(r=t.find((function(t){return e.includes(t)})))&&void 0!==r?r:null},t.handleRegistration=function(e,t,r,n){return s.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(23).default,i=r(20).default,o=r(0),a=r(6).default,s=r(7).default,u=r(10).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.getSessionIdFromOauthState=void 0;var l=r(50),f=c(r(94));function d(){return(d=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getForUser(r,"sessionId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=u(o.mark((function e(t,r,i){var a,s,u,c,l,f,d;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([r.getForUser(t,"issuer",{errorIfNull:!0}),r.getForUser(t,"codeVerifier"),r.getForUser(t,"redirectUrl"),r.getForUser(t,"dpop",{errorIfNull:!0})]);case 3:return a=e.sent,s=n(a,4),u=s[0],c=s[1],l=s[2],f=s[3],e.next=11,i.fetchConfig(u);case 11:return d=e.sent,e.abrupt("return",{codeVerifier:c,redirectUrl:l,issuerConfig:d,dpop:"true"===f});case 15:throw e.prev=15,e.t0=e.catch(0),new Error("Failed to retrieve OIDC context from storage associated with session [".concat(t,"]: ").concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function h(){return(h=u(o.mark((function e(t,r,n,i,a,s,u,c){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=3;break}return e.next=3,t.setForUser(r,{refreshToken:s},{secure:u});case 3:if(void 0===n){e.next=6;break}return e.next=6,t.setForUser(r,{idToken:n},{secure:u});case 6:if(void 0===i){e.next=9;break}return e.next=9,t.setForUser(r,{webId:i},{secure:u});case 9:if(void 0===a){e.next=12;break}return e.next=12,t.setForUser(r,{isLoggedIn:a},{secure:u});case 12:if(void 0===c){e.next=25;break}return e.t0=t,e.t1=r,e.t2=JSON.stringify(c.publicKey),e.t3=JSON,e.next=19,l.fromKeyLike(c.privateKey);case 19:return e.t4=e.sent,e.t5=e.t3.stringify.call(e.t3,e.t4),e.t6={publicKey:e.t2,privateKey:e.t5},e.t7={secure:u},e.next=25,e.t0.setForUser.call(e.t0,e.t1,e.t6,e.t7);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSessionIdFromOauthState=function(e,t){return d.apply(this,arguments)},t.loadOidcContextFromStorage=function(e,t,r){return p.apply(this,arguments)},t.saveSessionInfoToStorage=function(e,t,r,n,i,o,a,s){return h.apply(this,arguments)};var g=function(){function e(t,r){a(this,e),this.secureStorage=t,this.insecureStorage=r,this.RESOURCE_SERVER_SESSION_INFORMATION_KEY="tmp-resource-server-session-info"}return s(e,[{key:"getKey",value:function(e){return"solidClientAuthenticationUser:".concat(e)}},{key:"getUserData",value:function(){var e=u(o.mark((function e(t,r){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r?this.secureStorage:this.insecureStorage).get(this.getKey(t));case 2:if(void 0!==(n=e.sent)){e.next=5;break}return e.abrupt("return",{});case 5:return e.prev=5,e.abrupt("return",JSON.parse(n));case 9:throw e.prev=9,e.t0=e.catch(5),new f.default("Data for user [".concat(t,"] in [").concat(r?"secure":"unsecure","] storage is corrupted - expected valid JSON, but got: ").concat(n));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setUserData",value:function(){var e=u(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(n?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=u(o.mark((function e(t,r){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).get(t);case 2:if(void 0!==(n=e.sent)||!(null===r||void 0===r?void 0:r.errorIfNull)){e.next=5;break}throw new f.default("[".concat(t,"] is not stored"));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=u(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).set(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getForUser",value:function(){var e=u(o.mark((function e(t,r,n){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:if((i=e.sent)&&i[r]||(a=void 0),void 0!==(a=i[r])||!(null===n||void 0===n?void 0:n.errorIfNull)){e.next=7;break}throw new f.default("Field [".concat(r,"] for user [").concat(t,"] is not stored"));case 7:return e.abrupt("return",a||void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setForUser",value:function(){var e=u(o.mark((function e(t,r,n){var a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a={};case 9:return e.next=11,this.setUserData(t,i(i({},a),r),null===n||void 0===n?void 0:n.secure);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteForUser",value:function(){var e=u(o.mark((function e(t,r,n){var i;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:return delete(i=e.sent)[r],e.next=6,this.setUserData(t,i,null===n||void 0===n?void 0:n.secure);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"storeResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t,r,n){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=i=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==i;case 7:if(!e.t1){e.next=11;break}e.t3=i,e.next=12;break;case 11:e.t3="{}";case 12:return e.t4=e.t3,(a=e.t0.parse.call(e.t0,e.t4)).webId!==t&&(a.sessions={}),a.webId=t,a.sessions[r]={expiration:n},e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(a));case 19:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"clearResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t){var r,n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=r=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==r;case 7:if(!e.t1){e.next=11;break}e.t3=r,e.next=12;break;case 11:e.t3="{}";case 12:if(e.t4=e.t3,void 0===(n=e.t0.parse.call(e.t0,e.t4)).sessions){e.next=23;break}if(delete n.sessions[t],0!==Object.keys(n.sessions).length){e.next=21;break}return e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,"{}");case 19:e.next=23;break;case 21:return e.next=23,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(n));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=g},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e),this.map={}}return a(e,[{key:"get",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t]||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.map[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.map[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default,s=r(36).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,e)}return n(r)}(s(Error));t.default=u},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default,s=r(36).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,"[".concat(e,"] is not implemented"))}return n(r)}(s(Error));t.default=u},function(e,t,r){"use strict";var n=r(0),i=r(20).default,o=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.buildAuthenticatedFetch=t.DEFAULT_EXPIRATION_TIME_SECONDS=void 0;var a=r(64),s=r(97),u=r(96),c=r(95);function l(e){return[401,403].includes(e)}function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=o(n.mark((function e(t,r,o,a){var u,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i({},a),e.t0=i,e.t1=i({},null===a||void 0===a?void 0:a.headers),e.t2={},e.t3="DPoP ".concat(r),e.next=7,s.createDpopHeader(t,null!==(u=null===a||void 0===a?void 0:a.method)&&void 0!==u?u:"get",o);case 7:return e.t4=e.sent,e.t5={Authorization:e.t3,DPoP:e.t4},c.headers=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r,n){return h.apply(this,arguments)}function h(){return(h=o(n.mark((function e(t,r,o,a){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=2;break}return e.abrupt("return",f(t,r,o,a));case 2:return e.abrupt("return",i(i({},a),{},{headers:i(i({},null===a||void 0===a?void 0:a.headers),{},{Authorization:"Bearer ".concat(r)})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r,n,i){return v.apply(this,arguments)}function v(){return(v=o(n.mark((function e(t,r,i,o,a){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=i,e.next=4,p(i.toString(),r,a,o);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r){return m.apply(this,arguments)}function m(){return(m=o(n.mark((function e(r,i,o){var s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tokenRefresher.refresh(r.sessionId,r.refreshToken,i);case 2:return u=e.sent,null===o||void 0===o||o.emit(a.EVENTS.SESSION_EXTENDED,null!==(s=u.expiresIn)&&void 0!==s?s:t.DEFAULT_EXPIRATION_TIME_SECONDS),"string"===typeof u.refreshToken&&(null===o||void 0===o||o.emit(a.EVENTS.NEW_REFRESH_TOKEN,u.refreshToken)),e.abrupt("return",{accessToken:u.accessToken,refreshToken:u.refreshToken,expiresIn:u.expiresIn});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.DEFAULT_EXPIRATION_TIME_SECONDS=600;var b=function(e){return void 0!==e?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS>0?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS:e:t.DEFAULT_EXPIRATION_TIME_SECONDS};function w(){return w=o(n.mark((function e(t,r,i){var s,f,d,p,h,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=r,void 0!==(p=null===i||void 0===i?void 0:i.refreshOptions)?(h=function(){var e=o(n.mark((function e(){var t,r,o,s,l,g,v,m;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(p,i.dpopKey,i.eventEmitter);case 3:l=e.sent,g=l.accessToken,v=l.refreshToken,m=l.expiresIn,f=g,void 0!==v&&(p.refreshToken=v),clearTimeout(d),d=setTimeout(h,1e3*b(m)),null===(t=i.eventEmitter)||void 0===t||t.emit(a.EVENTS.TIMEOUT_SET,d),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0 instanceof u.OidcProviderError&&(null===(r=null===i||void 0===i?void 0:i.eventEmitter)||void 0===r||r.emit(a.EVENTS.ERROR,e.t0.error,e.t0.errorDescription),null===(o=null===i||void 0===i?void 0:i.eventEmitter)||void 0===o||o.emit(a.EVENTS.SESSION_EXPIRED)),e.t0 instanceof c.InvalidResponseError&&e.t0.missingFields.includes("access_token")&&(null===(s=null===i||void 0===i?void 0:i.eventEmitter)||void 0===s||s.emit(a.EVENTS.SESSION_EXPIRED));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),d=setTimeout(h,1e3*b(i.expiresIn)),null===(s=i.eventEmitter)||void 0===s||s.emit(a.EVENTS.TIMEOUT_SET,d)):void 0!==i&&void 0!==i.eventEmitter&&(v=setTimeout((function(){i.eventEmitter.emit(a.EVENTS.SESSION_EXPIRED)}),1e3*b(i.expiresIn)),i.eventEmitter.emit(a.EVENTS.TIMEOUT_SET,v)),e.abrupt("return",function(){var e=o(n.mark((function e(r,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,f,r,o,null===i||void 0===i?void 0:i.dpopKey);case 2:if(a=e.sent,s=!a.ok&&!l(a.status),!a.ok&&!s){e.next=6;break}return e.abrupt("return",a);case 6:if(!(a.url!==r)||void 0===(null===i||void 0===i?void 0:i.dpopKey)){e.next=11;break}return e.next=10,g(t,f,a.url,o,i.dpopKey);case 10:a=e.sent;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}t.buildAuthenticatedFetch=function(e,t,r){return w.apply(this,arguments)}},function(e,t,r){"use strict";var n=r(0),i=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.mockStorageUtility=t.mockStorage=t.StorageUtilityMock=t.StorageUtilityGetResponse=void 0;var o=r(11);t.StorageUtilityGetResponse="getResponse",t.StorageUtilityMock={get:function(){var e=i(n.mark((function e(r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),set:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getForUser:function(){var e=i(n.mark((function e(r,i,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),setForUser:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteForUser:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteAllUserData:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),storeResourceServerSessionInfo:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),clearResourceServerSessionInfo:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.mockStorage=function(e){var t=e;return{get:function(){var e=i(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t[r]){e.next=2;break}return e.abrupt("return",void 0);case 2:if("string"!==typeof t[r]){e.next=4;break}return e.abrupt("return",t[r]);case 4:return e.abrupt("return",JSON.stringify(t[r]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=i(n.mark((function e(r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[r]=i;case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=i(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t[r];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.mockStorageUtility=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?new o.StorageUtility(t.mockStorage(e),t.mockStorage({})):new o.StorageUtility(t.mockStorage({}),t.mockStorage(e))}},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=a(r);function r(e,n){return i(this,r),t.call(this,e,n)}return n(r)}(r(11).StorageUtility);t.default=s},function(e,t,r){"use strict";var n=r(0),i=r(20).default,o=r(10).default,a=r(7).default,s=r(6).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(11),c=r(38),l=r(50),f=r(65),d=function(e,t){return window.fetch(e,t)},p=a((function e(t,r,a,p,h){var g=this;s(this,e),this.loginHandler=t,this.redirectHandler=r,this.logoutHandler=a,this.sessionInfoManager=p,this.issuerConfigFetcher=h,this.login=function(){var e=o(n.mark((function e(t,r){var o,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sessionInfoManager.clear(t.sessionId);case 2:return s=c.removeOidcQueryParam(null!==(o=t.redirectUrl)&&void 0!==o?o:window.location.href),e.next=5,g.loginHandler.handle(i(i({},t),{},{redirectUrl:s,clientName:null!==(a=t.clientName)&&void 0!==a?a:t.clientId,eventEmitter:r}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.fetch=d,this.logout=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.logoutHandler.handle(t);case 2:g.fetch=d;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSessionInfo=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSessionInfo=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.getAll());case 1:case"end":return e.stop()}}),e)}))),this.validateCurrentSession=o(n.mark((function e(){var t,r,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem(f.KEY_CURRENT_SESSION))){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,g.sessionInfoManager.get(t);case 5:if(void 0!==(r=e.sent)&&void 0!==r.idToken&&void 0!==r.clientAppId&&void 0!==r.issuer){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,g.issuerConfigFetcher.fetchConfig(r.issuer);case 10:return i=e.sent,e.prev=11,e.next=14,u.fetchJwks(i.jwksUri,i.issuer);case 14:return o=e.sent,e.t0=l,e.t1=r.idToken,e.next=19,l.parseJwk(o);case 19:return e.t2=e.sent,e.t3={audience:r.clientAppId,issuer:i.issuer},e.next=23,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 23:return e.abrupt("return",r);case 26:e.prev=26,e.t4=e.catch(11);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[11,26]])}))),this.handleIncomingRedirect=function(){var e=o(n.mark((function e(t,r){var i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.redirectHandler.handle(t,r);case 2:return i=e.sent,g.fetch=i.fetch.bind(window),(o=new URL(t)).searchParams.delete("state"),o.searchParams.delete("code"),o.searchParams.delete("id_token"),o.searchParams.delete("access_token"),o.searchParams.delete("error"),o.searchParams.delete("error_description"),window.history.replaceState(null,"",o.toString()),e.abrupt("return",{isLoggedIn:i.isLoggedIn,webId:i.webId,sessionId:i.sessionId,expirationDate:i.expirationDate});case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}));t.default=p},function(e,t,r){"use strict";var n=r(20).default,i=r(0),o=r(10).default,a=r(6).default,s=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(11);function c(e){return"string"===typeof e.oidcIssuer}function l(e){return"string"===typeof e.redirectUrl}var f=function(){function e(t,r,n,i){a(this,e),this.storageUtility=t,this.oidcHandler=r,this.issuerConfigFetcher=n,this.clientRegistrar=i}return s(e,[{key:"canHandle",value:function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t)&&l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(i.mark((function e(t){var r,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t)){e.next=2;break}throw new u.ConfigurationError("OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ".concat(JSON.stringify(t)));case 2:if(l(t)){e.next=4;break}throw new u.ConfigurationError("OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ".concat(JSON.stringify(t)));case 4:return e.next=6,this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);case 6:return r=e.sent,e.next=9,u.handleRegistration(t,r,this.storageUtility,this.clientRegistrar);case 9:return o=e.sent,a=n(n({issuer:r.issuer,dpop:"dpop"===t.tokenType.toLowerCase()},t),{},{issuerConfiguration:r,client:o}),e.abrupt("return",this.oidcHandler.handle(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(38),u=function(){function e(t,r){o(this,e),this.storageUtility=t,this.redirector=r}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){var r,i,o,a,u,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl.toString(),post_logout_redirect_uri:t.redirectUrl.toString(),response_type:"code",scope:"openid offline_access",filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(r=t.prompt)&&void 0!==r?r:"consent"},o=new s.OidcClient(i),a=this.redirector,u=this.storageUtility,e.prev=4,e.next=7,o.createSigninRequest();case 7:return c=e.sent,e.next=10,Promise.all([u.setForUser(c.state._id,{sessionId:t.sessionId}),u.setForUser(t.sessionId,{codeVerifier:c.state._code_verifier,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]);case 10:a.redirect(c.url.toString(),{handleRedirect:t.handleRedirect,redirectInIframe:t.inIframe}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WELL_KNOWN_OPENID_CONFIG=void 0;var s=r(11),u=r(167);t.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";var c={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0},solid_oidc_supported:{toKey:"solidOidcSupported"}};function l(e){var t={};return Object.keys(e).forEach((function(r){c[r]&&(t[c[r].toKey]=e[r])})),t}var f=function(){function e(t){o(this,e),this.storageUtility=t}return a(e,[{key:"fetchConfig",value:function(){var r=i(n.mark((function r(i){var o,a,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=u.appendToUrlPathname(i,t.WELL_KNOWN_OPENID_CONFIG),r.next=3,window.fetch(a);case 3:return c=r.sent,r.prev=4,r.t0=l,r.next=8,c.json();case 8:r.t1=r.sent,o=(0,r.t0)(r.t1),r.next=15;break;case 12:throw r.prev=12,r.t2=r.catch(4),new s.ConfigurationError("[".concat(i.toString(),"] has an invalid configuration: ").concat(r.t2.message));case 15:return r.next=17,this.storageUtility.set(e.getLocalStorageKey(i),JSON.stringify(o));case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r,this,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()}],[{key:"getLocalStorageKey",value:function(e){return"issuerConfig:".concat(e)}}]),e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendToUrlPathname=void 0,t.appendToUrlPathname=function(e,t){var r=new URL(e),n=r.pathname;return r.pathname="".concat(n).concat(n.endsWith("/")?"":"/").concat(t.startsWith("/")?t.substring(1):t),r.toString()}},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackRedirectHandler=void 0;var s=r(66),u=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,new URL(t),e.abrupt("return",!0);case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getUnauthenticatedSession());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FallbackRedirectHandler=u},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){o(this,e),this.sessionInfoManager=t}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfoManager.clear(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(0),i=r(6).default,o=r(7).default,a=r(10).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthCodeRedirectHandler=t.DEFAULT_LIFESPAN=void 0;var s=r(11),u=r(38),c=r(65);function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=a(n.mark((function e(r,i,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(r),s=a.origin,e.next=4,i(r);case 4:return e.prev=4,e.next=7,i("".concat(s,"/session"));case 7:if(200!==e.sent.status){e.next=12;break}return e.next=11,o.storeResourceServerSessionInfo(r,s,Date.now()+t.DEFAULT_LIFESPAN);case 11:return e.abrupt("return");case 12:return e.next=14,o.clearResourceServerSessionInfo(s);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),e.next=20,o.clearResourceServerSessionInfo(s);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}t.DEFAULT_LIFESPAN=18e5;var d=function(){function e(t,r,n,o,a){i(this,e),this.storageUtility=t,this.sessionInfoManager=r,this.issuerConfigFetcher=n,this.clientRegistrar=o,this.tokerRefresher=a}return o(e,[{key:"canHandle",value:function(){var e=a(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new URL(t),e.abrupt("return",null!==r.searchParams.get("code")&&null!==r.searchParams.get("state"));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=a(n.mark((function e(t,r){var i,o,a,f,d,p,h,g,v,y,m,b,w,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canHandle(t);case 2:if(e.sent){e.next=4;break}throw new Error("AuthCodeRedirectHandler cannot handle [".concat(t,"]: it is missing one of [code, state]."));case 4:return i=new URL(t),o=i.searchParams.get("state"),e.next=8,this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(a,"dpop");case 11:return e.t0=e.sent,f="true"===e.t0,e.next=15,this.storageUtility.getForUser(a,"issuer",{errorIfNull:!0});case 15:return d=e.sent,window.localStorage.setItem(c.KEY_CURRENT_SESSION,a),e.next=19,this.issuerConfigFetcher.fetchConfig(d);case 19:return p=e.sent,e.next=22,this.clientRegistrar.getClient({sessionId:a},p);case 22:if(h=e.sent,v=Date.now(),!f){e.next=36;break}return e.next=27,this.storageUtility.getForUser(a,"codeVerifier",{errorIfNull:!0});case 27:return y=e.sent,e.next=30,this.storageUtility.getForUser(a,"redirectUrl",{errorIfNull:!0});case 30:return m=e.sent,e.next=33,u.getDpopToken(p,h,{grantType:"authorization_code",code:i.searchParams.get("code"),codeVerifier:y,redirectUrl:m});case 33:g=e.sent,e.next=39;break;case 36:return e.next=38,u.getBearerToken(i.toString());case 38:g=e.sent;case 39:return void 0!==g.refreshToken&&(b={sessionId:a,refreshToken:g.refreshToken,tokenRefresher:this.tokerRefresher}),e.next=42,s.buildAuthenticatedFetch(fetch,g.accessToken,{dpopKey:g.dpopKey,refreshOptions:b,eventEmitter:r,expiresIn:g.expiresIn});case 42:return w=e.sent,e.next=45,this.storageUtility.setForUser(a,{refreshToken:"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>",webId:g.webId,isLoggedIn:"true"},{secure:!0});case 45:return i.searchParams.delete("code"),e.next=48,this.storageUtility.setForUser(a,{redirectUrl:i.toString(),idToken:g.idToken},{secure:!1});case 48:if("false"===window.localStorage.getItem("tmp-resource-server-session-enabled")){e.next=52;break}return e.next=52,l(g.webId,w,this.storageUtility);case 52:return e.next=54,this.sessionInfoManager.get(a);case 54:if(x=e.sent){e.next=57;break}throw new Error("Could not retrieve session: [".concat(a,"]."));case 57:return e.abrupt("return",Object.assign(x,{fetch:w,expirationDate:"number"===typeof g.expiresIn?v+1e3*g.expiresIn:null}));case 58:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.AuthCodeRedirectHandler=d},function(e,t,r){"use strict";var n=r(7).default,i=r(6).default,o=r(17).default,a=r(18).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,e)}return n(r)}(r(11).AggregateHandler);t.default=s},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e)}return a(e,[{key:"storage",get:function(){return window.localStorage}},{key:"get",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t)||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.setItem(t,r);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},function(e,t,r){"use strict";var n=r(6).default,i=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(99),a=function(){function e(){n(this,e)}return i(e,[{key:"redirect",value:function(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):(null===t||void 0===t?void 0:t.redirectInIframe)?o.redirectInIframe(e):window.location.href=e}}]),e}();t.default=a},function(e,t,r){"use strict";var n=r(0),i=r(20).default,o=r(23).default,a=r(10).default,s=r(6).default,u=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(38),l=function(){function e(t){s(this,e),this.storageUtility=t}return u(e,[{key:"getClient",value:function(){var e=a(n.mark((function e(t,r){var a,s,u,l,f,d,p,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);case 2:if(s=e.sent,u=o(s,2),l=u[0],f=u[1],!l){e.next=8;break}return e.abrupt("return",{clientId:l,clientSecret:f,clientType:"dynamic"});case 8:if(d=i({},t),null===(a=d.registrationAccessToken)||void 0===a){e.next=13;break}e.t0=a,e.next=16;break;case 13:return e.next=15,this.storageUtility.getForUser(t.sessionId,"registrationAccessToken");case 15:e.t0=e.sent;case 16:return d.registrationAccessToken=e.t0,e.prev=17,e.next=20,c.registerClient(d,r);case 20:return p=e.sent,h={clientId:p.clientId},p.clientSecret&&(h.clientSecret=p.clientSecret),p.idTokenSignedResponseAlg&&(h.idTokenSignedResponseAlg=p.idTokenSignedResponseAlg),e.next=26,this.storageUtility.setForUser(d.sessionId,h,{secure:!1});case 26:return e.abrupt("return",p);case 29:throw e.prev=29,e.t1=e.catch(17),new Error("Client registration failed: [".concat(e.t1.toString(),"]"));case 32:case"end":return e.stop()}}),e,this,[[17,29]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.default=l},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOidcHandler=void 0;var s=r(11),u=r(66),c=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new URL(t).searchParams.has("error"));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t,r){var i,o,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==r&&(i=new URL(t),o=i.searchParams.get("error"),a=i.searchParams.get("error_description"),r.emit(s.EVENTS.ERROR,o,a)),e.abrupt("return",u.getUnauthenticatedSession());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.ErrorOidcHandler=c},function(e,t,r){"use strict";var n=r(0),i=r(10).default,o=r(6).default,a=r(7).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(11),u=r(38),c=function(){function e(t,r,n){o(this,e),this.storageUtility=t,this.issuerConfigFetcher=r,this.clientRegistrar=n}return a(e,[{key:"refresh",value:function(){var e=i(n.mark((function e(t,r,i,o){var a,c,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadOidcContextFromStorage(t,this.storageUtility,this.issuerConfigFetcher);case 2:return a=e.sent,e.next=5,this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);case 5:if(c=e.sent,void 0!==r){e.next=8;break}throw new Error("Session [".concat(t,"] has no refresh token to allow it to refresh its access token."));case 8:if(!a.dpop||void 0!==i){e.next=10;break}throw new Error("For session [".concat(t,"], the key bound to the DPoP access token must be provided to refresh said access token."));case 10:return e.next=12,u.refresh(r,a.issuerConfig,c,i);case 12:if(void 0===(l=e.sent).refreshToken){e.next=17;break}return null===o||void 0===o||o.emit(s.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),e.next=17,this.storageUtility.setForUser(t,{refreshToken:l.refreshToken});case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()}]),e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSessionRestore=t.onLogout=t.onLogin=t.handleIncomingRedirect=t.logout=t.login=t.fetch=t.getDefaultSession=void 0;var n,i=r(93);function o(){return"undefined"===typeof n&&(n=new i.Session),n}t.getDefaultSession=o;t.fetch=function(){var e=o();return e.fetch.apply(e,arguments)};t.login=function(){var e=o();return e.login.apply(e,arguments)};t.logout=function(){var e=o();return e.logout.apply(e,arguments)};t.handleIncomingRedirect=function(){var e=o();return e.handleIncomingRedirect.apply(e,arguments)};t.onLogin=function(){var e=o();return e.onLogin.apply(e,arguments)};t.onLogout=function(){var e=o();return e.onLogout.apply(e,arguments)};t.onSessionRestore=function(){var e=o();return e.onSessionRestore.apply(e,arguments)}},function(e,t,r){e.exports=r(179)},function(e,t,r){var n=r(0);!function(e,t){"use strict";function r(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u={init:"init"},c=function(e){var t=e.value;return void 0===t?"":t},l=function(){return t.createElement(t.Fragment,null,"\xa0")},f={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=t.style,n=t.className;return e=o({},e,{},a(t,["style","className"])),r&&(e.style=e.style?o({},e.style||{},{},r||{}):r),n&&(e.className=e.className?e.className+" "+n:n),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(r){return void 0===r&&(r={}),[].concat(e,[r]).reduce((function(e,n){return function e(t,r,n){return"function"==typeof r?e({},r(t,n)):Array.isArray(r)?d.apply(void 0,[t].concat(r)):d(t,r)}(e,n,o({},t,{userProps:r}))}),{})}},h=function(e,t,r,n){return void 0===r&&(r={}),e.reduce((function(e,t){return t(e,r)}),t)},g=function(e,t,r){return void 0===r&&(r={}),e.forEach((function(e){e(t,r)}))};function v(e,t,r,n){e.findIndex((function(e){return e.pluginName===r})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function y(e,t){return"function"==typeof e?e(t):e}function m(e){var r=t.useRef();return r.current=e,t.useCallback((function(){return r.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function w(e,r){var n=t.useRef(!1);b((function(){n.current&&e(),n.current=!0}),r)}function x(e,t,r){return void 0===r&&(r={}),function(n,i){void 0===i&&(i={});var a="string"==typeof n?t[n]:n;if(void 0===a)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return S(a,o({},e,{column:t},r,{},i))}}function S(e,r){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?t.createElement(e,r):e;var n}function k(e,t,r){return void 0===r&&(r=0),e.map((function(e){return E(e=o({},e,{parent:t,depth:r})),e.columns&&(e.columns=k(e.columns,e,r+1)),e}))}function _(e){return R(e,"columns")}function E(e){var t=e.id,r=e.accessor,n=e.Header;if("string"==typeof r){t=t||r;var i=r.split(".");r=function(e){return function(e,t,r){if(!t)return e;var n,i="function"==typeof t?t:JSON.stringify(t),o=P.get(i)||function(){var e=function(e){return function e(t,r){if(void 0===r&&(r=[]),Array.isArray(t))for(var n=0;n<t.length;n+=1)e(t[n],r);else r.push(t);return r}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(L,".").replace(U,"").split(".")}(t);return P.set(i,e),e}();try{n=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==n?n:r}(e,i)}}if(!t&&"string"==typeof n&&n&&(t=n),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:r}),e}function O(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:l,Footer:l},f,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function A(e,t,r){void 0===r&&(r=function(){return{}});for(var n=[],i=e,a=0,s=function(){return a++},u=function(){var e={headers:[]},a=[],u=i.some((function(e){return e.parent}));i.forEach((function(n){var i,c=[].concat(a).reverse()[0];u&&(i=n.parent?o({},n.parent,{originalId:n.parent.id,id:n.parent.id+"_"+s(),headers:[n]},r(n)):O(o({originalId:n.id+"_placeholder",id:n.id+"_placeholder_"+s(),placeholderOf:n,headers:[n]},r(n)),t),c&&c.originalId===i.originalId?c.headers.push(n):a.push(i)),e.headers.push(n)})),n.push(e),i=a};i.length;)u();return n.reverse()}var P=new Map;function C(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0;n<t.length;n+=1)if(void 0!==t[n])return t[n]}function j(e){if("function"==typeof e)return e}function R(e,t){var r=[];return function e(n){n.forEach((function(n){n[t]?e(n[t]):r.push(n)}))}(e),r}function I(e,t){var r=t.manualExpandedKey,n=t.expanded,i=t.expandSubRows,o=void 0===i||i,a=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[r]||n[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),a}function F(e,t,r){return j(e)||t[e]||r[e]||r.text}function T(e,t,r){return e?e(t,r):void 0===t}function N(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var D=null,L=/\[/g,U=/\]/g,M=function(e){return o({role:"table"},e)},B=function(e){return o({role:"rowgroup"},e)},H=function(e,t){var r=t.column;return o({key:"header_"+r.id,colSpan:r.totalVisibleHeaderCount,role:"columnheader"},e)},z=function(e,t){var r=t.column;return o({key:"footer_"+r.id,colSpan:r.totalVisibleHeaderCount},e)},K=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},W=function(e,t){return o({key:"footerGroup_"+t.index},e)},V=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},q=function(e,t){var r=t.cell;return o({key:"cell_"+r.row.id+"_"+r.column.id,role:"cell"},e)};function J(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[M],getTableBodyProps:[B],getHeaderGroupProps:[K],getFooterGroupProps:[W],getHeaderProps:[H],getFooterProps:[z],getRowProps:[V],getCellProps:[q],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var G=function(e){e.getToggleHiddenProps=[Y],e.getToggleHideAllColumnsProps=[$],e.stateReducers.push(Q),e.useInstanceBeforeDimensions.push(X),e.headerGroupsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.hiddenColumns])})),e.useInstance.push(Z)};G.pluginName="useColumnVisibility";var Y=function(e,t){var r=t.column;return[e,{onChange:function(e){r.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:r.isVisible,title:"Toggle Column Visible"}]},$=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!r.allColumnsHidden&&!r.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!r.allColumnsHidden&&r.state.hiddenColumns.length}]};function Q(e,t,r,n){if(t.type===u.init)return o({hiddenColumns:[]},e);if(t.type===u.resetHiddenColumns)return o({},e,{hiddenColumns:n.initialState.hiddenColumns||[]});if(t.type===u.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===u.setHiddenColumns?o({},e,{hiddenColumns:y(t.value,e.hiddenColumns)}):t.type===u.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?n.allColumns.map((function(e){return e.id})):[]}):void 0}function X(e){var r=e.headers,n=e.state.hiddenColumns;t.useRef(!1).current;var i=0;r.forEach((function(e){return i+=function e(t,r){t.isVisible=r&&!n.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(r){return i+=e(r,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function Z(e){var r=e.columns,n=e.flatHeaders,i=e.dispatch,o=e.allColumns,a=e.getHooks,s=e.state.hiddenColumns,c=e.autoResetHiddenColumns,l=void 0===c||c,f=m(e),d=o.length===s.length,h=t.useCallback((function(e,t){return i({type:u.toggleHideColumn,columnId:e,value:t})}),[i]),g=t.useCallback((function(e){return i({type:u.setHiddenColumns,value:e})}),[i]),v=t.useCallback((function(e){return i({type:u.toggleHideAllColumns,value:e})}),[i]),y=p(a().getToggleHideAllColumnsProps,{instance:f()});n.forEach((function(e){e.toggleHidden=function(t){i({type:u.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(a().getToggleHiddenProps,{instance:f(),column:e})}));var b=m(l);w((function(){b()&&i({type:u.resetHiddenColumns})}),[i,r]),Object.assign(e,{allColumnsHidden:d,toggleHideColumn:h,setHiddenColumns:g,toggleHideAllColumns:v,getToggleHideAllColumnsProps:y})}var ee={},te={},re=function(e,t,r){return e},ne=function(e,t){return e.subRows||[]},ie=function(e,t,r){return""+(r?[r.id,t].join("."):t)},oe=function(e){return e};function ae(e){var t=e.initialState,r=void 0===t?ee:t,n=e.defaultColumn,i=void 0===n?te:n,s=e.getSubRows,u=void 0===s?ne:s,c=e.getRowId,l=void 0===c?ie:c,f=e.stateReducer,d=void 0===f?re:f,p=e.useControlledState,h=void 0===p?oe:p;return o({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:r,defaultColumn:i,getSubRows:u,getRowId:l,stateReducer:d,useControlledState:h})}function se(e,t){void 0===t&&(t=0);var r=0,n=0,i=0,o=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var s=se(a,t),u=s[0],c=s[1],l=s[2],f=s[3];e.totalMinWidth=u,e.totalWidth=c,e.totalMaxWidth=l,e.totalFlexWidth=f}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,r+=e.totalMinWidth,n+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[r,n,i,o]}function ue(e){var t=e.data,r=e.rows,n=e.flatRows,i=e.rowsById,o=e.column,a=e.getRowId,s=e.getSubRows,u=e.accessValueHooks,c=e.getInstance;t.forEach((function(e,l){return function e(r,l,f,d,p){void 0===f&&(f=0);var g=r,v=a(r,l,d),y=i[v];if(y)y.subRows&&y.originalSubRows.forEach((function(t,r){return e(t,r,f+1,y)}));else if((y={id:v,original:g,index:l,depth:f,cells:[{}]}).cells.map=N,y.cells.filter=N,y.cells.forEach=N,y.cells[0].getCellProps=N,y.values={},p.push(y),n.push(y),i[v]=y,y.originalSubRows=s(r,l),y.originalSubRows){var m=[];y.originalSubRows.forEach((function(t,r){return e(t,r,f+1,y,m)})),y.subRows=m}o.accessor&&(y.values[o.id]=o.accessor(r,l,y,p,t)),y.values[o.id]=h(u,y.values[o.id],{row:y,column:o,instance:c()})}(e,l,0,void 0,r)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var ce=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[fe],e.stateReducers.push(de),e.useInstance.push(pe),e.prepareRow.push(he)};ce.pluginName="useExpanded";var le=function(e,t){var r=t.instance;return[e,{onClick:function(e){r.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},fe=function(e,t){var r=t.row;return[e,{onClick:function(){r.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,r,n){if(t.type===u.init)return o({expanded:{}},e);if(t.type===u.resetExpanded)return o({},e,{expanded:n.initialState.expanded||{}});if(t.type===u.toggleAllRowsExpanded){var i=t.value,c=n.isAllRowsExpanded,l=n.rowsById;if(void 0!==i?i:!c){var f={};return Object.keys(l).forEach((function(e){f[e]=!0})),o({},e,{expanded:f})}return o({},e,{expanded:{}})}if(t.type===u.toggleRowExpanded){var d,p=t.id,h=t.value,g=e.expanded[p],v=void 0!==h?h:!g;if(!g&&v)return o({},e,{expanded:o({},e.expanded,(d={},d[p]=!0,d))});if(g&&!v){var y=e.expanded;return y[p],o({},e,{expanded:a(y,[p].map(s))})}return e}}function pe(e){var r=e.data,n=e.rows,i=e.rowsById,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.paginateExpandedRows,c=void 0===s||s,l=e.expandSubRows,f=void 0===l||l,d=e.autoResetExpanded,h=void 0===d||d,g=e.getHooks,y=e.plugins,b=e.state.expanded,x=e.dispatch;v(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var S=m(h),k=Boolean(Object.keys(i).length&&Object.keys(b).length);k&&Object.keys(i).some((function(e){return!b[e]}))&&(k=!1),w((function(){S()&&x({type:u.resetExpanded})}),[x,r]);var _=t.useCallback((function(e,t){x({type:u.toggleRowExpanded,id:e,value:t})}),[x]),E=t.useCallback((function(e){return x({type:u.toggleAllRowsExpanded,value:e})}),[x]),O=t.useMemo((function(){return c?I(n,{manualExpandedKey:a,expanded:b,expandSubRows:f}):n}),[c,n,a,b,f]),A=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var r=e.split(".");t=Math.max(t,r.length)})),t}(b)}),[b]),P=m(e),C=p(g().getToggleAllRowsExpandedProps,{instance:P()});Object.assign(e,{preExpandedRows:n,expandedRows:O,rows:O,expandedDepth:A,isAllRowsExpanded:k,toggleRowExpanded:_,toggleAllRowsExpanded:E,getToggleAllRowsExpandedProps:C})}function he(e,t){var r=t.instance.getHooks,n=t.instance;e.toggleRowExpanded=function(t){return n.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(r().getToggleRowExpandedProps,{instance:n,row:e})}var ge=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return String(n).toLowerCase().includes(String(r).toLowerCase())}))}))};ge.autoRemove=function(e){return!e};var ve=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n).toLowerCase()===String(r).toLowerCase()}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n)===String(r)}))}))};ye.autoRemove=function(e){return!e};var me=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(r)}))}))};me.autoRemove=function(e){return!e||!e.length};var be=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.every((function(e){return n.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.some((function(e){return n.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return r.includes(n)}))}))};xe.autoRemove=function(e){return!e||!e.length};var Se=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]===r}))}))};Se.autoRemove=function(e){return void 0===e};var ke=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]==r}))}))};ke.autoRemove=function(e){return null==e};var _e=function(e,t,r){var n=r||[],i=n[0],o=n[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r>=i&&r<=o}))}))};_e.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Ee=Object.freeze({__proto__:null,text:ge,exactText:ve,exactTextCase:ye,includes:me,includesAll:be,includesSome:we,includesValue:xe,exact:Se,equals:ke,between:_e});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Oe=function(e){e.stateReducers.push(Ae),e.useInstance.push(Pe)};function Ae(e,t,r,n){if(t.type===u.init)return o({filters:[]},e);if(t.type===u.resetFilters)return o({},e,{filters:n.initialState.filters||[]});if(t.type===u.setFilter){var i=t.columnId,a=t.filterValue,s=n.allColumns,c=n.filterTypes,l=s.find((function(e){return e.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var f=F(l.filter,c||{},Ee),d=e.filters.find((function(e){return e.id===i})),p=y(a,d&&d.value);return T(f.autoRemove,p,l)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,d?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:p}:e}))}:{filters:[].concat(e.filters,[{id:i,value:p}])})}if(t.type===u.setAllFilters){var h=t.filters,g=n.allColumns,v=n.filterTypes;return o({},e,{filters:y(h,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!T(F(t.filter,v||{},Ee).autoRemove,e.value,t)}))})}}function Pe(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,c=e.manualFilters,l=e.defaultCanFilter,f=void 0!==l&&l,d=e.disableFilters,p=e.state.filters,h=e.dispatch,g=e.autoResetFilters,v=void 0===g||g,y=t.useCallback((function(e,t){h({type:u.setFilter,columnId:e,filterValue:t})}),[h]),b=t.useCallback((function(e){h({type:u.setAllFilters,filters:e})}),[h]);a.forEach((function(e){var t=e.id,r=e.accessor,n=e.defaultCanFilter,i=e.disableFilters;e.canFilter=r?C(!0!==i&&void 0,!0!==d&&void 0,!0):C(n,f,!1),e.setFilter=function(t){return y(e.id,t)};var o=p.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var x=t.useMemo((function(){if(c||!p.length)return[n,i,o];var e=[],t={};return[function r(n,i){void 0===i&&(i=0);var o=n;return(o=p.reduce((function(e,t){var r=t.id,n=t.value,o=a.find((function(e){return e.id===r}));if(!o)return e;0===i&&(o.preFilteredRows=e);var u=F(o.filter,s||{},Ee);return u?(o.filteredRows=u(e,[r],n),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),n)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows&&(n.subRows=n.subRows&&n.subRows.length>0?r(n.subRows,i+1):n.subRows)})),o}(n),e,t]}),[c,p,n,i,o,a,s]),S=x[0],k=x[1],_=x[2];t.useMemo((function(){a.filter((function(e){return!p.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=S,e.filteredRows=S}))}),[S,p,a]);var E=m(v);w((function(){E()&&h({type:u.resetFilters})}),[h,c?null:r]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:S,filteredFlatRows:k,filteredRowsById:_,rows:S,flatRows:k,rowsById:_,setFilter:y,setAllFilters:b})}Oe.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Ce=function(e){e.stateReducers.push(je),e.useInstance.push(Re)};function je(e,t,r,n){if(t.type===u.resetGlobalFilter)return o({},e,{globalFilter:n.initialState.globalFilter||void 0});if(t.type===u.setGlobalFilter){var i=t.filterValue,s=n.userFilterTypes,c=F(n.globalFilter,s||{},Ee),l=y(i,e.globalFilter);return T(c.autoRemove,l)?(e.globalFilter,a(e,["globalFilter"])):o({},e,{globalFilter:l})}}function Re(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,c=e.globalFilter,l=e.manualGlobalFilter,f=e.state.globalFilter,d=e.dispatch,p=e.autoResetGlobalFilter,h=void 0===p||p,g=e.disableGlobalFilter,v=t.useCallback((function(e){d({type:u.setGlobalFilter,filterValue:e})}),[d]),y=t.useMemo((function(){if(l||void 0===f)return[n,i,o];var e=[],t={},r=F(c,s||{},Ee);if(!r)return console.warn("Could not find a valid 'globalFilter' option."),n;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=C(!0!==t&&void 0,!0!==g&&void 0,!0)}));var u=a.filter((function(e){return!0===e.canFilter}));return[function n(i){return(i=r(i,u.map((function(e){return e.id})),f)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows=r.subRows&&r.subRows.length?n(r.subRows):r.subRows})),i}(n),e,t]}),[l,f,c,s,a,n,i,o,g]),b=y[0],x=y[1],S=y[2],k=m(h);w((function(){k()&&d({type:u.resetGlobalFilter})}),[d,l?null:r]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:x,globalFilteredRowsById:S,rows:b,flatRows:x,rowsById:S,setGlobalFilter:v,disableGlobalFilter:g})}function Ie(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Ce.pluginName="useGlobalFilter";var Fe=Object.freeze({__proto__:null,sum:Ie,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,r=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),r=Math.max(r,e))})),t+".."+r},average:function(e){return Ie(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),r=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?r[t]:(r[t-1]+r[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Te=[],Ne={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var De=function(e){e.getGroupByToggleProps=[Le],e.stateReducers.push(Ue),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.groupBy])})),e.visibleColumns.push(Me),e.useInstance.push(He),e.prepareRow.push(ze)};De.pluginName="useGroupBy";var Le=function(e,t){var r=t.header;return[e,{onClick:r.canGroupBy?function(e){e.persist(),r.toggleGroupBy()}:void 0,style:{cursor:r.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Ue(e,t,r,n){if(t.type===u.init)return o({groupBy:[]},e);if(t.type===u.resetGroupBy)return o({},e,{groupBy:n.initialState.groupBy||[]});if(t.type===u.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===u.toggleGroupBy){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.groupBy.includes(i);return o({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Me(e,t){var r=t.instance.state.groupBy,n=r.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!r.includes(e.id)}));return(e=[].concat(n,i)).forEach((function(e){e.isGrouped=r.includes(e.id),e.groupedIndex=r.indexOf(e.id)})),e}var Be={};function He(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.flatHeaders,c=e.groupByFn,l=void 0===c?Ke:c,f=e.manualGroupBy,d=e.aggregations,h=void 0===d?Be:d,g=e.plugins,y=e.state.groupBy,b=e.dispatch,x=e.autoResetGroupBy,S=void 0===x||x,k=e.disableGroupBy,_=e.defaultCanGroupBy,E=e.getHooks;v(g,["useColumnOrder","useFilters"],"useGroupBy");var O=m(e);a.forEach((function(t){var r=t.accessor,n=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=r?C(t.canGroupBy,!0!==i&&void 0,!0!==k&&void 0,!0):C(t.canGroupBy,n,_,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var A=t.useCallback((function(e,t){b({type:u.toggleGroupBy,columnId:e,value:t})}),[b]),P=t.useCallback((function(e){b({type:u.setGroupBy,value:e})}),[b]);s.forEach((function(e){e.getGroupByToggleProps=p(E().getGroupByToggleProps,{instance:O(),header:e})}));var j=t.useMemo((function(){if(f||!y.length)return[n,i,o,Te,Ne,i,o];var e=y.filter((function(e){return a.find((function(t){return t.id===e}))})),t=[],r={},s=[],u={},c=[],d={},p=function n(i,o,f){if(void 0===o&&(o=0),o===e.length)return i;var p=e[o],g=l(i,p);return Object.entries(g).map((function(i,l){var g=i[0],v=i[1],y=p+":"+g,m=n(v,o+1,y=f?f+">"+y:y),b=o?R(v,"leafRows"):v,w=function(t,r,n){var i={};return a.forEach((function(o){if(e.includes(o.id))i[o.id]=r[0]?r[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:h[o.aggregate]||Fe[o.aggregate];if(a){var s=r.map((function(e){return e.values[o.id]})),u=t.map((function(e){var t=e.values[o.id];if(!n&&o.aggregateValue){var r="function"==typeof o.aggregateValue?o.aggregateValue:h[o.aggregateValue]||Fe[o.aggregateValue];if(!r)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=r(t,e,o)}return t}));i[o.id]=a(u,s)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,v,o),x={id:y,isGrouped:!0,groupByID:p,groupByVal:g,values:w,subRows:m,leafRows:b,depth:o,index:l};return m.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),d[e.id]=e)})),x}))}(n);return p.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),d[e.id]=e)})),[p,t,r,s,u,c,d]}),[f,y,n,i,o,a,h,l]),I=j[0],F=j[1],T=j[2],N=j[3],D=j[4],L=j[5],U=j[6],M=m(S);w((function(){M()&&b({type:u.resetGroupBy})}),[b,f?null:r]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:I,groupedFlatRows:F,groupedRowsById:T,onlyGroupedFlatRows:N,onlyGroupedRowsById:D,nonGroupedFlatRows:L,nonGroupedRowsById:U,rows:I,flatRows:F,rowsById:T,toggleGroupBy:A,setGroupBy:P})}function ze(e){e.allCells.forEach((function(t){var r;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(r=e.subRows)?void 0:r.length)}))}function Ke(e,t){return e.reduce((function(e,r,n){var i=""+r.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(r),e}),{})}var We=/([0-9]+)/gm;function Ve(e,t){return e===t?0:e>t?1:-1}function qe(e,t,r){return[e.values[r],t.values[r]]}function Je(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Ge=Object.freeze({__proto__:null,alphanumeric:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];for(i=Je(i),o=Je(o),i=i.split(We).filter(Boolean),o=o.split(We).filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),u=parseInt(a,10),c=parseInt(s,10),l=[u,c].sort();if(isNaN(l[0])){if(a>s)return 1;if(s>a)return-1}else{if(isNaN(l[1]))return isNaN(u)?-1:1;if(u>c)return 1;if(c>u)return-1}}return i.length-o.length},datetime:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];return Ve(i=i.getTime(),o=o.getTime())},basic:function(e,t,r){var n=qe(e,t,r);return Ve(n[0],n[1])},string:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];for(i=i.split("").filter(Boolean),o=o.split("").filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),u=a.toLowerCase(),c=s.toLowerCase();if(u>c)return 1;if(c>u)return-1;if(a>s)return 1;if(s>a)return-1}return i.length-o.length},number:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1],a=/[^0-9.]/gi;return Ve(i=Number(String(i).replace(a,"")),o=Number(String(o).replace(a,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var Ye=function(e){e.getSortByToggleProps=[$e],e.stateReducers.push(Qe),e.useInstance.push(Xe)};Ye.pluginName="useSortBy";var $e=function(e,t){var r=t.instance,n=t.column,i=r.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:n.canSort?function(e){e.persist(),n.toggleSortBy(void 0,!r.disableMultiSort&&o(e))}:void 0,style:{cursor:n.canSort?"pointer":void 0},title:n.canSort?"Toggle SortBy":void 0}]};function Qe(e,t,r,n){if(t.type===u.init)return o({sortBy:[]},e);if(t.type===u.resetSortBy)return o({},e,{sortBy:n.initialState.sortBy||[]});if(t.type===u.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===u.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===u.toggleSortBy){var i,a=t.columnId,s=t.desc,c=t.multi,l=n.allColumns,f=n.disableMultiSort,d=n.disableSortRemove,p=n.disableMultiRemove,h=n.maxMultiSortColCount,g=void 0===h?Number.MAX_SAFE_INTEGER:h,v=e.sortBy,y=l.find((function(e){return e.id===a})).sortDescFirst,m=v.find((function(e){return e.id===a})),b=v.findIndex((function(e){return e.id===a})),w=null!=s,x=[];return"toggle"!==(i=!f&&c?m?"toggle":"add":b!==v.length-1||1!==v.length?"replace":m?"toggle":"replace")||d||w||c&&p||!(m&&m.desc&&!y||!m.desc&&y)||(i="remove"),"replace"===i?x=[{id:a,desc:w?s:y}]:"add"===i?(x=[].concat(v,[{id:a,desc:w?s:y}])).splice(0,x.length-g):"toggle"===i?x=v.map((function(e){return e.id===a?o({},e,{desc:w?s:!m.desc}):e})):"remove"===i&&(x=v.filter((function(e){return e.id!==a}))),o({},e,{sortBy:x})}}function Xe(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.allColumns,a=e.orderByFn,s=void 0===a?Ze:a,c=e.sortTypes,l=e.manualSortBy,f=e.defaultCanSort,d=e.disableSortBy,h=e.flatHeaders,g=e.state.sortBy,y=e.dispatch,b=e.plugins,x=e.getHooks,S=e.autoResetSortBy,k=void 0===S||S;v(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var _=t.useCallback((function(e){y({type:u.setSortBy,sortBy:e})}),[y]),E=t.useCallback((function(e,t,r){y({type:u.toggleSortBy,columnId:e,desc:t,multi:r})}),[y]),O=m(e);h.forEach((function(e){var t=e.accessor,r=e.canSort,n=e.disableSortBy,i=e.id,o=t?C(!0!==n&&void 0,!0!==d&&void 0,!0):C(f,r,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,r){return E(e.id,t,r)},e.clearSortBy=function(){y({type:u.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(x().getSortByToggleProps,{instance:O(),column:e});var a=g.find((function(e){return e.id===i}));e.isSorted=!!a,e.sortedIndex=g.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var A=t.useMemo((function(){if(l||!g.length)return[n,i];var e=[],t=g.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function r(n){var i=s(n,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var r=t.sortType,n=j(r)||(c||{})[r]||Ge[r];if(!n)throw new Error("React-Table: Could not find a valid sortType of '"+r+"' for column '"+e.id+"'.");return function(t,r){return n(t,r,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=r(t.subRows))})),i}(n),e]}),[l,g,n,i,o,s,c]),P=A[0],R=A[1],I=m(k);w((function(){I()&&y({type:u.resetSortBy})}),[l?null:r]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:i,sortedRows:P,sortedFlatRows:R,rows:P,flatRows:R,setSortBy:_,toggleSortBy:E})}function Ze(e,t,r){return[].concat(e).sort((function(e,n){for(var i=0;i<t.length;i+=1){var o=t[i],a=!1===r[i]||"desc"===r[i],s=o(e,n);if(0!==s)return a?-s:s}return r[0]?e.index-n.index:n.index-e.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(rt)};function tt(e,t,r,n){if(t.type===u.init)return o({pageSize:10,pageIndex:0},e);if(t.type===u.resetPage)return o({},e,{pageIndex:n.initialState.pageIndex||0});if(t.type===u.gotoPage){var i=n.pageCount,a=n.page,s=y(t.pageIndex,e.pageIndex),c=!1;return s>e.pageIndex?c=-1===i?a.length>=e.pageSize:s<i:s<e.pageIndex&&(c=s>-1),c?o({},e,{pageIndex:s}):e}if(t.type===u.setPageSize){var l=t.pageSize,f=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(f/l),pageSize:l})}}function rt(e){var r=e.rows,n=e.autoResetPage,i=void 0===n||n,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.plugins,c=e.pageCount,l=e.paginateExpandedRows,f=void 0===l||l,d=e.expandSubRows,p=void 0===d||d,h=e.state,g=h.pageSize,y=h.pageIndex,b=h.expanded,x=h.globalFilter,S=h.filters,k=h.groupBy,_=h.sortBy,E=e.dispatch,O=e.data,A=e.manualPagination;v(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var P=m(i);w((function(){P()&&E({type:u.resetPage})}),[E,A?null:O,x,S,k,_]);var C=A?c:Math.ceil(r.length/g),j=t.useMemo((function(){return C>0?[].concat(new Array(C)).fill(null).map((function(e,t){return t})):[]}),[C]),R=t.useMemo((function(){var e;if(A)e=r;else{var t=g*y,n=t+g;e=r.slice(t,n)}return f?e:I(e,{manualExpandedKey:a,expanded:b,expandSubRows:p})}),[p,b,a,A,y,g,f,r]),F=y>0,T=-1===C?R.length>=g:y<C-1,N=t.useCallback((function(e){E({type:u.gotoPage,pageIndex:e})}),[E]),D=t.useCallback((function(){return N((function(e){return e-1}))}),[N]),L=t.useCallback((function(){return N((function(e){return e+1}))}),[N]),U=t.useCallback((function(e){E({type:u.setPageSize,pageSize:e})}),[E]);Object.assign(e,{pageOptions:j,pageCount:C,page:R,canPreviousPage:F,canNextPage:T,gotoPage:N,previousPage:D,nextPage:L,setPageSize:U})}et.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[ot],e.stateReducers.push(at),e.useInstanceAfterData.push(st),e.allColumns.push(ut),e.accessValue.push(ct),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(ft),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(pt),e.useInstance.push(ht),e.prepareRow.push(gt)};nt.pluginName="usePivotColumns";var it=[],ot=function(e,t){var r=t.header;return[e,{onClick:r.canPivot?function(e){e.persist(),r.togglePivot()}:void 0,style:{cursor:r.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,r,n){if(t.type===u.init)return o({pivotColumns:it},e);if(t.type===u.resetPivot)return o({},e,{pivotColumns:n.initialState.pivotColumns||it});if(t.type===u.togglePivot){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function ut(e,t){var r=t.instance;return e.forEach((function(e){e.isPivotSource=r.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ct(e,t){var r=t.column;return r.uniqueValues&&void 0!==e&&r.uniqueValues.add(e),e}function lt(e,t){var r=t.instance,n=r.allColumns,i=r.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return n.find((function(t){return t.id===e}))})).filter(Boolean),s=n.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),u=_(function e(t,r,n){void 0===t&&(t=0),void 0===n&&(n=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:r,depth:t,id:r?r.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=e(t+1,s,[].concat(n,[function(e){return e.values[i.id]===a}])),s})):s.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:r,depth:t,id:""+(r?r.id+"."+e.id:e.id),accessor:function(t,r,i){if(n.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,u)}function ft(e,t){var r=t.instance.state,n=r.pivotColumns,i=r.groupBy;return[].concat(e,[n,i])}function dt(e,t){var r=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),r.pivotColumns.length&&r.groupBy&&r.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function pt(e,t){var r=t.instance;return[].concat(e,[r.state.pivotColumns,r.state.groupBy])}function ht(e){var t=e.columns,r=e.allColumns,n=e.flatHeaders,i=e.getHooks,o=e.plugins,a=e.dispatch,s=e.autoResetPivot,c=void 0===s||s,l=e.manaulPivot,f=e.disablePivot,d=e.defaultCanPivot;v(o,["useGroupBy"],"usePivotColumns");var h=m(e);r.forEach((function(t){var r=t.accessor,n=t.defaultPivot,i=t.disablePivot;t.canPivot=r?C(t.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):C(t.canPivot,n,d,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),n.forEach((function(e){e.getPivotToggleProps=p(i().getPivotToggleProps,{instance:h(),header:e})}));var g=m(c);w((function(){g()&&a({type:u.resetPivot})}),[a,l?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:u.togglePivot,columnId:e,value:t})}})}function gt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var vt=function(e){e.getToggleRowSelectedProps=[yt],e.getToggleAllRowsSelectedProps=[mt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(wt),e.useInstance.push(xt),e.prepareRow.push(St)};vt.pluginName="useRowSelect";var yt=function(e,t){var r=t.instance,n=t.row,i=r.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){n.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!n.original||!n.original[o])||n.isSelected,title:"Toggle Row Selected",indeterminate:n.isSomeSelected}]},mt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!r.isAllRowsSelected&&Object.keys(r.state.selectedRowIds).length)}]},bt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!r.isAllPageRowsSelected&&r.page.some((function(e){var t=e.id;return r.state.selectedRowIds[t]})))}]};function wt(e,t,r,n){if(t.type===u.init)return o({selectedRowIds:{}},e);if(t.type===u.resetSelectedRows)return o({},e,{selectedRowIds:n.initialState.selectedRowIds||{}});if(t.type===u.toggleAllRowsSelected){var i=t.value,a=n.isAllRowsSelected,s=n.rowsById,c=n.nonGroupedRowsById,l=void 0===c?s:c,f=void 0!==i?i:!a,d=Object.assign({},e.selectedRowIds);return f?Object.keys(l).forEach((function(e){d[e]=!0})):Object.keys(l).forEach((function(e){delete d[e]})),o({},e,{selectedRowIds:d})}if(t.type===u.toggleRowSelected){var p=t.id,h=t.value,g=n.rowsById,v=n.selectSubRows,y=void 0===v||v,m=n.getSubRows,b=e.selectedRowIds[p],w=void 0!==h?h:!b;if(b===w)return e;var x=o({},e.selectedRowIds);return function e(t){var r=g[t];if(r.isGrouped||(w?x[t]=!0:delete x[t]),y&&m(r))return m(r).forEach((function(t){return e(t.id)}))}(p),o({},e,{selectedRowIds:x})}if(t.type===u.toggleAllPageRowsSelected){var S=t.value,k=n.page,_=n.rowsById,E=n.selectSubRows,O=void 0===E||E,A=n.isAllPageRowsSelected,P=n.getSubRows,C=void 0!==S?S:!A,j=o({},e.selectedRowIds);return k.forEach((function(e){return function e(t){var r=_[t];if(r.isGrouped||(C?j[t]=!0:delete j[t]),O&&P(r))return P(r).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:j})}return e}function xt(e){var r=e.data,n=e.rows,i=e.getHooks,o=e.plugins,a=e.rowsById,s=e.nonGroupedRowsById,c=void 0===s?a:s,l=e.autoResetSelectedRows,f=void 0===l||l,d=e.state.selectedRowIds,h=e.selectSubRows,g=void 0===h||h,y=e.dispatch,b=e.page,x=e.getSubRows;v(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var S=t.useMemo((function(){var e=[];return n.forEach((function(t){var r=g?function e(t,r,n){if(r[t.id])return!0;var i=n(t);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(t){a&&!o||(e(t,r,n)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(t,d,x):!!d[t.id];t.isSelected=!!r,t.isSomeSelected=null===r,r&&e.push(t)})),e}),[n,g,d,x]),k=Boolean(Object.keys(c).length&&Object.keys(d).length),_=k;k&&Object.keys(c).some((function(e){return!d[e]}))&&(k=!1),k||b&&b.length&&b.some((function(e){var t=e.id;return!d[t]}))&&(_=!1);var E=m(f);w((function(){E()&&y({type:u.resetSelectedRows})}),[y,r]);var O=t.useCallback((function(e){return y({type:u.toggleAllRowsSelected,value:e})}),[y]),A=t.useCallback((function(e){return y({type:u.toggleAllPageRowsSelected,value:e})}),[y]),P=t.useCallback((function(e,t){return y({type:u.toggleRowSelected,id:e,value:t})}),[y]),C=m(e),j=p(i().getToggleAllRowsSelectedProps,{instance:C()}),R=p(i().getToggleAllPageRowsSelectedProps,{instance:C()});Object.assign(e,{selectedFlatRows:S,isAllRowsSelected:k,isAllPageRowsSelected:_,toggleRowSelected:P,toggleAllRowsSelected:O,getToggleAllRowsSelectedProps:j,getToggleAllPageRowsSelectedProps:R,toggleAllPageRowsSelected:A})}function St(e,t){var r=t.instance;e.toggleRowSelected=function(t){return r.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(r.getHooks().getToggleRowSelectedProps,{instance:r,row:e})}var kt=function(e){return{}},_t=function(e){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var Et=function(e){e.stateReducers.push(Ot),e.useInstance.push(At),e.prepareRow.push(Pt)};function Ot(e,t,r,n){var i=n.initialRowStateAccessor,a=void 0===i?kt:i,s=n.initialCellStateAccessor,c=void 0===s?_t:s,l=n.rowsById;if(t.type===u.init)return o({rowState:{}},e);if(t.type===u.resetRowState)return o({},e,{rowState:n.initialState.rowState||{}});if(t.type===u.setRowState){var f,d=t.rowId,p=t.value,h=void 0!==e.rowState[d]?e.rowState[d]:a(l[d]);return o({},e,{rowState:o({},e.rowState,(f={},f[d]=y(p,h),f))})}if(t.type===u.setCellState){var g,v,m,b,w,x=t.rowId,S=t.columnId,k=t.value,_=void 0!==e.rowState[x]?e.rowState[x]:a(l[x]),E=void 0!==(null==_||null==(g=_.cellState)?void 0:g[S])?_.cellState[S]:c(null==(v=l[x])||null==(m=v.cells)?void 0:m.find((function(e){return e.column.id===S})));return o({},e,{rowState:o({},e.rowState,(w={},w[x]=o({},_,{cellState:o({},_.cellState||{},(b={},b[S]=y(k,E),b))}),w))})}}function At(e){var r=e.autoResetRowState,n=void 0===r||r,i=e.data,o=e.dispatch,a=t.useCallback((function(e,t){return o({type:u.setRowState,rowId:e,value:t})}),[o]),s=t.useCallback((function(e,t,r){return o({type:u.setCellState,rowId:e,columnId:t,value:r})}),[o]),c=m(n);w((function(){c()&&o({type:u.resetRowState})}),[i]),Object.assign(e,{setRowState:a,setCellState:s})}function Pt(e,t){var r=t.instance,n=r.initialRowStateAccessor,i=void 0===n?kt:n,o=r.initialCellStateAccessor,a=void 0===o?_t:o,s=r.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return r.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(n){return r.setCellState(e.id,t.column.id,n)}})))}Et.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Ct=function(e){e.stateReducers.push(jt),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.columnOrder])})),e.visibleColumns.push(Rt),e.useInstance.push(It)};function jt(e,t,r,n){return t.type===u.init?o({columnOrder:[]},e):t.type===u.resetColumnOrder?o({},e,{columnOrder:n.initialState.columnOrder||[]}):t.type===u.setColumnOrder?o({},e,{columnOrder:y(t.columnOrder,e.columnOrder)}):void 0}function Rt(e,t){var r=t.instance.state.columnOrder;if(!r||!r.length)return e;for(var n=[].concat(r),i=[].concat(e),o=[],a=function(){var e=n.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&n.length;)a();return[].concat(o,i)}function It(e){var r=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return r({type:u.setColumnOrder,columnOrder:e})}),[r])}Ct.pluginName="useColumnOrder",f.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var Ft=function(e){e.getResizerProps=[Tt],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Nt),e.useInstance.push(Lt),e.useInstanceBeforeDimensions.push(Dt)},Tt=function(e,t){var r=t.instance,n=t.header,i=r.dispatch,o=function(e,t){var r=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;r=!0}var n=function(e){var t=[];return function e(r){r.columns&&r.columns.length&&r.columns.map(e),t.push(r)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),o=r?Math.round(e.touches[0].clientX):e.clientX,a=function(e){i({type:u.columnResizing,clientX:e})},s=function(){return i({type:u.columnDoneResizing})},c={mouse:{moveEvent:"mousemove",moveHandler:function(e){return a(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",c.mouse.moveHandler),document.removeEventListener("mouseup",c.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),a(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(c.touch.moveEvent,c.touch.moveHandler),document.removeEventListener(c.touch.upEvent,c.touch.moveHandler),s()}}},l=r?c.touch:c.mouse,f=!!function(){if("boolean"==typeof D)return D;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return D=e}()&&{passive:!1};document.addEventListener(l.moveEvent,l.moveHandler,f),document.addEventListener(l.upEvent,l.upHandler,f),i({type:u.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:n,clientX:o})};return[e,{onMouseDown:function(e){return e.persist()||o(e,n)},onTouchStart:function(e){return e.persist()||o(e,n)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Nt(e,t){if(t.type===u.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===u.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===u.columnStartResizing){var r=t.clientX,n=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:r,headerIdWidths:a,columnWidth:i,isResizingColumn:n})})}if(t.type===u.columnResizing){var s=t.clientX,c=e.columnResizing,l=c.startX,f=c.columnWidth,d=c.headerIdWidths,p=(s-l)/f,h={};return(void 0===d?[]:d).forEach((function(e){var t=e[0],r=e[1];h[t]=Math.max(r+r*p,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},h)})})}return t.type===u.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Ft.pluginName="useResizeColumns";var Dt=function(e){var t=e.flatHeaders,r=e.disableResizing,n=e.getHooks,i=e.state.columnResizing,o=m(e);t.forEach((function(e){var t=C(!0!==e.disableResizing&&void 0,!0!==r&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=p(n().getResizerProps,{instance:o(),header:e}))}))};function Lt(e){var r=e.plugins,n=e.dispatch,i=e.autoResetResize,o=void 0===i||i,a=e.columns;v(r,["useAbsoluteLayout"],"useResizeColumns");var s=m(o);w((function(){s()&&n({type:u.resetResize})}),[a]);var c=t.useCallback((function(){return n({type:u.resetResize})}),[n]);Object.assign(e,{resetResizing:c})}var Ut={position:"absolute",top:0},Mt=function(e){e.getTableBodyProps.push(Bt),e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ut,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}))};Mt.pluginName="useAbsoluteLayout";var Bt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ht={display:"inline-block",boxSizing:"border-box"},zt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Kt=function(e){e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ht,{width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]}))};function Wt(e){e.getTableProps.push(Vt),e.getRowProps.push(qt),e.getHeaderGroupProps.push(qt),e.getFooterGroupProps.push(qt),e.getHeaderProps.push(Jt),e.getCellProps.push(Gt),e.getFooterProps.push(Yt)}Kt.pluginName="useBlockLayout",Wt.pluginName="useFlexLayout";var Vt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},qt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Jt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]},Gt=function(e,t){var r=t.cell;return[e,{style:{boxSizing:"border-box",flex:r.column.totalFlexWidth+" 0 auto",minWidth:r.column.totalMinWidth+"px",width:r.column.totalWidth+"px"}}]},Yt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]};function $t(e){e.stateReducers.push(Zt),e.getTableProps.push(Qt),e.getHeaderProps.push(Xt)}$t.pluginName="useGridLayout";var Qt=function(e,t){return[e,{style:{display:"grid",gridTemplateColumns:t.instance.state.gridLayout.columnWidths.map((function(e){return e})).join(" ")}}]},Xt=function(e,t){return[e,{id:"header-cell-"+t.column.id,style:{position:"sticky"}}]};function Zt(e,t,r,n){if("init"===t.type)return o({gridLayout:{columnWidths:n.columns.map((function(){return"auto"}))}},e);if("columnStartResizing"===t.type){var i=t.columnId,a=n.visibleColumns.findIndex((function(e){return e.id===i})),s=function(e){var t,r=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==r)return r}(i);return void 0!==s?o({},e,{gridLayout:o({},e.gridLayout,{columnId:i,columnIndex:a,startingWidth:s})}):e}if("columnResizing"===t.type){var u=e.gridLayout,c=u.columnIndex,l=u.startingWidth,f=u.columnWidths,d=l-(e.columnResizing.startX-t.clientX),p=[].concat(f);return p[c]=d+"px",o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:p})})}}e._UNSTABLE_usePivotColumns=nt,e.actions=u,e.defaultColumn=f,e.defaultGroupByFn=Ke,e.defaultOrderByFn=Ze,e.defaultRenderer=c,e.emptyRenderer=l,e.ensurePluginOrder=v,e.flexRender=S,e.functionalUpdate=y,e.loopHooks=g,e.makePropGetter=p,e.makeRenderer=x,e.reduceHooks=h,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=Mt,e.useAsyncDebounce=function(e,r){void 0===r&&(r=0);var o=t.useRef({}),a=m(e),s=m(r);return t.useCallback(function(){var e=i(n.mark((function e(){var t,r,u,c=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,r=new Array(t),u=0;u<t;u++)r[u]=c[u];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,a().apply(void 0,r);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,s])},e.useBlockLayout=Kt,e.useColumnOrder=Ct,e.useExpanded=ce,e.useFilters=Oe,e.useFlexLayout=Wt,e.useGetLatest=m,e.useGlobalFilter=Ce,e.useGridLayout=$t,e.useGroupBy=De,e.useMountedLayoutEffect=w,e.usePagination=et,e.useResizeColumns=Ft,e.useRowSelect=vt,e.useRowState=Et,e.useSortBy=Ye,e.useTable=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e=ae(e),n=[G].concat(n);var a=m(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:n,hooks:J()})),n.filter(Boolean).forEach((function(e){e(a().hooks)}));var s=m(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),h(s().useOptions,ae(e)));var c=a(),l=c.data,f=c.columns,d=c.initialState,v=c.defaultColumn,y=c.getSubRows,b=c.getRowId,w=c.stateReducer,S=c.useControlledState,P=m(w),C=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(P())?P():[P()]).reduce((function(r,n){return n(r,t,e,a())||r}),e)}),[s,P,a]),j=t.useReducer(C,void 0,(function(){return C(d,{type:u.init})})),R=j[0],I=j[1],F=h([].concat(s().useControlledState,[S]),R,{instance:a()});Object.assign(a(),{state:F,dispatch:I});var T=t.useMemo((function(){return k(h(s().columns,f,{instance:a()}))}),[s,a,f].concat(h(s().columnsDeps,[],{instance:a()})));a().columns=T;var N=t.useMemo((function(){return h(s().allColumns,_(T),{instance:a()}).map(E)}),[T,s,a].concat(h(s().allColumnsDeps,[],{instance:a()})));a().allColumns=N;var D=t.useMemo((function(){for(var e=[],t=[],r={},n=[].concat(N);n.length;){var i=n.shift();ue({data:l,rows:e,flatRows:t,rowsById:r,column:i,getRowId:b,getSubRows:y,accessValueHooks:s().accessValue,getInstance:a})}return[e,t,r]}),[N,l,b,y,s,a]),L=D[0],U=D[1],M=D[2];Object.assign(a(),{rows:L,initialRows:[].concat(L),flatRows:U,rowsById:M}),g(s().useInstanceAfterData,a());var B=t.useMemo((function(){return h(s().visibleColumns,N,{instance:a()}).map((function(e){return O(e,v)}))}),[s,N,a,v].concat(h(s().visibleColumnsDeps,[],{instance:a()})));N=t.useMemo((function(){var e=[].concat(B);return N.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[N,B]),a().allColumns=N;var H=t.useMemo((function(){return h(s().headerGroups,A(B,v),a())}),[s,B,v,a].concat(h(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=H;var z=t.useMemo((function(){return H.length?H[0].headers:[]}),[H]);a().headers=z,a().flatHeaders=H.reduce((function(e,t){return[].concat(e,t.headers)}),[]),g(s().useInstanceBeforeDimensions,a());var K=B.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");B=t.useMemo((function(){return B.filter((function(e){return e.isVisible}))}),[B,K]),a().visibleColumns=B;var W=se(z),V=W[0],q=W[1],Y=W[2];return a().totalColumnsMinWidth=V,a().totalColumnsWidth=q,a().totalColumnsMaxWidth=Y,g(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=x(a(),e),e.getHeaderProps=p(s().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=p(s().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return H.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(s().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=p(s().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[H,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=p(s().getRowProps,{instance:a(),row:e}),e.allCells=N.map((function(t){var r=e.values[t.id],n={column:t,row:e,value:r};return n.getCellProps=p(s().getCellProps,{instance:a(),cell:n}),n.render=x(a(),t,{row:e,cell:n,value:r}),n})),e.cells=B.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),g(s().prepareRow,e,{instance:a()})}),[s,a,N,B]),a().getTableProps=p(s().getTableProps,{instance:a()}),a().getTableBodyProps=p(s().getTableBodyProps,{instance:a()}),g(s().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(1))},,function(e,t,r){"use strict";r(57);var n=r(1),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},function(e,t){function r(){return e.exports=r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";e.exports=r(184)},function(e,t,r){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case d:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case y:case v:case c:return e;default:return t}}case o:return t}}}function k(e){return S(e)===d}t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return k(e)||S(e)===f},t.isConcurrentMode=k,t.isContextConsumer=function(e){return S(e)===l},t.isContextProvider=function(e){return S(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return S(e)===p},t.isFragment=function(e){return S(e)===a},t.isLazy=function(e){return S(e)===y},t.isMemo=function(e){return S(e)===v},t.isPortal=function(e){return S(e)===o},t.isProfiler=function(e){return S(e)===u},t.isStrictMode=function(e){return S(e)===s},t.isSuspense=function(e){return S(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===u||e===s||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===w||e.$$typeof===x||e.$$typeof===m)},t.typeOf=S},,,,function(e,t,r){"use strict";r.r(t),r.d(t,"trigger",(function(){return R})),r.d(t,"mutate",(function(){return F})),r.d(t,"SWRConfig",(function(){return T})),r.d(t,"useSWRInfinite",(function(){return M})),r.d(t,"cache",(function(){return f}));var n=r(1),i=Object.prototype.hasOwnProperty;var o=new WeakMap,a=0;var s=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var r=this.serializeKey(e)[0];this.cache.set(r,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"===typeof e)try{e=e()}catch(r){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",r=0;r<e.length;++r)if(null!==e[r]){var n=void 0;"object"!==typeof e[r]&&"function"!==typeof e[r]?n="string"===typeof e[r]?'"'+e[r]+'"':String(e[r]):o.has(e[r])?n=o.get(e[r]):(n=a,o.set(e[r],a++)),t+="@"+n}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!==typeof e)throw new Error("Expected the listener to be a function.");var r=!0;return this.subs.push(e),function(){if(r){r=!1;var n=t.subs.indexOf(e);n>-1&&(t.subs[n]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++){(0,t[e])()}},e}(),u=!0,c={isOnline:function(){return u},isDocumentVisible:function(){return"undefined"===typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!==typeof window&&void 0!==window.addEventListener&&"undefined"!==typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!==typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){u=!0,e()}),!1),window.addEventListener("offline",(function(){return u=!1}),!1))}},l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},f=new s;var d="undefined"!==typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType),p=l({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,t,r,n,i){if(r.isDocumentVisible()&&!("number"===typeof r.errorRetryCount&&i.retryCount>r.errorRetryCount)){var o=Math.min(i.retryCount,8),a=~~((Math.random()+.5)*(1<<o))*r.errorRetryInterval;setTimeout(n,a,i)}},errorRetryInterval:1e3*(d?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(d?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,r){var n,o;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((o=t.length)===r.length)for(;o--&&e(t[o],r[o]););return-1===o}if(!n||"object"===typeof t){for(n in o=0,t){if(i.call(t,n)&&++o&&!i.call(r,n))return!1;if(!(n in r)||!e(t[n],r[n]))return!1}return Object.keys(r).length===o}}return t!==t&&r!==r},isPaused:function(){return!1}},c),h=p,g="undefined"===typeof window||!!("undefined"!==typeof Deno&&Deno&&Deno.version&&Deno.version.deno),v=g?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},y=g?n.useEffect:n.useLayoutEffect,m=Object(n.createContext)({});m.displayName="SWRConfigContext";var b=m,w=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},S={},k={},_={},E={},O={},A={},P={},C=function(){var e=0;return function(){return++e}}();if(!g){var j=function(e){if(h.isDocumentVisible()&&h.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"===typeof h.registerOnFocus&&h.registerOnFocus((function(){return j(_)})),"function"===typeof h.registerOnReconnect&&h.registerOnReconnect((function(){return j(E)}))}var R=function(e,t){void 0===t&&(t=!0);var r=f.serializeKey(e),n=r[0],i=r[2],o=r[3];if(!n)return Promise.resolve();var a=O[n];if(n&&a){for(var s=f.get(n),u=f.get(i),c=f.get(o),l=[],d=0;d<a.length;++d)l.push(a[d](t,s,u,c,d>0));return Promise.all(l).then((function(){return f.get(n)}))}return Promise.resolve(f.get(n))},I=function(e,t,r,n){var i=O[e];if(e&&i)for(var o=0;o<i.length;++o)i[o](!1,t,r,n)},F=function(e,t,r){return void 0===r&&(r=!0),w(void 0,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,d,p,h,g,v;return x(this,(function(y){switch(y.label){case 0:if(n=f.serializeKey(e),i=n[0],o=n[2],!i)return[2];if("undefined"===typeof t)return[2,R(e,r)];if(A[i]=C()-1,P[i]=0,a=A[i],s=k[i],l=!1,t&&"function"===typeof t)try{t=t(f.get(i))}catch(m){t=void 0,c=m}if(!t||"function"!==typeof t.then)return[3,5];l=!0,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,t];case 2:return u=y.sent(),[3,4];case 3:return d=y.sent(),c=d,[3,4];case 4:return[3,6];case 5:u=t,y.label=6;case 6:if((p=function(){if(a!==A[i]||s!==k[i]){if(c)throw c;return!0}})())return[2,u];if("undefined"!==typeof u&&f.set(i,u),f.set(o,c),P[i]=C()-1,!l&&p())return[2,u];if(h=O[i]){for(g=[],v=0;v<h.length;++v)g.push(h[v](!!r,u,c,void 0,v>0));return[2,Promise.all(g).then((function(){if(c)throw c;return f.get(i)}))]}if(c)throw c;return[2,u]}}))}))};Object.defineProperty(b.Provider,"default",{value:h});var T=b.Provider,N=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[0],o=Object.assign({},h,Object(n.useContext)(b),t.length>2?t[2]:2===t.length&&"object"===typeof t[1]?t[1]:{}),a=t.length>2||2===t.length&&"function"===typeof t[1]||null===t[1]?t[1]:o.fetcher,s=f.serializeKey(i),u=s[0],c=s[1],l=s[2],d=s[3],p=Object(n.useRef)(o);y((function(){p.current=o}));var m=function(){return o.revalidateOnMount||!o.initialData&&void 0===o.revalidateOnMount},j=function(){var e=f.get(u);return"undefined"===typeof e?o.initialData:e},R=function(){return!!f.get(d)||u&&m()},T=j(),N=f.get(l),D=R(),L=Object(n.useRef)({data:!1,error:!1,isValidating:!1}),U=Object(n.useRef)({data:T,error:N,isValidating:D});Object(n.useDebugValue)(U.current.data);var M,B,H=Object(n.useState)({})[1],z=Object(n.useCallback)((function(e){var t=!1;for(var r in e)U.current[r]!==e[r]&&(U.current[r]=e[r],L.current[r]&&(t=!0));if(t){if(K.current||!V.current)return;H({})}}),[]),K=Object(n.useRef)(!1),W=Object(n.useRef)(u),V=Object(n.useRef)(!1),q=Object(n.useCallback)((function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];K.current||V.current&&u===W.current&&(t=p.current)[e].apply(t,r)}),[u]),J=Object(n.useCallback)((function(e,t){return F(W.current,e,t)}),[]),G=function(e,t){return e[u]?e[u].push(t):e[u]=[t],function(){var r=e[u],n=r.indexOf(t);n>=0&&(r[n]=r[r.length-1],r.pop())}},Y=Object(n.useCallback)((function(t){return void 0===t&&(t={}),w(e,void 0,void 0,(function(){var e,r,n,i,s,h,g,v,y,m;return x(this,(function(b){switch(b.label){case 0:if(!u||!a)return[2,!1];if(K.current)return[2,!1];if(p.current.isPaused())return[2,!1];e=t.retryCount,r=void 0===e?0:e,n=t.dedupe,i=void 0!==n&&n,s=!0,h="undefined"!==typeof S[u]&&i,b.label=1;case 1:return b.trys.push([1,6,,7]),z({isValidating:!0}),f.set(d,!0),h||I(u,U.current.data,U.current.error,!0),g=void 0,v=void 0,h?(v=k[u],[4,S[u]]):[3,3];case 2:return g=b.sent(),[3,5];case 3:return o.loadingTimeout&&!f.get(u)&&setTimeout((function(){s&&q("onLoadingSlow",u,o)}),o.loadingTimeout),S[u]=null!==c?a.apply(void 0,c):a(u),k[u]=v=C(),[4,S[u]];case 4:g=b.sent(),setTimeout((function(){delete S[u],delete k[u]}),o.dedupingInterval),q("onSuccess",g,u,o),b.label=5;case 5:return k[u]>v?[2,!1]:A[u]&&(v<=A[u]||v<=P[u]||0===P[u])?(z({isValidating:!1}),[2,!1]):(f.set(l,void 0),f.set(d,!1),y={isValidating:!1},"undefined"!==typeof U.current.error&&(y.error=void 0),o.compare(U.current.data,g)||(y.data=g),o.compare(f.get(u),g)||f.set(u,g),z(y),h||I(u,g,y.error,!1),[3,7]);case 6:return m=b.sent(),delete S[u],delete k[u],p.current.isPaused()?(z({isValidating:!1}),[2,!1]):(f.set(l,m),U.current.error!==m&&(z({isValidating:!1,error:m}),h||I(u,void 0,m,!1)),q("onError",m,u,o),o.shouldRetryOnError&&q("onErrorRetry",m,u,o,Y,{retryCount:r+1,dedupe:!0}),[3,7]);case 7:return s=!1,[2,!0]}}))}))}),[u]);if(y((function(){if(u){K.current=!1;var e=V.current;V.current=!0;var t=U.current.data,r=j();W.current=u,o.compare(t,r)||z({data:r});var n=function(){return Y({dedupe:!0})};(e||m())&&("undefined"===typeof r||g?n():v(n));var i=!1,a=G(_,(function(){!i&&p.current.revalidateOnFocus&&(i=!0,n(),setTimeout((function(){return i=!1}),p.current.focusThrottleInterval))})),s=G(E,(function(){p.current.revalidateOnReconnect&&n()})),c=G(O,(function(e,t,r,i,a){void 0===e&&(e=!0),void 0===a&&(a=!0);var s={},u=!1;return"undefined"===typeof t||o.compare(U.current.data,t)||(s.data=t,u=!0),U.current.error!==r&&(s.error=r,u=!0),"undefined"!==typeof i&&U.current.isValidating!==i&&(s.isValidating=i,u=!0),u&&z(s),!!e&&(a?n():Y())}));return function(){z=function(){return null},K.current=!0,a(),s(),c()}}}),[u,Y]),y((function(){var t=null;return p.current.refreshInterval&&(t=setTimeout((function r(){return w(e,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return U.current.error||!p.current.refreshWhenHidden&&!p.current.isDocumentVisible()||!p.current.refreshWhenOffline&&!p.current.isOnline()?[3,2]:[4,Y({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return p.current.refreshInterval&&t&&(t=setTimeout(r,p.current.refreshInterval)),[2]}}))}))}),p.current.refreshInterval)),function(){t&&(clearTimeout(t),t=null)}}),[o.refreshInterval,o.refreshWhenHidden,o.refreshWhenOffline,Y]),o.suspense){if(M=f.get(u),B=f.get(l),"undefined"===typeof M&&(M=T),"undefined"===typeof B&&(B=N),"undefined"===typeof M&&"undefined"===typeof B){if(S[u]||Y(),S[u]&&"function"===typeof S[u].then)throw S[u];M=S[u]}if("undefined"===typeof M&&B)throw B}var $=Object(n.useMemo)((function(){var e={revalidate:Y,mutate:J};return Object.defineProperties(e,{error:{get:function(){return L.current.error=!0,o.suspense?B:W.current===u?U.current.error:N},enumerable:!0},data:{get:function(){return L.current.data=!0,o.suspense?M:W.current===u?U.current.data:T},enumerable:!0},isValidating:{get:function(){return L.current.isValidating=!0,!!u&&U.current.isValidating},enumerable:!0}}),e}),[Y,T,N,J,u,o.suspense,B,M]);return $},D=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},L=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function M(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[0],o=Object.assign({},h,Object(n.useContext)(b),t.length>2?t[2]:2===t.length&&"object"===typeof t[1]?t[1]:{}),a=t.length>2||2===t.length&&"function"===typeof t[1]?t[1]:o.fetcher,s=o.initialSize,u=void 0===s?1:s,c=o.revalidateAll,l=void 0!==c&&c,d=o.persistSize,p=void 0!==d&&d,g=U(o,["initialSize","revalidateAll","persistSize"]),v=null;try{v=f.serializeKey(i(0,null))[0]}catch(j){}var m=Object(n.useState)({})[1],w=null;v&&(w="ctx@"+v);var x=null;v&&(x="len@"+v);var S=Object(n.useRef)(!1),k=Object(n.useCallback)((function(){var e=f.get(x);return"undefined"!==typeof e?e:u}),[x,u]),_=Object(n.useRef)(k());y((function(){S.current?f.set(x,p?_.current:u):S.current=!0}),[v]);var E=Object(n.useRef)(),O=N(v?["inf",v]:null,(function(){return D(e,void 0,void 0,(function(){var e,t,r,n,s,u,c,d,p,h,g;return L(this,(function(v){switch(v.label){case 0:e=f.get(w)||{},t=e.data,r=e.force,n=[],s=k(),u=null,c=0,v.label=1;case 1:return c<s?(d=f.serializeKey(i(c,u)),p=d[0],h=d[1],p?(g=f.get(p),l||r||"undefined"===typeof g||"undefined"===typeof r&&0===c&&"undefined"!==typeof E.current||t&&!o.compare(t[c],g)?null===h?[3,3]:[4,a.apply(void 0,h)]:[3,6]):[3,8]):[3,8];case 2:return g=v.sent(),[3,5];case 3:return[4,a(p)];case 4:g=v.sent(),v.label=5;case 5:f.set(p,g),v.label=6;case 6:n.push(g),u=g,v.label=7;case 7:return++c,[3,1];case 8:return f.delete(w),[2,n]}}))}))}),g);y((function(){E.current=O.data}),[O.data]);var A=Object(n.useCallback)((function(e,t){if(void 0===t&&(t=!0),t&&"undefined"!==typeof e){var r=E.current;f.set(w,{data:r,force:!1})}else t&&f.set(w,{force:!0});return O.mutate(e,t)}),[w]),P=Object(n.useCallback)((function(e){var t;return"function"===typeof e?t=e(k()):"number"===typeof e&&(t=e),"number"===typeof t&&(f.set(x,t),_.current=t),m({}),A((function(e){return e}))}),[x,k,A,m]),C={size:k(),setSize:P,mutate:A};return Object.defineProperties(C,{error:{get:function(){return O.error},enumerable:!0},data:{get:function(){return O.data},enumerable:!0},revalidate:{get:function(){return O.revalidate},enumerable:!0},isValidating:{get:function(){return O.isValidating},enumerable:!0}}),C}t.default=N},,function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r(3),i=r(28),o=Object.defineProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,c=function(e,t,r){return t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},l=function(e,t){for(var r in t||(t={}))s.call(t,r)&&c(e,r,t[r]);if(a){var i,o=Object(n.a)(a(t));try{for(o.s();!(i=o.n()).done;){r=i.value;u.call(t,r)&&c(e,r,t[r])}}catch(l){o.e(l)}finally{o.f()}}return e};function f(e){return"string"===typeof e||"number"===typeof e}var d={m:"margin",mt:"marginTop",mb:"marginBottom",ml:"marginLeft",mr:"marginRight"};function p(e){var t=e.others,r=e.style,n=Object(i.c)(),o=l({},r);if(f(t.my)){var a=n.fn.size({size:t.my,sizes:n.spacing});o.marginTop=a,o.marginBottom=a}if(f(t.mx)){var s=n.fn.size({size:t.mx,sizes:n.spacing});o.marginLeft=s,o.marginRight=s}Object.keys(d).forEach((function(e){f(t[e])&&(o[d[e]]=n.fn.size({size:t[e],sizes:n.spacing}))}));var u=l({},t);return delete u.m,delete u.mx,delete u.my,delete u.mt,delete u.ml,delete u.mb,delete u.mr,{mergedStyles:o,rest:u}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(28),i=r(55);function o(e){var t=e.sx,r=e.className,o=Object(i.a)(),a=o.css,s=o.cx,u=Object(n.c)();return{sxClassName:s(a("function"===typeof t?t(u):t),r),css:a,cx:s,theme:u}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(5);var i=r(55),o=r(28);function a(e,t,r,n){return Object.keys(t).reduce((function(i,o){return i[o]=e(t[o],null!=r&&r[o],n?"mantine-".concat(n,"-").concat(o):null),i}),{})}function s(e){var t="function"===typeof e?e:function(){return e};return function(e,r){var s=Object(o.c)(),u=Object(o.d)()[null==r?void 0:r.name],c=Object(i.a)(),l=c.css,f=c.cx,d=0,p=t(s,e,(function(e){return d+=1,"mantine-ref_".concat(e||"","_").concat(d)})),h="function"===typeof(null==r?void 0:r.styles)?null==r?void 0:r.styles(s):(null==r?void 0:r.styles)||{},g="function"===typeof u?u(s):u||{},v="function"===typeof(null==r?void 0:r.sx)?r.sx(s):null==r?void 0:r.sx,y=function(e){var t={};return Object.keys(e).forEach((function(r){var i=Object(n.a)(e[r],2),o=i[0],a=i[1];t[o]=a})),t}(Object.keys(p).map((function(e){var t=f(l(p[e]),l(g[e]),l(h[e]));return[e,"root"===e?f(t,l(v)):t]})));return{classes:a(f,y,null==r?void 0:r.classNames,null==r?void 0:r.name),cx:f,theme:s}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n="indigo",i="cyan",o=45;function a(e){var t=e.color,r=e.theme,a=e.variant,s=e.gradient;if("light"===a)return{border:"transparent",background:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?8:0),"dark"===r.colorScheme?.35:1),color:"dark"===t?"dark"===r.colorScheme?r.colors.dark[0]:r.colors.dark[9]:r.fn.themeColor(t,"dark"===r.colorScheme?2:6),hover:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?7:1),"dark"===r.colorScheme?.45:.65)};if("default"===a)return{border:"dark"===r.colorScheme?r.colors.dark[5]:r.colors.gray[4],background:"dark"===r.colorScheme?r.colors.dark[5]:r.white,color:"dark"===r.colorScheme?r.white:r.black,hover:"dark"===r.colorScheme?r.colors.dark[4]:r.colors.gray[0]};if("white"===a)return{border:"transparent",background:r.white,color:r.fn.themeColor(t,7),hover:null};if("outline"===a)return{border:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?4:7),.75),background:"transparent",color:r.fn.themeColor(t,"dark"===r.colorScheme?4:7),hover:"dark"===r.colorScheme?r.fn.rgba(r.fn.themeColor(t,4),.05):r.fn.rgba(r.fn.themeColor(t,0),.35)};if("gradient"===a){var u={from:(null==s?void 0:s.from)||n,to:(null==s?void 0:s.to)||i,deg:(null==s?void 0:s.deg)||o};return{background:"linear-gradient(".concat(u.deg,"deg, ").concat(r.fn.themeColor(u.from,6)," 0%, ").concat(r.fn.themeColor(u.to,6)," 100%)"),color:r.white,border:"transparent",hover:null}}return{border:"transparent",background:r.fn.themeColor(t,"dark"===r.colorScheme?8:6),color:r.white,hover:r.fn.themeColor(t,7)}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n={app:100,modal:200,popover:300,overlay:400};function i(e){return n[e]}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(5),i=r(1),o=r.n(i),a=Object(i.createContext)(null);function s(e){var t=e.colorScheme,r=e.toggleColorScheme,s=e.children,u=Object(i.useState)("init"),c=Object(n.a)(u,2),l=c[0],f=c[1];return Object(i.useEffect)((function(){f("update")}),[]),o.a.createElement(a.Provider,{key:l,value:{colorScheme:t,toggleColorScheme:r}},s)}s.displayName="@mantine/core/ColorSchemeProvider"},function(e,t,r){"use strict";r.d(t,"a",(function(){return ne}));var n=r(8),i=r(3),o=r(1),a=r.n(o),s=r(193),u=r(190),c=r(192),l=r(35),f=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=function(e,t,r){return t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},m=function(e,t){for(var r in t||(t={}))g.call(t,r)&&y(e,r,t[r]);if(h){var n,o=Object(i.a)(h(t));try{for(o.s();!(n=o.n()).done;){r=n.value;v.call(t,r)&&y(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},b={xs:{height:l.b.xs,padding:"0 14px"},sm:{height:l.b.sm,padding:"0 18px"},md:{height:l.b.md,padding:"0 22px"},lg:{height:l.b.lg,padding:"0 26px"},xl:{height:l.b.xl,padding:"0 32px"},"compact-xs":{height:22,padding:"0 7px"},"compact-sm":{height:26,padding:"0 8px"},"compact-md":{height:30,padding:"0 10px"},"compact-lg":{height:34,padding:"0 12px"},"compact-xl":{height:40,padding:"0 14px"}},w=Object.keys(b).reduce((function(e,t){return e[t]=b[t].height,e}),{}),x=function(e){var t=e.compact,r=e.size;return t?b["compact-".concat(r)]:b[r]},S=function(e){return{display:e?"block":"inline-block",width:e?"100%":"auto"}};function k(e){var t=e.variant,r=e.theme,n=e.color,i=Object(s.a)({theme:r,color:n,variant:t});return{border:"1px solid ".concat(i.border),backgroundColor:i.background,backgroundImage:i.background,color:i.color,"&:hover":{backgroundColor:i.hover}}}var _=Object(c.a)((function(e,t,r){var i,o,a=t.color,u=t.size,c=t.radius,l=t.fullWidth,f=t.compact,h=t.gradientFrom,g=t.gradientTo,v=t.gradientDeg,y=r("loading"),b=Object(s.a)({theme:e,color:a,variant:"gradient",gradient:{from:h,to:g,deg:v}});return{loading:{ref:y,pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.size({size:c,sizes:e.radius})-1,cursor:"not-allowed"}},outline:k({variant:"outline",theme:e,color:a}),filled:k({variant:"filled",theme:e,color:a}),light:k({variant:"light",theme:e,color:a}),default:k({variant:"default",theme:e,color:a}),white:k({variant:"white",theme:e,color:a}),gradient:{border:0,backgroundImage:b.background,color:b.color,"&:hover":{backgroundSize:"200%"}},root:(i=m(m(m(m({},x({compact:f,size:u})),e.fn.fontStyles()),e.fn.focusStyles()),S(l)),o=Object(n.a)({borderRadius:e.fn.size({size:c,sizes:e.radius}),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:u,sizes:e.fontSizes}),WebkitTapHighlightColor:"transparent",userSelect:"none",boxSizing:"border-box",textDecoration:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none","&:not(:disabled):active":{transform:"translateY(1px)"}},"&:not(.".concat(y,"):disabled"),{borderColor:"transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed"}),d(i,p(o))),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}})),E=r(191),O=Object.defineProperty,A=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,j=function(e,t,r){return t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var R=Object.defineProperty,I=Object.getOwnPropertySymbols,F=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,N=function(e,t,r){return t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var D=Object.defineProperty,L=Object.getOwnPropertySymbols,U=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,B=function(e,t,r){return t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var H=Object.defineProperty,z=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,V=function(e,t,r){return t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},q={bars:function(e){var t=e,r=t.size,n=t.color,o=function(e,t){var r={};for(var n in e)P.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&A){var o,a=Object(i.a)(A(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&C.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(t,["size","color"]);return a.a.createElement("svg",function(e,t){for(var r in t||(t={}))P.call(t,r)&&j(e,r,t[r]);if(A){var n,o=Object(i.a)(A(t));try{for(o.s();!(n=o.n()).done;)r=n.value,C.call(t,r)&&j(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:n,width:"".concat(r,"px")},o),a.a.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},a.a.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},a.a.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},a.a.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},a.a.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},a.a.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))},oval:function(e){var t=e,r=t.size,n=t.color,o=function(e,t){var r={};for(var n in e)F.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&I){var o,a=Object(i.a)(I(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&T.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(t,["size","color"]);return a.a.createElement("svg",function(e,t){for(var r in t||(t={}))F.call(t,r)&&N(e,r,t[r]);if(I){var n,o=Object(i.a)(I(t));try{for(o.s();!(n=o.n()).done;)r=n.value,T.call(t,r)&&N(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({width:"".concat(r,"px"),height:"".concat(r,"px"),viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:n},o),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},a.a.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),a.a.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},a.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))},dots:function(e){var t=e,r=t.size,n=t.color,o=function(e,t){var r={};for(var n in e)U.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&L){var o,a=Object(i.a)(L(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&M.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(t,["size","color"]);return a.a.createElement("svg",function(e,t){for(var r in t||(t={}))U.call(t,r)&&B(e,r,t[r]);if(L){var n,o=Object(i.a)(L(t));try{for(o.s();!(n=o.n()).done;)r=n.value,M.call(t,r)&&B(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({width:"".concat(r,"px"),height:"".concat(r/4,"px"),viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:n},o),a.a.createElement("circle",{cx:"15",cy:"15",r:"15"},a.a.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},a.a.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),a.a.createElement("circle",{cx:"105",cy:"15",r:"15"},a.a.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),a.a.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},J={xs:18,sm:22,md:36,lg:44,xl:58};function G(e){var t=e,r=t.size,n=void 0===r?"md":r,o=t.color,s=t.className,c=t.variant,l=t.style,f=t.sx,d=function(e,t){var r={};for(var n in e)K.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&z){var o,a=Object(i.a)(z(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&W.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(t,["size","color","className","variant","style","sx"]),p=Object(E.a)({sx:f,className:s}),h=p.sxClassName,g=p.theme,v=Object(u.a)({others:d,style:l}),y=v.mergedStyles,m=v.rest,b=c in q?c:g.loader,w=q[b]||q.bars,x=o||g.primaryColor;return a.a.createElement(w,function(e,t){for(var r in t||(t={}))K.call(t,r)&&V(e,r,t[r]);if(z){var n,o=Object(i.a)(z(t));try{for(o.s();!(n=o.n()).done;)r=n.value,W.call(t,r)&&V(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({size:g.fn.size({size:n,sizes:J}),style:y,color:x in g.colors?g.fn.themeColor(x,"dark"===g.colorScheme?4:6):o,role:"presentation",className:h},m))}G.displayName="@mantine/core/Loader";var Y=Object.defineProperty,$=Object.defineProperties,Q=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,Z=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,te=function(e,t,r){return t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},re=function(e,t){for(var r in t||(t={}))Z.call(t,r)&&te(e,r,t[r]);if(X){var n,o=Object(i.a)(X(t));try{for(o.s();!(n=o.n()).done;){r=n.value;ee.call(t,r)&&te(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},ne=Object(o.forwardRef)((function(e,t){var r,o,c=e,l=c.className,f=c.style,d=c.size,p=void 0===d?"sm":d,h=c.color,g=c.type,v=void 0===g?"button":g,y=c.disabled,m=void 0!==y&&y,b=c.children,x=c.leftIcon,S=c.rightIcon,k=c.fullWidth,E=void 0!==k&&k,O=c.variant,A=void 0===O?"filled":O,P=c.radius,C=void 0===P?"sm":P,j=c.component,R=c.uppercase,I=void 0!==R&&R,F=c.compact,T=void 0!==F&&F,N=c.loading,D=void 0!==N&&N,L=c.loaderPosition,U=void 0===L?"left":L,M=c.loaderProps,B=c.gradient,H=void 0===B?{from:"blue",to:"cyan",deg:45}:B,z=c.classNames,K=c.styles,W=c.sx,V=function(e,t){var r={};for(var n in e)Z.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&X){var o,a=Object(i.a)(X(e));try{for(a.s();!(o=a.n()).done;)n=o.value,t.indexOf(n)<0&&ee.call(e,n)&&(r[n]=e[n])}catch(s){a.e(s)}finally{a.f()}}return r}(c,["className","style","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","component","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","sx"]),q=_({radius:C,color:h,size:p,fullWidth:E,compact:T,gradientFrom:H.from,gradientTo:H.to,gradientDeg:H.deg},{classNames:z,styles:K,sx:W,name:"Button"}),J=q.classes,Y=q.cx,te=q.theme,ne=Object(s.a)({color:h,theme:te,variant:A}),ie=Object(u.a)({others:V,style:f}),oe=ie.mergedStyles,ae=ie.rest,se=j||"button",ue=a.a.createElement(G,re({color:ne.color,size:te.fn.size({size:p,sizes:w})/2},M));return a.a.createElement(se,(r=re({},ae),o={className:Y(J[A],Object(n.a)({},J.loading,D),J.root,l),type:v,disabled:m||D,ref:t,onTouchStart:function(){},style:oe},$(r,Q(o))),a.a.createElement("div",{className:J.inner},(x||D&&"left"===U)&&a.a.createElement("span",{className:Y(J.icon,J.leftIcon)},D&&"left"===U?ue:x),a.a.createElement("span",{className:J.label,style:{textTransform:I?"uppercase":void 0}},b),(S||D&&"right"===U)&&a.a.createElement("span",{className:Y(J.icon,J.rightIcon)},D&&"right"===U?ue:S)))}));ne.displayName="@mantine/core/Button"},function(e,t,r){"use strict";r.d(t,"a",(function(){return Q}));var n=r(3),i=r(1),o=r.n(i),a=r(198),s=r(190),u=r(8),c=r(28),l=r(35),f=r(54),d=Object.defineProperty,p=Object.defineProperties,h=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,m=function(e,t,r){return t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},b=function(e,t){for(var r in t||(t={}))v.call(t,r)&&m(e,r,t[r]);if(g){var i,o=Object(n.a)(g(t));try{for(o.s();!(i=o.n()).done;){r=i.value;y.call(t,r)&&m(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},w=function(e,t){return p(e,h(t))},x=Object(i.forwardRef)((function(e,t){var r,i=e,a=i.component,d=i.className,p=i.invalid,h=void 0!==p&&p,m=i.required,x=void 0!==m&&m,S=i.disabled,k=void 0!==S&&S,_=i.variant,E=i.icon,O=i.style,A=i.rightSectionWidth,P=void 0===A?36:A,C=i.rightSection,j=i.rightSectionProps,R=void 0===j?{}:j,I=i.radius,F=void 0===I?"sm":I,T=i.size,N=void 0===T?"sm":T,D=i.wrapperProps,L=i.classNames,U=i.styles,M=i.__staticSelector,B=void 0===M?"Input":M,H=i.multiline,z=void 0!==H&&H,K=i.sx,W=function(e,t){var r={};for(var i in e)v.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&g){var o,a=Object(n.a)(g(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&y.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(i,["component","className","invalid","required","disabled","variant","icon","style","rightSectionWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx"]),V=Object(c.c)(),q=_||("dark"===V.colorScheme?"filled":"default"),J=Object(l.a)({radius:F,size:N,multiline:z,variant:q,invalid:h},{sx:K,classNames:L,styles:U,name:B}),G=J.classes,Y=J.cx,$=Object(s.a)({others:W,style:O}),Q=$.mergedStyles,X=$.rest,Z=a||"input";return o.a.createElement(f.a,b({className:Y(G.wrapper,d),style:Q,sx:K},D),E&&o.a.createElement("div",{className:G.icon},E),o.a.createElement(Z,w(b({},X),{ref:t,"aria-required":x,"aria-invalid":h,className:Y(G["".concat(q,"Variant")],G.input,(r={},Object(u.a)(r,G.withIcon,E),Object(u.a)(r,G.invalid,h),Object(u.a)(r,G.disabled,k),r)),disabled:k,style:{paddingRight:C?P:V.spacing.md}})),C&&o.a.createElement("div",w(b({},R),{style:{width:P},className:G.rightSection}),C))}));x.displayName="@mantine/core/Input";var S=r(73),k=r(192),_=Object.defineProperty,E=Object.defineProperties,O=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,j=function(e,t,r){return t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},R=function(e,t){for(var r in t||(t={}))P.call(t,r)&&j(e,r,t[r]);if(A){var i,o=Object(n.a)(A(t));try{for(o.s();!(i=o.n()).done;){r=i.value;C.call(t,r)&&j(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},I=Object(k.a)((function(e,t){var r,n,i=t.size;return{root:(r=R({},e.fn.fontStyles()),n={lineHeight:e.lineHeight},E(r,O(n))),label:{display:"inline-block",marginBottom:4,fontSize:e.fn.size({size:i,sizes:e.fontSizes}),fontWeight:500,color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},error:{marginTop:e.spacing.xs/2,wordBreak:"break-word",color:"".concat(e.colors.red["dark"===e.colorScheme?6:7]," !important")},description:{marginTop:-3,marginBottom:7,wordBreak:"break-word",color:"".concat("dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]," !important"),fontSize:"".concat(e.fn.size({size:i,sizes:e.fontSizes})-2,"px !important"),lineHeight:1.2},required:{color:"dark"===e.colorScheme?e.colors.red[5]:e.colors.red[7]}}})),F=Object.defineProperty,T=Object.defineProperties,N=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable,M=function(e,t,r){return t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},B=function(e,t){for(var r in t||(t={}))L.call(t,r)&&M(e,r,t[r]);if(D){var i,o=Object(n.a)(D(t));try{for(o.s();!(i=o.n()).done;){r=i.value;U.call(t,r)&&M(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},H=function(e,t){return T(e,N(t))},z=Object(i.forwardRef)((function(e,t){var r=e,a=r.className,u=r.style,c=r.label,l=r.children,f=r.required,d=r.id,p=r.error,h=r.description,g=r.labelElement,v=void 0===g?"label":g,y=r.labelProps,m=r.descriptionProps,b=r.errorProps,w=r.classNames,x=r.styles,k=r.sx,_=r.size,E=void 0===_?"sm":_,O=r.__staticSelector,A=void 0===O?"InputWrapper":O,P=function(e,t){var r={};for(var i in e)L.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&D){var o,a=Object(n.a)(D(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&U.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["className","style","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","sx","size","__staticSelector"]),C=I({size:E},{classNames:w,styles:x,sx:k,name:A}),j=C.classes,R=C.cx,F=Object(s.a)({others:P,style:u}),T=F.mergedStyles,N=F.rest,M="label"===v?{htmlFor:d}:{},z=Object(i.createElement)(v,H(B(B({},M),y),{id:d?"".concat(d,"-label"):void 0,className:j.label}),o.a.createElement(o.a.Fragment,null,c,f&&o.a.createElement("span",{className:j.required}," *")));return o.a.createElement("div",B({className:R(j.root,a),style:T,ref:t},N),c&&z,h&&o.a.createElement(S.a,H(B({},m),{color:"gray",className:j.description}),h),l,"boolean"!==typeof p&&p&&o.a.createElement(S.a,H(B({},b),{size:E,className:j.error}),p))}));z.displayName="@mantine/core/InputWrapper";var K=Object.defineProperty,W=Object.defineProperties,V=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,Y=function(e,t,r){return t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},$=function(e,t){for(var r in t||(t={}))J.call(t,r)&&Y(e,r,t[r]);if(q){var i,o=Object(n.a)(q(t));try{for(o.s();!(i=o.n()).done;){r=i.value;G.call(t,r)&&Y(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},Q=Object(i.forwardRef)((function(e,t){var r,i=e,u=i.className,c=i.id,l=i.label,f=i.error,d=i.required,p=i.type,h=void 0===p?"text":p,g=i.style,v=i.icon,y=i.description,m=i.wrapperProps,b=i.size,w=void 0===b?"sm":b,S=i.classNames,k=i.styles,_=i.__staticSelector,E=void 0===_?"TextInput":_,O=i.sx,A=function(e,t){var r={};for(var i in e)J.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&q){var o,a=Object(n.a)(q(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&G.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(i,["className","id","label","error","required","type","style","icon","description","wrapperProps","size","classNames","styles","__staticSelector","sx"]),P=Object(a.a)(c),C=Object(s.a)({others:A,style:g}),j=C.mergedStyles,R=C.rest;return o.a.createElement(z,$({required:d,id:P,label:l,error:f,description:y,size:w,className:u,style:j,classNames:S,styles:k,__staticSelector:E,sx:O},m),o.a.createElement(x,(r=$({},R),W(r,V({required:d,ref:t,id:P,type:h,invalid:!!f,icon:v,size:w,classNames:S,styles:k,__staticSelector:E})))))}));Q.displayName="@mantine/core/TextInput"},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(5),i=r(1),o="undefined"!==typeof document?i.useLayoutEffect:i.useEffect;function a(e){var t=Object(i.useState)(""),r=Object(n.a)(t,2),a=r[0],s=r[1];return o((function(){s("mantine-".concat(Math.random().toString(36).substr(2,9)))}),[]),e||a}},function(e,t,r){"use strict";r.d(t,"a",(function(){return N}));var n=r(3),i=r(1),o=r.n(i),a=r(190),s=r(198),u=Object.defineProperty,c=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,d=function(e,t,r){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},p=function(e,t){for(var r in t||(t={}))l.call(t,r)&&d(e,r,t[r]);if(c){var i,o=Object(n.a)(c(t));try{for(o.s();!(i=o.n()).done;){r=i.value;f.call(t,r)&&d(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e};function h(e){var t=e,r=t.indeterminate,i=function(e,t){var r={};for(var i in e)l.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&c){var o,a=Object(n.a)(c(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&f.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(t,["indeterminate"]);return r?o.a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},i),o.a.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):o.a.createElement("svg",p({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),o.a.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var g=r(8),v=r(192),y=Object.defineProperty,m=Object.defineProperties,b=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,k=function(e,t,r){return t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},_=function(e,t){for(var r in t||(t={}))x.call(t,r)&&k(e,r,t[r]);if(w){var i,o=Object(n.a)(w(t));try{for(o.s();!(i=o.n()).done;){r=i.value;S.call(t,r)&&k(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},E=function(e,t){return m(e,b(t))},O={xs:16,sm:20,md:24,lg:30,xl:36},A={xs:8,sm:10,md:14,lg:16,xl:20},P=Object(v.a)((function(e,t,r){var n=t.size,i=t.color,o=t.transitionDuration,a=e.fn.size({size:n,sizes:O}),s=r("icon");return{icon:{ref:s,color:e.white,transform:"translateY(5px) scale(0.5)",opacity:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:"".concat(o,"ms"),pointerEvents:"none",width:e.fn.size({size:n,sizes:A}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:"0ms"}},root:{display:"flex",alignItems:"center"},inner:{position:"relative",width:a,height:a},label:E(_({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",paddingLeft:e.spacing.sm,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:"".concat(a,"px"),color:"dark"===e.colorScheme?e.colors.dark[0]:e.black}),input:E(_({},e.fn.focusStyles()),{appearance:"none",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.white,border:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]),width:a,height:a,borderRadius:e.radius.sm,padding:0,outline:0,display:"block",margin:0,transition:"border-color ".concat(o,"ms ease, background-color ").concat(o,"ms ease"),"&:checked":Object(g.a)({backgroundColor:e.fn.themeColor(i,6),borderColor:e.fn.themeColor(i,6)},"& + .".concat(s),{opacity:1,transform:"translateY(0) scale(1)"}),"&:disabled":Object(g.a)({backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed"},"& + .".concat(s),{color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5]})})}})),C=Object.defineProperty,j=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,F=function(e,t,r){return t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},T=function(e,t){for(var r in t||(t={}))R.call(t,r)&&F(e,r,t[r]);if(j){var i,o=Object(n.a)(j(t));try{for(o.s();!(i=o.n()).done;){r=i.value;I.call(t,r)&&F(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},N=Object(i.forwardRef)((function(e,t){var r=e,i=r.className,u=r.style,c=r.checked,l=r.onChange,f=r.color,d=r.label,p=r.disabled,g=r.indeterminate,v=r.id,y=r.size,m=void 0===y?"sm":y,b=r.wrapperProps,w=(r.children,r.classNames),x=r.styles,S=r.transitionDuration,k=void 0===S?100:S,_=r.icon,E=void 0===_?h:_,O=r.sx,A=function(e,t){var r={};for(var i in e)R.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&j){var o,a=Object(n.a)(j(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&I.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["className","style","checked","onChange","color","label","disabled","indeterminate","id","size","wrapperProps","children","classNames","styles","transitionDuration","icon","sx"]),C=Object(s.a)(v),F=P({size:m,color:f,transitionDuration:k},{classNames:w,styles:x,sx:O,name:"Checkbox"}),N=F.classes,D=F.cx,L=Object(a.a)({others:A,style:u}),U=L.mergedStyles,M=L.rest;return o.a.createElement("div",T({className:D(N.root,i),style:U},b),o.a.createElement("div",{className:N.inner},o.a.createElement("input",T({id:C,ref:t,type:"checkbox",className:N.input,checked:g||c,onChange:l,disabled:p},M)),o.a.createElement(E,{indeterminate:g,className:N.icon})),d&&o.a.createElement("label",{className:N.label,htmlFor:C},d))}));N.displayName="@mantine/core/Checkbox"},function(e,t,r){"use strict";r.d(t,"a",(function(){return E}));var n=r(3),i=r(1),o=r.n(i),a=r(194),s=r(28);var u=r(5),c=r(192),l=Object.defineProperty,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=function(e,t,r){return t in e?l(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},g=function(e,t){for(var r in t||(t={}))d.call(t,r)&&h(e,r,t[r]);if(f){var i,o=Object(n.a)(f(t));try{for(o.s();!(i=o.n()).done;){r=i.value;p.call(t,r)&&h(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e};function v(e,t){var r=t.fn.size({size:e.padding,sizes:t.spacing}),n=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null;if(!e.fixed)return{padding:r};var i=e.navbarBreakpoints.reduce((function(e,t){var n=Object(u.a)(t,2),i=n[0],o=n[1];return e["@media (min-width: ".concat(i+1,"px)")]={paddingLeft:"calc(".concat(o,"px + ").concat(r,"px)")},e}),{});return n&&(i["@media (max-width: ".concat(n,"px)")]={paddingLeft:r}),g({minHeight:"100vh",paddingTop:"calc(".concat(e.headerHeight," + ").concat(r,"px)"),paddingLeft:"calc(".concat(e.navbarWidth," + ").concat(r,"px)")},i)}var y=Object(c.a)((function(e,t){return{root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:g({flex:1,boxSizing:"border-box"},v(t,e))}})),m=Object.defineProperty,b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,S=function(e,t,r){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function k(e){var t,r=null==(t=null==e?void 0:e.props)?void 0:t.height;return"number"===typeof r?"".concat(r,"px"):"string"===typeof r?r:"0px"}function _(e,t){var r,n=null==(r=null==e?void 0:e.props)?void 0:r.width;return null!=n?function(e,t){if(!e)return[];var r=Object.keys(e).filter((function(e){return"base"!==e})).map((function(r){return[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]}));return r.sort((function(e,t){return t[0]-e[0]})),r.reverse()}(n,t):[]}var E=Object(i.forwardRef)((function(e,t){var r=e,i=r.children,u=r.navbar,c=r.header,l=r.fixed,f=void 0!==l&&l,d=r.zIndex,p=void 0===d?Object(a.a)("app"):d,h=r.padding,g=void 0===h?"md":h,v=r.navbarOffsetBreakpoint,m=r.className,E=r.styles,O=r.classNames,A=r.sx,P=function(e,t){var r={};for(var i in e)w.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&b){var o,a=Object(n.a)(b(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&x.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["children","navbar","header","fixed","zIndex","padding","navbarOffsetBreakpoint","className","styles","classNames","sx"]),C=_(u,Object(s.c)()),j=function(e){var t,r,n=null==(r=null==(t=null==e?void 0:e.props)?void 0:t.width)?void 0:r.base;return"number"===typeof n?"".concat(n,"px"):"string"===typeof n?n:"0px"}(u),R=k(c),I=k(u),F=y({padding:g,fixed:f,navbarWidth:j,headerHeight:R,navbarBreakpoints:C,navbarOffsetBreakpoint:v},{styles:E,classNames:O,sx:A,name:"AppShell"}),T=F.classes,N=F.cx,D=c?o.a.cloneElement(c,{fixed:f,zIndex:p}):null,L=u?o.a.cloneElement(u,{fixed:f,zIndex:p,height:"0px"!==I?I:"calc(100vh - ".concat(R,")"),position:{top:R,left:0}}):null;return o.a.createElement("div",function(e,t){for(var r in t||(t={}))w.call(t,r)&&S(e,r,t[r]);if(b){var i,o=Object(n.a)(b(t));try{for(o.s();!(i=o.n()).done;)r=i.value,x.call(t,r)&&S(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({className:N(T.root,m),ref:t},P),D,o.a.createElement("div",{className:T.body},L,o.a.createElement("main",{className:T.main},i)))}));E.displayName="@mantine/core/AppShell"},function(e,t,r){"use strict";r.d(t,"a",(function(){return k}));var n=r(3),i=r(1),o=r.n(i),a=r(194),s=r(192),u=Object.defineProperty,c=Object.defineProperties,l=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,h=function(e,t,r){return t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},g=function(e,t){for(var r in t||(t={}))d.call(t,r)&&h(e,r,t[r]);if(f){var i,o=Object(n.a)(f(t));try{for(o.s();!(i=o.n()).done;){r=i.value;p.call(t,r)&&h(e,r,t[r])}}catch(a){o.e(a)}finally{o.f()}}return e},v=Object(s.a)((function(e,t){var r,n,i=t.height,o=t.padding,a=t.fixed,s=t.position,u=t.zIndex;return{root:(r=g(g({},e.fn.fontStyles()),s),n={zIndex:u,height:i,maxHeight:i,position:a?"fixed":"static",boxSizing:"border-box",padding:e.fn.size({size:o,sizes:e.spacing}),backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,borderBottom:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[2])},c(r,l(n)))}})),y=r(54),m=Object.defineProperty,b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,S=function(e,t,r){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},k=Object(i.forwardRef)((function(e,t){var r=e,i=r.children,s=r.className,u=r.classNames,c=r.styles,l=r.height,f=r.padding,d=void 0===f?0:f,p=r.fixed,h=void 0!==p&&p,g=r.position,m=void 0===g?{top:0,left:0,right:0}:g,k=r.sx,_=r.zIndex,E=void 0===_?Object(a.a)("app"):_,O=function(e,t){var r={};for(var i in e)w.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&b){var o,a=Object(n.a)(b(e));try{for(a.s();!(o=a.n()).done;)i=o.value,t.indexOf(i)<0&&x.call(e,i)&&(r[i]=e[i])}catch(s){a.e(s)}finally{a.f()}}return r}(r,["children","className","classNames","styles","height","padding","fixed","position","sx","zIndex"]),A=v({height:l,padding:d,fixed:h,position:m,zIndex:E},{name:"Header",sx:k,classNames:u,styles:c}),P=A.classes,C=A.cx;return o.a.createElement(y.a,function(e,t){for(var r in t||(t={}))w.call(t,r)&&S(e,r,t[r]);if(b){var i,o=Object(n.a)(b(t));try{for(o.s();!(i=o.n()).done;)r=i.value,x.call(t,r)&&S(e,r,t[r])}catch(a){o.e(a)}finally{o.f()}}return e}({component:"nav",className:C(P.root,s),ref:t},O),i)}));k.displayName="@mantine/core/Header"},function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(5),i=r(1);function o(e){var t=Object(i.useState)(function(e){return"undefined"!==typeof window&&"matchMedia"in window&&window.matchMedia(e).matches}(e)),r=Object(n.a)(t,2),o=r[0],a=r[1],s=Object(i.useRef)();return Object(i.useEffect)((function(){if("matchMedia"in window)return s.current=window.matchMedia(e),a(s.current.matches),function(e,t){try{return e.addEventListener("change",t),function(){return e.removeEventListener("change",t)}}catch(r){return e.addListener(t),function(){return e.removeListener(t)}}}(s.current,(function(e){return a(e.matches)}))}),[e]),o}function a(){return o("(prefers-color-scheme: dark)")?"dark":"light"}}]]);
//# sourceMappingURL=2.2923d55a.chunk.js.map