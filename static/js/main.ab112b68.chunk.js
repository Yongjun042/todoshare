(this.webpackJsonptodoshare=this.webpackJsonptodoshare||[]).push([[0],{110:function(e,t,n){},131:function(e,t){},180:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(100),s=n.n(r),i=(n(110),function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,227)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))}),o=n(5),l=n(195),u=n(28),d=n(202),j=n(2),b=n(0),h=n.n(b),O=n(12),f=n(9),p=n(22),g=n(197),x=n(196),m=(n(180),n(4)),v=p.a.created,y=p.a.Vtodo,w=p.b.type;var D=function(e){var t=e.todoList,n=e.setTodoList,a=Object(O.useSession)().session,r=Object(c.useState)(""),s=Object(o.a)(r,2),i=s[0],l=s[1],u=function(){var e=Object(j.a)(h.a.mark((function e(c){var r,s,i,o,l,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.getSourceUrl)(t),s=Object(f.addStringNoLocale)(Object(f.createThing)(),"http://schema.org/text",c),i=Object(f.addDatetime)(s,v,new Date),o=Object(f.addUrl)(i,w,y),l=Object(f.setThing)(t,o),e.next=7,Object(f.saveSolidDatasetAt)(r,l,{fetch:a.fetch});case 7:u=e.sent,n(u);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),u(i),l("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsx)("form",{className:"todo-form",onSubmit:d,children:Object(m.jsx)(g.a,{id:"todo-input",type:"text",label:"Todo is...",value:i,onChange:function(e){e.preventDefault(),l(e.target.value)},rightSection:Object(m.jsx)(x.a,{className:"add-button",type:"submit",children:"Add Todo"}),rightSectionWidth:100})})},S=(n(185),n(199)),T=n(73),k="http://schema.org/text",C=p.a.created,L=p.a.completed,I=p.a.Vtodo,N=p.b.type;function U(e){var t=e.checked,n=e.handleCheck,c=Object(O.useThing)().thing;return Object(m.jsx)(S.a,{checked:t,style:{textAlign:"center",display:"flex",justifyContent:"center",width:"auto"},onChange:function(){return n(c,t)}})}function A(e){var t=e.deleteTodo,n=Object(O.useThing)().thing;return Object(m.jsx)(x.a,{className:"delete-button",variant:"outline",style:{margin:"4px"},onClick:function(){return t(n)},children:"Delete"})}var P=function(e){var t=e.todoList,n=e.setTodoList,c=t?Object(f.getThingAll)(t):[];c.sort((function(e,t){return null!==Object(f.getDatetime)(e,L)&&null===Object(f.getDatetime)(t,L)?1:null===Object(f.getDatetime)(e,L)&&null!==Object(f.getDatetime)(t,L)||Object(f.getDatetime)(e,C)>Object(f.getDatetime)(t,C)?-1:Object(f.getDatetime)(e,C)<Object(f.getDatetime)(t,C)?1:0}));var a=Object(O.useSession)().fetch,r=function(){var e=Object(j.a)(h.a.mark((function e(c,r){var s,i,o,l,u,d,j;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(f.getSourceUrl)(t),r?(u=Object(f.getDatetime)(c,L),d=Object(f.removeDatetime)(c,L,u),i=Object(f.setThing)(t,d)):(o=new Date,l=Object(f.addDatetime)(c,L,o),i=Object(f.setThing)(t,l)),e.next=4,Object(f.saveSolidDatasetAt)(s,i,{fetch:a});case 4:j=e.sent,n(j);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(j.a)(h.a.mark((function e(c){var r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(f.getSourceUrl)(t),s=Object(f.removeThing)(t,c),e.next=4,Object(f.saveSolidDatasetAt)(r,s,{fetch:a});case 4:i=e.sent,n(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=c.filter((function(e){return Object(f.getUrl)(e,N)===I})).map((function(e){return{dataset:t,thing:e}}));return i.length?Object(m.jsxs)("div",{className:"table-container",children:[Object(m.jsxs)("span",{className:"tasks-message",children:["Your to-do list has ",i.length," items"]}),Object(m.jsxs)(O.Table,{className:"table",things:i,children:[Object(m.jsx)(O.TableColumn,{property:k,header:"To Do",sortable:!0}),Object(m.jsx)(O.TableColumn,{property:C,dataType:"datetime",header:"Created At",body:function(e){var t=e.value;return Object(m.jsx)(T.a,{children:t.toDateString()})},sortable:!0}),Object(m.jsx)(O.TableColumn,{property:L,dataType:"datetime",header:"Done",body:function(e){var t=e.value;return Object(m.jsx)(U,{checked:Boolean(t),handleCheck:r})}}),Object(m.jsx)(O.TableColumn,{property:k,header:"",body:function(){return Object(m.jsx)(A,{deleteTodo:s})}})]})]}):null};function B(e,t){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(h.a.mark((function e(t,n){var c,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(t,"index.ttl"),e.prev=1,e.next=4,Object(f.getSolidDataset)(c,{fetch:n});case 4:return a=e.sent,e.abrupt("return",a);case 8:if(e.prev=8,e.t0=e.catch(1),404!==e.t0.statusCode){e.next=15;break}return e.next=13,Object(f.saveSolidDatasetAt)(c,Object(f.createSolidDataset)(),{fetch:n});case 13:return r=e.sent,e.abrupt("return",r);case 15:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var E=n(200),J=n(201);n(186);var V=function(){var e=Object(O.useSession)().session,t=Object(c.useState)("https://inrupt.net"),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(m.jsx)(J.a,{height:60,padding:"xs",children:e.info.isLoggedIn&&e.info.webId?Object(m.jsx)(O.CombinedDataProvider,{datasetUrl:e.info.webId,thingUrl:e.info.webId,children:Object(m.jsxs)("div",{className:"logged-in",style:{display:"inline-blockz"},children:[Object(m.jsx)("span",{children:"Hello "}),Object(m.jsx)(O.Text,{properties:["http://www.w3.org/2006/vcard/ns#fn","http://xmlns.com/foaf/0.1/name"]}),Object(m.jsx)(O.LogoutButton,{children:Object(m.jsx)(x.a,{variant:"light",children:"Log out"})})]})}):Object(m.jsxs)("div",{className:"message",style:{display:"table"},children:[Object(m.jsxs)("span",{style:{display:"table-cell"},children:["IDP:",Object(m.jsx)(g.a,{className:"oidc-issuer-input ",type:"text",name:"oidcIssuer",list:"providers",value:a,onChange:function(e){r(e.target.value)},style:{width:"200px",display:"inline-block"}})]}),Object(m.jsxs)("datalist",{id:"providers",children:[Object(m.jsx)("option",{value:"https://broker.pod.inrupt.com/"}),Object(m.jsx)("option",{value:"https://inrupt.net/"})]}),Object(m.jsx)(O.LoginButton,{oidcIssuer:a,redirectUrl:window.location.href,authOptions:{clientName:"Solid Todo App"},children:Object(m.jsx)(x.a,{variant:"filled",style:{display:"inline-block"},children:"Log in"})})]})})},Y=(n(187),p.c.storage);var z=function(){var e=Object(O.useSession)().session,t=Object(c.useState)(),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){e&&e.info.isLoggedIn&&Object(j.a)(h.a.mark((function t(){var n,c,a,s,i,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.getSolidDataset)(e.info.webId,{fetch:e.fetch});case 2:return n=t.sent,c=Object(f.getThing)(n,e.info.webId),a=Object(f.getUrlAll)(c,Y),s=a[0],i="".concat(s,"todos/"),t.next=9,B(i,e.fetch);case 9:o=t.sent,r(o);case 11:case"end":return t.stop()}}),t)})))()}),[e,e.info.isLoggedIn]),Object(m.jsx)(E.a,{padding:"md",header:Object(m.jsx)(V,{}),children:e.info.isLoggedIn&&e.info.webId?Object(m.jsx)(O.CombinedDataProvider,{datasetUrl:e.info.webId,thingUrl:e.info.webId,children:Object(m.jsxs)("section",{className:"main-content",children:[Object(m.jsx)(D,{todoList:a,setTodoList:r}),Object(m.jsx)(P,{todoList:a,setTodoList:r})]})}):Object(m.jsx)("div",{children:"You are not logged in"})})};function H(){var e=Object(d.a)(),t=Object(c.useState)(e),n=Object(o.a)(t,2),a=n[0],r=n[1];return Object(m.jsx)(l.a,{colorScheme:a,toggleColorScheme:function(e){return r(e||("dark"===a?"light":"dark"))},children:Object(m.jsx)(u.a,{theme:{colorScheme:a},children:Object(m.jsx)(z,{})})})}s.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O.SessionProvider,{children:Object(m.jsx)(H,{})})}),document.getElementById("root")),i()}},[[189,1,2]]]);
//# sourceMappingURL=main.ab112b68.chunk.js.map