/*! For license information please see main.251ad1ee.js.LICENSE.txt */
!function(){var e={7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3646:function(e,t,r){var n=r(7228);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},8926:function(e){function t(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9100:function(e,t,r){var n=r(9489),i=r(7067);function o(t,r,a){return i()?(e.exports=o=Reflect.construct,e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},3269:function(e,t,r){var n=r(379);e.exports=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,r){var n=r(9754),i=r(7067),o=r(8585);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,r){var n=r(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},430:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},6860:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8206:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,r){var n=r(9713);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},6479:function(e,t,r){var n=r(7316);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7316:function(e){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,r){var n=r(8).default,i=r(1506);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,r){var n=r(2858),i=r(3884),o=r(379),a=r(521);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8551:function(e,t,r){var n=r(2858),i=r(6860),o=r(379),a=r(521);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},319:function(e,t,r){var n=r(3646),i=r(6860),o=r(379),a=r(8206);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},5957:function(e,t,r){var n=r(9754),i=r(9489),o=r(430),a=r(9100);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,r){e.exports=r(1212)},6942:function(e,t,r){"use strict";r.r(t),r.d(t,{CompactEncrypt:function(){return ht},CompactSign:function(){return It},EmbeddedJWK:function(){return yt},EncryptJWT:function(){return tr},FlattenedEncrypt:function(){return pt},FlattenedSign:function(){return jt},GeneralSign:function(){return zt},JOSEAlgNotAllowed:function(){return k},JOSEError:function(){return x},JOSENotSupported:function(){return S},JWEDecryptionFailed:function(){return E},JWEInvalid:function(){return A},JWKInvalid:function(){return P},JWKSInvalid:function(){return R},JWKSMultipleMatchingKeys:function(){return I},JWKSNoMatchingKey:function(){return j},JWSInvalid:function(){return O},JWSSignatureVerificationFailed:function(){return T},JWTClaimValidationFailed:function(){return _},JWTExpired:function(){return F},JWTInvalid:function(){return C},SignJWT:function(){return rr},UnsecuredJWT:function(){return nr},base64UrlDecode:function(){return sr},base64UrlEncode:function(){return ar},calculateThumbprint:function(){return wt},compactDecrypt:function(){return nt},compactVerify:function(){return Ut},createRemoteJWKSet:function(){return At},decodeProtectedHeader:function(){return ur},flattenedDecrypt:function(){return tt},flattenedVerify:function(){return Dt},fromKeyLike:function(){return at},generalDecrypt:function(){return gt},generalVerify:function(){return Kt},generateKeyPair:function(){return hr},generateSecret:function(){return vr},jwtDecrypt:function(){return Yt},jwtVerify:function(){return ir},parseJwk:function(){return ze},random:function(){return mr}});var n=r(885);function i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var o=r(2982),a=r(1413),s=r(5861),u=r(7762),c=r(3144),l=r(5671),f=r(7326),d=r(136),p=r(9388),h=r(8737),g=r(7757),v=r.n(g),y=["ext","key_ops","alg","use"],m=["payload"],b=["encryptedKey"],w=["encryptedKey"],x=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,l.Z)(this,r),(n=t.call(this,e)).code=r.code,n.name=n.constructor.name,Error.captureStackTrace&&Error.captureStackTrace((0,f.Z)(n),n.constructor),n}return(0,c.Z)(r)}((0,h.Z)(Error));x.code="ERR_JOSE_GENERIC";var _=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return(0,l.Z)(this,r),(n=t.call(this,e)).code=r.code,n.claim=i,n.reason=o,n}return(0,c.Z)(r)}(x);_.code="ERR_JWT_CLAIM_VALIDATION_FAILED";var k=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);k.code="ERR_JOSE_ALG_NOT_ALLOWED";var S=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);S.code="ERR_JOSE_NOT_SUPPORTED";var E=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="decryption operation failed",e}return(0,c.Z)(r)}(x);E.code="ERR_JWE_DECRYPTION_FAILED";var A=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);A.code="ERR_JWE_INVALID";var O=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);O.code="ERR_JWS_INVALID";var C=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);C.code="ERR_JWT_INVALID";var P=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);P.code="ERR_JWK_INVALID";var R=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(x);R.code="ERR_JWKS_INVALID";var j=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="no applicable key found in the JSON Web Key Set",e}return(0,c.Z)(r)}(x);j.code="ERR_JWKS_NO_MATCHING_KEY";var I=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="multiple matching keys found in the JSON Web Key Set",e}return(0,c.Z)(r)}(x);I.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var T=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e.message="signature verification failed",e}return(0,c.Z)(r)}(x);T.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";var F=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){var e;return(0,l.Z)(this,r),(e=t.apply(this,arguments)).code=r.code,e}return(0,c.Z)(r)}(_);F.code="ERR_JWT_EXPIRED";var N=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=t.filter(Boolean);if(0===i.length||1===i.length)return!0;var o,a=(0,u.Z)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,c=Object.keys(s);if(n&&0!==n.size)for(var l=0,f=c;l<f.length;l++){var d=f[l];if(n.has(d))return!1;n.add(d)}else n=new Set(c)}}catch(p){a.e(p)}finally{a.f()}return!0};function D(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}var L=new TextEncoder,U=new TextDecoder,M=Math.pow(2,32);function B(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(n),o=0;return t.forEach((function(e){i.set(e,o),o+=e.length})),i}function H(e,t){return B(L.encode(e),new Uint8Array([0]),t)}function z(e,t,r){if(t<0||t>=M)throw new RangeError("value must be >= 0 and <= ".concat(M-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function K(e){var t=Math.floor(e/M),r=e%M,n=new Uint8Array(8);return z(n,t,0),z(n,r,4),n}function W(e){var t=new Uint8Array(4);return z(t,e),t}function V(e){return B(W(e.length),e)}function q(e,t,r,n){return J.apply(this,arguments)}function J(){return J=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Math.ceil((n>>3)/32),s=1;case 2:if(!(s<=o)){e.next=22;break}if((u=new Uint8Array(4+r.length+i.length)).set(W(s)),u.set(r,4),u.set(i,4+r.length),a){e.next=13;break}return e.next=10,t("sha256",u);case 10:a=e.sent,e.next=19;break;case 13:return e.t0=B,e.t1=a,e.next=17,t("sha256",u);case 17:e.t2=e.sent,a=(0,e.t0)(e.t1,e.t2);case 19:s++,e.next=2;break;case 22:return a=a.slice(0,n>>3),e.abrupt("return",a);case 24:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}var Z=function(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;throw new Error("unable to locate global object")}(),G=function(e){var t=e;"string"===typeof t&&(t=L.encode(t));for(var r=[],n=0;n<t.length;n+=32768)r.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return Z.btoa(r.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},Q=function(e){var t=e;t instanceof Uint8Array&&(t=U.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return new Uint8Array(Z.atob(t).split("").map((function(e){return e.charCodeAt(0)})))}catch(r){throw new TypeError("The input to be decoded is not correctly encoded.")}},$=new Map([["A128CBC-HS256",128],["A128GCM",96],["A128GCMKW",96],["A192CBC-HS384",128],["A192GCM",96],["A192GCMKW",96],["A256CBC-HS512",128],["A256GCM",96],["A256GCMKW",96]]),Y=function(e){return function(t){var r=$.get(t);if(!r)throw new S("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}},X=function(e,t){if(t.length<<3!==$.get(e))throw new A("Invalid Initialization Vector length")},ee=Z.crypto;function te(e){return"undefined"!==typeof Z.CryptoKey&&(null!=e&&e instanceof Z.CryptoKey)}var re=function(e,t){var r;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":if(r=parseInt(e.substr(-3),10),!(t instanceof Uint8Array))throw new TypeError("".concat(e," content encryption requires Uint8Array as key input"));break;case"A128GCM":case"A192GCM":case"A256GCM":r=parseInt(e.substr(1,3),10);break;default:throw new S("Content Encryption Algorithm ".concat(e," is not supported either by JOSE or your javascript runtime"))}if(t instanceof Uint8Array){if(t.length<<3!==r)throw new A("Invalid Content Encryption Key length")}else{if(!te(t))throw new TypeError("Invalid Content Encryption Key type");if(t.algorithm.length!==r)throw new A("Invalid Content Encryption Key length")}},ne=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");for(var r=e.length,n=0,i=-1;++i<r;)n|=e[i]^t[i];return 0===n},ie=function(e){for(var t="Key must be ",r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];if(n.length>2){var o=n.pop();t+="one of type ".concat(n.join(", "),", or ").concat(o,".")}else 2===n.length?t+="one of type ".concat(n[0]," or ").concat(n[1],"."):t+="of type ".concat(n[0],".");return null==e?t+=" Received ".concat(e):"function"===typeof e&&e.name?t+=" Received function ".concat(e.name):"object"===typeof e&&null!=e&&e.constructor&&e.constructor.name&&(t+=" Received an instance of ".concat(e.constructor.name)),t};function oe(e,t,r,n,i,o){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(v().mark((function e(t,r,n,i,o,a){var s,u,c,l,f,d,p;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=parseInt(t.substr(1,3),10),e.next=3,ee.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["decrypt"]);case 3:return u=e.sent,e.next=6,ee.subtle.importKey("raw",r.subarray(0,s>>3),{hash:{name:"SHA-".concat(s<<1)},name:"HMAC"},!1,["sign"]);case 6:return c=e.sent,l=B(a,i,n,K(a.length<<3)),e.t0=Uint8Array,e.next=11,ee.subtle.sign("HMAC",c,l);case 11:e.t1=e.sent.slice(0,s>>3),f=new e.t0(e.t1);try{d=ne(o,f)}catch(h){}if(d){e.next=16;break}throw new E;case 16:return e.prev=16,e.t2=Uint8Array,e.next=20,ee.subtle.decrypt({iv:i,name:"AES-CBC"},u,n);case 20:e.t3=e.sent,p=new e.t2(e.t3),e.next=26;break;case 24:e.prev=24,e.t4=e.catch(16);case 26:if(p){e.next=28;break}throw new E;case 28:return e.abrupt("return",p);case 29:case"end":return e.stop()}}),e,null,[[16,24]])})))).apply(this,arguments)}function se(e,t,r,n,i){return ue.apply(this,arguments)}function ue(){return(ue=(0,s.Z)(v().mark((function e(t,r,n,i,o){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=6;break}return e.next=3,ee.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return a=e.t0,e.prev=8,e.t1=Uint8Array,e.next=12,ee.subtle.decrypt({additionalData:o,iv:n,name:"AES-GCM",tagLength:128},a,B(r,i));case 12:return e.t2=e.sent,e.abrupt("return",new e.t1(e.t2));case 16:throw e.prev=16,e.t3=e.catch(8),new E;case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var ce=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i,o,a){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(r)||r instanceof Uint8Array){e.next=2;break}throw new TypeError(ie(r,"CryptoKey","Uint8Array"));case 2:re(t,r),X(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",oe(t,r,n,i,o,a));case 8:return e.abrupt("return",se(r,n,i,o,a));case 9:throw new S("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,a){return e.apply(this,arguments)}}(),le=function(){var e=(0,s.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation, e.g. using the "pako" module.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=(0,s.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new S('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=[{hash:{name:"SHA-256"},name:"HMAC"},!0,["sign"]];function pe(e,t){if(e.algorithm.length!==parseInt(t.substr(1,3),10))throw new TypeError("invalid key size for alg: ".concat(t))}function he(e,t){if(te(e))return e;if(e instanceof Uint8Array)return ee.subtle.importKey("raw",e,"AES-KW",!0,[t]);throw new TypeError(ie(e,"CryptoKey","Uint8Array"))}var ge=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(r,"wrapKey");case 2:return pe(o=e.sent,t),e.next=6,(i=ee.subtle).importKey.apply(i,["raw",n].concat(de));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,ee.subtle.wrapKey("raw",a,o,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ve=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(r,"unwrapKey");case 2:return pe(o=e.sent,t),e.next=6,(i=ee.subtle).unwrapKey.apply(i,["raw",n,o,"AES-KW"].concat(de));case 6:return a=e.sent,e.t0=Uint8Array,e.next=10,ee.subtle.exportKey("raw",a);case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),ye=function(){var e=(0,s.Z)(v().mark((function e(t,r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="SHA-".concat(t.substr(-3)),e.t0=Uint8Array,e.next=4,ee.subtle.digest(n,r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),me=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a,s,u,c=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c.length>4&&void 0!==c[4]?c[4]:new Uint8Array(0),a=c.length>5&&void 0!==c[5]?c[5]:new Uint8Array(0),te(t)){e.next=4;break}throw new TypeError(ie(t,"CryptoKey"));case 4:if(te(r)){e.next=6;break}throw new TypeError(ie(r,"CryptoKey"));case 6:if(s=B(V(L.encode(n)),V(o),V(a),W(i)),r.usages.includes("deriveBits")){e.next=9;break}throw new TypeError('ECDH-ES private key "usages" must include "deriveBits"');case 9:return e.t0=Uint8Array,e.next=12,ee.subtle.deriveBits({name:"ECDH",public:t},r,Math.ceil(parseInt(r.algorithm.namedCurve.substr(-3),10)/8)<<3);case 12:return e.t1=e.sent,u=new e.t0(e.t1),e.abrupt("return",q(ye,u,i,s));case 15:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),be=function(){var e=(0,s.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(t)){e.next=2;break}throw new TypeError(ie(t,"CryptoKey"));case 2:return e.next=4,ee.subtle.generateKey({name:"ECDH",namedCurve:t.algorithm.namedCurve},!0,["deriveBits"]);case 4:return e.abrupt("return",e.sent.privateKey);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(e){if(!te(e))throw new TypeError(ie(e,"CryptoKey"));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)},xe=ee.getRandomValues.bind(ee);function _e(e){if(!(e instanceof Uint8Array)||e.length<8)throw new A("PBES2 Salt Input must be 8 or more octets")}function ke(e){if(e instanceof Uint8Array)return ee.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(te(e))return e;throw new TypeError(ie(e,"CryptoKey","Uint8Array"))}var Se=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a,s,u,c,l,f,d,p=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=p.length>3&&void 0!==p[3]?p[3]:Math.floor(2049*Math.random())+2048,_e(o=p.length>4&&void 0!==p[4]?p[4]:xe(new Uint8Array(16))),a=H(t,o),s=parseInt(t.substr(13,3),10),u={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},c={length:s,name:"AES-KW"},e.next=9,ke(r);case 9:if(!(l=e.sent).usages.includes("deriveBits")){e.next=18;break}return e.t0=Uint8Array,e.next=14,ee.subtle.deriveBits(u,l,s);case 14:e.t1=e.sent,f=new e.t0(e.t1),e.next=25;break;case 18:if(!l.usages.includes("deriveKey")){e.next=24;break}return e.next=21,ee.subtle.deriveKey(u,l,c,!1,["wrapKey"]);case 21:f=e.sent,e.next=25;break;case 24:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 25:return e.next=27,ge(t.substr(-6),f,n);case 27:return d=e.sent,e.abrupt("return",{encryptedKey:d,p2c:i,p2s:G(o)});case 29:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i,o){var a,s,u,c,l,f;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _e(o),a=H(t,o),s=parseInt(t.substr(13,3),10),u={hash:{name:"SHA-".concat(t.substr(8,3))},iterations:i,name:"PBKDF2",salt:a},c={length:s,name:"AES-KW"},e.next=7,ke(r);case 7:if(!(l=e.sent).usages.includes("deriveBits")){e.next=16;break}return e.t0=Uint8Array,e.next=12,ee.subtle.deriveBits(u,l,s);case 12:e.t1=e.sent,f=new e.t0(e.t1),e.next=23;break;case 16:if(!l.usages.includes("deriveKey")){e.next=22;break}return e.next=19,ee.subtle.deriveKey(u,l,c,!1,["unwrapKey"]);case 19:f=e.sent,e.next=23;break;case 22:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 23:return e.abrupt("return",ve(t.substr(-6),f,n));case 24:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}();function Ae(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new S("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var Oe=function(e,t){if(e.startsWith("HS")){var r=parseInt(e.substr(-3),10),n=t.algorithm.length;if("number"!==typeof n||n<r)throw new TypeError("".concat(e," requires symmetric keys to be ").concat(r," bits or larger"))}if(e.startsWith("RS")||e.startsWith("PS")){var i=t.algorithm.modulusLength;if("number"!==typeof i||i<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}},Ce=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(r)){e.next=2;break}throw new TypeError(ie(r,"CryptoKey"));case 2:if(Oe(t,r),!r.usages.includes("encrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,ee.subtle.encrypt(Ae(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("wrapKey")){e.next=18;break}return e.next=12,(i=ee.subtle).importKey.apply(i,["raw",n].concat(de));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,ee.subtle.wrapKey("raw",o,r,Ae(t));case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(r)){e.next=2;break}throw new TypeError(ie(r,"CryptoKey"));case 2:if(Oe(t,r),!r.usages.includes("decrypt")){e.next=9;break}return e.t0=Uint8Array,e.next=7,ee.subtle.decrypt(Ae(t),r,n);case 7:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 9:if(!r.usages.includes("unwrapKey")){e.next=18;break}return e.next=12,(i=ee.subtle).unwrapKey.apply(i,["raw",n,r,Ae(t)].concat(de));case 12:return o=e.sent,e.t2=Uint8Array,e.next=16,ee.subtle.exportKey("raw",o);case 16:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 18:throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation');case 19:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function Re(e,t,r,n,i){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(v().mark((function e(t,r,n,i,o){var a,s,u,c,l,f;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=parseInt(t.substr(1,3),10),e.next=3,ee.subtle.importKey("raw",n.subarray(a>>3),"AES-CBC",!1,["encrypt"]);case 3:return s=e.sent,e.next=6,ee.subtle.importKey("raw",n.subarray(0,a>>3),{hash:{name:"SHA-".concat(a<<1)},name:"HMAC"},!1,["sign"]);case 6:return u=e.sent,e.t0=Uint8Array,e.next=10,ee.subtle.encrypt({iv:i,name:"AES-CBC"},s,r);case 10:return e.t1=e.sent,c=new e.t0(e.t1),l=B(o,i,c,K(o.length<<3)),e.t2=Uint8Array,e.next=16,ee.subtle.sign("HMAC",u,l);case 16:return e.t3=e.sent.slice(0,a>>3),f=new e.t2(e.t3),e.abrupt("return",{ciphertext:c,tag:f});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t,r,n){return Te.apply(this,arguments)}function Te(){return(Te=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Uint8Array)){e.next=6;break}return e.next=3,ee.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=r;case 7:return o=e.t0,e.t1=Uint8Array,e.next=11,ee.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},o,t);case 11:return e.t2=e.sent,a=new e.t1(e.t2),s=a.slice(-16),u=a.slice(0,-16),e.abrupt("return",{ciphertext:u,tag:s});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fe=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i,o){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(ie(n,"CryptoKey","Uint8Array"));case 2:re(t,n),X(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:9;break;case 7:return e.abrupt("return",Re(t,r,n,i,o));case 8:return e.abrupt("return",Ie(r,n,i,o));case 9:throw new S("unsupported JWE Content Encryption Algorithm");case 10:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),Ne=Y(xe),De=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.substr(0,7),i||(i=Ne(o)),e.next=4,Fe(o,n,r,i,new Uint8Array(0));case 4:return a=e.sent,s=a.ciphertext,u=a.tag,e.abrupt("return",{encryptedKey:s,iv:G(i),tag:G(u)});case 8:case"end":return e.stop()}}),e)})));return function(t,r,n,i){return e.apply(this,arguments)}}(),Le=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i,o){var a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.substr(0,7),e.abrupt("return",ce(a,r,n,i,o,new Uint8Array(0)));case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o){return e.apply(this,arguments)}}(),Ue=new Map([["A128CBC-HS256",256],["A128GCM",128],["A192CBC-HS384",384],["A192GCM",192],["A256CBC-HS512",512],["A256GCM",256]]),Me=function(e){return function(t){var r=Ue.get(t);if(!r)throw new S("Unsupported JWE Algorithm: ".concat(t));return e(new Uint8Array(r>>3))}};function Be(e){var t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new S("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(e.alg.substr(-3))}},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(e.alg.substr(-3),10)||1)}},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":case"ES384":case"ES512":t={name:"ECDSA",namedCurve:e.crv},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value')}break;default:throw new S('unsupported or invalid JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var He=function(){var e=(0,s.Z)(v().mark((function e(t){var r,n,i,o,s,u,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Be(t),o=i.algorithm,s=i.keyUsages,u="jwk",delete(c=(0,a.Z)({},t)).alg,"PBKDF2"===o.name&&(u="raw",c=Q(t.k)),e.abrupt("return",ee.subtle.importKey(u,c,o,null!==(r=t.ext)&&void 0!==r&&r,null!==(n=t.key_ops)&&void 0!==n?n:s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ze(e,t,r){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,s.Z)(v().mark((function e(t,r,n){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(r||(r=t.alg),"string"===typeof r&&r){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==n&&void 0!==n||(n=!0!==t.ext),!n){e.next=13;break}return e.abrupt("return",He((0,a.Z)((0,a.Z)({},t),{},{alg:r,ext:!1})));case 13:return e.abrupt("return",Q(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new S('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",He((0,a.Z)((0,a.Z)({},t),{},{alg:r})));case 17:throw new S('unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We=function(e,t,r){if(!(t instanceof Uint8Array)&&!(null===t||void 0===t?void 0:t.type))throw new TypeError(ie(t,"KeyObject","CryptoKey","Uint8Array"));if(e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||e.match(/^A\d{3}(?:GCM)?KW$/)){if(t instanceof Uint8Array||"secret"===t.type)return;throw new TypeError('CryptoKey or KeyObject instances for symmetric algorithms must be of type "secret"')}if(t instanceof Uint8Array)throw new TypeError(ie(t,"KeyObject","CryptoKey"));if("secret"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithms must not be of type "secret"');if("sign"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm signing must be of type "private"');if("decrypt"===r&&"public"===t.type)throw new TypeError('CryptoKey or KeyObject instances for asymmetric algorithm decryption must be of type "private"')};function Ve(e){if(!e)throw new A("JWE Encrypted Key missing")}function qe(e,t,r){if(void 0===e[t])throw new A("JOSE Header ".concat(r," (").concat(t,") missing"))}function Je(e,t,r,n){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a,s,u,c,l,f,d,p;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:We(t,r,"decrypt"),e.t0=t,e.next="dir"===e.t0?4:"ECDH-ES"===e.t0?7:"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?9:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?25:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?27:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?33:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?35:41;break;case 4:if(void 0===n){e.next=6;break}throw new A("Encountered unexpected JWE Encrypted Key");case 6:return e.abrupt("return",r);case 7:if(void 0===n){e.next=9;break}throw new A("Encountered unexpected JWE Encrypted Key");case 9:if(qe(i,"epk","Ephemeral Public Key"),we(r)){e.next=12;break}throw new S("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 12:return e.next=14,ze(i.epk,t);case 14:return o=e.sent,void 0!==i.apu&&(a=Q(i.apu)),void 0!==i.apv&&(s=Q(i.apv)),e.next=19,me(o,r,"ECDH-ES"===t?i.enc:t,parseInt(t.substr(-5,3),10)||Ue.get(i.enc),a,s);case 19:if(u=e.sent,"ECDH-ES"!==t){e.next=22;break}return e.abrupt("return",u);case 22:return Ve(n),c=t.substr(-6),e.abrupt("return",ve(c,u,n));case 25:return Ve(n),e.abrupt("return",Pe(t,r,n));case 27:return Ve(n),qe(i,"p2c","PBES2 Count"),qe(i,"p2s","PBES2 Salt"),l=i.p2c,f=Q(i.p2s),e.abrupt("return",Ee(t,r,n,l,f));case 33:return Ve(n),e.abrupt("return",ve(t,r,n));case 35:return Ve(n),qe(i,"iv","Initialization Vector"),qe(i,"tag","Authentication Tag"),d=Q(i.iv),p=Q(i.tag),e.abrupt("return",Le(t,r,n,d,p));case 41:throw new S('unsupported or invalid "alg" (JWE Algorithm) header value');case 42:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(e,t,r,n,i){if(void 0!==i.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var a;a=void 0!==r?new Map([].concat((0,o.Z)(Object.entries(r)),(0,o.Z)(t.entries()))):t;var s,c=(0,u.Z)(n.crit);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(!a.has(l))throw new S('Extension Header Parameter "'.concat(l,'" is not recognized'));if(void 0===i[l])throw new e('Extension Header Parameter "'.concat(l,'" is missing'));if(a.get(l)&&void 0===n[l])throw new e('Extension Header Parameter "'.concat(l,'" MUST be integrity protected'))}}catch(f){c.e(f)}finally{c.f()}return new Set(n.crit)}var Qe=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)},$e=Me(xe),Ye=Ge.bind(void 0,A,new Map),Xe=Qe.bind(void 0,"keyManagementAlgorithms"),et=Qe.bind(void 0,"contentEncryptionAlgorithms");function tt(e,t,r){return rt.apply(this,arguments)}function rt(){return(rt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,s,u,c,l,f,d,p,h,g,y,m,b,w,x;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t)){e.next=2;break}throw new A("Flattened JWE must be an object");case 2:if(void 0!==t.protected||void 0!==t.header||void 0!==t.unprotected){e.next=4;break}throw new A("JOSE Header missing");case 4:if("string"===typeof t.iv){e.next=6;break}throw new A("JWE Initialization Vector missing or incorrect type");case 6:if("string"===typeof t.ciphertext){e.next=8;break}throw new A("JWE Ciphertext missing or incorrect type");case 8:if("string"===typeof t.tag){e.next=10;break}throw new A("JWE Authentication Tag missing or incorrect type");case 10:if(void 0===t.protected||"string"===typeof t.protected){e.next=12;break}throw new A("JWE Protected Header incorrect type");case 12:if(void 0===t.encrypted_key||"string"===typeof t.encrypted_key){e.next=14;break}throw new A("JWE Encrypted Key incorrect type");case 14:if(void 0===t.aad||"string"===typeof t.aad){e.next=16;break}throw new A("JWE AAD incorrect type");case 16:if(void 0===t.header||D(t.header)){e.next=18;break}throw new A("JWE Shared Unprotected Header incorrect type");case 18:if(void 0===t.unprotected||D(t.unprotected)){e.next=20;break}throw new A("JWE Per-Recipient Unprotected Header incorrect type");case 20:if(!t.protected){e.next=29;break}s=Q(t.protected),e.prev=22,o=JSON.parse(U.decode(s)),e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(22),new A("JWE Protected Header is invalid");case 29:if(N(o,t.header,t.unprotected)){e.next=31;break}throw new A("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");case 31:if(u=(0,a.Z)((0,a.Z)((0,a.Z)({},o),t.header),t.unprotected),Ye(null===n||void 0===n?void 0:n.crit,o,u),void 0===u.zip){e.next=38;break}if(o&&o.zip){e.next=36;break}throw new A('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 36:if("DEF"===u.zip){e.next=38;break}throw new S('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 38:if(c=u.alg,l=u.enc,"string"===typeof c&&c){e.next=41;break}throw new A("missing JWE Algorithm (alg) in JWE Header");case 41:if("string"===typeof l&&l){e.next=43;break}throw new A("missing JWE Encryption Algorithm (enc) in JWE Header");case 43:if(f=n&&Xe(n.keyManagementAlgorithms),d=n&&et(n.contentEncryptionAlgorithms),!f||f.has(c)){e.next=47;break}throw new k('"alg" (Algorithm) Header Parameter not allowed');case 47:if(!d||d.has(l)){e.next=49;break}throw new k('"enc" (Encryption Algorithm) Header Parameter not allowed');case 49:if(void 0!==t.encrypted_key&&(p=Q(t.encrypted_key)),"function"!==typeof r){e.next=54;break}return e.next=53,r(o,t);case 53:r=e.sent;case 54:return e.prev=54,e.next=57,Je(c,r,p,u);case 57:h=e.sent,e.next=65;break;case 60:if(e.prev=60,e.t1=e.catch(54),!(e.t1 instanceof TypeError)){e.next=64;break}throw e.t1;case 64:h=$e(l);case 65:return g=Q(t.iv),y=Q(t.tag),m=L.encode(null!==(i=t.protected)&&void 0!==i?i:""),b=void 0!==t.aad?B(m,L.encode("."),L.encode(t.aad)):m,e.next=71,ce(l,h,Q(t.ciphertext),g,y,b);case 71:if(w=e.sent,"DEF"!==u.zip){e.next=76;break}return e.next=75,((null===n||void 0===n?void 0:n.inflateRaw)||le)(w);case 75:w=e.sent;case 76:return x={plaintext:w},void 0!==t.protected&&(x.protectedHeader=o),void 0!==t.aad&&(x.additionalAuthenticatedData=Q(t.aad)),void 0!==t.unprotected&&(x.sharedUnprotectedHeader=t.unprotected),void 0!==t.header&&(x.unprotectedHeader=t.header),e.abrupt("return",x);case 82:case"end":return e.stop()}}),e,null,[[22,26],[54,60]])})))).apply(this,arguments)}function nt(e,t,r){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a,s,u,c,l;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=U.decode(t)),"string"===typeof t){e.next=3;break}throw new A("Compact JWE must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],s=i[2],u=i[3],c=i[4],5===i.length){e.next=6;break}throw new A("Invalid Compact JWE");case 6:return e.next=8,tt({ciphertext:u||void 0,iv:s||void 0,protected:o||void 0,tag:c||void 0,encrypted_key:a||void 0},r,n);case 8:return l=e.sent,e.abrupt("return",{plaintext:l.plaintext,protectedHeader:l.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ot=function(){var e=(0,s.Z)(v().mark((function e(t){var r,n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:G(t)});case 2:if(te(t)){e.next=4;break}throw new TypeError(ie(t,"CryptoKey","Uint8Array"));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,ee.subtle.exportKey("jwk",t);case 8:return r=e.sent,r.ext,r.key_ops,r.alg,r.use,n=i(r,y),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function at(e){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)(v().mark((function e(t){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ot(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut=Me(xe);function ct(e,t,r,n){return lt.apply(this,arguments)}function lt(){return lt=(0,s.Z)(v().mark((function e(t,r,n,o){var a,s,u,c,l,f,d,p,h,g,y,m,x,_,k,E,A,O,C,P=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=P.length>4&&void 0!==P[4]?P[4]:{},We(t,n,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?38:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?43:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?52:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?57:66;break;case 5:return c=n,e.abrupt("break",67);case 7:if(we(n)){e.next=9;break}throw new S("ECDH-ES with the provided key is not allowed or not supported by your javascript runtime");case 9:if(l=a.apu,f=a.apv,d=a.epk,e.t1=d,e.t1){e.next=16;break}return e.next=15,be(n);case 15:d=e.sent;case 16:return e.next=18,at(d);case 18:return p=e.sent,h=p.x,g=p.y,y=p.crv,m=p.kty,e.next=25,me(n,d,"ECDH-ES"===t?r:t,parseInt(t.substr(-5,3),10)||Ue.get(r),l,f);case 25:if(x=e.sent,u={epk:{x:h,y:g,crv:y,kty:m}},l&&(u.apu=G(l)),f&&(u.apv=G(f)),"ECDH-ES"!==t){e.next=32;break}return c=x,e.abrupt("break",67);case 32:return c=o||ut(r),_=t.substr(-6),e.next=36,ge(_,x,c);case 36:return s=e.sent,e.abrupt("break",67);case 38:return c=o||ut(r),e.next=41,Ce(t,n,c);case 41:return s=e.sent,e.abrupt("break",67);case 43:return c=o||ut(r),k=a.p2c,E=a.p2s,e.next=47,Se(t,n,c,k,E);case 47:return A=e.sent,s=A.encryptedKey,u=i(A,b),e.abrupt("break",67);case 52:return c=o||ut(r),e.next=55,ge(t,n,c);case 55:return s=e.sent,e.abrupt("break",67);case 57:return c=o||ut(r),O=a.iv,e.next=61,De(t,n,c,O);case 61:return C=e.sent,s=C.encryptedKey,u=i(C,w),e.abrupt("break",67);case 66:throw new S('unsupported or invalid "alg" (JWE Algorithm) header value');case 67:return e.abrupt("return",{cek:c,encryptedKey:s,parameters:u});case 68:case"end":return e.stop()}}),e)}))),lt.apply(this,arguments)}var ft=Y(xe),dt=Ge.bind(void 0,A,new Map),pt=function(){function e(t){(0,l.Z)(this,e),this._plaintext=t}return(0,c.Z)(e,[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n,i,o,s,u,c,l,f,d,p,h,g,y,m,b,w;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new A("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(N(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new A("JWE Shared Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(n=(0,a.Z)((0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),dt(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),void 0===n.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new A('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===n.zip){e.next=11;break}throw new S('unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(i=n.alg,o=n.enc,"string"===typeof i&&i){e.next=14;break}throw new A('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"===typeof o&&o){e.next=16;break}throw new A('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==i){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==i){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,ct(i,o,t,this._cek,this._keyManagementParameters);case 26:if(l=e.sent,u=l.cek,s=l.encryptedKey,(c=l.parameters)&&(this._protectedHeader?this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),c):this.setProtectedHeader(c)),this._iv||(this._iv=ft(o)),d=this._protectedHeader?L.encode(G(JSON.stringify(this._protectedHeader))):L.encode(""),this._aad?(p=G(this._aad),f=B(d,L.encode("."),L.encode(p))):f=d,"DEF"!==n.zip){e.next=45;break}return e.next=37,((null===r||void 0===r?void 0:r.deflateRaw)||fe)(this._plaintext);case 37:return y=e.sent,e.next=40,Fe(o,y,u,this._iv,f);case 40:m=e.sent,h=m.ciphertext,g=m.tag,e.next=50;break;case 45:return e.next=47,Fe(o,this._plaintext,u,this._iv,f);case 47:b=e.sent,h=b.ciphertext,g=b.tag;case 50:return w={ciphertext:G(h),iv:G(this._iv),tag:G(g)},s&&(w.encrypted_key=G(s)),p&&(w.aad=p),this._protectedHeader&&(w.protected=U.decode(d)),this._sharedUnprotectedHeader&&(w.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(w.header=this._unprotectedHeader),e.abrupt("return",w);case 57:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),ht=function(){function e(t){(0,l.Z)(this,e),this._flattened=new pt(t)}return(0,c.Z)(e,[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,r);case 2:return n=e.sent,e.abrupt("return",[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();function gt(e,t,r){return vt.apply(this,arguments)}function vt(){return(vt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t)){e.next=2;break}throw new A("General JWE must be an object");case 2:if(Array.isArray(t.recipients)&&t.recipients.every(D)){e.next=4;break}throw new A("JWE Recipients missing or incorrect type");case 4:i=(0,u.Z)(t.recipients),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,tt({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:a.encrypted_key,header:a.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new E;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}function yt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(v().mark((function e(t,r){var n,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D((n=(0,a.Z)((0,a.Z)({},t),r.header)).jwk)){e.next=3;break}throw new O('"jwk" (JSON Web Key) Header Parameter must be a JSON object');case 3:return e.next=5,ze(n.jwk,n.alg,!0);case 5:if("public"===(i=e.sent).type){e.next=8;break}throw new O('"jwk" (JSON Web Key) Header Parameter must be a public key');case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bt=function(e,t){if("string"!==typeof e||!e)throw new P("".concat(t," missing or invalid"))};function wt(e){return xt.apply(this,arguments)}function xt(){return xt=(0,s.Z)(v().mark((function e(t){var r,n,i,o=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:"sha256",D(t)){e.next=3;break}throw new TypeError("JWK must be an object");case 3:e.t0=t.kty,e.next="EC"===e.t0?6:"OKP"===e.t0?11:"RSA"===e.t0?15:"oct"===e.t0?19:22;break;case 6:return bt(t.crv,'"crv" (Curve) Parameter'),bt(t.x,'"x" (X Coordinate) Parameter'),bt(t.y,'"y" (Y Coordinate) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x,y:t.y},e.abrupt("break",23);case 11:return bt(t.crv,'"crv" (Subtype of Key Pair) Parameter'),bt(t.x,'"x" (Public Key) Parameter'),n={crv:t.crv,kty:t.kty,x:t.x},e.abrupt("break",23);case 15:return bt(t.e,'"e" (Exponent) Parameter'),bt(t.n,'"n" (Modulus) Parameter'),n={e:t.e,kty:t.kty,n:t.n},e.abrupt("break",23);case 19:return bt(t.k,'"k" (Key Value) Parameter'),n={k:t.k,kty:t.kty},e.abrupt("break",23);case 22:throw new S('"kty" (Key Type) Parameter missing or unsupported');case 23:return i=L.encode(JSON.stringify(n)),e.t1=G,e.next=27,ye(r,i);case 27:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 29:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}var _t=function(){var e=(0,s.Z)(v().mark((function e(t,r){var n,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"function"===typeof AbortController&&(n=new AbortController,setTimeout((function(){return n.abort()}),r)),e.next=3,Z.fetch(t.href,{signal:n?n.signal:void 0,redirect:"manual",referrerPolicy:"no-referrer",credentials:"omit",mode:"cors",method:"GET"});case 3:if(200===(i=e.sent).status){e.next=6;break}throw new x("Expected 200 OK from the JSON Web Key Set HTTP response");case 6:return e.prev=6,e.next=9,i.json();case 9:return e.abrupt("return",e.sent);case 12:throw e.prev=12,e.t0=e.catch(6),new x("Failed to parse the JSON Web Key Set HTTP response as JSON");case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t,r){return e.apply(this,arguments)}}();function kt(e){switch(e.substr(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new S('Unsupported "alg" value for a JSON Web Key Set')}}function St(e){return D(e)}var Et=function(){function e(t,r){if((0,l.Z)(this,e),this._cached=new WeakMap,!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:null===r||void 0===r?void 0:r.agent},this._timeoutDuration="number"===typeof(null===r||void 0===r?void 0:r.timeoutDuration)?null===r||void 0===r?void 0:r.timeoutDuration:5e3,this._cooldownDuration="number"===typeof(null===r||void 0===r?void 0:r.cooldownDuration)?null===r||void 0===r?void 0:r.cooldownDuration:3e4}return(0,c.Z)(e,[{key:"coolingDown",value:function(){return"undefined"!==typeof this._cooldownStarted&&Date.now()<this._cooldownStarted+this._cooldownDuration}},{key:"getKey",value:function(){var e=(0,s.Z)(v().mark((function e(t){var r,n,i,o,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks){e.next=3;break}return e.next=3,this.reload();case 3:if(r=this._jwks.keys.filter((function(e){var r=e.kty===kt(t.alg);if(r&&"string"===typeof t.kid&&(r=t.kid===e.kid),r&&"string"===typeof e.alg&&(r=t.alg===e.alg),r&&"string"===typeof e.use&&(r="sig"===e.use),r&&Array.isArray(e.key_ops)&&(r=e.key_ops.includes("verify")),r&&"EdDSA"===t.alg&&(r=["Ed25519","Ed448"].includes(e.crv)),r)switch(t.alg){case"ES256":r="P-256"===e.crv;break;case"ES256K":r="secp256k1"===e.crv;break;case"ES384":r="P-384"===e.crv;break;case"ES512":r="P-521"===e.crv}return r})),n=r[0],0!==(i=r.length)){e.next=13;break}if(!1!==this.coolingDown()){e.next=10;break}return e.next=9,this.reload();case 9:return e.abrupt("return",this.getKey(t));case 10:throw new j;case 13:if(1===i){e.next=15;break}throw new I;case 15:if(this._cached.has(n)||this._cached.set(n,{}),void 0!==(o=this._cached.get(n))[t.alg]){e.next=24;break}return e.next=20,ze((0,a.Z)((0,a.Z)({},n),{},{alg:t.alg}));case 20:if("public"===(s=e.sent).type){e.next=23;break}throw new R("JSON Web Key Set members must be public keys");case 23:o[t.alg]=s;case 24:return e.abrupt("return",o[t.alg]);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=(0,s.Z)(v().mark((function e(){var t=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._pendingFetch||(this._pendingFetch=_t(this._url,this._timeoutDuration,this._options).then((function(e){if("object"!==typeof e||!e||!Array.isArray(e.keys)||!e.keys.every(St))throw new R("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._cooldownStarted=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=3,this._pendingFetch;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function At(e,t){var r=new Et(e,t);return r.getKey.bind(r)}function Ot(e){switch(e){case"HS256":return{hash:{name:"SHA-256"},name:"HMAC"};case"HS384":return{hash:{name:"SHA-384"},name:"HMAC"};case"HS512":return{hash:{name:"SHA-512"},name:"HMAC"};case"PS256":return{hash:{name:"SHA-256"},name:"RSA-PSS",saltLength:32};case"PS384":return{hash:{name:"SHA-384"},name:"RSA-PSS",saltLength:48};case"PS512":return{hash:{name:"SHA-512"},name:"RSA-PSS",saltLength:64};case"RS256":return{hash:{name:"SHA-256"},name:"RSASSA-PKCS1-v1_5"};case"RS384":return{hash:{name:"SHA-384"},name:"RSASSA-PKCS1-v1_5"};case"RS512":return{hash:{name:"SHA-512"},name:"RSASSA-PKCS1-v1_5"};case"ES256":return{hash:{name:"SHA-256"},name:"ECDSA",namedCurve:"P-256"};case"ES384":return{hash:{name:"SHA-384"},name:"ECDSA",namedCurve:"P-384"};case"ES512":return{hash:{name:"SHA-512"},name:"ECDSA",namedCurve:"P-521"};default:throw new S("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}function Ct(e,t,r){if(te(t))return t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(ie(t,"CryptoKey"));return ee.subtle.importKey("raw",t,{hash:{name:"SHA-".concat(e.substr(-3))},name:"HMAC"},!1,[r])}throw new TypeError(ie(t,"CryptoKey","Uint8Array"))}var Pt=function(){var e=(0,s.Z)(v().mark((function e(t,r,n){var i,o;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(t,r,"sign");case 2:return i=e.sent,Oe(t,i),e.next=6,ee.subtle.sign(Ot(t),i,n);case 6:return o=e.sent,e.abrupt("return",new Uint8Array(o));case 8:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Rt=Ge.bind(void 0,O,new Map([["b64",!0]])),jt=function(){function e(t){(0,l.Z)(this,e),this._payload=t}return(0,c.Z)(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"sign",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n,i,o,s,u,c,l,f,d;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader){e.next=2;break}throw new O("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");case 2:if(N(this._protectedHeader,this._unprotectedHeader)){e.next=4;break}throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 4:if(n=(0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),i=Rt(null===r||void 0===r?void 0:r.crit,this._protectedHeader,n),o=!0,!i.has("b64")){e.next=11;break}if("boolean"===typeof(o=this._protectedHeader.b64)){e.next=11;break}throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 11:if("string"===typeof(s=n.alg)&&s){e.next=14;break}throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 14:return We(s,t,"sign"),u=this._payload,o&&(u=L.encode(G(u))),c=this._protectedHeader?L.encode(G(JSON.stringify(this._protectedHeader))):L.encode(""),l=B(c,L.encode("."),u),e.next=21,Pt(s,t,l);case 21:return f=e.sent,d={signature:G(f),payload:""},o&&(d.payload=U.decode(u)),this._unprotectedHeader&&(d.header=this._unprotectedHeader),this._protectedHeader&&(d.protected=U.decode(c)),e.abrupt("return",d);case 27:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),It=function(){function e(t){(0,l.Z)(this,e),this._flattened=new jt(t)}return(0,c.Z)(e,[{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"sign",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.sign(t,r);case 2:if(void 0!==(n=e.sent).payload){e.next=5;break}throw new TypeError("use the flattened module for creating JWS with b64: false");case 5:return e.abrupt("return","".concat(n.protected,".").concat(n.payload,".").concat(n.signature));case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}(),Tt=function(){var e=(0,s.Z)(v().mark((function e(t,r,n,i){var o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ct(t,r,"verify");case 2:return o=e.sent,Oe(t,o),a=Ot(t),e.prev=5,e.next=8,ee.subtle.verify(a,o,n,i);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,r,n,i){return e.apply(this,arguments)}}(),Ft=Ge.bind(void 0,O,new Map([["b64",!0]])),Nt=Qe.bind(void 0,"algorithms");function Dt(e,t,r){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,s,u,c,l,f,d,p,h,g,y;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t)){e.next=2;break}throw new O("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new O('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new O("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new O("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new O("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||D(t.header)){e.next=12;break}throw new O("JWS Unprotected Header incorrect type");case 12:if(o={},!t.protected){e.next=22;break}s=Q(t.protected),e.prev=15,o=JSON.parse(U.decode(s)),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(15),new O("JWS Protected Header is invalid");case 22:if(N(o,t.header)){e.next=24;break}throw new O("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 24:if(u=(0,a.Z)((0,a.Z)({},o),t.header),c=Ft(null===n||void 0===n?void 0:n.crit,o,u),l=!0,!c.has("b64")){e.next=31;break}if("boolean"===typeof(l=o.b64)){e.next=31;break}throw new O('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 31:if("string"===typeof(f=u.alg)&&f){e.next=34;break}throw new O('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 34:if(!(d=n&&Nt(n.algorithms))||d.has(f)){e.next=37;break}throw new k('"alg" (Algorithm) Header Parameter not allowed');case 37:if(!l){e.next=42;break}if("string"===typeof t.payload){e.next=40;break}throw new O("JWS Payload must be a string");case 40:e.next=44;break;case 42:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=44;break}throw new O("JWS Payload must be a string or an Uint8Array instance");case 44:if("function"!==typeof r){e.next=48;break}return e.next=47,r(o,t);case 47:r=e.sent;case 48:return We(f,r,"verify"),p=B(L.encode(null!==(i=t.protected)&&void 0!==i?i:""),L.encode("."),"string"===typeof t.payload?L.encode(t.payload):t.payload),h=Q(t.signature),e.next=53,Tt(f,r,h,p);case 53:if(e.sent){e.next=56;break}throw new T;case 56:return g=l?Q(t.payload):"string"===typeof t.payload?L.encode(t.payload):t.payload,y={payload:g},void 0!==t.protected&&(y.protectedHeader=o),void 0!==t.header&&(y.unprotectedHeader=t.header),e.abrupt("return",y);case 61:case"end":return e.stop()}}),e,null,[[15,19]])})))).apply(this,arguments)}function Ut(e,t,r){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a,s,u;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=U.decode(t)),"string"===typeof t){e.next=3;break}throw new O("Compact JWS must be a string or Uint8Array");case 3:if(i=t.split("."),o=i[0],a=i[1],s=i[2],3===i.length){e.next=6;break}throw new O("Invalid Compact JWS");case 6:return e.next=8,Dt({payload:a||void 0,protected:o||void 0,signature:s||void 0},r,n);case 8:return u=e.sent,e.abrupt("return",{payload:u.payload,protectedHeader:u.protectedHeader});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bt=new WeakMap,Ht=function(){function e(){(0,l.Z)(this,e)}return(0,c.Z)(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"_protectedHeader",get:function(){return Bt.get(this).protectedHeader},set:function(e){Bt.get(this).protectedHeader=e}},{key:"_unprotectedHeader",get:function(){return Bt.get(this).unprotectedHeader},set:function(e){Bt.get(this).unprotectedHeader=e}}]),e}(),zt=function(){function e(t){(0,l.Z)(this,e),this._signatures=[],this._payload=t}return(0,c.Z)(e,[{key:"addSignature",value:function(e,t){var r=new Ht;return Bt.set(r,{key:e,options:t}),this._signatures.push(r),r}},{key:"sign",value:function(){var e=(0,s.Z)(v().mark((function e(){var t,r,n=this;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signatures.length){e.next=2;break}throw new O("at least one signature must be added");case 2:return t={signatures:[],payload:""},r=new Set,e.next=6,Promise.all(this._signatures.map(function(){var e=(0,s.Z)(v().mark((function e(o){var a,s,u,c,l,f,d,p,h;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Bt.get(o),s=a.protectedHeader,u=a.unprotectedHeader,c=a.options,l=a.key,f=new jt(n._payload),s&&f.setProtectedHeader(s),u&&f.setUnprotectedHeader(u),e.next=6,f.sign(l,c);case 6:d=e.sent,p=d.payload,h=i(d,m),r.add(p),t.payload=p,t.signatures.push(h);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:if(1===r.size){e.next=8;break}throw new O("inconsistent use of JWS Unencoded Payload Option (RFC7797)");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Kt(e,t,r){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(t)){e.next=2;break}throw new O("General JWS must be an object");case 2:if(Array.isArray(t.signatures)&&t.signatures.every(D)){e.next=4;break}throw new O("JWS Signatures missing or incorrect type");case 4:i=(0,u.Z)(t.signatures),e.prev=5,i.s();case 7:if((o=i.n()).done){e.next=19;break}return a=o.value,e.prev=9,e.next=12,Dt({header:a.header,payload:t.payload,protected:a.protected,signature:a.signature},r,n);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new T;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}var Vt=function(e){return Math.floor(e.getTime()/1e3)},qt=86400,Jt=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,Zt=function(e){var t=Jt.exec(e);if(!t)throw new TypeError("Invalid time period format");var r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(r*qt);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},Gt=function(e){return e.toLowerCase().replace(/^application\//,"")},Qt=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},$t=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.typ;if(i&&("string"!==typeof e.typ||Gt(e.typ)!==Gt(i)))throw new _('unexpected "typ" JWT header value',"typ","check_failed");try{r=JSON.parse(U.decode(t))}catch(p){}if(!D(r))throw new C("JWT Claims Set must be a top-level JSON object");var o=n.issuer;if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new _('unexpected "iss" claim value',"iss","check_failed");var a=n.subject;if(a&&r.sub!==a)throw new _('unexpected "sub" claim value',"sub","check_failed");var s,u=n.audience;if(u&&!Qt(r.aud,"string"===typeof u?[u]:u))throw new _('unexpected "aud" claim value',"aud","check_failed");switch(typeof n.clockTolerance){case"string":s=Zt(n.clockTolerance);break;case"number":s=n.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var c=n.currentDate,l=Vt(c||new Date);if(void 0!==r.iat||n.maxTokenAge){if("number"!==typeof r.iat)throw new _('"iat" claim must be a number',"iat","invalid");if(void 0===r.exp&&r.iat>l+s)throw new _('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}if(void 0!==r.nbf){if("number"!==typeof r.nbf)throw new _('"nbf" claim must be a number',"nbf","invalid");if(r.nbf>l+s)throw new _('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==r.exp){if("number"!==typeof r.exp)throw new _('"exp" claim must be a number',"exp","invalid");if(r.exp<=l-s)throw new F('"exp" claim timestamp check failed',"exp","check_failed")}if(n.maxTokenAge){var f=l-r.iat,d="number"===typeof n.maxTokenAge?n.maxTokenAge:Zt(n.maxTokenAge);if(f-s>d)throw new F('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(f<0-s)throw new _('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return r};function Yt(e,t,r){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt(t,r,n);case 2:if(i=e.sent,o=$t(i.protectedHeader,i.plaintext,n),void 0===(a=i.protectedHeader).iss||a.iss===o.iss){e.next=7;break}throw new _('replicated "iss" claim header parameter mismatch',"iss","mismatch");case 7:if(void 0===a.sub||a.sub===o.sub){e.next=9;break}throw new _('replicated "sub" claim header parameter mismatch',"sub","mismatch");case 9:if(void 0===a.aud||JSON.stringify(a.aud)===JSON.stringify(o.aud)){e.next=11;break}throw new _('replicated "aud" claim header parameter mismatch',"aud","mismatch");case 11:return e.abrupt("return",{payload:o,protectedHeader:a});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var er=function(){function e(t){if((0,l.Z)(this,e),!D(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}return(0,c.Z)(e,[{key:"setIssuer",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{iss:e}),this}},{key:"setSubject",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{sub:e}),this}},{key:"setAudience",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{aud:e}),this}},{key:"setJti",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{jti:e}),this}},{key:"setNotBefore",value:function(e){return this._payload="number"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{nbf:e}):(0,a.Z)((0,a.Z)({},this._payload),{},{nbf:Vt(new Date)+Zt(e)}),this}},{key:"setExpirationTime",value:function(e){return this._payload="number"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{exp:e}):(0,a.Z)((0,a.Z)({},this._payload),{},{exp:Vt(new Date)+Zt(e)}),this}},{key:"setIssuedAt",value:function(e){return this._payload="undefined"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{iat:Vt(new Date)}):(0,a.Z)((0,a.Z)({},this._payload),{},{iat:e}),this}}]),e}(),tr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,l.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"replicateIssuerAsHeader",value:function(){return this._replicateIssuerAsHeader=!0,this}},{key:"replicateSubjectAsHeader",value:function(){return this._replicateSubjectAsHeader=!0,this}},{key:"replicateAudienceAsHeader",value:function(){return this._replicateAudienceAsHeader=!0,this}},{key:"encrypt",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ht(L.encode(JSON.stringify(this._payload))),this._replicateIssuerAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{iss:this._payload.iss})),this._replicateSubjectAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{sub:this._payload.sub})),this._replicateAudienceAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{aud:this._payload.aud})),n.setProtectedHeader(this._protectedHeader),this._iv&&n.setInitializationVector(this._iv),this._cek&&n.setContentEncryptionKey(this._cek),this._keyManagementParameters&&n.setKeyManagementParameters(this._keyManagementParameters),e.abrupt("return",n.encrypt(t,r));case 9:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(er),rr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,l.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"setProtectedHeader",value:function(e){return this._protectedHeader=e,this}},{key:"sign",value:function(){var e=(0,s.Z)(v().mark((function e(t,r){var n,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new It(L.encode(JSON.stringify(this._payload)))).setProtectedHeader(this._protectedHeader),!Array.isArray(null===(n=this._protectedHeader)||void 0===n?void 0:n.crit)||!this._protectedHeader.crit.includes("b64")||!1!==this._protectedHeader.b64){e.next=4;break}throw new C("JWTs MUST NOT use unencoded payload");case 4:return e.abrupt("return",i.sign(t,r));case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(er),nr=function(e){(0,d.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,l.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"encode",value:function(){var e=G(JSON.stringify({alg:"none"})),t=G(JSON.stringify(this._payload));return"".concat(e,".").concat(t,".")}}],[{key:"decode",value:function(e,t){if("string"!==typeof e)throw new C("Unsecured JWT must be a string");var r,n=e.split("."),i=n[0],o=n[1],a=n[2];if(3!==n.length||""!==a)throw new C("Invalid Unsecured JWT");try{if("none"!==(r=JSON.parse(U.decode(Q(i)))).alg)throw new Error}catch(s){throw new C("Invalid Unsecured JWT")}return{payload:$t(r,Q(o),t),header:r}}}]),r}(er);function ir(e,t,r){return or.apply(this,arguments)}function or(){return(or=(0,s.Z)(v().mark((function e(t,r,n){var i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ut(t,r,n);case 2:if(o=e.sent,!(null===(i=o.protectedHeader.crit)||void 0===i?void 0:i.includes("b64"))||!1!==o.protectedHeader.b64){e.next=5;break}throw new C("JWTs MUST NOT use unencoded payload");case 5:return a=$t(o.protectedHeader,o.payload,n),e.abrupt("return",{payload:a,protectedHeader:o.protectedHeader});case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ar=G,sr=Q;function ur(e){var t;if("string"===typeof e){var r=e.split(".");if(3===r.length||5===r.length)t=(0,n.Z)(r,1)[0]}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;var i=JSON.parse(U.decode(sr(t)));if(!D(i))throw new Error;return i}catch(o){throw new TypeError("Invalid Token or Protected Header formatting")}}function cr(e,t){return lr.apply(this,arguments)}function lr(){return(lr=(0,s.Z)(v().mark((function e(t,r){var n,i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="HS256"===e.t0||"HS384"===e.t0||"HS512"===e.t0?3:"A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?9:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0||"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?13:17;break;case 3:return i=parseInt(t.substr(-3),10),o={name:"HMAC",hash:{name:"SHA-".concat(i)},length:i},a=["sign","verify"],e.abrupt("break",18);case 7:return i=parseInt(t.substr(-3),10),e.abrupt("return",xe(new Uint8Array(i>>3)));case 9:return i=parseInt(t.substring(1,4),10),o={name:"AES-KW",length:i},a=["wrapKey","unwrapKey"],e.abrupt("break",18);case 13:return i=parseInt(t.substring(1,4),10),o={name:"AES-GCM",length:i},a=["encrypt","decrypt"],e.abrupt("break",18);case 17:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 18:return e.abrupt("return",ee.subtle.generateKey(o,null!==(n=null===r||void 0===r?void 0:r.extractable)&&void 0!==n&&n,a));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fr(e){var t,r=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof r||r<2048)throw new S("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}function dr(e,t){return pr.apply(this,arguments)}function pr(){return(pr=(0,s.Z)(v().mark((function e(t,r){var n,i,o,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?3:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?6:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?9:"ES256"===e.t0?12:"ES384"===e.t0?15:"ES512"===e.t0?18:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?21:24;break;case 3:return o={name:"RSA-PSS",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:fr(r)},a=["sign","verify"],e.abrupt("break",25);case 6:return o={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-".concat(t.substr(-3))},publicExponent:new Uint8Array([1,0,1]),modulusLength:fr(r)},a=["sign","verify"],e.abrupt("break",25);case 9:return o={name:"RSA-OAEP",hash:{name:"SHA-".concat(parseInt(t.substr(-3),10)||1)},publicExponent:new Uint8Array([1,0,1]),modulusLength:fr(r)},a=["decrypt","unwrapKey","encrypt","wrapKey"],e.abrupt("break",25);case 12:return o={name:"ECDSA",namedCurve:"P-256"},a=["sign","verify"],e.abrupt("break",25);case 15:return o={name:"ECDSA",namedCurve:"P-384"},a=["sign","verify"],e.abrupt("break",25);case 18:return o={name:"ECDSA",namedCurve:"P-521"},a=["sign","verify"],e.abrupt("break",25);case 21:return o={name:"ECDH",namedCurve:null!==(n=null===r||void 0===r?void 0:r.crv)&&void 0!==n?n:"P-256"},a=["deriveKey","deriveBits"],e.abrupt("break",25);case 24:throw new S('unsupported or invalid JWK "alg" (Algorithm) Parameter value');case 25:return e.abrupt("return",ee.subtle.generateKey(o,null!==(i=null===r||void 0===r?void 0:r.extractable)&&void 0!==i&&i,a));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=(0,s.Z)(v().mark((function e(t,r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dr(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vr(e,t){return yr.apply(this,arguments)}function yr(){return(yr=(0,s.Z)(v().mark((function e(t,r){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cr(t,r));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mr=xe},2278:function(e,t,r){"use strict";r.r(t),r.d(t,{CordovaIFrameNavigator:function(){return s.CordovaIFrameNavigator},CordovaPopupNavigator:function(){return s.CordovaPopupNavigator},InMemoryWebStorage:function(){return s.InMemoryWebStorage},Log:function(){return s.Log},OidcClient:function(){return s.OidcClient},SessionMonitor:function(){return s.SessionMonitor},User:function(){return s.User},UserManager:function(){return s.UserManager},Version:function(){return s.Version},WebStorageStateStore:function(){return s.WebStorageStateStore},clearOidcPersistentStorage:function(){return O},getBearerToken:function(){return w},getDpopToken:function(){return _},refresh:function(){return S},registerClient:function(){return d},removeOidcQueryParam:function(){return A}});var n=r(1413),i=r(5861),o=r(7757),a=r.n(o),s=r(9575),u=r(9999),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.sorted,n=t.skipIndex,i=t.ignorenull,o=t.skipBracket,a=t.useDot,s=t.whitespace,u=void 0===s?"+":s,c=function(e){return String(e).replace(/(?:(?![ !'-\*~])[\s\S])/g,encodeURIComponent).replace(/ /g,u).replace(/[!'()~*]/g,(function(e){return"%".concat(e.charCodeAt().toString(16).slice(-2).toUpperCase())}))},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(e);return r?t.sort():t},f=function(e){return e.filter((function(e){return e})).join("&")},d=function(e,t){return f(l(t).map((function(r){return g(a?"".concat(e,".").concat(r):"".concat(e,"[").concat(r,"]"),t[r])})))},p=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o?"":"[]";return t.length?f(t.map((function(t,i){return g(n?e+r:e+"["+i+"]",t)}))):c(e+r)},h=function(e,t){return f(Array.from(t).map((function(t){return g(e,t)})))},g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:typeof t,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return t===n?n=i?n:c(e)+"="+n:/string|number|boolean/.test(r)?n=c(e)+"="+c(t):Array.isArray(t)?n=p(e,t):t instanceof Set?n=h(e,t):"object"===r&&(n=d(e,t)),n};return e&&f(l(e).map((function(t){return g(t,e[t])})))};function l(e,t){var r,n,i,o;if("invalid_redirect_uri"===e.error)throw new Error("Dynamic client registration failed: the provided redirect uri [".concat(null===(r=t.redirectUrl)||void 0===r?void 0:r.toString(),"] is invalid - ").concat(null!==(n=e.error_description)&&void 0!==n?n:""));if("invalid_client_metadata"===e.error)throw new Error("Dynamic client registration failed: the provided client metadata ".concat(JSON.stringify(t)," is invalid - ").concat(null!==(i=e.error_description)&&void 0!==i?i:""));throw new Error("Dynamic client registration failed: ".concat(e.error," - ").concat(null!==(o=e.error_description)&&void 0!==o?o:""))}function f(e,t){if(void 0===e.client_id)throw new Error("Dynamic client registration failed: no client_id has been found on ".concat(JSON.stringify(e)));if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error("Dynamic client registration failed: the returned redirect URIs ".concat(JSON.stringify(e.redirect_uris)," don't match the provided ").concat(JSON.stringify([t.redirectUrl.toString()])))}function d(e,t){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function e(t,r){var n,i,o,s,c,d;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.registrationEndpoint){e.next=2;break}throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");case 2:if(Array.isArray(r.idTokenSigningAlgValuesSupported)){e.next=4;break}throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");case 4:return i=(0,u.determineSigningAlg)(r.idTokenSigningAlgValuesSupported,u.PREFERRED_SIGNING_ALG),o={client_name:t.clientName,application_type:"web",redirect_uris:[null===(n=t.redirectUrl)||void 0===n?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:i,grant_types:["authorization_code","refresh_token"]},s={"Content-Type":"application/json"},t.registrationAccessToken&&(s.Authorization="Bearer ".concat(t.registrationAccessToken)),e.next=10,fetch(r.registrationEndpoint.toString(),{method:"POST",headers:s,body:JSON.stringify(o)});case 10:if(!(c=e.sent).ok){e.next=17;break}return e.next=14,c.json();case 14:return f(d=e.sent,t),e.abrupt("return",{clientId:d.client_id,clientSecret:d.client_secret,idTokenSignedResponseAlg:d.id_token_signed_response_alg,clientType:"dynamic"});case 17:if(400!==c.status){e.next=24;break}return e.t0=l,e.next=21,c.json();case 21:e.t1=e.sent,e.t2=t,(0,e.t0)(e.t1,e.t2);case 24:return e.t3=Error,e.t4="Dynamic client registration failed: the server returned ".concat(c.status," ").concat(c.statusText," - "),e.next=28,c.text();case 28:throw e.t5=e.sent,e.t6=e.t4.concat.call(e.t4,e.t5),new e.t3(e.t6);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return void 0!==e.error_description&&"string"===typeof e.error_description}function g(e){return void 0!==e.refresh_token&&"string"===typeof e.refresh_token}function v(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error("The issuer [".concat(e.issuer,"] does not support the [").concat(t.grantType,"] grant"));if(!e.tokenEndpoint)throw new Error("This issuer [".concat(e.issuer,"] does not have a token endpoint"))}function y(e,t){if(void 0!==(r=e).error&&"string"===typeof r.error)throw new u.OidcProviderError("Token endpoint returned error [".concat(e.error,"]").concat(h(e)?": ".concat(e.error_description):"").concat(function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?" (see ".concat(e.error_uri,")"):""),e.error,h(e)?e.error_description:void 0);var r;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new u.InvalidResponseError(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new u.InvalidResponseError(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new u.InvalidResponseError(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new u.InvalidResponseError(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error("Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [".concat(e.token_type,"]."));return e}function m(e,t,r,n){return b.apply(this,arguments)}function b(){return(b=(0,i.Z)(a().mark((function e(t,r,n,i){var o,s,l,f,d,p,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(t,n),o={"content-type":"application/x-www-form-urlencoded"},!i){e.next=9;break}return e.next=5,(0,u.generateDpopKeyPair)();case 5:return s=e.sent,e.next=8,(0,u.createDpopHeader)(t.tokenEndpoint,"POST",s);case 8:o.DPoP=e.sent;case 9:return r.clientSecret&&(o.Authorization="Basic ".concat(btoa("".concat(r.clientId,":").concat(r.clientSecret)))),l={method:"POST",headers:o,body:c({grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:r.clientId})},e.next=13,fetch(t.tokenEndpoint,l);case 13:return e.next=15,e.sent;case 15:return f=e.sent,e.next=18,f.json();case 18:return d=e.sent,p=y(d,i),e.next=22,(0,u.getWebidFromTokenPayload)(p.id_token,t.jwksUri,t.issuer,r.clientId);case 22:return h=e.sent,e.abrupt("return",{accessToken:p.access_token,idToken:p.id_token,refreshToken:g(p)?p.refresh_token:void 0,webId:h,dpopKey:s,expiresIn:p.expires_in});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return x.apply(this,arguments)}function x(){return(x=(0,i.Z)(a().mark((function e(t){var r,n,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new s.OidcClient({response_mode:"query",loadUserInfo:!1}),e.next=4,n.processSigninResponse(t);case 4:if(r=e.sent,void 0!==n.settings.metadata){e.next=7;break}throw new Error("Cannot retrieve issuer metadata from client information in storage.");case 7:if(void 0!==n.settings.metadata.jwks_uri){e.next=9;break}throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");case 9:if(void 0!==n.settings.metadata.issuer){e.next=11;break}throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");case 11:if(void 0!==n.settings.client_id){e.next=13;break}throw new Error("Missing some client information in storage: 'client_id' is undefined");case 13:return e.next=15,(0,u.getWebidFromTokenPayload)(r.id_token,n.settings.metadata.jwks_uri,n.settings.metadata.issuer,n.settings.client_id);case 15:return i=e.sent,e.abrupt("return",{accessToken:r.access_token,idToken:r.id_token,webId:i,refreshToken:r.refresh_token});case 19:throw e.prev=19,e.t0=e.catch(0),new Error("Problem handling Auth Code Grant (Flow) redirect - URL [".concat(t,"]: ").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function _(e,t,r){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)(a().mark((function e(t,r,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m(t,r,n,!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r,n){return E.apply(this,arguments)}function E(){return(E=(0,i.Z)(a().mark((function e(t,r,i,o){var s,l,f,d,p,h,g;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s={grant_type:"refresh_token",refresh_token:t,scope:"openid offline_access"},l={},void 0===o){e.next=7;break}return e.next=5,(0,u.createDpopHeader)(r.tokenEndpoint,"POST",o);case 5:e.t0=e.sent,l={DPoP:e.t0};case 7:return f={},void 0!==i.clientSecret&&(f={Authorization:"Basic ".concat(btoa("".concat(i.clientId,":").concat(i.clientSecret)))}),e.next=11,fetch(r.tokenEndpoint,{method:"POST",body:c(s),headers:(0,n.Z)((0,n.Z)((0,n.Z)({},l),f),{},{"Content-Type":"application/x-www-form-urlencoded"})});case 11:return d=e.sent,e.prev=12,e.next=15,d.json();case 15:p=e.sent,e.next=21;break;case 18:throw e.prev=18,e.t1=e.catch(12),new Error("The token endpoint of issuer ".concat(r.issuer," returned a malformed response."));case 21:return h=y(p,void 0!==o),e.next=24,(0,u.getWebidFromTokenPayload)(h.id_token,r.jwksUri,r.issuer,i.clientId);case 24:return g=e.sent,e.abrupt("return",{accessToken:h.access_token,idToken:h.id_token,refreshToken:"string"===typeof h.refresh_token?h.refresh_token:void 0,webId:g,dpopKey:o,expiresIn:h.expires_in});case 26:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function A(e){var t=new URL(e);return t.searchParams.delete("code"),t.searchParams.delete("state"),t.hash="",t.toString()}function O(){return C.apply(this,arguments)}function C(){return(C=(0,i.Z)(a().mark((function e(){var t,r,n,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new s.OidcClient({response_mode:"query"}),e.next=3,t.clearStaleState(new s.WebStorageStateStore({}));case 3:for(r=window.localStorage,n=[],i=0;i<=r.length;i+=1)(o=r.key(i))&&(o.match(/^oidc\..+$/)||o.match(/^solidClientAuthenticationUser:.+$/))&&n.push(o);n.forEach((function(e){return r.removeItem(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},8215:function(e,t,r){"use strict";var n=r(7757),i=r(1109).default,o=r(8926).default,a=r(3913).default,s=r(4575).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(9999),c=r(2278),l=r(6942),f=r(5634),d=function(e,t){return window.fetch(e,t)},p=a((function e(t,r,a,p,h){var g=this;s(this,e),this.loginHandler=t,this.redirectHandler=r,this.logoutHandler=a,this.sessionInfoManager=p,this.issuerConfigFetcher=h,this.login=function(){var e=o(n.mark((function e(t,r){var o,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.sessionInfoManager.clear(t.sessionId);case 2:return s=c.removeOidcQueryParam(null!==(o=t.redirectUrl)&&void 0!==o?o:window.location.href),e.next=5,g.loginHandler.handle(i(i({},t),{},{redirectUrl:s,clientName:null!==(a=t.clientName)&&void 0!==a?a:t.clientId,eventEmitter:r}));case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),this.fetch=d,this.logout=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.logoutHandler.handle(t);case 2:g.fetch=d;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSessionInfo=function(){var e=o(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSessionInfo=o(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.sessionInfoManager.getAll());case 1:case"end":return e.stop()}}),e)}))),this.validateCurrentSession=o(n.mark((function e(){var t,r,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.localStorage.getItem(f.KEY_CURRENT_SESSION))){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,g.sessionInfoManager.get(t);case 5:if(void 0!==(r=e.sent)&&void 0!==r.idToken&&void 0!==r.clientAppId&&void 0!==r.issuer){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,g.issuerConfigFetcher.fetchConfig(r.issuer);case 10:return i=e.sent,e.prev=11,e.next=14,u.fetchJwks(i.jwksUri,i.issuer);case 14:return o=e.sent,e.t0=l,e.t1=r.idToken,e.next=19,l.parseJwk(o);case 19:return e.t2=e.sent,e.t3={audience:r.clientAppId,issuer:i.issuer},e.next=23,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 23:return e.abrupt("return",r);case 26:e.prev=26,e.t4=e.catch(11);case 28:return e.abrupt("return",null);case 29:case"end":return e.stop()}}),e,null,[[11,26]])}))),this.handleIncomingRedirect=function(){var e=o(n.mark((function e(t,r){var i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.redirectHandler.handle(t,r);case 2:return i=e.sent,g.fetch=i.fetch.bind(window),(o=new URL(t)).searchParams.delete("state"),o.searchParams.delete("code"),o.searchParams.delete("id_token"),o.searchParams.delete("access_token"),o.searchParams.delete("error"),o.searchParams.delete("error_description"),window.history.replaceState(null,"",o.toString()),e.abrupt("return",{isLoggedIn:i.isLoggedIn,webId:i.webId,sessionId:i.sessionId,expirationDate:i.expirationDate});case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}));t.default=p},6133:function(e,t,r){"use strict";var n=r(7757),i=r(1109).default,o=r(4575).default,a=r(3913).default,s=r(1506).default,u=r(2205).default,c=r(9842).default,l=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.silentlyAuthenticate=void 0;var f=r(7708),d=r(9999),p=r(496),h=r(3921),g=r(5634),v=r(2388);function y(e,t){return m.apply(this,arguments)}function m(){return m=l(n.mark((function e(t,r){var i,o,a,s,u=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{inIframe:!1},o=u.length>3?u[3]:void 0,e.next=4,r.validateCurrentSession();case 4:if(null===(s=e.sent)){e.next=10;break}return window.localStorage.setItem(g.KEY_CURRENT_URL,window.location.href),e.next=9,r.login({sessionId:t,prompt:"none",oidcIssuer:s.issuer,redirectUrl:s.redirectUrl,clientId:s.clientAppId,clientSecret:s.clientAppSecret,tokenType:null!==(a=s.tokenType)&&void 0!==a?a:"DPoP",inIframe:i.inIframe},o);case 9:return e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function b(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}t.silentlyAuthenticate=y;var w=function(e){u(r,e);var t=c(r);function r(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0;return o(this,r),(e=t.call(this)).tokenRequestInProgress=!1,e.tmpFetchWithCookies=!1,e.login=function(){var t=l(n.mark((function t(r){var o;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.login(i(i({sessionId:e.info.sessionId},r),{},{tokenType:null!==(o=r.tokenType)&&void 0!==o?o:"DPoP"}),s(e));case 2:return t.abrupt("return",new Promise((function(){})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetch=function(){var t=l(n.mark((function t(r,o){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.clientAuthentication.fetch(r,i(i({},o),{},{credentials:e.tmpFetchWithCookies?"include":null===o||void 0===o?void 0:o.credentials})));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.logout=l(n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.logout(e.info.sessionId);case 2:e.info.isLoggedIn=!1,e.tmpFetchWithCookies=!1,e.emit("logout");case 5:case"end":return t.stop()}}),t)}))),e.handleIncomingRedirect=l(n.mark((function t(){var r,i,o,a,u,c,l,f,d,p,h,m,w,x,_=arguments;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=_.length>0&&void 0!==_[0]?_[0]:{},!e.info.isLoggedIn){t.next=3;break}return t.abrupt("return",e.info);case 3:if(!e.tokenRequestInProgress){t.next=5;break}return t.abrupt("return",void 0);case 5:if(a=null!==(i=(o="string"===typeof r?{url:r}:r).url)&&void 0!==i?i:window.location.href,null===window.frameElement){t.next=10;break}return v.postRedirectUrlToParent(a),t.abrupt("return",void 0);case 10:if(!0!==o.useEssSession||!0===o.restorePreviousSession?window.localStorage.setItem("tmp-resource-server-session-enabled","false"):window.localStorage.setItem("tmp-resource-server-session-enabled","true"),"string"!==typeof(u=window.localStorage.getItem("tmp-resource-server-session-info"))||!0===o.restorePreviousSession||!0!==o.useEssSession){t.next=25;break}if(c=function(e){var t,r=Object.keys(null!==(t=e.sessions)&&void 0!==t?t:{});return"string"===typeof e.webId&&r.length>0&&"number"===typeof e.sessions[r[0]].expiration},l=JSON.parse(u),!c(l)){t.next=25;break}if(f=Object.keys(l.sessions),d=new URL(l.webId).hostname,p=f.find((function(e){return new URL(e).hostname===d})),h=null!==p&&void 0!==p?p:f[0],!(l.sessions[h].expiration-Date.now()>3e5)){t.next=25;break}return e.info.isLoggedIn=!0,e.info.webId=l.webId,e.tmpFetchWithCookies=!0,t.abrupt("return",e.info);case 25:return e.tokenRequestInProgress=!0,t.next=28,e.clientAuthentication.handleIncomingRedirect(a,s(e));case 28:if(!b(m=t.sent)){t.next=35;break}e.setSessionInfo(m),null===(w=window.localStorage.getItem(g.KEY_CURRENT_URL))?e.emit("login"):(window.localStorage.removeItem(g.KEY_CURRENT_URL),e.emit("sessionRestore",w)),t.next=43;break;case 35:if(!0!==o.restorePreviousSession){t.next=43;break}if(null===(x=window.localStorage.getItem(g.KEY_CURRENT_SESSION))){t.next=43;break}return t.next=40,y(x,e.clientAuthentication,void 0,s(e));case 40:if(!t.sent){t.next=43;break}return t.abrupt("return",new Promise((function(){})));case 43:return e.tokenRequestInProgress=!1,t.abrupt("return",m);case 45:case"end":return t.stop()}}),t)}))),a.clientAuthentication?e.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?e.clientAuthentication=h.getClientAuthenticationWithDependencies({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):e.clientAuthentication=h.getClientAuthenticationWithDependencies({}),a.sessionInfo?e.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:e.info={sessionId:null!==u&&void 0!==u?u:p.v4(),isLoggedIn:!1},v.setupIframeListener(function(){var t=l(n.mark((function t(r){var i;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.handleIncomingRedirect(r,s(e));case 2:if(b(i=t.sent)){t.next=5;break}return t.abrupt("return");case 5:e.setSessionInfo(i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.on("tokenRenewal",(function(){return y(e.info.sessionId,e.clientAuthentication,{inIframe:!0},s(e))})),e}return a(r,[{key:"onLogin",value:function(e){this.on("login",e)}},{key:"onLogout",value:function(e){this.on("logout",e)}},{key:"onError",value:function(e){this.on(d.EVENTS.ERROR,e)}},{key:"onSessionRestore",value:function(e){this.on("sessionRestore",e)}},{key:"onSessionExpiration",value:function(e){this.on(d.EVENTS.SESSION_EXPIRED,e)}},{key:"setSessionInfo",value:function(e){var t=this;this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.on(d.EVENTS.SESSION_EXTENDED,(function(e){t.info.expirationDate=Date.now()+1e3*e}))}}]),r}(f.EventEmitter);t.Session=w},5634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CURRENT_URL=t.KEY_CURRENT_SESSION=void 0;var n=r(9999);t.KEY_CURRENT_SESSION="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentSession"),t.KEY_CURRENT_URL="".concat(n.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentUrl")},7078:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onSessionRestore=t.onLogout=t.onLogin=t.handleIncomingRedirect=t.logout=t.login=t.fetch=t.getDefaultSession=void 0;var n,i=r(6133);function o(){return"undefined"===typeof n&&(n=new i.Session),n}t.getDefaultSession=o;t.fetch=function(){var e=o();return e.fetch.apply(e,arguments)};t.login=function(){var e=o();return e.login.apply(e,arguments)};t.logout=function(){var e=o();return e.logout.apply(e,arguments)};t.handleIncomingRedirect=function(){var e=o();return e.handleIncomingRedirect.apply(e,arguments)};t.onLogin=function(){var e=o();return e.onLogin.apply(e,arguments)};t.onLogout=function(){var e=o();return e.onLogout.apply(e,arguments)};t.onSessionRestore=function(){var e=o();return e.onSessionRestore.apply(e,arguments)}},3921:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAuthenticationWithDependencies=void 0;var i=r(9999),o=n(r(6764)),a=n(r(8215)),s=n(r(8575)),u=n(r(4346)),c=n(r(1069)),l=r(1617),f=n(r(2580)),d=r(3437),p=r(3626),h=n(r(8380)),g=n(r(5835)),v=n(r(3933)),y=n(r(5738)),m=r(9958),b=n(r(7410));t.getClientAuthenticationWithDependencies=function(e){var t=new i.InMemoryStorage,r=e.secureStorage||t,n=e.insecureStorage||new g.default,w=new o.default(r,n),x=new c.default(w),_=new y.default(w),k=new d.SessionInfoManager(w),S=new b.default(w,x,_),E=new s.default(w,new u.default(w,new v.default),x,_),A=new h.default([new m.ErrorOidcHandler,new p.AuthCodeRedirectHandler(w,k,x,_,S),new l.FallbackRedirectHandler]);return new a.default(E,A,new f.default(k),k,x)}},2388:function(e,t,r){"use strict";var n,i=r(7757),o=r(8926).default;function a(){return"undefined"===typeof n&&((n=window.document.createElement("iframe")).setAttribute("hidden","true"),n.setAttribute("sandbox","allow-scripts allow-same-origin")),n}Object.defineProperty(t,"__esModule",{value:!0}),t.postRedirectUrlToParent=t.setupIframeListener=t.redirectInIframe=void 0,t.redirectInIframe=function(e){var t=a();window.document.body.appendChild(t),t.src=e},t.setupIframeListener=function(e){"undefined"!==typeof window&&window.addEventListener("message",function(){var t=o(i.mark((function t(r){var n;return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a(),r.origin!==window.location.origin||r.source!==n.contentWindow){t.next=5;break}if("string"!==typeof r.data.redirectUrl){t.next=5;break}return t.next=5,e(r.data.redirectUrl);case 5:window.document.body.contains(n)&&window.document.body.removeChild(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},t.postRedirectUrlToParent=function(e){window.top.postMessage({redirectUrl:e},window.location.origin)}},3393:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryStorage=t.ConfigurationError=t.NotImplementedError=t.getClientAuthenticationWithDependencies=t.Session=void 0;var o=r(6133);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return o.Session}});var a=r(3921);Object.defineProperty(t,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),i(r(7078),t);var s=r(9999);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return s.NotImplementedError}}),Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return s.ConfigurationError}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return s.InMemoryStorage}})},5738:function(e,t,r){"use strict";var n=r(7757),i=r(1109).default,o=r(3038).default,a=r(8926).default,s=r(4575).default,u=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var c=r(2278),l=function(){function e(t){s(this,e),this.storageUtility=t}return u(e,[{key:"getClient",value:function(){var e=a(n.mark((function e(t,r){var a,s,u,l,f,d,p,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);case 2:if(s=e.sent,u=o(s,2),l=u[0],f=u[1],!l){e.next=8;break}return e.abrupt("return",{clientId:l,clientSecret:f,clientType:"dynamic"});case 8:if(d=i({},t),null===(a=d.registrationAccessToken)||void 0===a){e.next=13;break}e.t0=a,e.next=16;break;case 13:return e.next=15,this.storageUtility.getForUser(t.sessionId,"registrationAccessToken");case 15:e.t0=e.sent;case 16:return d.registrationAccessToken=e.t0,e.prev=17,e.next=20,c.registerClient(d,r);case 20:return p=e.sent,h={clientId:p.clientId},p.clientSecret&&(h.clientSecret=p.clientSecret),p.idTokenSignedResponseAlg&&(h.idTokenSignedResponseAlg=p.idTokenSignedResponseAlg),e.next=26,this.storageUtility.setForUser(d.sessionId,h,{secure:!1});case 26:return e.abrupt("return",p);case 29:throw e.prev=29,e.t1=e.catch(17),new Error("Client registration failed: [".concat(e.t1.toString(),"]"));case 32:case"end":return e.stop()}}),e,this,[[17,29]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.default=l},1069:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WELL_KNOWN_OPENID_CONFIG=void 0;var s=r(9999),u=r(9080);t.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";var c={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0},solid_oidc_supported:{toKey:"solidOidcSupported"}};function l(e){var t={};return Object.keys(e).forEach((function(r){c[r]&&(t[c[r].toKey]=e[r])})),t}var f=function(){function e(t){o(this,e),this.storageUtility=t}return a(e,[{key:"fetchConfig",value:function(){var r=i(n.mark((function r(i){var o,a,c;return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=u.appendToUrlPathname(i,t.WELL_KNOWN_OPENID_CONFIG),r.next=3,window.fetch(a);case 3:return c=r.sent,r.prev=4,r.t0=l,r.next=8,c.json();case 8:r.t1=r.sent,o=(0,r.t0)(r.t1),r.next=15;break;case 12:throw r.prev=12,r.t2=r.catch(4),new s.ConfigurationError("[".concat(i.toString(),"] has an invalid configuration: ").concat(r.t2.message));case 15:return r.next=17,this.storageUtility.set(e.getLocalStorageKey(i),JSON.stringify(o));case 17:return r.abrupt("return",o);case 18:case"end":return r.stop()}}),r,this,[[4,12]])})));return function(e){return r.apply(this,arguments)}}()}],[{key:"getLocalStorageKey",value:function(e){return"issuerConfig:".concat(e)}}]),e}();t.default=f},8575:function(e,t,r){"use strict";var n=r(1109).default,i=r(7757),o=r(8926).default,a=r(4575).default,s=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var u=r(9999);function c(e){return"string"===typeof e.oidcIssuer}function l(e){return"string"===typeof e.redirectUrl}var f=function(){function e(t,r,n,i){a(this,e),this.storageUtility=t,this.oidcHandler=r,this.issuerConfigFetcher=n,this.clientRegistrar=i}return s(e,[{key:"canHandle",value:function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t)&&l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(i.mark((function e(t){var r,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t)){e.next=2;break}throw new u.ConfigurationError("OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ".concat(JSON.stringify(t)));case 2:if(l(t)){e.next=4;break}throw new u.ConfigurationError("OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ".concat(JSON.stringify(t)));case 4:return e.next=6,this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);case 6:return r=e.sent,e.next=9,u.handleRegistration(t,r,this.storageUtility,this.clientRegistrar);case 9:return o=e.sent,a=n(n({issuer:r.issuer,dpop:"dpop"===t.tokenType.toLowerCase()},t),{},{issuerConfiguration:r,client:o}),e.abrupt("return",this.oidcHandler.handle(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},3933:function(e,t,r){"use strict";var n=r(4575).default,i=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var o=r(2388),a=function(){function e(){n(this,e)}return i(e,[{key:"redirect",value:function(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):(null===t||void 0===t?void 0:t.redirectInIframe)?o.redirectInIframe(e):window.location.href=e}}]),e}();t.default=a},4346:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(2278),u=function(){function e(t,r){o(this,e),this.storageUtility=t,this.redirector=r}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){var r,i,o,a,u,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl.toString(),post_logout_redirect_uri:t.redirectUrl.toString(),response_type:"code",scope:"openid offline_access",filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(r=t.prompt)&&void 0!==r?r:"consent"},o=new s.OidcClient(i),a=this.redirector,u=this.storageUtility,e.prev=4,e.next=7,o.createSigninRequest();case 7:return c=e.sent,e.next=10,Promise.all([u.setForUser(c.state._id,{sessionId:t.sessionId}),u.setForUser(t.sessionId,{codeVerifier:c.state._code_verifier,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]);case 10:a.redirect(c.url.toString(),{handleRedirect:t.handleRedirect,redirectInIframe:t.inIframe}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=u},8380:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,e)}return n(r)}(r(9999).AggregateHandler);t.default=s},3626:function(e,t,r){"use strict";var n=r(7757),i=r(4575).default,o=r(3913).default,a=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthCodeRedirectHandler=t.DEFAULT_LIFESPAN=void 0;var s=r(9999),u=r(2278),c=r(5634);function l(e,t,r){return f.apply(this,arguments)}function f(){return(f=a(n.mark((function e(r,i,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL(r),s=a.origin,e.next=4,i(r);case 4:return e.prev=4,e.next=7,i("".concat(s,"/session"));case 7:if(200!==e.sent.status){e.next=12;break}return e.next=11,o.storeResourceServerSessionInfo(r,s,Date.now()+t.DEFAULT_LIFESPAN);case 11:return e.abrupt("return");case 12:return e.next=14,o.clearResourceServerSessionInfo(s);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(4),e.next=20,o.clearResourceServerSessionInfo(s);case 20:case"end":return e.stop()}}),e,null,[[4,16]])})))).apply(this,arguments)}t.DEFAULT_LIFESPAN=18e5;var d=function(){function e(t,r,n,o,a){i(this,e),this.storageUtility=t,this.sessionInfoManager=r,this.issuerConfigFetcher=n,this.clientRegistrar=o,this.tokerRefresher=a}return o(e,[{key:"canHandle",value:function(){var e=a(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new URL(t),e.abrupt("return",null!==r.searchParams.get("code")&&null!==r.searchParams.get("state"));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=a(n.mark((function e(t,r){var i,o,a,f,d,p,h,g,v,y,m,b,w,x;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canHandle(t);case 2:if(e.sent){e.next=4;break}throw new Error("AuthCodeRedirectHandler cannot handle [".concat(t,"]: it is missing one of [code, state]."));case 4:return i=new URL(t),o=i.searchParams.get("state"),e.next=8,this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(a,"dpop");case 11:return e.t0=e.sent,f="true"===e.t0,e.next=15,this.storageUtility.getForUser(a,"issuer",{errorIfNull:!0});case 15:return d=e.sent,window.localStorage.setItem(c.KEY_CURRENT_SESSION,a),e.next=19,this.issuerConfigFetcher.fetchConfig(d);case 19:return p=e.sent,e.next=22,this.clientRegistrar.getClient({sessionId:a},p);case 22:if(h=e.sent,v=Date.now(),!f){e.next=36;break}return e.next=27,this.storageUtility.getForUser(a,"codeVerifier",{errorIfNull:!0});case 27:return y=e.sent,e.next=30,this.storageUtility.getForUser(a,"redirectUrl",{errorIfNull:!0});case 30:return m=e.sent,e.next=33,u.getDpopToken(p,h,{grantType:"authorization_code",code:i.searchParams.get("code"),codeVerifier:y,redirectUrl:m});case 33:g=e.sent,e.next=39;break;case 36:return e.next=38,u.getBearerToken(i.toString());case 38:g=e.sent;case 39:return void 0!==g.refreshToken&&(b={sessionId:a,refreshToken:g.refreshToken,tokenRefresher:this.tokerRefresher}),e.next=42,s.buildAuthenticatedFetch(fetch,g.accessToken,{dpopKey:g.dpopKey,refreshOptions:b,eventEmitter:r,expiresIn:g.expiresIn});case 42:return w=e.sent,e.next=45,this.storageUtility.setForUser(a,{refreshToken:"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>",webId:g.webId,isLoggedIn:"true"},{secure:!0});case 45:return i.searchParams.delete("code"),e.next=48,this.storageUtility.setForUser(a,{redirectUrl:i.toString(),idToken:g.idToken},{secure:!1});case 48:if("false"===window.localStorage.getItem("tmp-resource-server-session-enabled")){e.next=52;break}return e.next=52,l(g.webId,w,this.storageUtility);case 52:return e.next=54,this.sessionInfoManager.get(a);case 54:if(x=e.sent){e.next=57;break}throw new Error("Could not retrieve session: [".concat(a,"]."));case 57:return e.abrupt("return",Object.assign(x,{fetch:w,expirationDate:"number"===typeof g.expiresIn?v+1e3*g.expiresIn:null}));case 58:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.AuthCodeRedirectHandler=d},9958:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOidcHandler=void 0;var s=r(9999),u=r(3437),c=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new URL(t).searchParams.has("error"));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t,r){var i,o,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==r&&(i=new URL(t),o=i.searchParams.get("error"),a=i.searchParams.get("error_description"),r.emit(s.EVENTS.ERROR,o,a)),e.abrupt("return",u.getUnauthenticatedSession());case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}]),e}();t.ErrorOidcHandler=c},1617:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackRedirectHandler=void 0;var s=r(3437),u=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,new URL(t),e.abrupt("return",!0);case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0.toString()));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.getUnauthenticatedSession());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FallbackRedirectHandler=u},7410:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=r(9999),u=r(2278),c=function(){function e(t,r,n){o(this,e),this.storageUtility=t,this.issuerConfigFetcher=r,this.clientRegistrar=n}return a(e,[{key:"refresh",value:function(){var e=i(n.mark((function e(t,r,i,o){var a,c,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.loadOidcContextFromStorage(t,this.storageUtility,this.issuerConfigFetcher);case 2:return a=e.sent,e.next=5,this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);case 5:if(c=e.sent,void 0!==r){e.next=8;break}throw new Error("Session [".concat(t,"] has no refresh token to allow it to refresh its access token."));case 8:if(!a.dpop||void 0!==i){e.next=10;break}throw new Error("For session [".concat(t,"], the key bound to the DPoP access token must be provided to refresh said access token."));case 10:return e.next=12,u.refresh(r,a.issuerConfig,c,i);case 12:if(void 0===(l=e.sent).refreshToken){e.next=17;break}return null===o||void 0===o||o.emit(s.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),e.next=17,this.storageUtility.setForUser(t,{refreshToken:l.refreshToken});case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()}]),e}();t.default=c},2580:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){o(this,e),this.sessionInfoManager=t}return a(e,[{key:"canHandle",value:function(){var e=i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfoManager.clear(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},3437:function(e,t,r){"use strict";var n=r(7757),i=r(4575).default,o=r(3913).default,a=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionInfoManager=t.clear=t.getUnauthenticatedSession=void 0;var s=r(9999),u=r(496),c=r(2278);function l(e,t){return f.apply(this,arguments)}function f(){return(f=a(n.mark((function e(t,r){var i,o,a,s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.get("tmp-resource-server-session-info");case 2:if(i=e.sent,o=JSON.parse(null!==i&&void 0!==i?i:"{}"),void 0===(a=o.webId)){e.next=10;break}return s=new URL(a),u=s.origin,e.next=10,r.clearResourceServerSessionInfo(u);case 10:return e.next=12,Promise.all([r.deleteAllUserData(t,{secure:!1}),r.deleteAllUserData(t,{secure:!0}),r.delete("clientKey",{secure:!1})]);case 12:return e.next=14,c.clearOidcPersistentStorage();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:u.v4(),fetch:fetch}},t.clear=l;var d=function(){function e(t){i(this,e),this.storageUtility=t}return o(e,[{key:"update",value:function(e,t){throw new Error("Not Implemented")}},{key:"get",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,u,c,l,f,d,p;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});case 2:return i=e.sent,e.next=5,this.storageUtility.getForUser(t,"webId",{secure:!0});case 5:return o=e.sent,e.next=8,this.storageUtility.getForUser(t,"clientId",{secure:!1});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(t,"clientSecret",{secure:!1});case 11:return u=e.sent,e.next=14,this.storageUtility.getForUser(t,"idToken",{secure:!1});case 14:return c=e.sent,e.next=17,this.storageUtility.getForUser(t,"redirectUrl",{secure:!1});case 17:return l=e.sent,e.next=20,this.storageUtility.getForUser(t,"refreshToken",{secure:!0});case 20:return f=e.sent,e.next=23,this.storageUtility.getForUser(t,"issuer",{secure:!1});case 23:return d=e.sent,e.next=26,this.storageUtility.getForUser(t,"tokenType",{secure:!1});case 26:if(e.t1=r=e.sent,e.t0=null!==e.t1,!e.t0){e.next=30;break}e.t0=void 0!==r;case 30:if(!e.t0){e.next=34;break}e.t2=r,e.next=35;break;case 34:e.t2="DPoP";case 35:if(p=e.t2,s.isSupportedTokenType(p)){e.next=38;break}throw new Error("Tokens of type [".concat(p,"] are not supported."));case 38:if(void 0!==a||void 0!==c||void 0!==i||void 0!==o||void 0!==f){e.next=40;break}return e.abrupt("return",void 0);case 40:return e.abrupt("return",{sessionId:t,webId:o,isLoggedIn:"true"===i,redirectUrl:l,idToken:c,refreshToken:f,issuer:d,clientAppId:a,clientAppSecret:u,tokenType:p});case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",l(t,this.storageUtility));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=a(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisteredSessionIdAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){var e=a(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SessionInfoManager=d},5835:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e)}return a(e,[{key:"storage",get:function(){return window.localStorage}},{key:"get",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t)||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.setItem(t,r);case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},6764:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(r,e);var t=a(r);function r(e,n){return i(this,r),t.call(this,e,n)}return n(r)}(r(9999).StorageUtility);t.default=s},9080:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendToUrlPathname=void 0,t.appendToUrlPathname=function(e,t){var r=new URL(e),n=r.pathname;return r.pathname="".concat(n).concat(n.endsWith("/")?"":"/").concat(t.startsWith("/")?t.substring(1):t),r.toString()}},3806:function(e,t,r){"use strict";var n=r(3038).default,i=r(7757),o=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.generateDpopKeyPair=t.createDpopHeader=void 0;var a=r(6942),s=r(496),u=r(8778);function c(e){var t=new URL(e);return t.hash="",t.username="",t.password="",t.toString()}function l(){return(l=o(i.mark((function e(t,r,n){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new a.SignJWT({htu:c(t),htm:r.toUpperCase(),jti:s.v4()}).setProtectedHeader({alg:u.PREFERRED_SIGNING_ALG[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return(f=o(i.mark((function e(){var t,r,o,s,c;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.generateKeyPair(u.PREFERRED_SIGNING_ALG[0]);case 2:return t=e.sent,r=t.privateKey,o=t.publicKey,e.t0=r,e.next=8,a.fromKeyLike(o);case 8:return e.t1=e.sent,s={privateKey:e.t0,publicKey:e.t1},c=n(u.PREFERRED_SIGNING_ALG,1),s.publicKey.alg=c[0],e.abrupt("return",s);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.createDpopHeader=function(e,t,r){return l.apply(this,arguments)},t.generateDpopKeyPair=function(){return f.apply(this,arguments)}},4286:function(e,t,r){"use strict";var n=r(7757),i=r(1109).default,o=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.buildAuthenticatedFetch=t.DEFAULT_EXPIRATION_TIME_SECONDS=void 0;var a=r(8778),s=r(3806),u=r(2223),c=r(6127);function l(e){return[401,403].includes(e)}function f(e,t,r,n){return d.apply(this,arguments)}function d(){return(d=o(n.mark((function e(t,r,o,a){var u,c;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i({},a),e.t0=i,e.t1=i({},null===a||void 0===a?void 0:a.headers),e.t2={},e.t3="DPoP ".concat(r),e.next=7,s.createDpopHeader(t,null!==(u=null===a||void 0===a?void 0:a.method)&&void 0!==u?u:"get",o);case 7:return e.t4=e.sent,e.t5={Authorization:e.t3,DPoP:e.t4},c.headers=(0,e.t0)(e.t1,e.t2,e.t5),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,r,n){return h.apply(this,arguments)}function h(){return(h=o(n.mark((function e(t,r,o,a){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=2;break}return e.abrupt("return",f(t,r,o,a));case 2:return e.abrupt("return",i(i({},a),{},{headers:i(i({},null===a||void 0===a?void 0:a.headers),{},{Authorization:"Bearer ".concat(r)})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r,n,i){return v.apply(this,arguments)}function v(){return(v=o(n.mark((function e(t,r,i,o,a){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=i,e.next=4,p(i.toString(),r,a,o);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,r){return m.apply(this,arguments)}function m(){return(m=o(n.mark((function e(r,i,o){var s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.tokenRefresher.refresh(r.sessionId,r.refreshToken,i);case 2:return u=e.sent,null===o||void 0===o||o.emit(a.EVENTS.SESSION_EXTENDED,null!==(s=u.expiresIn)&&void 0!==s?s:t.DEFAULT_EXPIRATION_TIME_SECONDS),"string"===typeof u.refreshToken&&(null===o||void 0===o||o.emit(a.EVENTS.NEW_REFRESH_TOKEN,u.refreshToken)),e.abrupt("return",{accessToken:u.accessToken,refreshToken:u.refreshToken,expiresIn:u.expiresIn});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.DEFAULT_EXPIRATION_TIME_SECONDS=600;var b=function(e){return void 0!==e?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS>0?e-a.REFRESH_BEFORE_EXPIRATION_SECONDS:e:t.DEFAULT_EXPIRATION_TIME_SECONDS};function w(){return w=o(n.mark((function e(t,r,i){var s,f,d,p,h,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=r,void 0!==(p=null===i||void 0===i?void 0:i.refreshOptions)?(h=function(){var e=o(n.mark((function e(){var t,r,o,s,l,g,v,m;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(p,i.dpopKey,i.eventEmitter);case 3:l=e.sent,g=l.accessToken,v=l.refreshToken,m=l.expiresIn,f=g,void 0!==v&&(p.refreshToken=v),clearTimeout(d),d=setTimeout(h,1e3*b(m)),null===(t=i.eventEmitter)||void 0===t||t.emit(a.EVENTS.TIMEOUT_SET,d),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0 instanceof u.OidcProviderError&&(null===(r=null===i||void 0===i?void 0:i.eventEmitter)||void 0===r||r.emit(a.EVENTS.ERROR,e.t0.error,e.t0.errorDescription),null===(o=null===i||void 0===i?void 0:i.eventEmitter)||void 0===o||o.emit(a.EVENTS.SESSION_EXPIRED)),e.t0 instanceof c.InvalidResponseError&&e.t0.missingFields.includes("access_token")&&(null===(s=null===i||void 0===i?void 0:i.eventEmitter)||void 0===s||s.emit(a.EVENTS.SESSION_EXPIRED));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),d=setTimeout(h,1e3*b(i.expiresIn)),null===(s=i.eventEmitter)||void 0===s||s.emit(a.EVENTS.TIMEOUT_SET,d)):void 0!==i&&void 0!==i.eventEmitter&&(v=setTimeout((function(){i.eventEmitter.emit(a.EVENTS.SESSION_EXPIRED)}),1e3*b(i.expiresIn)),i.eventEmitter.emit(a.EVENTS.TIMEOUT_SET,v)),e.abrupt("return",function(){var e=o(n.mark((function e(r,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t,f,r,o,null===i||void 0===i?void 0:i.dpopKey);case 2:if(a=e.sent,s=!a.ok&&!l(a.status),!a.ok&&!s){e.next=6;break}return e.abrupt("return",a);case 6:if(!(a.url!==r)||void 0===(null===i||void 0===i?void 0:i.dpopKey)){e.next=11;break}return e.next=10,g(t,f,a.url,o,i.dpopKey);case 10:a=e.sent;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}t.buildAuthenticatedFetch=function(e,t,r){return w.apply(this,arguments)}},8778:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFRESH_BEFORE_EXPIRATION_SECONDS=t.EVENTS=t.PREFERRED_SIGNING_ALG=t.SOLID_CLIENT_AUTHN_KEY_PREFIX=void 0,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.PREFERRED_SIGNING_ALG=["ES256","RS256"],t.EVENTS={NEW_REFRESH_TOKEN:"newRefreshToken",ERROR:"onError",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",TIMEOUT_SET:"timeoutSet"},t.REFRESH_BEFORE_EXPIRATION_SECONDS=5},6992:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default,s=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,e)}return n(r)}(s(Error));t.default=u},9014:function(e,t,r){"use strict";var n=r(319).default,i=r(4575).default,o=r(3913).default,a=r(2205).default,s=r(9842).default,u=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0});var c=function(e){a(r,e);var t=s(r);function r(e,n){var o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return i(this,r),t.call(this,"string"===typeof e?r.substituteParams(e,n):r.appendErrorIri(r.lookupErrorIri(e,n),e,o))}return o(r,[{key:"httpResponse",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.message=r.appendHttpResponseDetails(this.message,e,t),this.httpErrorResponse=e,this}},{key:"hasHttpResponse",value:function(){return void 0!==this.httpErrorResponse}},{key:"getHttpResponse",value:function(){return this.httpErrorResponse}},{key:"getHttpStatusCode",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Code.");return this.httpErrorResponse.status}},{key:"getHttpStatusText",value:function(){if(void 0===this.httpErrorResponse)throw new r("This InruptError was not provided with a HTTP response - so we can't get its HTTP Status Text!");return this.httpErrorResponse.statusText}}],[{key:"determineIfVocabTerm",value:function(e){return void 0!==e.strict}},{key:"lookupErrorIri",value:function(e,t){if(r.determineIfVocabTerm(e)){var i=void 0===t?e.message:e.messageParams.apply(e,n(t));return void 0===i?"Looked up error message IRI [".concat(e.value,"], but found no message value."):i}return"Error message looked up at: [".concat(e.value,"]").concat(void 0===t?"":", with params [".concat(t.toString(),"]"))}},{key:"appendHttpResponseDetails",value:function(e,t,r){return r&&"undefined"!==typeof t?"".concat(e," HTTP details: status code [").concat(t.status,"], status text [").concat(t.statusText,"]."):e}},{key:"appendErrorIri",value:function(e,t,r){return r?"".concat(e," Error IRI: [").concat(t.value,"]."):e}},{key:"substituteParams",value:function(e,t){var r=e;if(void 0!==t){var n=e.split("{{").length-1;if(n!==t.length)throw new Error("Setting parameters on message [".concat(e,"], but it requires [").concat(n,"] params and we received [").concat(t.length,"]."));for(var i=0;i<t.length;i+=1){var o="{{".concat(i,"}}");r=r.replace(o,t[i])}}return r}}]),r}(u(Error));t.default=c},6127:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default,s=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidResponseError=void 0;var u=function(e){o(r,e);var t=a(r);function r(e){var n;return i(this,r),(n=t.call(this,"Invalid response from OIDC provider: missing fields ".concat(e))).missingFields=e,n}return n(r)}(s(Error));t.InvalidResponseError=u},4894:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default,s=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){o(r,e);var t=a(r);function r(e){return i(this,r),t.call(this,"[".concat(e,"] is not implemented"))}return n(r)}(s(Error));t.default=u},2223:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default,s=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0}),t.OidcProviderError=void 0;var u=function(e){o(r,e);var t=a(r);function r(e,n,o){var a;return i(this,r),(a=t.call(this,e)).error=n,a.errorDescription=o,a}return n(r)}(s(Error));t.OidcProviderError=u},9999:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUtilityGetResponse=t.StorageUtilityMock=t.mockStorageUtility=t.mockStorage=t.buildAuthenticatedFetch=t.generateDpopKeyPair=t.createDpopHeader=t.OidcProviderError=t.InvalidResponseError=t.NotImplementedError=t.ConfigurationError=t.InMemoryStorage=t.getSessionIdFromOauthState=t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.StorageUtility=t.determineSigningAlg=t.handleRegistration=t.USER_SESSION_PREFIX=t.isSupportedTokenType=t.fetchJwks=t.getWebidFromTokenPayload=t.AggregateHandler=void 0,i(r(8778),t);var a=r(956);Object.defineProperty(t,"AggregateHandler",{enumerable:!0,get:function(){return o(a).default}});var s=r(5495);Object.defineProperty(t,"getWebidFromTokenPayload",{enumerable:!0,get:function(){return s.getWebidFromTokenPayload}}),Object.defineProperty(t,"fetchJwks",{enumerable:!0,get:function(){return s.fetchJwks}});var u=r(3415);Object.defineProperty(t,"isSupportedTokenType",{enumerable:!0,get:function(){return u.isSupportedTokenType}});var c=r(8905);Object.defineProperty(t,"USER_SESSION_PREFIX",{enumerable:!0,get:function(){return c.USER_SESSION_PREFIX}});var l=r(8055);Object.defineProperty(t,"handleRegistration",{enumerable:!0,get:function(){return l.handleRegistration}}),Object.defineProperty(t,"determineSigningAlg",{enumerable:!0,get:function(){return l.determineSigningAlg}});var f=r(6471);Object.defineProperty(t,"StorageUtility",{enumerable:!0,get:function(){return o(f).default}}),Object.defineProperty(t,"loadOidcContextFromStorage",{enumerable:!0,get:function(){return f.loadOidcContextFromStorage}}),Object.defineProperty(t,"saveSessionInfoToStorage",{enumerable:!0,get:function(){return f.saveSessionInfoToStorage}}),Object.defineProperty(t,"getSessionIdFromOauthState",{enumerable:!0,get:function(){return f.getSessionIdFromOauthState}});var d=r(9598);Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return o(d).default}});var p=r(6992);Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return o(p).default}});var h=r(4894);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return o(h).default}});var g=r(6127);Object.defineProperty(t,"InvalidResponseError",{enumerable:!0,get:function(){return g.InvalidResponseError}});var v=r(2223);Object.defineProperty(t,"OidcProviderError",{enumerable:!0,get:function(){return v.OidcProviderError}});var y=r(3806);Object.defineProperty(t,"createDpopHeader",{enumerable:!0,get:function(){return y.createDpopHeader}}),Object.defineProperty(t,"generateDpopKeyPair",{enumerable:!0,get:function(){return y.generateDpopKeyPair}});var m=r(4286);Object.defineProperty(t,"buildAuthenticatedFetch",{enumerable:!0,get:function(){return m.buildAuthenticatedFetch}});var b=r(8769);Object.defineProperty(t,"mockStorage",{enumerable:!0,get:function(){return b.mockStorage}}),Object.defineProperty(t,"mockStorageUtility",{enumerable:!0,get:function(){return b.mockStorageUtility}}),Object.defineProperty(t,"StorageUtilityMock",{enumerable:!0,get:function(){return b.StorageUtilityMock}}),Object.defineProperty(t,"StorageUtilityGetResponse",{enumerable:!0,get:function(){return b.StorageUtilityGetResponse}})},8055:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default;function o(e){try{return new URL(e),!0}catch(t){return!1}}function a(e,t){return void 0===e.clientId||o(e.clientId)?"https://solidproject.org/TR/solid-oidc"===t.solidOidcSupported&&void 0!==e.clientId&&o(e.clientId)?"solid-oidc":"dynamic":"static"}function s(){return(s=i(n.mark((function e(t,r,i,o){var s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dynamic"!==(s=a(t,r))){e.next=3;break}return e.abrupt("return",o.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},r));case 3:return e.next=5,i.setForUser(t.sessionId,{clientId:t.clientId});case 5:if(!t.clientSecret){e.next=8;break}return e.next=8,i.setForUser(t.sessionId,{clientSecret:t.clientSecret});case 8:if(!t.clientName){e.next=11;break}return e.next=11,i.setForUser(t.sessionId,{clientName:t.clientName});case 11:return e.abrupt("return",{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.handleRegistration=t.determineSigningAlg=void 0,t.determineSigningAlg=function(e,t){var r;return null!==(r=t.find((function(t){return e.includes(t)})))&&void 0!==r?r:null},t.handleRegistration=function(e,t,r,n){return s.apply(this,arguments)}},5495:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getWebidFromTokenPayload=t.fetchJwks=void 0;var o=r(5003),a=r(6942);function s(e,t){return u.apply(this,arguments)}function u(){return(u=i(n.mark((function e(t,r){var i,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.fetch(t);case 2:if(200===(i=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(i.status," ").concat(i.statusText));case 5:return e.prev=5,e.next=8,i.json();case 8:a=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(r,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function c(){return(c=i(n.mark((function e(t,r,i,o){var u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(r,i);case 2:return u=e.sent,e.prev=3,e.t0=a,e.t1=t,e.next=8,a.parseJwk(u);case 8:return e.t2=e.sent,e.t3={issuer:i,audience:o},e.next=12,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 12:l=e.sent,f=l.payload,c=f,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("ID token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof c.webid){e.next=22;break}return e.abrupt("return",c.webid);case 22:if("string"===typeof c.sub){e.next=24;break}throw new Error("The ID token ".concat(JSON.stringify(c)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(c.sub),e.abrupt("return",c.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The ID token has no 'webid' claim, and its 'sub' claim of [".concat(c.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}t.fetchJwks=s,t.getWebidFromTokenPayload=function(e,t,r,n){return c.apply(this,arguments)}},3415:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedTokenType=void 0,t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)}},8905:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SESSION_PREFIX=void 0,t.USER_SESSION_PREFIX="solidClientAuthenticationUser"},9598:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e),this.map={}}return a(e,[{key:"get",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t]||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.map[t]=r;case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.map[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},6471:function(e,t,r){"use strict";var n=r(3038).default,i=r(1109).default,o=r(7757),a=r(4575).default,s=r(3913).default,u=r(8926).default,c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.saveSessionInfoToStorage=t.loadOidcContextFromStorage=t.getSessionIdFromOauthState=void 0;var l=r(6942),f=c(r(9014));function d(){return(d=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getForUser(r,"sessionId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=u(o.mark((function e(t,r,i){var a,s,u,c,l,f,d;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([r.getForUser(t,"issuer",{errorIfNull:!0}),r.getForUser(t,"codeVerifier"),r.getForUser(t,"redirectUrl"),r.getForUser(t,"dpop",{errorIfNull:!0})]);case 3:return a=e.sent,s=n(a,4),u=s[0],c=s[1],l=s[2],f=s[3],e.next=11,i.fetchConfig(u);case 11:return d=e.sent,e.abrupt("return",{codeVerifier:c,redirectUrl:l,issuerConfig:d,dpop:"true"===f});case 15:throw e.prev=15,e.t0=e.catch(0),new Error("Failed to retrieve OIDC context from storage associated with session [".concat(t,"]: ").concat(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function h(){return(h=u(o.mark((function e(t,r,n,i,a,s,u,c){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===s){e.next=3;break}return e.next=3,t.setForUser(r,{refreshToken:s},{secure:u});case 3:if(void 0===n){e.next=6;break}return e.next=6,t.setForUser(r,{idToken:n},{secure:u});case 6:if(void 0===i){e.next=9;break}return e.next=9,t.setForUser(r,{webId:i},{secure:u});case 9:if(void 0===a){e.next=12;break}return e.next=12,t.setForUser(r,{isLoggedIn:a},{secure:u});case 12:if(void 0===c){e.next=25;break}return e.t0=t,e.t1=r,e.t2=JSON.stringify(c.publicKey),e.t3=JSON,e.next=19,l.fromKeyLike(c.privateKey);case 19:return e.t4=e.sent,e.t5=e.t3.stringify.call(e.t3,e.t4),e.t6={publicKey:e.t2,privateKey:e.t5},e.t7={secure:u},e.next=25,e.t0.setForUser.call(e.t0,e.t1,e.t6,e.t7);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSessionIdFromOauthState=function(e,t){return d.apply(this,arguments)},t.loadOidcContextFromStorage=function(e,t,r){return p.apply(this,arguments)},t.saveSessionInfoToStorage=function(e,t,r,n,i,o,a,s){return h.apply(this,arguments)};var g=function(){function e(t,r){a(this,e),this.secureStorage=t,this.insecureStorage=r,this.RESOURCE_SERVER_SESSION_INFORMATION_KEY="tmp-resource-server-session-info"}return s(e,[{key:"getKey",value:function(e){return"solidClientAuthenticationUser:".concat(e)}},{key:"getUserData",value:function(){var e=u(o.mark((function e(t,r){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r?this.secureStorage:this.insecureStorage).get(this.getKey(t));case 2:if(void 0!==(n=e.sent)){e.next=5;break}return e.abrupt("return",{});case 5:return e.prev=5,e.abrupt("return",JSON.parse(n));case 9:throw e.prev=9,e.t0=e.catch(5),new f.default("Data for user [".concat(t,"] in [").concat(r?"secure":"unsecure","] storage is corrupted - expected valid JSON, but got: ").concat(n));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setUserData",value:function(){var e=u(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(n?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=u(o.mark((function e(t,r){var n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).get(t);case 2:if(void 0!==(n=e.sent)||!(null===r||void 0===r?void 0:r.errorIfNull)){e.next=5;break}throw new f.default("[".concat(t,"] is not stored"));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=u(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).set(t,r));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getForUser",value:function(){var e=u(o.mark((function e(t,r,n){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:if((i=e.sent)&&i[r]||(a=void 0),void 0!==(a=i[r])||!(null===n||void 0===n?void 0:n.errorIfNull)){e.next=7;break}throw new f.default("Field [".concat(r,"] for user [").concat(t,"] is not stored"));case 7:return e.abrupt("return",a||void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"setForUser",value:function(){var e=u(o.mark((function e(t,r,n){var a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a={};case 9:return e.next=11,this.setUserData(t,i(i({},a),r),null===n||void 0===n?void 0:n.secure);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteForUser",value:function(){var e=u(o.mark((function e(t,r,n){var i;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===n||void 0===n?void 0:n.secure);case 2:return delete(i=e.sent)[r],e.next=6,this.setUserData(t,i,null===n||void 0===n?void 0:n.secure);case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=u(o.mark((function e(t,r){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"storeResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t,r,n){var i,a;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=i=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==i;case 7:if(!e.t1){e.next=11;break}e.t3=i,e.next=12;break;case 11:e.t3="{}";case 12:return e.t4=e.t3,(a=e.t0.parse.call(e.t0,e.t4)).webId!==t&&(a.sessions={}),a.webId=t,a.sessions[r]={expiration:n},e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(a));case 19:case"end":return e.stop()}}),e,this)})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"clearResourceServerSessionInfo",value:function(){var e=u(o.mark((function e(t){var r,n;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=JSON,e.next=3,this.insecureStorage.get(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY);case 3:if(e.t2=r=e.sent,e.t1=null!==e.t2,!e.t1){e.next=7;break}e.t1=void 0!==r;case 7:if(!e.t1){e.next=11;break}e.t3=r,e.next=12;break;case 11:e.t3="{}";case 12:if(e.t4=e.t3,void 0===(n=e.t0.parse.call(e.t0,e.t4)).sessions){e.next=23;break}if(delete n.sessions[t],0!==Object.keys(n.sessions).length){e.next=21;break}return e.next=19,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,"{}");case 19:e.next=23;break;case 21:return e.next=23,this.insecureStorage.set(this.RESOURCE_SERVER_SESSION_INFORMATION_KEY,JSON.stringify(n));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=g},8769:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default;Object.defineProperty(t,"__esModule",{value:!0}),t.mockStorageUtility=t.mockStorage=t.StorageUtilityMock=t.StorageUtilityGetResponse=void 0;var o=r(9999);t.StorageUtilityGetResponse="getResponse",t.StorageUtilityMock={get:function(){var e=i(n.mark((function e(r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),set:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getForUser:function(){var e=i(n.mark((function e(r,i,o){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.StorageUtilityGetResponse);case 1:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),setForUser:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteForUser:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),deleteAllUserData:function(){var e=i(n.mark((function e(t,r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),storeResourceServerSessionInfo:function(){var e=i(n.mark((function e(t,r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),clearResourceServerSessionInfo:function(){var e=i(n.mark((function e(t){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.mockStorage=function(e){var t=e;return{get:function(){var e=i(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t[r]){e.next=2;break}return e.abrupt("return",void 0);case 2:if("string"!==typeof t[r]){e.next=4;break}return e.abrupt("return",t[r]);case 4:return e.abrupt("return",JSON.stringify(t[r]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=i(n.mark((function e(r,i){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[r]=i;case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),delete:function(){var e=i(n.mark((function e(r){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t[r];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.mockStorageUtility=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r?new o.StorageUtility(t.mockStorage(e),t.mockStorage({})):new o.StorageUtility(t.mockStorage({}),t.mockStorage(e))}},956:function(e,t,r){"use strict";var n=r(7757),i=r(319).default,o=r(8926).default,a=r(4575).default,s=r(3913).default,u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=u(r(9014)),l=function(){function e(t){a(this,e),this.handleables=t}return s(e,[{key:"getProperHandler",value:function(){var e=o(n.mark((function e(t){var r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.handleables.map((function(e){return e.canHandle.apply(e,i(t))})));case 2:r=e.sent,o=0;case 4:if(!(o<r.length)){e.next=10;break}if(!r[o]){e.next=7;break}return e.abrupt("return",this.handleables[o]);case 7:o+=1,e.next=4;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canHandle",value:function(){var e=o(n.mark((function e(){var t,r,i,o=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,r=new Array(t),i=0;i<t;i++)r[i]=o[i];return e.next=3,this.getProperHandler(r);case 3:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(n.mark((function e(){var t,r,i,o,a=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=a.length,r=new Array(t),i=0;i<t;i++)r[i]=a[i];return e.next=3,this.getProperHandler(r);case 3:if(!(o=e.sent)){e.next=6;break}return e.abrupt("return",o.handle.apply(o,r));case 6:throw new c.default("[".concat(this.constructor.name,"] cannot find a suitable handler for: ").concat(r.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.default=l},3748:function(e,t,r){"use strict";var n=r(3269).default,i=r(319).default,o=r(9713).default,a=r(3038).default,s=r(7757),u=r(8926).default,c=r(3913).default,l=r(4575).default,f=r(2205).default,d=r(9842).default,p=r(5957).default;Object.defineProperty(t,"__esModule",{value:!0});var h=r(264),g=r(6867),v=r(9559),y=r(3049),m=r(5003);function b(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function w(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var x=b(h),_=b(g),k=b(v),S=w(y),E=w(m);function A(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function O(e){var t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function C(e){var t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}var P=function(e){f(r,e);var t=d(r);function r(){return l(this,r),t.apply(this,arguments)}return c(r)}(p(Error));function R(e){return"string"===typeof e?e:e.value}var j=function(){var e=u(s.mark((function e(t,n){var i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=4;break;case 3:case 13:return e.abrupt("return",e.sent);case 4:e.next=10;break;case 7:return i=e.sent,o=i.default,e.abrupt("return",o(t,n));case 10:return a=r(5003),e.next=13,a(t,n);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function I(e){var t,r,n,i=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],o=i.length>0&&["text/turtle","application/ld+json"].includes(i[0]),a={sourceIri:e.url,isRawData:!o,contentType:null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:void 0,linkedResources:{}},s=e.headers.get("Link");if(s){var u=x.default.parse(s),c=u.get("rel","acl");1===c.length&&(a.aclUrl=new URL(c[0].uri,a.sourceIri).href),a.linkedResources=u.refs.reduce((function(e,t){var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,a.sourceIri).href),e}),a.linkedResources)}var l=e.headers.get("WAC-Allow");return l&&(a.permissions=function(e){function t(e){var t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){var r=e.split(",").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&e[0].trim()===t}));if(1!==r.length)return"";var n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(l)),a}function T(e){return"function"===typeof e.slice?Object.assign(e.slice(),Object.assign({},e)):Object.assign({},e)}function F(e){return!e.ok}function N(e){return 401===e.status||403===e.status}var D="http://www.w3.org/ns/auth/acl#Authorization",L="http://www.w3.org/ns/auth/acl#accessTo",U="http://www.w3.org/ns/auth/acl#agent",M="http://www.w3.org/ns/auth/acl#agentGroup",B="http://www.w3.org/ns/auth/acl#agentClass",H="http://www.w3.org/ns/auth/acl#default",z="http://www.w3.org/ns/auth/acl#defaultForNew",K="http://www.w3.org/ns/auth/acl#mode",W="http://www.w3.org/ns/auth/acl#origin",V="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",q="http://www.w3.org/ns/ldp#BasicContainer",J="http://www.w3.org/ns/ldp#Resource",Z="http://www.w3.org/ns/ldp#contains",G="http://xmlns.com/foaf/0.1/Agent",Q="http://xmlns.com/foaf/0.1/primaryTopic",$="http://xmlns.com/foaf/0.1/isPrimaryTopicOf",Y={AccessControlResource:"http://www.w3.org/ns/solid/acp#AccessControlResource",Policy:"http://www.w3.org/ns/solid/acp#Policy",AccessControl:"http://www.w3.org/ns/solid/acp#AccessControl",Read:"http://www.w3.org/ns/solid/acp#Read",Append:"http://www.w3.org/ns/solid/acp#Append",Write:"http://www.w3.org/ns/solid/acp#Write",Rule:"http://www.w3.org/ns/solid/acp#Rule",Matcher:"http://www.w3.org/ns/solid/acp#Matcher",accessControl:"http://www.w3.org/ns/solid/acp#accessControl",memberAccessControl:"http://www.w3.org/ns/solid/acp#memberAccessControl",apply:"http://www.w3.org/ns/solid/acp#apply",applyMembers:"http://www.w3.org/ns/solid/acp#applyMembers",allow:"http://www.w3.org/ns/solid/acp#allow",deny:"http://www.w3.org/ns/solid/acp#deny",allOf:"http://www.w3.org/ns/solid/acp#allOf",anyOf:"http://www.w3.org/ns/solid/acp#anyOf",noneOf:"http://www.w3.org/ns/solid/acp#noneOf",access:"http://www.w3.org/ns/solid/acp#access",accessMembers:"http://www.w3.org/ns/solid/acp#accessMembers",agent:"http://www.w3.org/ns/solid/acp#agent",group:"http://www.w3.org/ns/solid/acp#group",client:"http://www.w3.org/ns/solid/acp#client",PublicAgent:"http://www.w3.org/ns/solid/acp#PublicAgent",AuthenticatedAgent:"http://www.w3.org/ns/solid/acp#AuthenticatedAgent",CreatorAgent:"http://www.w3.org/ns/solid/acp#CreatorAgent"},X="http://www.w3.org/ns/solid/terms#PublicOidcClient",ee="https://w3id.org/security#publicKey",te="http://www.w3.org/ns/pim/space#storage",re={fetch:j};function ne(e){return ie.apply(this,arguments)}function ie(){return ie=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:Object.assign(Object.assign({},re),{ignoreAuthenticationErrors:!1}),i=Object.assign(Object.assign({},re),r),e.next=4,i.fetch(t,{method:"HEAD"});case 4:return o=e.sent,e.abrupt("return",oe(o,{ignoreAuthenticationErrors:null!==(n=r.ignoreAuthenticationErrors)&&void 0!==n&&n}));case 6:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(F(e)&&(!N(e)||!t.ignoreAuthenticationErrors))throw new de("Fetching the metadata of the Resource at [".concat(e.url,"] failed: [").concat(e.status,"] [").concat(e.statusText,"]."),e);var r=I(e);return{internal_resourceInfo:r}}function ae(e){return(A(e)?ue(e):R(e)).endsWith("/")}function se(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function ue(e){return A(e)?e.internal_resourceInfo.sourceIri:null}var ce=ue;function le(e){var t;if(!O(e))return null;var r=null!==(t=fe(e)["http://www.w3.org/ns/solid/terms#podOwner"])&&void 0!==t?t:[];return 1===r.length?r[0]:null}function fe(e){return e.internal_resourceInfo.linkedResources}var de=function(e){f(r,e);var t=d(r);function r(e,n){var i;return l(this,r),(i=t.call(this,e)).response=n,i}return c(r,[{key:"statusCode",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),r}(P),pe={fetch:j},he=["Slug","If-None-Match","Content-Type"];function ge(e){return he.some((function(t){return void 0!==e[t]}))}function ve(e){return ye.apply(this,arguments)}function ye(){return ye=u(s.mark((function e(t){var r,n,i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:pe,n=Object.assign(Object.assign({},pe),r),i=R(t),e.next=5,n.fetch(i,n.init);case 5:if(!F(o=e.sent)){e.next=8;break}throw new de("Fetching the File failed: [".concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:return a=I(o),e.next=11,o.blob();case 11:return u=e.sent,c=Object.assign(u,{internal_resourceInfo:a}),e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function me(){return me=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:pe,n=Object.assign(Object.assign({},pe),r),i=A(t)?R(ce(t)):R(t),e.next=5,n.fetch(i,Object.assign(Object.assign({},n.init),{method:"DELETE"}));case 5:if(!F(o=e.sent)){e.next=8;break}throw new de("Deleting the file at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:case"end":return e.stop()}}),e)}))),me.apply(this,arguments)}function be(){return be=u(s.mark((function e(t,r){var n,i,o,a,u,c,l,f=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>2&&void 0!==f[2]?f[2]:pe,i=R(t),e.next=4,ke(i,r,"POST",n);case 4:if(!F(o=e.sent)){e.next=7;break}throw new de("Saving the file in [".concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 7:if(null!==(a=o.headers.get("Location"))){e.next=10;break}throw new Error("Could not determine the location of the newly saved file.");case 10:return u=new URL(a,new URL(i).origin).href,c=T(r),l={internal_resourceInfo:{isRawData:!0,sourceIri:u,contentType:Ee(r,n.contentType)}},e.abrupt("return",Object.assign(c,l));case 14:case"end":return e.stop()}}),e)}))),be.apply(this,arguments)}function we(e,t){return xe.apply(this,arguments)}function xe(){return xe=u(s.mark((function e(t,r){var n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:pe,i=R(t),e.next=4,ke(i,r,"PUT",n);case 4:if(!F(o=e.sent)){e.next=7;break}throw new de("Overwriting the file at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 7:return a=T(r),(u=I(o)).sourceIri=i,u.isRawData=!0,e.abrupt("return",Object.assign(a,{internal_resourceInfo:u}));case 12:case"end":return e.stop()}}),e)}))),xe.apply(this,arguments)}function _e(e){if("undefined"===typeof e)return{};var t,r={};return t=e,Array.isArray(t)?e.forEach((function(e){var t=a(e,2),n=t[0],i=t[1];r[n]=i})):!function(e){return"function"===typeof e.forEach}(e)?r=e:e.forEach((function(e,t){r[t]=e})),r}function ke(e,t,r,n){return Se.apply(this,arguments)}function Se(){return(Se=u(s.mark((function e(t,r,n,i){var o,a,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=Object.assign(Object.assign({},pe),i),!ge(c=_e(null!==(a=null===(o=u.init)||void 0===o?void 0:o.headers)&&void 0!==a?a:{}))){e.next=4;break}throw new Error("No reserved header (".concat(he.join(", "),") should be set in the optional RequestInit."));case 4:return void 0!==u.slug&&(c.Slug=u.slug),c["Content-Type"]=Ee(r,i.contentType),l=R(t),e.next=9,u.fetch(l,Object.assign(Object.assign({},u.init),{headers:c,method:n,body:r}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(e,t){if("string"===typeof t)return t;var r="object"===typeof e&&null!==e&&"string"===typeof e.type&&e.type.length>0?e.type:void 0;return null!==r&&void 0!==r?r:"application/octet-stream"}k.default.dataset;var Ae="https://inrupt.com/.well-known/sdk-local-node/",Oe=Object.freeze;function Ce(e){return e.substring(0,Ae.length)===Ae}function Pe(e){return e.substring(Ae.length)}function Re(e){return"".concat(Ae).concat(e)}function je(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function Ie(e){return e.substring(2)}function Te(e){return"_:".concat(e.value)}var Fe="http://www.w3.org/2001/XMLSchema#boolean",Ne="http://www.w3.org/2001/XMLSchema#dateTime",De="http://www.w3.org/2001/XMLSchema#date",Le="http://www.w3.org/2001/XMLSchema#time",Ue="http://www.w3.org/2001/XMLSchema#decimal",Me="http://www.w3.org/2001/XMLSchema#integer",Be="http://www.w3.org/2001/XMLSchema#string",He="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function ze(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}function Ke(e){if(!/\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=qe(e),r=a(t,2),n=r[0],i=r[1],o=n.split(":"),s=a(o,3),u=s[0],c=s[1],l=s[2],f=Number.parseInt(u,10),d=Number.parseInt(c,10),p=l.split("."),h=a(p,2),g=h[0],v=h[1],y=Number.parseInt(g,10),m=v?Number.parseInt(v,10):void 0;d>=60&&(f+=1,d-=60);var b={hour:f,minute:d,second:y};if("number"===typeof m&&(b.millisecond=m),"string"===typeof i){var w=Je(i),x=a(w,2),_=x[0],k=x[1];if("number"!==typeof _||_>24||"number"!==typeof k||k>59)return null;b.timezoneHourOffset=_,b.timezoneMinuteOffset=k}return b}function We(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e.split("T"),r=a(t,2),n=r[0],i=r[1],o="-"===n.charAt(0)?[-1,n.substring(1)]:[1,n],s=a(o,2),u=s[0],c=s[1].split("-"),l=a(c,3),f=l[0],d=l[1],p=l[2],h=Number.parseInt(f,10)*u,g=Number.parseInt(d,10)-1,v=Number.parseInt(p,10),y=qe(i),m=a(y,2),b=m[0],w=m[1],x="string"===typeof w?Je(w):[0,0],_=a(x,2),k=_[0],S=_[1],E=b.split(":"),A=a(E,3),O=A[0],C=A[1],P=A[2],R=Number.parseInt(O,10)+k,j=Number.parseInt(C,10)+S,I=P.split("."),T=a(I,2),F=T[0],N=T[1],D=Number.parseInt(F,10),L=N?Number.parseInt(N,10):0,U=new Date(Date.UTC(h,g,v,R,j,D,L));return h>=0&&h<100&&U.setUTCFullYear(U.getUTCFullYear()-1900),U}function Ve(e){if(!/-?\d{4,}-\d\d-\d\d(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e,r="-"===t.charAt(0)?[-1,t.substring(1)]:[1,t],n=a(r,2),i=n[0],o=n[1].split("-"),s=a(o,3),u=s[0],c=s[1],l=s[2],f=l.length>2?l.substring(0,2):l,d=Number.parseInt(u,10)*i,p=Number.parseInt(c,10)-1,h=Number.parseInt(f,10),g=new Date(Date.UTC(d,p,h,12));return d>=0&&d<100&&g.setUTCFullYear(g.getUTCFullYear()-1900),g}function qe(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];var t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],"+"+t[1]]:[r[0],"-"+r[1]]}function Je(e){if("Z"===e)return[0,0];var t="+"===e.charAt(0)?1:-1,r=e.substring(1).split(":"),n=a(r,2),i=n[0],o=n[1];return[Number.parseInt(i,10)*t,Number.parseInt(o,10)*t]}function Ze(e){var t=Number.parseFloat(e);return Number.isNaN(t)?null:t}function Ge(e){var t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}function Qe(e){return e.toLowerCase()}function $e(e){return Ye(e)&&"NamedNode"===e.termType}function Ye(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function Xe(e){return $e(e)&&Ce(e.value)}function et(e){var t=R(e);if("function"!==typeof URL)return!0;try{new URL(t)}catch(r){return!1}return!0}function tt(e,t){return nt.namedNode(rt(Pe(e.value),t))}function rt(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");var r=new URL(t);return r.hash=e,r.href}var nt=_.default;function it(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["NamedNode","DefaultGraph"];if(!i.includes(t.graph.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.graph.termType,"] as their Graph node."));var a="DefaultGraph"===t.graph.termType?"default":t.graph.value,s=null!==(r=e.graphs[a])&&void 0!==r?r:{};return Oe(Object.assign(Object.assign({},e),{graphs:Oe(Object.assign(Object.assign({},e.graphs),o({},a,ot(s,t,n))))}))}function ot(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.subject.termType,"] as their Subject node."));var i="BlankNode"===t.subject.termType?"_:".concat(t.subject.value):t.subject.value,a=null!==(n=e[i])&&void 0!==n?n:{type:"Subject",url:i,predicates:{}};return Oe(Object.assign(Object.assign({},e),o({},i,function(e,t,r){return Oe(Object.assign(Object.assign({},e),{predicates:at(e.predicates,t,r)}))}(a,t,r))))}function at(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.predicate.termType,"] as their Predicate node."));var i=t.predicate.value,a=null!==(n=e[i])&&void 0!==n?n:{};return Oe(Object.assign(Object.assign({},e),o({},i,st(a,t,r))))}function st(e,t,r){var n,a,s,u,c,l,f,d;if("NamedNode"===t.object.termType){var p=Oe([].concat(i(null!==(n=e.namedNodes)&&void 0!==n?n:[]),[t.object.value]));return Oe(Object.assign(Object.assign({},e),{namedNodes:p}))}if("Literal"===t.object.termType){if(t.object.datatype.value===He){var h=t.object.language.toLowerCase(),g=Oe([].concat(i(null!==(s=null===(a=e.langStrings)||void 0===a?void 0:a[h])&&void 0!==s?s:[]),[t.object.value])),v=Oe(Object.assign(Object.assign({},null!==(u=e.langStrings)&&void 0!==u?u:{}),o({},h,g)));return Oe(Object.assign(Object.assign({},e),{langStrings:v}))}var y=Oe([].concat(i(null!==(l=null===(c=e.literals)||void 0===c?void 0:c[t.object.datatype.value])&&void 0!==l?l:[]),[t.object.value])),m=Oe(Object.assign(Object.assign({},null!==(f=e.literals)&&void 0!==f?f:{}),o({},t.object.datatype.value,y)));return Oe(Object.assign(Object.assign({},e),{literals:m}))}if("BlankNode"===t.object.termType){var b=ut(t.object,r),w=Oe([].concat(i(null!==(d=e.blankNodes)&&void 0!==d?d:[]),[b]));return Oe(Object.assign(Object.assign({},e),{blankNodes:w}))}throw new Error("Objects of type [".concat(t.object.termType,"] are not supported."))}function ut(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((function(t){return t.equals(e)})))return Te(e);var a=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((function(t){return t.subject.equals(e)})),s=a.filter((function(e){return!pt(e.object)})).reduce((function(e,r){var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var i=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return Oe(Object.assign(Object.assign({},e),o({},r.predicate.value,st(i,r,t))))}),{});return a.filter((function(e){return pt(e.object)})).reduce((function(e,r){var n,a;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var s=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},u=null!==(a=s.blankNodes)&&void 0!==a?a:[];return Oe(Object.assign(Object.assign({},e),o({},r.predicate.value,Object.assign(Object.assign({},s),{blankNodes:[].concat(i(u),[ut(r.object,t)])}))))}),s)}function ct(e){var t=e.map((function(e){return e.subject})).filter(pt),r=e.map((function(e){return e.object})).filter(pt);var n=[];return r.forEach((function(t){n.push.apply(n,i(dt(t,e)))})),t.concat(r).filter((function(t){if(n.some((function(e){return e.equals(t)})))return!1;var r,i=e.filter((function(e){return e.object.equals(t)})).map((function(e){return e.subject}));return i.length>0&&(r=i).every((function(e){return r.every((function(t){return e.equals(t)}))}))}))}function lt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],o=null!==(t=r.dataFactory)&&void 0!==t?t:_.default;return Object.keys(e.graphs).forEach((function(t){var a=e.graphs[t],s="default"===t?o.defaultGraph():o.namedNode(t);Object.keys(a).forEach((function(e){var t=a[e].predicates,u=je(e)?o.blankNode(Ie(e)):o.namedNode(e);n.push.apply(n,i(ft(t,u,s,r)))}))})),n}function ft(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[],s=null!==(n=o.dataFactory)&&void 0!==n?n:_.default;return Object.keys(e).forEach((function(n){var o,u,c,l,f=s.namedNode(n),d=null!==(o=e[n].langStrings)&&void 0!==o?o:{},p=null!==(u=e[n].namedNodes)&&void 0!==u?u:[],h=null!==(c=e[n].literals)&&void 0!==c?c:{},g=null!==(l=e[n].blankNodes)&&void 0!==l?l:[];Object.keys(h).forEach((function(e){var n=s.namedNode(e);h[e].forEach((function(e){var i=s.literal(e,n);a.push(s.quad(t,f,i,r))}))})),Object.keys(d).forEach((function(e){d[e].forEach((function(n){var i=s.literal(n,e);a.push(s.quad(t,f,i,r))}))})),p.forEach((function(e){var n=s.namedNode(e);a.push(s.quad(t,f,n,r))})),g.forEach((function(e){if(je(e)){var n=s.blankNode(Ie(e));a.push(s.quad(t,f,n,r))}else{var o=s.blankNode(),u=s.quad(t,f,o,r),c=ft(e,o,r);a.push(u),a.push.apply(a,i(c))}}))})),a}function dt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==r.find((function(t){return t.equals(e)})))return r;var o=t.filter((function(t){return t.subject.equals(e)&&pt(t.object)})).map((function(e){return e.object}));if(0===o.length)return[];var a,s=[].concat(i(r),[e]),u=o.map((function(e){return dt(e,t,s)})),c=[],l=n(u);try{for(l.s();!(a=l.n()).done;){var f=a.value;c.push.apply(c,i(f))}}catch(d){l.e(d)}finally{l.f()}return c}function pt(e){return"BlankNode"===e.termType}var ht=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=u(s.mark((function n(i,o){var a,u;return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.prev=1,n.next=4,S.toRDF(JSON.parse(i),{base:ue(o)});case 4:u=n.sent,a=gt(u),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),r.forEach((function(e){return e(n.t0)}));case 11:a.forEach((function(t){e.forEach((function(e){return e(t)}))})),t.forEach((function(e){return e()}));case 13:case"end":return n.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()}};function gt(e){return e.map((function(e){return nt.quad(vt(e.subject),vt(e.predicate),vt(e.object),vt(e.graph))}))}function vt(e){switch(e.termType){case"NamedNode":return nt.namedNode(e.value);case"BlankNode":return nt.blankNode(e.value.substr(2));case"Literal":return nt.literal(e.value,e.language||e.datatype);case"DefaultGraph":return nt.defaultGraph();default:throw Error("unknown termType: "+e.termType)}}var yt=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=u(s.mark((function n(i,o){return s.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mt(ue(o));case 2:n.sent.parse(i,(function(n,i,o){n?r.forEach((function(e){return e(n)})):i?e.forEach((function(e){return e(i)})):t.forEach((function(e){return e()}))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}};function mt(e){return bt.apply(this,arguments)}function bt(){return(bt=u(s.mark((function e(t){var r;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t();case 2:return r=e.sent,e.abrupt("return",new r.Parser({format:"text/turtle",baseIRI:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return xt.apply(this,arguments)}function xt(){return(xt=u(s.mark((function e(t){var r,n,i,o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_t();case 2:return r=e.sent,"text/turtle",n=new r.Writer({format:"text/turtle"}),i=t.map((function(e){return nt.quad(e.subject,e.predicate,e.object,void 0)})),n.addQuads(i),o=new Promise((function(e,t){n.end((function(r,n){if(r)return t(r);e(n)}))})),e.next=10,o;case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _t(){return kt.apply(this,arguments)}function kt(){return(kt=u(s.mark((function e(){var t;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then((function(){return w(r(1208))}));case 2:if("undefined"===typeof(t=e.sent).default){e.next=5;break}return e.abrupt("return",t.default);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e){var t,r,n,i,o,a,s,u;if($e(e))return"<".concat(e.value,"> (URL)");if(function(e){return Ye(e)&&"Literal"===e.termType}(e)){if(!$e(e.datatype))return"[".concat(e.value,"] (RDF/JS Literal of unknown type)");switch(e.datatype.value){case Fe:return(null!==(r=null===(t=ze(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:"Invalid data: `".concat(e.value,"`"))+" (boolean)";case Ne:return(null!==(i=null===(n=We(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==i?i:"Invalid data: `".concat(e.value,"`"))+" (datetime)";case Ue:return(null!==(a=null===(o=Ze(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:"Invalid data: `".concat(e.value,"`"))+" (decimal)";case Me:return(null!==(u=null===(s=Ge(e.value))||void 0===s?void 0:s.toString())&&void 0!==u?u:"Invalid data: `".concat(e.value,"`"))+" (integer)";case He:return'"'.concat(e.value,'" (').concat(e.language," string)");case Be:return'"'.concat(e.value,'" (string)');default:return"[".concat(e.value,"] (RDF/JS Literal of type: `").concat(e.datatype.value,"`)")}}return"BlankNode"===e.termType?"[".concat(e.value,"] (RDF/JS BlankNode)"):"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?"?".concat(e.value," (RDF/JS Variable)"):e}function Et(e){if(!Zt(e))throw new Xt(e)}function At(e,t){var r=C(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Ct(e)})).reduce((function(e,t){var r=a(e,2),n=r[0],i=r[1];return"undefined"!==typeof n.find((function(e){return e.equals(t)}))?[n.filter((function(e){return!e.equals(t)})),i]:[n,i.concat(t)]}),[r.additions,r.deletions]),i=a(n,2),o=i[0],s=i[1];return Oe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}function Ot(e){return C(e)?e:Oe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}function Ct(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function Pt(e,t){var r,n,i;if(Et(e),!et(t))throw new er(t);var o=R(t),a=null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==i?i:null;return null===a?null:Ce(a)?"#".concat(Pe(a)):a}var Rt=Pt;function jt(e,t){var r,n,i;if(Et(e),!et(t))throw new er(t);var o=R(t);return null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((function(e){return Ce(e)?"#".concat(Pe(e)):e})))&&void 0!==i?i:[]}var It=jt;function Tt(e,t,r){var n,i;if(Et(e),!et(t))throw new er(t);var o=R(t),a=null!==(i=null===(n=e.predicates[o])||void 0===n?void 0:n.langStrings)&&void 0!==i?i:{},s=Object.keys(a).find((function(e){return e.toLowerCase()===r.toLowerCase()&&Array.isArray(a[e])&&a[e].length>0}));return"string"===typeof s?a[s][0]:null}function Ft(e,t,r){var n,o;if(Et(e),!et(t))throw new er(t);var a=R(t),s=null!==(o=null===(n=e.predicates[a])||void 0===n?void 0:n.langStrings)&&void 0!==o?o:{},u=Object.keys(s).find((function(e){return e.toLowerCase()===r.toLowerCase()&&Array.isArray(s[e])&&s[e].length>0}));return"string"===typeof u?i(s[u]):[]}function Nt(e,t){var r=Rt(e,t);return null===r?null:nt.namedNode(r)}function Dt(e,t){return It(e,t).map((function(e){return nt.namedNode(e)}))}function Lt(e,t){var r,n,i,o;if(Et(e),!et(t))throw new er(t);var a=R(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},u=Object.keys(s);if(u.length>0){var c=u.find((function(e){return Array.isArray(s[e])&&s[e].length>0}));if("string"===typeof c)return nt.literal(s[c][0],c)}var l=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},f=Object.keys(l);if(f.length>0){var d=f.find((function(e){return Array.isArray(l[e])&&l[e].length>0}));if("string"===typeof d)return nt.literal(l[d][0],nt.namedNode(d))}return null}function Ut(e,t){var r,n,i,o;if(Et(e),!et(t))throw new er(t);for(var a=R(t),s=[],u=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},c=Object.keys(u),l=function(){var e=d[f],t=u[e].map((function(t){return nt.literal(t,e)}));s=s.concat(t)},f=0,d=c;f<d.length;f++)l();for(var p=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},h=Object.keys(p),g=function(){var e=y[v],t=p[e],r=nt.namedNode(e),n=t.map((function(e){return nt.literal(e,r)}));s=s.concat(n)},v=0,y=h;v<y.length;v++)g();return s}function Mt(e,t){var r,n;Et(e);var i=Nt(e,t);if(null!==i)return i;var o=Lt(e,t);if(null!==o)return o;var a=R(t),s=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[];if(s.length>0){var u=je(s[0])?Ie(s[0]):void 0;return nt.blankNode(u)}return null}function Bt(e,t){var r,n;Et(e);var i=Dt(e,t),o=Ut(e,t),a=R(t),s=(null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((function(e){var t=je(e)?Ie(e):void 0;return nt.blankNode(t)}));return i.concat(o).concat(s)}function Ht(e,t,r){var n,i,o,a;if(!et(t))throw new er(t);var s=R(t);return null!==(a=null===(o=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function zt(e,t,r){var n,o,a;if(!et(t))throw new er(t);var s=R(t),u=null!==(a=null===(o=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===o?void 0:o[r])&&void 0!==a?a:[];return i(u)}function Kt(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!et(t))throw new rr(t);var i="undefined"!==typeof n.scope?R(n.scope):"default",o=null!==(r=e.graphs[i])&&void 0!==r?r:{},a=R(t),s=Ce(a)&&O(e)?rt(Pe(a),ue(e)):a,u=o[s];return"undefined"===typeof u?null:u}function Wt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1},n="undefined"!==typeof r.scope?R(r.scope):"default",i=null!==(t=e.graphs[n])&&void 0!==t?t:{};return Object.values(i).filter((function(e){return!je(e.url)||r.acceptBlankNodes}))}function Vt(e,t){var r,n=Yt(t)&&O(e)?rt(Pe(t.url),ue(e)):t.url,i=e.graphs.default,s=Oe(Object.assign(Object.assign({},i),o({},n,Oe(Object.assign(Object.assign({},t),{url:n}))))),u=Oe(Object.assign(Object.assign({},e.graphs),{default:s})),c=nt.namedNode(n),l=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,f="undefined"!==typeof l?ft(l,c,nt.defaultGraph()):[],d=ft(t.predicates,c,nt.defaultGraph());return function(e,t){var r=C(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Ct(e)})).reduce((function(e,t){var r=a(e,2),n=r[0],i=r[1];return"undefined"!==typeof i.find((function(e){return e.equals(t)}))?[n,i.filter((function(e){return!e.equals(t)}))]:[n.concat(t),i]}),[r.additions,r.deletions]),i=a(n,2),o=i[0],s=i[1];return Oe(Object.assign(Object.assign({},e),{internal_changeLog:{additions:o,deletions:s}}))}(At(Oe(Object.assign(Object.assign({},e),{graphs:u})),f),d)}function qt(e,t){var r,n;n=$e(t)?t.value:"string"===typeof t?Ce(t)&&O(e)?rt(Pe(t),ue(e)):t:Yt(t)?t.url:Qt(t);var i=e.graphs.default,o=Object.assign({},i);delete o[n];var a=Oe(Object.assign(Object.assign({},e.graphs),{default:Oe(o)})),s=nt.namedNode(n),u=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,c="undefined"!==typeof u?ft(u,s,nt.defaultGraph()):[];return At(Oe(Object.assign(Object.assign({},e),{graphs:a})),c)}function Jt(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof t.url){var r=t.url;if(!et(r))throw new rr(r);var n=Oe({type:"Subject",predicates:Oe({}),url:r});return n}var i=null!==(e=t.name)&&void 0!==e?e:nr(),o=Re(i),a=Oe({type:"Subject",predicates:Oe({}),url:o});return a}function Zt(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}function Gt(e,t){if(Yt(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return rt(Pe(e.url),t)}return e.url}var Qt=Gt;function $t(e){var t="";Yt(e)?t+="## Thing (no URL yet \u2014 identifier: `#".concat(Pe(e.url),"`)\n"):t+="## Thing: ".concat(e.url,"\n");var r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else{var i,o=n(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;t+="\nProperty: ".concat(a,"\n"),Bt(e,a).forEach((function(e){t+="- ".concat(St(e),"\n")}))}}catch(s){o.e(s)}finally{o.f()}}return t}function Yt(e){return Ce(e.url)}var Xt=function(e){f(r,e);var t=d(r);function r(e){var n;l(this,r);var i="Expected a Thing, but received: [".concat(e,"].");return(n=t.call(this,i)).receivedValue=e,n}return c(r)}(P),er=function(e){f(r,e);var t=d(r);function r(e){var n;l(this,r);var i=$e(e)?e.value:e,o="Expected a valid URL to identify a property, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedProperty=i,n}return c(r)}(P),tr=function(e){f(r,e);var t=d(r);function r(e){var n;l(this,r);var i=$e(e)?e.value:e,o="Expected a valid URL value, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return c(r)}(P),rr=function(e){f(r,e);var t=d(r);function r(e){var n;l(this,r);var i=$e(e)?e.value:e,o="Expected a valid URL to identify a Thing, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return c(r)}(P),nr=function(){return Date.now().toString()+Math.random().toString().substring("0.".length)};function ir(e){var t=new URL(e);return t.hash="",t.href}function or(){return Oe({type:"Dataset",graphs:{default:{}}})}function ar(e){return sr.apply(this,arguments)}function sr(){return sr=u(s.mark((function e(t){var r,n,i,o,a,c,l,f,d=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},!F(t)){e.next=3;break}throw new de("Fetching the SolidDataset at [".concat(t.url,"] failed: [").concat(t.status,"] [").concat(t.statusText,"]."),t);case 3:if(n=oe(t),i=Object.assign({"text/turtle":yt()},r.parsers),null!==(o=se(n))){e.next=8;break}throw new Error("Could not determine the content type of the Resource at [".concat(ue(n),"]."));case 8:if(a=o.split(";")[0],"undefined"!==typeof(c=i[a])){e.next=12;break}throw new Error("The Resource at [".concat(ue(n),"] has a MIME type of [").concat(a,"], but the only parsers available are for the following MIME types: [").concat(Object.keys(i).join(", "),"]."));case 12:return e.next=14,t.text();case 14:return l=e.sent,f=new Promise((function(e,t){var r=Oe({graphs:Oe({default:Oe({})}),type:"Dataset"}),i=[],a=[];c.onError((function(e){t(new Error("Encountered an error parsing the Resource at [".concat(ue(n),"] with content type [").concat(o,"]: ").concat(e)))})),c.onQuad((function(e){a.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?i.push(e):r=it(r,e)})),c.onComplete(u(s.mark((function t(){var o,u,c;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:20,o=i.length<=20?ct(i):[],u=i.filter((function(e){return o.every((function(t){return!t.equals(e.subject)}))})),r=u.reduce((function(e,t){return it(e,t,{otherQuads:a,chainBlankNodes:o})}),r),c=Oe(Object.assign(Object.assign({},r),n)),e(c);case 6:case"end":return t.stop()}}),t)})))),c.parse(l,n)})),e.next=18,f;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function ur(e){return cr.apply(this,arguments)}function cr(){return cr=u(s.mark((function e(t){var r,n,i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>1&&void 0!==l[1]?l[1]:re,t=R(t),i=Object.assign(Object.assign({},re),r),o=Object.keys(null!==(n=r.parsers)&&void 0!==n?n:{}),a=o.length>0?o.join(", "):"text/turtle",e.next=7,i.fetch(t,{headers:{Accept:a}});case 7:if(!F(u=e.sent)){e.next=10;break}throw new de("Fetching the Resource at [".concat(t,"] failed: [").concat(u.status,"] [").concat(u.statusText,"]."),u);case 10:return e.next=12,ar(u,r);case 12:return c=e.sent,e.abrupt("return",c);case 14:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e){return fr.apply(this,arguments)}function fr(){return(fr=u(s.mark((function e(t){var r,n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.internal_changeLog.deletions.length>0)){e.next=8;break}return e.t1="DELETE DATA {",e.next=4,wt(t.internal_changeLog.deletions.map(Ar));case 4:e.t2=e.sent.trim(),e.t0=e.t1.concat.call(e.t1,e.t2,"};"),e.next=9;break;case 8:e.t0="";case 9:if(r=e.t0,!(t.internal_changeLog.additions.length>0)){e.next=18;break}return e.t4="INSERT DATA {",e.next=14,wt(t.internal_changeLog.additions.map(Ar));case 14:e.t5=e.sent.trim(),e.t3=e.t4.concat.call(e.t4,e.t5,"};"),e.next=19;break;case 18:e.t3="";case 19:return n=e.t3,e.abrupt("return",{method:"PATCH",body:"".concat(r," ").concat(n),headers:{"Content-Type":"application/sparql-update"}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dr(e){return pr.apply(this,arguments)}function pr(){return(pr=u(s.mark((function e(t){return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(lt(t).map(Ar));case 2:return e.t0=e.sent,e.t1={"Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(J,'>; rel="type"')},e.abrupt("return",{method:"PUT",body:e.t0,headers:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hr(e,t){return gr.apply(this,arguments)}function gr(){return gr=u(s.mark((function e(t,r){var n,i,o,a,u,c,l,f,d,p=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>2&&void 0!==p[2]?p[2]:re,t=R(t),i=Object.assign(Object.assign({},re),n),!wr(o=Ot(r),t)){e.next=10;break}return e.next=7,lr(o);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,dr(o);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,i.fetch(t,a);case 16:if(!F(u=e.sent)){e.next=20;break}throw c=wr(o,t)?"The changes that were sent to the Pod are listed below.\n\n"+Er(o):"The SolidDataset that was sent to the Pod is listed below.\n\n"+Sr(o),new de("Storing the Resource at [".concat(t,"] failed: [").concat(u.status,"] [").concat(u.statusText,"].\n\n")+c,u);case 20:return l=Object.assign(Object.assign({},I(u)),{isRawData:!1}),f=Oe(Object.assign(Object.assign({},r),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:l})),d=Cr(f),e.abrupt("return",d);case 24:case"end":return e.stop()}}),e)}))),gr.apply(this,arguments)}function vr(){return vr=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:re,n=Object.assign(Object.assign({},re),r),i=A(t)?R(ue(t)):R(t),e.next=5,n.fetch(i,{method:"DELETE"});case 5:if(!F(o=e.sent)){e.next=8;break}throw new de("Deleting the SolidDataset at [".concat(i,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 8:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}function yr(){return yr=u(s.mark((function e(t){var r,n,i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:re,t=(t=R(t)).endsWith("/")?t:t+"/",i=Object.assign(Object.assign({},re),r),e.t0=i,e.t1=t,!i.initialContent){e.next=12;break}return e.next=9,wt(lt(i.initialContent).map(Ar));case 9:e.t2=e.sent,e.next=13;break;case 12:e.t2=void 0;case 13:return e.t3=e.t2,e.t4={Accept:"text/turtle","Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(q,'>; rel="type"')},e.t5={method:"PUT",body:e.t3,headers:e.t4},e.next=18,e.t0.fetch.call(e.t0,e.t1,e.t5);case 18:if(!F(o=e.sent)){e.next=31;break}if(e.t6=409===o.status&&"Conflict"===o.statusText,!e.t6){e.next=27;break}return e.next=24,o.text();case 24:e.t7=e.sent.trim(),e.t8=mr,e.t6=e.t7===e.t8;case 27:if(!e.t6){e.next=29;break}return e.abrupt("return",br(t,r));case 29:throw a=void 0===i.initialContent?"empty":"non-empty",new de("Creating the ".concat(a," Container at [").concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 31:return u=I(o),c=Oe(Object.assign(Object.assign({},null!==(n=r.initialContent)&&void 0!==n?n:or()),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:u})),e.abrupt("return",c);case 34:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var mr="Can't write file: PUT not supported on containers, use POST instead",br=function(){var e=u(s.mark((function e(t,r){var n,i,o,a,u,c,l;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=R(t),n=Object.assign(Object.assign({},re),r),e.prev=2,e.next=5,ne(t,r);case 5:i=e.sent,e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(2),e.t0 instanceof de&&404===e.t0.statusCode){e.next=12;break}throw e.t0;case 12:if("undefined"===typeof i){e.next=14;break}throw new Error("The Container at [".concat(t,"] already exists, and therefore cannot be created again."));case 14:return o=t+".dummy",e.next=17,n.fetch(o,{method:"PUT",headers:{Accept:"text/turtle","Content-Type":"text/turtle"}});case 17:if(!F(a=e.sent)){e.next=20;break}throw new de("Creating the empty Container at [".concat(t,"] failed: [").concat(a.status,"] [").concat(a.statusText,"]."),a);case 20:return e.next=22,n.fetch(o,{method:"DELETE"});case 22:return e.next=24,n.fetch(t,{method:"HEAD"});case 24:return u=e.sent,c=I(u),l=Oe(Object.assign(Object.assign({},or()),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:c})),e.abrupt("return",l);case 28:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,r){return e.apply(this,arguments)}}();function wr(e,t){return C(e)&&A(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&(r=t,ir(e.internal_resourceInfo.sourceIri)===ir(r));var r}function xr(){return xr=u(s.mark((function e(t,r){var n,i,o,a,u,c,l,f,d,p,h=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.length>2&&void 0!==h[2]?h[2]:re,i=Object.assign(Object.assign({},re),n),t=R(t),e.next=5,wt(lt(r).map(Ar));case 5:return o=e.sent,a={"Content-Type":"text/turtle",Link:"<".concat(J,'>; rel="type"')},n.slugSuggestion&&(a.slug=n.slugSuggestion),e.next=10,i.fetch(t,{method:"POST",body:o,headers:a});case 10:if(!F(u=e.sent)){e.next=13;break}throw new de("Storing the Resource in the Container at [".concat(t,"] failed: [").concat(u.status,"] [").concat(u.statusText,"].\n\n")+"The SolidDataset that was sent to the Pod is listed below.\n\n"+Sr(r),u);case 13:if(null!==(c=u.headers.get("Location"))){e.next=16;break}throw new Error("Could not determine the location of the newly saved SolidDataset.");case 16:return l=new URL(c,u.url).href,f={internal_resourceInfo:{isRawData:!1,sourceIri:l}},d=Oe(Object.assign(Object.assign({},r),f)),p=Cr(d),e.abrupt("return",p);case 21:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function _r(){return _r=u(s.mark((function e(t){var r,n,i,o,a,u,c,l,f=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:re,t=R(t),n=Object.assign(Object.assign({},re),r),i={"Content-Type":"text/turtle",Link:"<".concat(q,'>; rel="type"')},r.slugSuggestion&&(i.slug=r.slugSuggestion),e.next=7,n.fetch(t,{method:"POST",headers:i});case 7:if(!F(o=e.sent)){e.next=10;break}throw new de("Creating an empty Container in the Container at [".concat(t,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 10:if(null!==(a=o.headers.get("Location"))){e.next=13;break}throw new Error("Could not determine the location of the newly created Container.");case 13:return u=new URL(a,o.url).href,c={internal_resourceInfo:{isRawData:!1,sourceIri:u}},l=Oe(Object.assign(Object.assign({},or()),c)),e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)}))),_r.apply(this,arguments)}function kr(){return kr=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:re,n=A(t)?R(ue(t)):R(t),ae(t)){e.next=4;break}throw new Error("You're trying to delete the Container at [".concat(n,"], but Container URLs should end in a `/`. Are you sure this is a Container?"));case 4:return i=Object.assign(Object.assign({},re),r),e.next=7,i.fetch(n,{method:"DELETE"});case 7:if(!F(o=e.sent)){e.next=10;break}throw new de("Deleting the Container at [".concat(n,"] failed: [").concat(o.status,"] [").concat(o.statusText,"]."),o);case 10:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}function Sr(e){var t="";A(e)?t+="# SolidDataset: ".concat(ue(e),"\n"):t+="# SolidDataset (no URL yet)\n";var r=Wt(e);return 0===r.length?t+="\n<empty>\n":r.forEach((function(r){t+="\n"+$t(r),C(e)&&(t+="\n"+function(e,t){var r=nt.namedNode(t.url),n=e.internal_changeLog.additions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),i=e.internal_changeLog.deletions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),o=1===i?"1 value removed":i+" values removed";return"(".concat(1===n?"1 new value added":n+" new values added"," / ").concat(o,")")}(e,r)+"\n")})),t}function Er(e){if(!A(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!C(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return"## Changes compared to ".concat(ue(e),"\n\n")+"This SolidDataset has not been modified since it was fetched from ".concat(ue(e),".\n");var t="## Changes compared to ".concat(ue(e),"\n"),r=function(e){var t={};return e.internal_changeLog.deletions.forEach((function(r){var n,i,o,a=Xe(r.subject)?tt(r.subject,ue(e)):r.subject;if($e(a)&&$e(r.predicate)){var s=R(a),u=R(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].deleted.push(r.object)}})),e.internal_changeLog.additions.forEach((function(r){var n,i,o,a=Xe(r.subject)?tt(r.subject,ue(e)):r.subject;if($e(a)&&$e(r.predicate)){var s=R(a),u=R(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].added.push(r.object)}})),t}(e);return Object.keys(r).forEach((function(e){t+="\n### Thing: ".concat(e,"\n");var n=r[e];Object.keys(n).forEach((function(e){t+="\nProperty: ".concat(e,"\n");var r=n[e].deleted,i=n[e].added;r.length>0&&(t+="- Removed:\n",r.forEach((function(e){return t+="  - ".concat(St(e),"\n")}))),i.length>0&&(t+="- Added:\n",i.forEach((function(e){return t+="  - ".concat(St(e),"\n")})))}))})),t}function Ar(e){var t=$e(e.subject)?Or(e.subject):e.subject,r=$e(e.object)?Or(e.object):e.object;return nt.quad(t,e.predicate,r,e.graph)}function Or(e){return Ce(e.value)?nt.namedNode("#"+Pe(e.value)):e}function Cr(e){var t=ue(e),r=e.graphs.default,n=Object.keys(r).reduce((function(e,r){var n=function(e,t){var r=Object.keys(e.predicates).reduce((function(e,r){var n,i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((function(e){return!Ce(e)})))return e;var a=Oe(i.map((function(e){return Ce(e)?"".concat(t,"#").concat(Pe(e)):e}))),s=Oe(Object.assign(Object.assign({},e[r]),{namedNodes:a}));return Oe(Object.assign(Object.assign({},e),o({},r,s)))}),e.predicates);return Oe(Object.assign(Object.assign({},e),{predicates:r,url:Ce(e.url)?"".concat(t,"#").concat(Pe(e.url)):e.url}))}(e[r],t),i=Ce(r)?"".concat(t,"#").concat(Pe(r)):r,a=Object.assign({},e);return delete a[r],a[i]=n,Oe(a)}),r),i=Oe(Object.assign(Object.assign({},e.graphs),{default:n}));return Oe(Object.assign(Object.assign({},e),{graphs:i}))}function Pr(){return Pr=u(s.mark((function e(t){var r,n,i,o,a,u,c,l,f=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f.length>1&&void 0!==f[1]?f[1]:re,n=R(t),e.next=4,ne(n,{fetch:r.fetch,ignoreAuthenticationErrors:!0});case 4:if(i=e.sent,o=fe(i),a=o[te],null===(u=1===(null===a||void 0===a?void 0:a.length)?a[0]:null)){e.next=18;break}return c=new URL(".well-known/solid",u.endsWith("/")?u:u+"/").href,e.prev=10,e.next=13,ur(c,Object.assign(Object.assign({},r),{parsers:{"application/ld+json":ht()}}));case 13:return e.abrupt("return",e.sent);case 16:e.prev=16,e.t0=e.catch(10);case 18:return l=new URL("/.well-known/solid",new URL(n).origin).href,e.abrupt("return",ur(l,Object.assign(Object.assign({},r),{parsers:{"application/ld+json":ht()}})));case 20:case"end":return e.stop()}}),e,null,[[10,16]])}))),Pr.apply(this,arguments)}var Rr=E.Response;function jr(e){var t=or();return Object.assign(Object.assign({},t),{internal_resourceInfo:{sourceIri:R(e),isRawData:!1,contentType:"text/turtle",linkedResources:{}}})}function Ir(e){var t=R(e);if(!t.endsWith("/"))throw new Error("A Container's URL should end in a slash. Please update your tests.");return jr(t)}var Tr=function(e,t,r){var n,i;if(Et(e),!et(t))throw new er(t);if(!Zt(r)&&!et(r))throw new tr(r);var a,s=R(t),u=null!==(n=e.predicates[s])&&void 0!==n?n:{},c=null!==(i=u.namedNodes)&&void 0!==i?i:[];a=$e(r)?r.value:"string"===typeof r?r:Yt(r)?r.url:Qt(r);var l=Oe(c.concat(R(a))),f=Oe(Object.assign(Object.assign({},u),{namedNodes:l})),d=Oe(Object.assign(Object.assign({},e.predicates),o({},s,f)));return Oe(Object.assign(Object.assign({},e),{predicates:d}))},Fr=Tr,Nr=function(e,t,r){return Et(e),qr(e,t,function(e){return e?"true":"false"}(r),Fe)},Dr=function(e,t,r){return Et(e),qr(e,t,function(e){return e.toISOString()}(r),Ne)},Lr=function(e,t,r){return Et(e),qr(e,t,function(e){var t=e.getFullYear(),r=e.getMonth()+1,n=e.getDate(),i=qe(e.toISOString()),o=a(i,2),s=(o[0],o[1]);return"".concat(t,"-").concat(String(r).padStart(2,"0"),"-").concat(String(n).padStart(2,"0")).concat(s)}(r),De)},Ur=function(e,t,r){return Et(e),qr(e,t,function(e){var t,r;if(e.millisecond&&(t=e.millisecond<10?"00"+e.millisecond:e.millisecond<100?"0"+e.millisecond:e.millisecond),"number"===typeof e.timezoneHourOffset){var n=Math.abs(e.timezoneHourOffset)<10?"0"+Math.abs(e.timezoneHourOffset):Math.abs(e.timezoneHourOffset);r=e.timezoneHourOffset>=0?"+"+n:"-"+n,e.timezoneMinuteOffset?r=r+":"+(e.timezoneMinuteOffset<10?"0"+e.timezoneMinuteOffset:e.timezoneMinuteOffset):r+=":00"}return(e.hour<10?"0"+e.hour:e.hour)+":"+(e.minute<10?"0"+e.minute:e.minute)+":"+(e.second<10?"0"+e.second:e.second)+(e.millisecond?"."+t:"")+(r||"")}(r),Le)},Mr=function(e,t,r){return Et(e),qr(e,t,function(e){return e.toString()}(r),Ue)},Br=function(e,t,r){return Et(e),qr(e,t,function(e){return e.toString()}(r),Me)};function Hr(e,t,r,n){var i,a,s;if(Et(e),!et(t))throw new er(t);var u=R(t),c=Qe(n),l=null!==(i=e.predicates[u])&&void 0!==i?i:{},f=null!==(a=l.langStrings)&&void 0!==a?a:{},d=null!==(s=f[c])&&void 0!==s?s:[],p=Oe(d.concat(r)),h=Oe(Object.assign(Object.assign({},f),o({},c,p))),g=Oe(Object.assign(Object.assign({},l),{langStrings:h})),v=Oe(Object.assign(Object.assign({},e.predicates),o({},u,g)));return Oe(Object.assign(Object.assign({},e),{predicates:v}))}var zr=function(e,t,r){return Et(e),qr(e,t,r,Be)};function Kr(e,t,r){return Tr(e,t,r.value)}function Wr(e,t,r){if(Et(e),!et(t))throw new er(t);return r.datatype.value===He?Hr(e,t,r.value,r.language):qr(e,t,r.value,r.datatype.value)}function Vr(e,t,r){var n,i;if("NamedNode"===r.termType)return Kr(e,t,r);if("Literal"===r.termType)return Wr(e,t,r);if("BlankNode"===r.termType){if(Et(e),!et(t))throw new er(t);var a=R(t),s=null!==(n=e.predicates[a])&&void 0!==n?n:{},u=null!==(i=s.blankNodes)&&void 0!==i?i:[],c=Oe(u.concat(Te(r))),l=Oe(Object.assign(Object.assign({},s),{blankNodes:c})),f=Oe(Object.assign(Object.assign({},e.predicates),o({},a,l)));return Oe(Object.assign(Object.assign({},e),{predicates:f}))}throw new Error("Term type [".concat(r.termType,"] is not supported by @inrupt/solid-client."))}function qr(e,t,r,n){var i,a,s;if(Et(e),!et(t))throw new er(t);var u=R(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[n])&&void 0!==s?s:[],d=Oe(f.concat(r)),p=Oe(Object.assign(Object.assign({},l),o({},n,d))),h=Oe(Object.assign(Object.assign({},c),{literals:p})),g=Oe(Object.assign(Object.assign({},e.predicates),o({},u,h)));return Oe(Object.assign(Object.assign({},e),{predicates:g}))}function Jr(e,t){if(Et(e),!et(t))throw new er(t);var r=R(t),n=Object.assign({},e.predicates);return delete n[r],Oe(Object.assign(Object.assign({},e),{predicates:Oe(n)}))}var Zr=function(e,t,r){var n,i,a;if(Et(e),!et(t))throw new er(t);var s=R(t);if(!Zt(r)&&!et(r))throw new tr(r);var u=$e(r)?r.value:"string"===typeof r?r:Qt(r),c=Oe(null!==(a=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.namedNodes)||void 0===i?void 0:i.filter((function(e){return e.toLowerCase()!==u.toLowerCase()})))&&void 0!==a?a:[]),l=Oe(Object.assign(Object.assign({},e.predicates[s]),{namedNodes:c})),f=Oe(Object.assign(Object.assign({},e.predicates),o({},s,l)));return Oe(Object.assign(Object.assign({},e),{predicates:f}))},Gr=Zr,Qr=function(e,t,r){return Et(e),sn(e,t,Fe,(function(e){return ze(e)===r}))},$r=function(e,t,r){return Et(e),sn(e,t,Ne,(function(e){var t;return(null===(t=We(e))||void 0===t?void 0:t.getTime())===r.getTime()}))},Yr=function(e,t,r){return Et(e),sn(e,t,De,(function(e){var t=Ve(e);return!!t&&(t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()&&t.getDate()===r.getDate())}))},Xr=function(e,t,r){return Et(e),sn(e,t,Le,(function(e){var t=Ke(e);return!!t&&(t.hour===r.hour&&t.minute===r.minute&&t.second===r.second&&t.millisecond===r.millisecond&&t.timezoneHourOffset===r.timezoneHourOffset&&t.timezoneMinuteOffset===r.timezoneMinuteOffset)}))},en=function(e,t,r){return Et(e),sn(e,t,Ue,(function(e){return Ze(e)===r}))},tn=function(e,t,r){return Et(e),sn(e,t,Me,(function(e){return Ge(e)===r}))};function rn(e,t,r,n){var i,a;if(Et(e),!et(t))throw new er(t);var s=R(t),u=null!==(a=null===(i=e.predicates[s])||void 0===i?void 0:i.langStrings)&&void 0!==a?a:{},c=Object.keys(u).find((function(e){return Qe(e)===Qe(n)&&Array.isArray(u[e])&&u[e].length>0}));if("string"!==typeof c)return e;var l=u[c],f=Oe(l.filter((function(e){return e!==r}))),d=Oe(Object.assign(Object.assign({},u),o({},c,f))),p=Oe(Object.assign(Object.assign({},e.predicates[s]),{langStrings:d})),h=Oe(Object.assign(Object.assign({},e.predicates),o({},s,p)));return Oe(Object.assign(Object.assign({},e),{predicates:h}))}var nn=function(e,t,r){return Et(e),sn(e,t,Be,(function(e){return e===r}))};function on(e,t,r){return Zr(e,t,r.value)}function an(e,t,r){var n,i,a;if(Et(e),!et(t))throw new er(t);var s=r.datatype.value;if(s===He)return rn(e,t,r.value,r.language);var u=R(t),c=null!==(n=e.predicates[u])&&void 0!==n?n:{},l=null!==(i=c.literals)&&void 0!==i?i:{},f=null!==(a=l[s])&&void 0!==a?a:[],d=Oe(f.filter((function(e){return e!==r.value}))),p=Oe(Object.assign(Object.assign({},l),o({},s,d))),h=Oe(Object.assign(Object.assign({},c),{literals:p})),g=Oe(Object.assign(Object.assign({},e.predicates),o({},u,h)));return Oe(Object.assign(Object.assign({},e),{predicates:g}))}function sn(e,t,r,n){var i,a,s;if(!et(t))throw new er(t);var u=R(t),c=null!==(i=e.predicates[u])&&void 0!==i?i:{},l=null!==(a=c.literals)&&void 0!==a?a:{},f=null!==(s=l[r])&&void 0!==s?s:[],d=Oe(f.filter((function(e){return!n(e)}))),p=Oe(Object.assign(Object.assign({},l),o({},r,d))),h=Oe(Object.assign(Object.assign({},c),{literals:p})),g=Oe(Object.assign(Object.assign({},e.predicates),o({},u,h)));return Oe(Object.assign(Object.assign({},e),{predicates:g}))}var un=function(e,t,r){if(Et(e),!et(t))throw new er(t);if(!Zt(r)&&!et(r))throw new tr(r);return Tr(Jr(e,t),t,r)},cn=un,ln=function(e,t,r){return Et(e),Nr(Jr(e,t),t,r)},fn=function(e,t,r){return Et(e),Dr(Jr(e,t),t,r)},dn=function(e,t,r){return Et(e),Lr(Jr(e,t),t,r)},pn=function(e,t,r){return Et(e),Ur(Jr(e,t),t,r)},hn=function(e,t,r){return Et(e),Mr(Jr(e,t),t,r)},gn=function(e,t,r){return Et(e),Br(Jr(e,t),t,r)};function vn(e,t,r,n){return Et(e),Hr(Jr(e,t),t,r,n)}var yn=function(e,t,r){return Et(e),zr(Jr(e,t),t,r)};function mn(e,t,r){return Et(e),Kr(Jr(e,t),t,r)}function bn(e,t,r){return Et(e),Wr(Jr(e,t),t,r)}function wn(e,t,r){if(Et(e),!et(t))throw new er(t);return Vr(Jr(e,t),t,r)}function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt(),t=Zt(e)?e:Jt(e);function r(e){return function(r,n){return t=e(t,r,n),o}}function n(e){return function(r,n){return t=e(t,r,n),o}}function i(e){return function(r,n){return t=e(t,r,n),o}}var o={build:function(){return t},addUrl:r(Tr),addIri:r(Fr),addBoolean:r(Nr),addDatetime:r(Dr),addDate:r(Lr),addTime:r(Ur),addDecimal:r(Mr),addInteger:r(Br),addStringNoLocale:r(zr),addStringEnglish:function(e,r){return t=Hr(t,e,r,"en"),o},addStringWithLocale:function(e,r,n){return t=Hr(t,e,r,n),o},addNamedNode:r(Kr),addLiteral:r(Wr),addTerm:r(Vr),setUrl:n(un),setIri:n(cn),setBoolean:n(ln),setDatetime:n(fn),setDate:n(dn),setTime:n(pn),setDecimal:n(hn),setInteger:n(gn),setStringNoLocale:n(yn),setStringEnglish:function(e,r){return t=vn(t,e,r,"en"),o},setStringWithLocale:function(e,r,n){return t=vn(t,e,r,n),o},setNamedNode:n(mn),setLiteral:n(bn),setTerm:n(wn),removeAll:function(e){return t=Jr(t,e),o},removeUrl:i(Zr),removeIri:i(Gr),removeBoolean:i(Qr),removeDatetime:i($r),removeDate:i(Yr),removeTime:i(Xr),removeDecimal:i(en),removeInteger:i(tn),removeStringNoLocale:i(nn),removeStringEnglish:function(e,r){return xn(rn(t,e,r,"en"))},removeStringWithLocale:function(e,r,n){return xn(rn(t,e,r,n))},removeNamedNode:i(on),removeLiteral:i(an)};return o}function _n(e){var t=fe(e).type;return Array.isArray(t)&&t.includes(Y.AccessControlResource)}function kn(e){return Sn.apply(this,arguments)}function Sn(){return Sn=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:re,ai(t)){e.next=3;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 3:return e.prev=3,e.next=6,En(t,r);case 6:if(null!==(n=e.sent)){e.next=14;break}return e.next=10,On(t,r);case 10:e.t1=e.sent,e.t0={resourceAcl:null,fallbackAcl:e.t1},e.next=15;break;case 14:e.t0={resourceAcl:n,fallbackAcl:null};case 15:return i=e.t0,e.abrupt("return",i);case 19:if(e.prev=19,e.t2=e.catch(3),!(e.t2 instanceof Jn)){e.next=23;break}return e.abrupt("return",{resourceAcl:null,fallbackAcl:null});case 23:throw e.t2;case 24:case"end":return e.stop()}}),e,null,[[3,19]])}))),Sn.apply(this,arguments)}function En(e){return An.apply(this,arguments)}function An(){return An=u(s.mark((function e(t){var r,n,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:re,ai(t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.prev=3,e.next=6,ur(t.internal_resourceInfo.aclUrl,r);case 6:if(!_n(n=e.sent)){e.next=9;break}throw new Jn(t,n);case 9:return e.abrupt("return",Oe(Object.assign(Object.assign({},n),{internal_accessTo:ue(t)})));case 12:if(e.prev=12,e.t0=e.catch(3),!(e.t0 instanceof Jn)){e.next=16;break}throw e.t0;case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[3,12]])}))),An.apply(this,arguments)}function On(e){return Cn.apply(this,arguments)}function Cn(){return Cn=u(s.mark((function e(t){var r,n,i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:re,n=new URL(ue(t)),"/"!==(i=n.pathname)){e.next=5;break}return e.abrupt("return",null);case 5:return o=Pn(i),a=new URL(o,n.origin).href,e.next=9,ne(a,r);case 9:if(ai(u=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return e.next=14,En(u,r);case 14:if(null!==(c=e.sent)){e.next=17;break}return e.abrupt("return",On(u,r));case 17:return e.abrupt("return",c);case 18:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}function Pn(e){var t="/"===e.substring(e.length-1)?e.substring(0,e.length-1):e;return e.substring(0,t.lastIndexOf("/"))+"/"}function Rn(e){return Wt(e).filter(jn)}function jn(e){return It(e,V).includes(D)}function In(e,t){return e.filter((function(e){return function(e,t){return It(e,L).includes(t)}(e,t)}))}function Tn(e,t){return e.filter((function(e){return function(e,t){return It(e,H).includes(t)||It(e,z).includes(t)}(e,t)}))}function Fn(e){var t=It(e,K);return t.includes(Ln.write)?{read:t.includes(Ln.read),append:!0,write:!0,control:t.includes(Ln.control)}:{read:t.includes(Ln.read),append:t.includes(Ln.append),write:!1,control:t.includes(Ln.control)}}function Nn(e){return e.reduce((function(e,t){return e.write||t.write?{read:e.read||t.read,append:!0,write:!0,control:e.control||t.control}:{read:e.read||t.read,append:e.append||t.append,write:!1,control:e.control||t.control}}),{read:!1,append:!1,write:!1,control:!1})}function Dn(e){return!ft(e.predicates,nt.namedNode(e.url),nt.defaultGraph()).some((function(e){return!function(e){var t=e.predicate,r=e.object;if(t.equals(nt.namedNode(V))&&r.equals(nt.namedNode(D)))return!0;if(t.equals(nt.namedNode(L))||t.equals(nt.namedNode(H))||t.equals(nt.namedNode(z)))return!0;if(t.equals(nt.namedNode(K))&&Object.values(Ln).some((function(e){return r.equals(nt.namedNode(e))})))return!0;if(t.equals(nt.namedNode(U))||t.equals(nt.namedNode(M))||t.equals(nt.namedNode(B)))return!0;if(t.equals(nt.namedNode(W)))return!0;return!1}(e)}))&&(null===Rt(e,L)&&null===Rt(e,H)&&null===Rt(e,z)||(null===Rt(e,K)||null===Rt(e,U)&&null===Rt(e,M)&&null===Rt(e,B)))}var Ln={read:"http://www.w3.org/ns/auth/acl#Read",append:"http://www.w3.org/ns/auth/acl#Append",write:"http://www.w3.org/ns/auth/acl#Write",control:"http://www.w3.org/ns/auth/acl#Control"};function Un(e,t,r){return e.filter((function(e){return It(e,r).includes(t)}))}function Mn(e,t){var r={};return e.forEach((function(e){var n=It(e,t),i=Fn(e);n.forEach((function(e){r[e]="undefined"===typeof r[e]?i:Nn([r[e],i])}))})),r}function Bn(e){var t=Jt();return t=cn(t,V,D),e.read&&(t=Fr(t,K,Ln.read)),e.append&&!e.write&&(t=Fr(t,K,Ln.append)),e.write&&(t=Fr(t,K,Ln.write)),e.control&&(t=Fr(t,K,Ln.control)),t}function Hn(e,t){return Object.assign(T(e),{internal_acl:t})}var zn=[U,B,M,W];function Kn(e,t,r,n,i){if(!It(e,r).includes(t))return[e,Bn({read:!1,append:!1,write:!1,control:!1})];var o=Gr(e,r,t),a=function(e){var t=Jt();function r(e,t,r){return It(e,r).reduce((function(e,t){return Fr(e,r,t)}),t)}return t=r(e,t=cn(t,V,D),L),t=r(e,t,H),t=r(e,t,z),t=r(e,t,U),t=r(e,t,M),t=r(e,t,B),t=r(e,t,W),r(e,t,K)}(e);return a=Gr(a,"resource"===i?L:H,n),"default"===i&&(a=Gr(a,z,n)),a=cn(a,r,t),zn.filter((function(e){return e!==r})).forEach((function(e){a=Jr(a,e)})),[o,a]}function Wn(e,t,r,n,i){var o=e;Wt(e).forEach((function(t){var s=Kn(t,i,r,e.internal_accessTo,n),u=a(s,2),c=u[0],l=u[1];o=Vt(o,c),o=Vt(o,l)}));var s=Bn(t);return s=cn(s,"resource"===n?L:H,e.internal_accessTo),s=cn(s,r,i),function(e){return Rn(e).filter(Dn).reduce(qt,e)}(Vt(o,s))}function Vn(e,t){return Hn(e,{resourceAcl:t,fallbackAcl:null})}function qn(e){return e.internal_acl.resourceAcl}var Jn=function(e){f(r,e);var t=d(r);function r(e,n){return l(this,r),t.call(this,"[".concat(ce(e),"] is governed by Access Control Policies in [").concat(ce(n),"] rather than by Web Access Control."))}return c(r)}(p(Error));function Zn(e){return null!==e.internal_acl.resourceAcl&&ue(e)===e.internal_acl.resourceAcl.internal_accessTo&&e.internal_resourceInfo.aclUrl===ue(e.internal_acl.resourceAcl)}function Gn(){return Gn=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,ur(t,r);case 3:return n=e.sent,e.next=6,kn(n,r);case 6:return i=e.sent,e.abrupt("return",Hn(n,i));case 8:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}function Qn(){return Qn=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,ve(t,r);case 3:return n=e.sent,e.next=6,kn(n,r);case 6:return i=e.sent,e.abrupt("return",Hn(n,i));case 8:case"end":return e.stop()}}),e)}))),Qn.apply(this,arguments)}function $n(){return $n=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,ne(t,r);case 3:return n=e.sent,e.next=6,kn(n,r);case 6:return i=e.sent,e.abrupt("return",Hn(n,i));case 8:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Yn(e){return Zn(e)?e.internal_acl.resourceAcl:null}function Xn(e){return null!==e.internal_acl.fallbackAcl}function ei(e){return Xn(e)?e.internal_acl.fallbackAcl:null}function ti(e){return Oe(Object.assign(Object.assign({},or()),{internal_accessTo:ue(e),internal_resourceInfo:{sourceIri:e.internal_resourceInfo.aclUrl,isRawData:!1,linkedResources:{}}}))}function ri(e){var t=ti(e);return Tn(Rn(e.internal_acl.fallbackAcl),e.internal_acl.fallbackAcl.internal_accessTo).map((function(t){return t=Jr(t,H),t=Jr(t,z),t=cn(t,L,ue(e)),t=cn(t,H,ue(e))})).reduce(Vt,t)}function ni(e,t){return ii.apply(this,arguments)}function ii(){return ii=u(s.mark((function e(t,r){var n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>2&&void 0!==a[2]?a[2]:re,ai(t)){e.next=3;break}throw new Error("Could not determine the location of the ACL for the Resource at [".concat(ue(t),"]; possibly the current user does not have Control access to that Resource. Try calling `hasAccessibleAcl()` before calling `saveAclFor()`."));case 3:return e.next=5,hr(t.internal_resourceInfo.aclUrl,r,n);case 5:return i=e.sent,o=Object.assign(Object.assign({},i),{internal_accessTo:ue(t)}),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}function oi(){return oi=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:re,n=Object.assign(Object.assign({},re),r),e.next=4,n.fetch(t.internal_resourceInfo.aclUrl,{method:"DELETE"});case 4:if((i=e.sent).ok){e.next=7;break}throw new Error("Deleting the ACL of the Resource at [".concat(ue(t),"] failed: [").concat(i.status,"] [").concat(i.statusText,"]."));case 7:return o=Object.assign(T(t),{acl:{resourceAcl:null}}),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function ai(e){return"string"===typeof e.internal_resourceInfo.aclUrl}function si(e,t){return Zn(e)?ci(e.internal_acl.resourceAcl,t):Xn(e)?di(e.internal_acl.fallbackAcl,t):null}function ui(e){return Zn(e)?li(Yn(e)):Xn(e)?pi(ei(e)):null}function ci(e,t){return Nn(hi(In(Rn(e),e.internal_accessTo),t).map(Fn))}function li(e){return yi(gi(In(Rn(e),e.internal_accessTo)))}function fi(e,t,r){return Wn(e,r,U,"resource",t)}function di(e,t){return Nn(hi(Tn(Rn(e),e.internal_accessTo),t).map(Fn))}function pi(e){return yi(gi(Tn(Rn(e),e.internal_accessTo)))}function hi(e,t){return Un(e,t,U)}function gi(e){return e.filter(vi)}function vi(e){return null!==Rt(e,U)}function yi(e){return Mn(e,U)}function mi(e,t){return Zn(e)?wi(e.internal_acl.resourceAcl,t):Xn(e)?_i(e.internal_acl.fallbackAcl,t):null}function bi(e){return Zn(e)?xi(Yn(e)):Xn(e)?ki(ei(e)):null}function wi(e,t){return Nn(Si(In(Rn(e),e.internal_accessTo),t).map(Fn))}function xi(e){return Ei(In(Rn(e),e.internal_accessTo))}function _i(e,t){return Nn(Si(Tn(Rn(e),e.internal_accessTo),t).map(Fn))}function ki(e){return Ei(Tn(Rn(e),e.internal_accessTo))}function Si(e,t){return Un(e,t,M)}function Ei(e){return Mn(e,M)}function Ai(e,t,r){return Wn(e,r,M,"resource",t)}function Oi(e){return Zn(e)?Ci(e.internal_acl.resourceAcl):Xn(e)?Pi(e.internal_acl.fallbackAcl):null}function Ci(e){return Nn(ji(In(Rn(e),e.internal_accessTo),G).map(Fn))}function Pi(e){return Nn(ji(Tn(Rn(e),e.internal_accessTo),G).map(Fn))}function Ri(e,t){return Wn(e,t,B,"resource",G)}function ji(e,t){return e.filter((function(e){return function(e,t){return It(e,B).includes(t)}(e,t)}))}var Ii=k.default.dataset;function Ti(e,t){var r=Kt(e,t);if(null===r)throw new Error("Profile document [".concat(ue(e),"] does not include WebID [").concat(t,"]"));return r}function Fi(e,t){return Pt(Ti(e,t),ee)}var Ni=function(e){return"undefined"!==typeof e.keys};function Di(e,t){return Li.apply(this,arguments)}function Li(){return Li=u(s.mark((function e(t,r){var n,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:re,o=Object.assign(Object.assign({},re),n),e.next=4,o.fetch(r);case 4:if((a=e.sent).ok){e.next=7;break}throw new Error("Fetching [".concat(r,"] returned an error: ").concat(a.status," ").concat(a.statusText));case 7:return e.prev=7,e.next=10,a.json();case 10:if(u=e.sent,Ni(u)){e.next=13;break}throw new Error("[".concat(r,"] does not dereference to a valid JWKS: ").concat(JSON.stringify(u)));case 13:return e.abrupt("return",{keys:[].concat(i(u.keys),[t])});case 16:throw e.prev=16,e.t0=e.catch(7),new Error("Parsing the document at [".concat(r,"] failed: ").concat(e.t0));case 19:case"end":return e.stop()}}),e,null,[[7,16]])}))),Li.apply(this,arguments)}function Ui(){return Ui=u(s.mark((function e(t,r){var n,i,o,a,u=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:re,e.next=3,ur(r,{fetch:n.fetch});case 3:if(null!==(i=e.sent)){e.next=6;break}throw new Error("The profile document associated with WebID [".concat(r,"] could not be retrieved."));case 6:if(null!==(o=Fi(i,r))){e.next=9;break}throw new Error("No key set is declared for the property [".concat(ee,"] in the profile of [").concat(r,"]"));case 9:return e.next=11,Di(t,o,n);case 11:return a=e.sent,e.abrupt("return",we(o,new Blob([JSON.stringify(a)]),{contentType:"application/json",fetch:n.fetch}));case 13:case"end":return e.stop()}}),e)}))),Ui.apply(this,arguments)}function Mi(){return Mi=u(s.mark((function e(t){var r,n,i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:re,n=r.fetch,void 0!==(i=r.webIdProfile)){e.next=9;break}return e.next=6,ur(t,{fetch:n});case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=i;case 10:return o=e.t0,a=Kt(o,t),u=Wt(o).filter((function(e){return It(e,Q).length>0})).map(Qt).concat(a?It(a,$):[]).filter((function(e){return e!==ce(o)})),e.next=15,Promise.all(Array.from(new Set(u)).map((function(e){return ur(e,{fetch:n})})));case 15:return c=e.sent,e.abrupt("return",{webIdProfile:o,altProfileAll:c});case 17:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Bi(e){if(!Io(e))throw new Error("An Access Control Resource for [".concat(ue(e),"] is not available. This could be because the current user is not allowed to see it, or because their Pod Server does not support Access Control Resources."));return e.internal_acp.acr}function Hi(e,t){return Object.assign(T(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:t})})}function zi(e){var t=Jt(e);return t=cn(t,V,Y.AccessControl)}function Ki(e,t){var r=Wt(Bi(e),t),n=r.filter((function(e){return It(e,V).includes(Y.AccessControl)})),i=r.filter((function(e){return It(e,Y.accessControl).length>0})).map((function(e){return Jt({url:It(e,Y.accessControl)[0]})}));return n.concat(i)}function Wi(e,t){return Hi(e,Vt(Bi(e),t))}function Vi(e,t){return Fr(e,Y.apply,t)}function qi(e){return It(e,Y.apply)}function Ji(e,t){return Gr(e,Y.apply,t)}function Zi(e){return Jr(e,Y.apply)}function Gi(e,t){return Fr(e,Y.applyMembers,t)}function Qi(e){return It(e,Y.applyMembers)}function $i(e){return Jr(e,Y.applyMembers)}function Yi(e){var t=Ki(e);return 0===t.length?zi():t[0]}function Xi(e){return O(e)&&Array.isArray(e.internal_resourceInfo.linkedResources[Y.accessControl])&&1===e.internal_resourceInfo.linkedResources[Y.accessControl].length}function eo(e,t){var r,n=Bi(e),i=ue(n),o=null!==(r=Kt(n,i))&&void 0!==r?r:Jt({url:i});return Hi(e,Vt(n,o=Fr(o,Y.access,t)))}function to(e,t){var r,n=Bi(e),i=ue(n),o=null!==(r=Kt(n,i))&&void 0!==r?r:Jt({url:i});return Hi(e,Vt(n,o=Fr(o,Y.accessMembers,t)))}function ro(e){var t=Bi(e),r=Kt(t,ue(t));return null===r?[]:It(r,Y.access)}function no(e){var t=Bi(e),r=Kt(t,ue(t));return null===r?[]:It(r,Y.accessMembers)}function io(e,t){var r=Bi(e),n=Kt(r,ue(r));return null===n?e:Hi(e,Vt(r,Gr(n,Y.access,t)))}function oo(e,t){var r=Bi(e),n=Kt(r,ue(r));return null===n?e:Hi(e,Vt(r,Gr(n,Y.accessMembers,t)))}function ao(e){var t=Bi(e),r=Kt(t,ue(t));return null===r?e:Hi(e,Vt(t,Jr(r,Y.access)))}function so(e){var t=Bi(e),r=Kt(t,ue(t));return null===r?e:Hi(e,Vt(t,Jr(r,Y.accessMembers)))}function uo(e,t){return Wi(e,Vi(Yi(e),t))}function co(e,t){return Wi(e,Gi(Yi(e),t))}function lo(e){var t=Ki(e).map((function(e){return qi(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function fo(e){var t=Ki(e).map((function(e){return Qi(e)})),r=new Set;return t.forEach((function(e){e.forEach((function(e){return r.add(e)}))})),Array.from(r)}function po(e,t){return Ki(e).map((function(e){return Ji(e,t)})).reduce(Wi,e)}function ho(e,t){var r=Ki(e).map((function(e){return function(e,t){return Gr(e,Y.applyMembers,t)}(e,t)}));return r.reduce(Wi,e)}function go(e){return Ki(e).map((function(e){return Zi(e)})).reduce(Wi,e)}function vo(e){return Ki(e).map((function(e){return $i(e)})).reduce(Wi,e)}function yo(e){var t="# Access controls for ".concat(ue(e),"\n"),r=lo(e),n=fo(e),i=ro(e),o=no(e);return 0===r.length&&0===n.length&&0===i.length&&0===o.length&&(t+="\n<no policies specified yet>\n"),r.length>0&&(t+="\nThe following policies apply to this resource:\n- ",t+=r.join("\n- ")+"\n"),i.length>0&&(t+="\nThe following policies apply to the access control resource for this resource:\n- ",t+=i.join("\n- ")+"\n"),n.length>0&&(t+="\nThe following policies apply to the children of this resource:\n- ",t+=n.join("\n- ")+"\n"),o.length>0&&(t+="\nThe following policies apply to the access control resources for children of this resource:\n- ",t+=o.join("\n- ")+"\n"),t}function mo(e){return bo.apply(this,arguments)}function bo(){return bo=u(s.mark((function e(t){var r,n,i,o,a,u=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ur(n,i);case 5:return o=e.sent,e.next=8,To(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),bo.apply(this,arguments)}function wo(e){return xo.apply(this,arguments)}function xo(){return xo=u(s.mark((function e(t){var r,n,i,o,a,u=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ve(n,i);case 5:return o=e.sent,e.next=8,To(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(o,a));case 10:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}function _o(e){return ko.apply(this,arguments)}function ko(){return ko=u(s.mark((function e(t){var r,n,i,o,a,u=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ne(n,i);case 5:return o=e.sent,e.next=8,To(o,i);case 8:return a=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),a));case 10:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function So(e){return Eo.apply(this,arguments)}function Eo(){return Eo=u(s.mark((function e(t){var r,n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ur(n,i);case 5:if(!ai(o=e.sent)){e.next=13;break}return e.next=9,kn(o,i);case 9:return a=e.sent,e.abrupt("return",Hn(o,a));case 13:return e.next=15,To(o,i);case 15:return u=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),u));case 17:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Ao(e){return Oo.apply(this,arguments)}function Oo(){return Oo=u(s.mark((function e(t){var r,n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ve(n,i);case 5:if(!ai(o=e.sent)){e.next=13;break}return e.next=9,kn(o,i);case 9:return a=e.sent,e.abrupt("return",Hn(o,a));case 13:return e.next=15,To(o,i);case 15:return u=e.sent,e.abrupt("return",Object.assign(o,u));case 17:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Co(e){return Po.apply(this,arguments)}function Po(){return Po=u(s.mark((function e(t){var r,n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ne(n,i);case 5:if(!ai(o=e.sent)){e.next=13;break}return e.next=9,kn(o,i);case 9:return a=e.sent,e.abrupt("return",Hn(o,a));case 13:return e.next=15,To(o,i);case 15:return u=e.sent,e.abrupt("return",Object.assign(Object.assign({},o),u));case 17:case"end":return e.stop()}}),e)}))),Po.apply(this,arguments)}function Ro(e){return jo.apply(this,arguments)}function jo(){return jo=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:re,n=Bi(t),i=Object.assign(Object.assign({},re),r),e.next=5,hr(ue(n),n,i);case 5:return o=e.sent,e.abrupt("return",Hi(t,o));case 7:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Io(e){return"object"===typeof e.internal_acp&&null!==e.internal_acp&&"object"===typeof e.internal_acp.acr&&null!==e.internal_acp.acr}function To(e,t){return Fo.apply(this,arguments)}function Fo(){return(Fo=u(s.mark((function e(t,r){var n,i,o,a,u;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0,!Xi(t)){e.next=5;break}n=t.internal_resourceInfo.linkedResources[Y.accessControl][0],e.next=10;break;case 5:if(!ai(t)){e.next=10;break}return e.next=8,ne(t.internal_resourceInfo.aclUrl,r);case 8:_n(i=e.sent)&&(n=ue(i));case 10:if("string"===typeof n){e.next=12;break}return e.abrupt("return",{internal_acp:{acr:null}});case 12:return e.prev=12,e.next=15,ur(n,r);case 15:o=e.sent,e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(12),e.abrupt("return",{internal_acp:{acr:null}});case 21:return a=Object.assign(Object.assign({},o),{accessTo:ue(t)}),u={internal_acp:{acr:a}},e.abrupt("return",u);case 24:case"end":return e.stop()}}),e,null,[[12,18]])})))).apply(this,arguments)}function No(e){var t=lo(e).map(ir).concat(fo(e).map(ir)).concat(ro(e).map(ir)).concat(no(e).map(ir));return Array.from(new Set(t))}function Do(e){return Lo.apply(this,arguments)}function Lo(){return Lo=u(s.mark((function e(t){var r,n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:re,n=R(t),i=Object.assign(Object.assign({},re),r),e.next=5,ne(n,i);case 5:return o=e.sent,e.t0=Io,e.next=9,To(o,i);case 9:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 11:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Uo(e){return It(e,V).includes(Y.Rule)}function Mo(e,t){return Fr(e,Y.allOf,t)}function Bo(e,t){return Gr(e,Y.allOf,t)}function Ho(e,t){return cn(e,Y.allOf,t)}function zo(e){return It(e,Y.allOf)}function Ko(e,t){return Fr(e,Y.anyOf,t)}function Wo(e,t){return Gr(e,Y.anyOf,t)}function Vo(e,t){return cn(e,Y.anyOf,t)}function qo(e){return It(e,Y.anyOf)}function Jo(e,t){return Fr(e,Y.noneOf,t)}function Zo(e,t){return Gr(e,Y.noneOf,t)}function Go(e,t){return cn(e,Y.noneOf,t)}function Qo(e){return It(e,Y.noneOf)}function $o(e){var t=Jt({url:R(e)});return t=un(t,V,Y.Rule)}function Yo(e,t){var r=Bi(e),n=new URL(ue(r));n.hash="#".concat(t);var i=Jt({url:n.href});return i=un(i,V,Y.Rule)}function Xo(e,t){var r=Kt(e,t);return null===r||Pt(r,V)!==Y.Rule?null:r}function ea(e,t){var r=Bi(e),n=ue(r),i=new URL(n);i.hash="#".concat(t);var o=Kt(r,i.href);return null!==o&&Uo(o)?o:null}function ta(e){return Wt(e).filter(Uo)}function ra(e,t){return qt(e,t)}function na(e,t){return Vt(e,t)}function ia(e,t){return Hi(e,Vt(Bi(e),t))}function oa(e){return It(e,Y.agent).filter((function(e){return e!==Y.PublicAgent&&e!==Y.AuthenticatedAgent&&e!==Y.CreatorAgent}))}function aa(e,t){var r=pa(e),n=va(e),i=ba(e),o=cn(e,Y.agent,t);return r&&(o=ha(o)),n&&(o=ya(o)),i&&(o=wa(o)),o}function sa(e,t){return Fr(e,Y.agent,t)}function ua(e,t){return Gr(e,Y.agent,t)}function ca(e){return It(e,Y.group)}function la(e,t){return cn(e,Y.group,t)}function fa(e,t){return Fr(e,Y.group,t)}function da(e,t){return Gr(e,Y.group,t)}function pa(e){return It(e,Y.agent).filter((function(e){return e===Y.PublicAgent})).length>0}function ha(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Fr(e,Y.agent,Y.PublicAgent)}function ga(e){return Gr(e,Y.agent,Y.PublicAgent)}function va(e){return It(e,Y.agent).filter((function(e){return e===Y.AuthenticatedAgent})).length>0}function ya(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Fr(e,Y.agent,Y.AuthenticatedAgent)}function ma(e){return Gr(e,Y.agent,Y.AuthenticatedAgent)}function ba(e){return It(e,Y.agent).filter((function(e){return e===Y.CreatorAgent})).length>0}function wa(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Fr(e,Y.agent,Y.CreatorAgent)}function xa(e){return Gr(e,Y.agent,Y.CreatorAgent)}function _a(e){return It(e,Y.client).filter((function(e){return e!==X}))}function ka(e){return It(e,Y.client).filter((function(e){return e===X})).length>0}function Sa(e){return Fr(e,Y.client,X)}function Ea(e){var t="## Rule: ".concat(Gt(e),"\n\n"),r="";pa(e)&&(r+="- Everyone\n"),va(e)&&(r+="- All authenticated agents\n"),ba(e)&&(r+="- The creator of this resource\n"),ka(e)&&(r+="- Users of any client application\n");var n=oa(e);n.length>0&&(r+="- The following agents:\n  - ",r+=n.join("\n  - ")+"\n");var i=ca(e);i.length>0&&(r+="- Members of the following groups:\n  - ",r+=i.join("\n  - ")+"\n");var o=_a(e);return o.length>0&&(r+="- Users of the following client applications:\n  - ",r+=o.join("\n  - ")+"\n"),t+=r.length>0?"This rule applies to:\n"+r:"<empty>\n"}function Aa(e){return It(e,V).includes(Y.Policy)}function Oa(e){var t=Jt({url:R(e)});return t=un(t,V,Y.Policy)}function Ca(e,t){var r=Kt(e,t);return null!==r&&Aa(r)?r:null}function Pa(e){return Wt(e).filter((function(e){return!Yt(e)&&Aa(e)}))}function Ra(e,t){return qt(e,t)}function ja(e,t){return Vt(e,t)}function Ia(e,t){var r=Jr(e,Y.allow);return!0===t.read&&(r=Fr(r,Y.allow,Ln.read)),!0===t.append&&(r=Fr(r,Y.allow,Ln.append)),!0===t.write&&(r=Fr(r,Y.allow,Ln.write)),r}function Ta(e,t){var r=Jr(e,Y.allow);return!0===t.read&&(r=Fr(r,Y.allow,Y.Read)),!0===t.append&&(r=Fr(r,Y.allow,Y.Append)),!0===t.write&&(r=Fr(r,Y.allow,Y.Write)),r}function Fa(e){var t=It(e,Y.allow);return{read:t.includes(Ln.read),append:t.includes(Ln.append),write:t.includes(Ln.write)}}function Na(e){var t=It(e,Y.allow);return{read:t.includes(Y.Read),append:t.includes(Y.Append),write:t.includes(Y.Write)}}function Da(e,t){var r=Jr(e,Y.deny);return!0===t.read&&(r=Fr(r,Y.deny,Y.Read)),!0===t.append&&(r=Fr(r,Y.deny,Y.Append)),!0===t.write&&(r=Fr(r,Y.deny,Y.Write)),r}function La(e){var t=It(e,Y.deny);return{read:t.includes(Ln.read),append:t.includes(Ln.append),write:t.includes(Ln.write)}}function Ua(e){var t=It(e,Y.deny);return{read:t.includes(Y.Read),append:t.includes(Y.Append),write:t.includes(Y.Write)}}function Ma(e,t){var r=Bi(e),n=new URL(ue(r));n.hash="#".concat(t);var i=Jt({url:n.href});return i=un(i,V,Y.Policy)}function Ba(e,t){var r=Bi(e),n=ue(r),i=new URL(n);i.hash="#".concat(t);var o=Kt(r,i.href);return lo(e).includes(i.href)&&null!==o&&Aa(o)?o:null}function Ha(e,t){var r=Bi(e),n=ue(r),i=new URL(n);i.hash="#".concat(t);var o=Kt(r,i.href);return ro(e).includes(i.href)&&null!==o&&Aa(o)?o:null}function za(e){var t=Bi(e);return lo(e).map((function(e){return Kt(t,e)})).filter((function(e){return null!==e&&Aa(e)}))}function Ka(e){var t=Bi(e);return ro(e).map((function(e){return Kt(t,e)})).filter((function(e){return null!==e&&Aa(e)}))}function Wa(e,t){var r,n=Bi(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(ue(n));o.hash="#".concat(t),i=o.href}return r="string"===typeof i?i:$e(i)?R(i):Gt(i,ue(n)),null===Ba(e,new URL(r).hash.substring(1))?e:po(Hi(e,qt(n,i)),r)}function Va(e,t){var r,n=Bi(e),i=t;if("string"===typeof i)try{new URL(i)}catch(a){var o=new URL(ue(n));o.hash="#".concat(t),i=o.href}return r="string"===typeof i?i:$e(i)?R(i):Gt(i,ue(n)),null===Ha(e,new URL(r).hash.substring(1))?e:io(Hi(e,qt(n,i)),r)}function qa(e,t){var r=Bi(e);return uo(Hi(e,Vt(r,t)),Gt(t,ue(r)))}function Ja(e,t){var r=Bi(e);return eo(Hi(e,Vt(r,t)),Gt(t,ue(r)))}function Za(e){function t(e,t){return t?"denied":e?"allowed":"unspecified"}var r=Na(e),n=Ua(e),i="## Policy: ".concat(Gt(e),"\n\n");i+="- Read: ".concat(t(r.read,n.read),"\n"),i+="- Append: ".concat(t(r.append,n.append),"\n"),i+="- Write: ".concat(t(r.write,n.write),"\n");var o=zo(e),a=qo(e),s=Qo(e);return 0===o.length&&0===a.length&&0===s.length&&(i+="\n<no rules specified yet>\n"),o.length>0&&(i+="\nAll of these rules should match:\n",i+="- "+o.join("\n- ")+"\n"),a.length>0&&(i+="\nAt least one of these rules should match:\n",i+="- "+a.join("\n- ")+"\n"),s.length>0&&(i+="\nNone of these rules should match:\n",i+="- "+s.join("\n- ")+"\n"),i}function Ga(e){var t=new URL("access-control-resource",e).href;return Object.assign(Object.assign({},jr(t)),{accessTo:e})}function Qa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ga(ue(e)),r=Object.assign(T(e),{internal_acp:{acr:t,aprs:{}}});return r}var $a={getFileWithAccessDatasets:Ao,getFileWithAcr:wo,getReferencedPolicyUrlAll:No,getResourceInfoWithAccessDatasets:Co,getResourceInfoWithAcr:_o,getSolidDatasetWithAccessDatasets:So,getSolidDatasetWithAcr:mo,hasAccessibleAcr:Io,saveAcrFor:Ro},Ya={acrAsMarkdown:yo,addAcrPolicyUrl:eo,addMemberAcrPolicyUrl:to,addMemberPolicyUrl:co,addPolicyUrl:uo,getAcrPolicyUrlAll:ro,getMemberAcrPolicyUrlAll:no,getMemberPolicyUrlAll:fo,getPolicyUrlAll:lo,hasLinkedAcr:Xi,removeAcrPolicyUrl:io,removeAcrPolicyUrlAll:ao,removeMemberAcrPolicyUrl:oo,removeMemberAcrPolicyUrlAll:so,removeMemberPolicyUrl:ho,removeMemberPolicyUrlAll:vo,removePolicyUrl:po,removePolicyUrlAll:go},Xa={createPolicy:Oa,getAllowModes:Na,getDenyModes:Ua,getPolicy:Ca,getPolicyAll:Pa,policyAsMarkdown:Za,removePolicy:Ra,setAllowModes:Ta,setDenyModes:Da,setPolicy:ja},es={addAgent:sa,addForbiddenRuleUrl:Jo,addGroup:fa,addOptionalRuleUrl:Ko,addRequiredRuleUrl:Mo,createRule:$o,getAgentAll:oa,getForbiddenRuleUrlAll:Qo,getGroupAll:ca,getOptionalRuleUrlAll:qo,getRequiredRuleUrlAll:zo,getRule:Xo,getRuleAll:ta,hasAuthenticated:va,hasCreator:ba,hasPublic:pa,removeAgent:ua,removeForbiddenRuleUrl:Zo,removeGroup:da,removeOptionalRuleUrl:Wo,removeRequiredRuleUrl:Bo,removeRule:ra,ruleAsMarkdown:Ea,setAgent:aa,setForbiddenRuleUrl:Go,setGroup:la,setOptionalRuleUrl:Vo,setRequiredRuleUrl:Ho,setRule:na},ts={addMockAcrTo:Qa,mockAcrFor:Ga};function rs(e,t){return t?ha(e):ga(e)}function ns(e,t){return t?ya(e):ma(e)}function is(e,t){return t?wa(e):xa(e)}var os={getForbiddenRuleurlAll:Qo,setPublic:rs,setAuthenticated:ns,setCreator:is},as=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},$a),Ya),Xa),es),ts),os),ss={getFileWithAccessDatasets:Ao,getFileWithAcr:wo,getReferencedPolicyUrlAll:No,getResourceInfoWithAccessDatasets:Co,getResourceInfoWithAcr:_o,getSolidDatasetWithAccessDatasets:So,getSolidDatasetWithAcr:mo,hasAccessibleAcr:Io,saveAcrFor:Ro},us={createPolicy:Oa,getAllowModes:Na,getDenyModes:Ua,getPolicy:Ca,getPolicyAll:Pa,policyAsMarkdown:Za,removePolicy:Ra,setAllowModes:Ta,setDenyModes:Da,setPolicy:ja},cs={addAgent:sa,addForbiddenRuleUrl:Jo,addGroup:fa,addOptionalRuleUrl:Ko,addRequiredRuleUrl:Mo,createRule:$o,getAgentAll:oa,getForbiddenRuleUrlAll:Qo,getGroupAll:ca,getOptionalRuleUrlAll:qo,getRequiredRuleUrlAll:zo,getRule:Xo,getRuleAll:ta,hasAuthenticated:va,hasCreator:ba,hasPublic:pa,removeAgent:ua,removeForbiddenRuleUrl:Zo,removeGroup:da,removeOptionalRuleUrl:Wo,removeRequiredRuleUrl:Bo,removeRule:ra,ruleAsMarkdown:Ea,setAgent:aa,setForbiddenRuleUrl:Go,setGroup:la,setOptionalRuleUrl:Vo,setRequiredRuleUrl:Ho,setRule:na},ls={addMockAcrTo:Qa,mockAcrFor:Ga},fs={hasLinkedAcr:Xi,addAcrPolicyUrl:eo,addMemberAcrPolicyUrl:to,getAcrPolicyUrlAll:ro,getMemberAcrPolicyUrlAll:no,removeAcrPolicyUrl:io,removeAcrPolicyUrlAll:ao,removeMemberAcrPolicyUrl:oo,removeMemberAcrPolicyUrlAll:so},ds={createControl:zi,getControl:function(e,t,r){var n=Kt(Bi(e),t,r);return null!==n&&It(n,V).includes(Y.AccessControl)?n:null},getAllControl:Ki,getControlAll:Ki,setControl:Wi,removeControl:function(e,t){var r=qt(Bi(e),t);return Hi(e,r)},addPolicyUrl:Vi,getPolicyUrlAll:qi,removePolicyUrl:Ji,removePolicyUrlAll:Zi,addMemberPolicyUrl:Gi,getMemberPolicyUrlAll:Qi,removeMemberPolicyUrl:Qi,removeMemberPolicyUrlAll:$i,getForbiddenRuleurlAll:Qo,setPublic:rs,setAuthenticated:ns,setCreator:is},ps=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ss),us),cs),ls),fs),ds);var hs={getFileWithAccessDatasets:Ao,getFileWithAcr:wo,getLinkedAcrUrl:function(e){if(O(e))return[Y.accessControl,"acl"].map((function(t){if(Array.isArray(e.internal_resourceInfo.linkedResources[t])&&1===e.internal_resourceInfo.linkedResources[t].length)return e.internal_resourceInfo.linkedResources[t][0]})).find((function(e){return void 0!==e}))},getReferencedPolicyUrlAll:No,getResourceInfoWithAccessDatasets:Co,getResourceInfoWithAcr:_o,getSolidDatasetWithAccessDatasets:So,getSolidDatasetWithAcr:mo,hasAccessibleAcr:Io,saveAcrFor:Ro,isAcpControlled:Do},gs={acrAsMarkdown:yo,addAcrPolicyUrl:eo,addMemberAcrPolicyUrl:to,addMemberPolicyUrl:co,addPolicyUrl:uo,getAcrPolicyUrlAll:ro,getMemberAcrPolicyUrlAll:no,getMemberPolicyUrlAll:fo,getPolicyUrlAll:lo,hasLinkedAcr:Xi,removeAcrPolicyUrl:io,removeAcrPolicyUrlAll:ao,removeMemberAcrPolicyUrl:oo,removeMemberAcrPolicyUrlAll:so,removeMemberPolicyUrl:ho,removeMemberPolicyUrlAll:vo,removePolicyUrl:po,removePolicyUrlAll:go},vs={createPolicy:Oa,getAllowModes:Na,getDenyModes:Ua,getPolicy:Ca,getPolicyAll:Pa,policyAsMarkdown:Za,removePolicy:Ra,setAllowModes:Ta,setDenyModes:Da,setPolicy:ja,createResourcePolicyFor:Ma,getResourceAcrPolicy:Ha,getResourceAcrPolicyAll:Ka,getResourcePolicy:Ba,getResourcePolicyAll:za,removeResourceAcrPolicy:Va,removeResourcePolicy:Wa,setResourceAcrPolicy:Ja,setResourcePolicy:qa},ys={addAgent:sa,addGroup:fa,createRule:$o,getAgentAll:oa,getGroupAll:ca,getRule:Xo,getRuleAll:ta,removeAgent:ua,removeGroup:da,removeRule:ra,ruleAsMarkdown:Ea,setAgent:aa,setGroup:la,setRule:na,addClient:function(e,t){return Fr(e,Y.client,t)},getClientAll:_a,hasAnyClient:ka,removeClient:function(e,t){return Gr(e,Y.client,t)},setAnyClient:Sa,setClient:function(e,t){var r=ka(e),n=cn(e,Y.client,t);return r&&(n=Sa(n)),n},removeAnyClient:function(e){return Gr(e,Y.client,X)},hasAuthenticated:va,hasCreator:ba,hasPublic:pa,setAuthenticated:ya,setCreator:wa,setPublic:ha,removeAuthenticated:ma,removeCreator:xa,removePublic:ga,getAnyOfRuleUrlAll:qo,addAnyOfRuleUrl:Ko,removeAnyOfRuleUrl:Wo,setAnyOfRuleUrl:Vo,getAllOfRuleUrlAll:zo,addAllOfRuleUrl:Mo,removeAllOfRuleUrl:Bo,setAllOfRuleUrl:Ho,getNoneOfRuleUrlAll:Qo,addNoneOfRuleUrl:Jo,removeNoneOfRuleUrl:Zo,setNoneOfRuleUrl:Go,createResourceRuleFor:Yo,getResourceRule:ea,getResourceRuleAll:function(e){return Wt(Bi(e)).filter(Uo)},removeResourceRule:function(e,t){var r,n=Bi(e);if("string"===typeof t)try{new URL(t),r=t}catch(a){var i=new URL(ue(n));i.hash="#".concat(t),r=i.href}else r=$e(t)?R(t):Gt(t);var o=ea(e,new URL(r).hash.substring(1));return null===o?e:Hi(e,qt(n,o))},setResourceRule:ia},ms={addMockAcrTo:Qa,mockAcrFor:Ga},bs=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hs),gs),vs),ys),ms),ws="http://www.w3.org/ns/solid/acp#",xs={AccessControl:ws.concat("AccessControl"),AccessControlResource:ws.concat("AccessControlResource"),AuthenticatedAgent:ws.concat("AuthenticatedAgent"),CreatorAgent:ws.concat("CreatorAgent"),Matcher:ws.concat("Matcher"),Policy:ws.concat("Policy"),PublicAgent:ws.concat("PublicAgent"),access:ws.concat("access"),accessControl:ws.concat("accessControl"),agent:ws.concat("agent"),allOf:ws.concat("allOf"),allow:ws.concat("allow"),anyOf:ws.concat("anyOf"),apply:ws.concat("apply"),client:ws.concat("client"),deny:ws.concat("deny"),memberAccessControl:ws.concat("memberAccessControl"),noneOf:ws.concat("noneOf")},_s="defaultAccessControl",ks="defaultAcrAccessControl",Ss="defaultMemberAccessControl",Es="defaultMemberAcrAccessControl";function As(e,t){return ue(Bi(e)).concat("#").concat(t)}function Os(e,t){var r=Bi(e),n=As(e,t),i=Kt(r,n);return null===i||"undefined"===typeof i?Jt({url:n}):i}function Cs(e,t){return Object.assign(T(e),{internal_acp:Object.assign(Object.assign({},e.internal_acp),{acr:Vt(e.internal_acp.acr,t)})})}function Ps(e){var t=Bi(e);return Kt(t,ue(t))}function Rs(e){return e.includes("Member")?xs.memberAccessControl:xs.accessControl}function js(e,t){var r=As(e,t),n=Bi(e),i=Ps(e);return null!==i&&"undefined"!==typeof i||(i=Jt({url:ue(n)})),It(i,Rs(t)).includes(r)?e:Cs(e,i=xn(i).addUrl(Rs(t),r).build())}function Is(e){var t=Ps(e);return null===t?[]:It(t,xs.accessControl)}function Ts(e,t,r){var n=Bi(e);return Array.from(new Set(t.map((function(e){var t=Kt(n,e);return null!==t?It(t,r):[]})).reduce((function(e,t){return e.concat(t)}),[])))}function Fs(e){var t=Ps(e);return null===t?[]:It(t,xs.memberAccessControl)}function Ns(e){return It(e,V).includes(Y.Matcher)}function Ds(e){return It(e,Y.allOf)}function Ls(e){return It(e,Y.anyOf)}function Us(e){return It(e,Y.noneOf)}function Ms(e,t){var r=Bi(e),n=new URL(ue(r));n.hash="#".concat(t);var i=Jt({url:n.href});return i=un(i,V,Y.Matcher)}function Bs(e,t){var r=Bi(e),n=ue(r),i=new URL(n);i.hash="#".concat(t);var o=Kt(r,i.href);return null!==o&&Ns(o)?o:null}function Hs(e,t){return Hi(e,Vt(Bi(e),t))}function zs(e){return It(e,Y.agent).filter((function(e){return e!==Y.PublicAgent&&e!==Y.AuthenticatedAgent&&e!==Y.CreatorAgent}))}function Ks(e){return It(e,Y.agent).filter((function(e){return e===Y.PublicAgent})).length>0}function Ws(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setPublic` no longer takes a second parameter. It is now used together with `removePublic` instead.");return Fr(e,Y.agent,Y.PublicAgent)}function Vs(e){return It(e,Y.agent).filter((function(e){return e===Y.AuthenticatedAgent})).length>0}function qs(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setAuthenticated` no longer takes a second parameter. It is now used together with `removeAuthenticated` instead.");return Fr(e,Y.agent,Y.AuthenticatedAgent)}function Js(e){return It(e,Y.agent).filter((function(e){return e===Y.CreatorAgent})).length>0}function Zs(e){if("object"===typeof arguments&&"boolean"===typeof arguments[1])throw new Error("The function `setCreator` no longer takes a second parameter. It is now used together with `removeCreator` instead.");return Fr(e,Y.agent,Y.CreatorAgent)}function Gs(e){return It(e,Y.client).filter((function(e){return e!==X}))}function Qs(e){return It(e,Y.client).filter((function(e){return e===X})).length>0}function $s(e){return Fr(e,Y.client,X)}var Ys={getFileWithAccessDatasets:Ao,getFileWithAcr:wo,getReferencedPolicyUrlAll:No,getResourceInfoWithAccessDatasets:Co,getResourceInfoWithAcr:_o,getSolidDatasetWithAccessDatasets:So,getSolidDatasetWithAcr:mo,hasAccessibleAcr:Io,saveAcrFor:Ro,isAcpControlled:Do},Xs={acrAsMarkdown:yo,addAcrPolicyUrl:function(e,t){var r=js(e,ks);return Cs(r,xn(Os(r,ks)).addUrl(xs.access,t).build())},addMemberAcrPolicyUrl:function(e,t){var r=js(e,Es);return Cs(r,xn(Os(r,Es)).addUrl(xs.access,t).build())},addMemberPolicyUrl:function(e,t){var r=js(e,Ss);return Cs(r,xn(Os(r,Ss)).addUrl(xs.apply,t).build())},addPolicyUrl:function(e,t){var r=js(e,_s);return Cs(r,xn(Os(r,_s)).addUrl(xs.apply,t).build())},getAcrPolicyUrlAll:function(e){return Ts(e,Is(e),xs.access)},getMemberAcrPolicyUrlAll:function(e){return Ts(e,Fs(e),xs.access)},getMemberPolicyUrlAll:function(e){return Ts(e,Fs(e),xs.apply)},getPolicyUrlAll:function(e){return Ts(e,Is(e),xs.apply)},hasLinkedAcr:Xi,removeAcrPolicyUrl:function(e,t){var r=Os(e,ks);return Cs(e,Gr(r,xs.access,t))},removeAcrPolicyUrlAll:ao,removeMemberAcrPolicyUrl:function(e,t){var r=Os(e,Es);return Cs(e,Gr(r,xs.access,t))},removeMemberAcrPolicyUrlAll:so,removeMemberPolicyUrl:function(e,t){var r=Os(e,Ss);return Cs(e,Gr(r,xs.apply,t))},removeMemberPolicyUrlAll:vo,removePolicyUrl:function(e,t){var r=Os(e,_s);return Cs(e,Gr(r,xs.apply,t))},removePolicyUrlAll:go},eu={createPolicy:Oa,getAllowModes:Fa,getDenyModes:La,getPolicy:Ca,getPolicyAll:Pa,policyAsMarkdown:Za,removePolicy:Ra,setAllowModes:Ia,setDenyModes:function(e,t){var r=Jr(e,Y.deny);return!0===t.read&&(r=Fr(r,Y.deny,Ln.read)),!0===t.append&&(r=Fr(r,Y.deny,Ln.append)),!0===t.write&&(r=Fr(r,Y.deny,Ln.write)),r},setPolicy:ja,createResourcePolicyFor:Ma,getResourceAcrPolicy:Ha,getResourceAcrPolicyAll:Ka,getResourcePolicy:Ba,getResourcePolicyAll:za,removeResourceAcrPolicy:Va,removeResourcePolicy:Wa,setResourceAcrPolicy:Ja,setResourcePolicy:qa},tu={addAgent:function(e,t){return Fr(e,Y.agent,t)},createMatcher:function(e){var t=Jt({url:R(e)});return t=un(t,V,Y.Matcher)},getAgentAll:zs,getMatcher:function(e,t){var r=Kt(e,t);return null!==r&&Ns(r)?r:null},getMatcherAll:function(e){return Wt(e).filter(Ns)},removeAgent:function(e,t){return Gr(e,Y.agent,t)},removeMatcher:function(e,t){return qt(e,t)},matcherAsMarkdown:function(e){var t="## Matcher: ".concat(Gt(e),"\n\n"),r="";Ks(e)&&(r+="- Everyone\n"),Vs(e)&&(r+="- All authenticated agents\n"),Js(e)&&(r+="- The creator of this resource\n"),Qs(e)&&(r+="- Users of any client application\n");var n=zs(e);n.length>0&&(r+="- The following agents:\n  - ",r+=n.join("\n  - ")+"\n");var i=Gs(e);return i.length>0&&(r+="- Users of the following client applications:\n  - ",r+=i.join("\n  - ")+"\n"),t+=r.length>0?"This Matcher matches:\n"+r:"<empty>\n"},setAgent:function(e,t){var r=Ks(e),n=Vs(e),i=Js(e),o=cn(e,Y.agent,t);return r&&(o=Ws(o)),n&&(o=qs(o)),i&&(o=Zs(o)),o},setMatcher:function(e,t){return Vt(e,t)},addClient:function(e,t){return Fr(e,Y.client,t)},getClientAll:Gs,hasAnyClient:Qs,removeClient:function(e,t){return Gr(e,Y.client,t)},setAnyClient:$s,setClient:function(e,t){var r=Qs(e),n=cn(e,Y.client,t);return r&&(n=$s(n)),n},removeAnyClient:function(e){return Gr(e,Y.client,X)},hasAuthenticated:Vs,hasCreator:Js,hasPublic:Ks,setAuthenticated:qs,setCreator:Zs,setPublic:Ws,removeAuthenticated:function(e){return Gr(e,Y.agent,Y.AuthenticatedAgent)},removeCreator:function(e){return Gr(e,Y.agent,Y.CreatorAgent)},removePublic:function(e){return Gr(e,Y.agent,Y.PublicAgent)},getAnyOfMatcherUrlAll:Ls,addAnyOfMatcherUrl:function(e,t){return Fr(e,Y.anyOf,t)},removeAnyOfMatcherUrl:function(e,t){return Gr(e,Y.anyOf,t)},setAnyOfMatcherUrl:function(e,t){return cn(e,Y.anyOf,t)},getAllOfMatcherUrlAll:Ds,addAllOfMatcherUrl:function(e,t){return Fr(e,Y.allOf,t)},removeAllOfMatcherUrl:function(e,t){return Gr(e,Y.allOf,t)},setAllOfMatcherUrl:function(e,t){return cn(e,Y.allOf,t)},getNoneOfMatcherUrlAll:Us,addNoneOfMatcherUrl:function(e,t){return Fr(e,Y.noneOf,t)},removeNoneOfMatcherUrl:function(e,t){return Gr(e,Y.noneOf,t)},setNoneOfMatcherUrl:function(e,t){return cn(e,Y.noneOf,t)},createResourceMatcherFor:Ms,getResourceMatcher:Bs,getResourceMatcherAll:function(e){return Wt(Bi(e)).filter(Ns)},removeResourceMatcher:function(e,t){var r,n=Bi(e);if("string"===typeof t)try{new URL(t),r=t}catch(a){var i=new URL(ue(n));i.hash="#".concat(t),r=i.href}else r=$e(t)?R(t):Gt(t);var o=Bs(e,new URL(r).hash.substring(1));return null===o?e:Hi(e,qt(n,o))},setResourceMatcher:Hs},ru={addMockAcrTo:Qa,mockAcrFor:Ga},nu=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ys),Xs),eu),tu),ru),iu=[Y.agent];function ou(e,t,r){if(e.inaccessibleUrls.length>0)return null;var n=e.acrPolicies.filter((function(n){return uu(n,t,r,e)})),i=e.policies.filter((function(n){return uu(n,t,r,e)})),o=n.reduce((function(e,t){var r=Object.assign({},e),n=Fa(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce((function(e,t){var r=Object.assign({},e),n=Fa(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce((function(e,t){var r=Object.assign({},e),n=La(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce((function(e,t){var r=Object.assign({},e),n=La(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function au(e,t){return ou(e,Y.agent,t)}function su(e){return ou(e,Y.agent,Y.PublicAgent)}function uu(e,t,r,n){var i=It(e,Y.allow),o=It(e,Y.deny);if(i.length+o.length===0)return!1;var a=Ds(e).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))})),s=Ls(e).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))})),u=Us(e).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))}));return a.every((function(e){return lu(e,t,r)}))&&(0===s.length||s.some((function(e){return lu(e,t,r)})))&&a.length+s.length>0&&0===u.length}function cu(e,t){var r=It(e,Y.allow),n=It(e,Y.deny);return!0===t.read&&n.includes(Ln.read)||!1===t.read&&r.includes(Ln.read)&&!n.includes(Ln.read)||!0===t.append&&n.includes(Ln.append)||!1===t.append&&r.includes(Ln.append)&&!n.includes(Ln.append)||!0===t.write&&n.includes(Ln.write)||!1===t.write&&r.includes(Ln.write)&&!n.includes(Ln.write)}function lu(e,t,r){return It(e,t).includes(r)}function fu(e,t){if(e.inaccessibleUrls.length>0)return null;var r={},n=function(e,t){var r=new Set;return e.matchers.forEach((function(e){It(e,t).filter((function(e){return![Y.PublicAgent,Y.CreatorAgent,Y.AuthenticatedAgent].includes(e)||t!=Y.agent})).forEach((function(e){return r.add(e)}))})),r}(e,t);return n.forEach((function(n){var i=ou(e,t,n);r[n]=i})),r}function du(e){return fu(e,Y.agent)}function pu(e,t,r,n,i){var o,s,u,c,l;if(!Io(e)||t.inaccessibleUrls.length>0)return null;var f=ou(t,r,n);if(null===f)return null;var d=t.acrPolicies.filter((function(e){return uu(e,r,n,t)})),p=t.policies.filter((function(e){return uu(e,r,n,t)})),h=d.filter((function(e){return cu(e,{read:i.controlRead,write:i.controlWrite})})),g=p.filter((function(e){return cu(e,{read:i.read,append:i.append,write:i.write})})),v=h.filter((function(e){return vu(e,r,n,t)})),y=g.filter((function(e){return vu(e,r,n,t)})),m=ou(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((function(e){return!v.includes(e)})),policies:t.policies.filter((function(e){return!y.includes(e)}))}),r,n);if(null===m)return null;var b=e;v.forEach((function(i){var o=mu(i,e,t,r,n),s=a(o,2),u=s[0],c=s[1];b=Ja(b,u),b=c.reduce(Hs,b)})),y.forEach((function(i){var o=mu(i,e,t,r,n),s=a(o,2),u=s[0],c=s[1];b=qa(b,u),b=c.reduce(Hs,b)}));var w="matcher_".concat(encodeURIComponent("".concat(r,"_").concat(n))),x=Ms(e,w);x=cn(x,r,n);var _=null!==(o=i.controlRead)&&void 0!==o?o:f.controlRead,k=null!==(s=i.controlWrite)&&void 0!==s?s:f.controlWrite,S=v;if(_!==m.controlRead||k!==m.controlWrite){var E="acr_policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),A=Ma(e,E);A=Ia(A,{read:!0===_,append:!1,write:!0===k}),A=Fr(A,Y.allOf,x),b=Hs(b=Ja(b,A),x),S=h}var O=null!==(u=i.read)&&void 0!==u?u:f.read,C=null!==(c=i.append)&&void 0!==c?c:f.append,P=null!==(l=i.write)&&void 0!==l?l:f.write,R=y;if(O!==m.read||C!==m.append||P!==m.write){var j="policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),I=Ma(e,j);I=Ia(I,{read:!0===O,append:!0===C,write:!0===P}),I=Fr(I,Y.allOf,x),b=Hs(b=qa(b,I),x),R=g}return S.forEach((function(e){b=io(b,Qt(e))})),R.forEach((function(e){b=po(b,Qt(e))})),b}function hu(e,t,r,n){return pu(e,t,Y.agent,r,n)}function gu(e,t,r){return pu(e,t,Y.agent,Y.PublicAgent,r)}function vu(e,t,r,n){var i=It(e,Y.allOf).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))})).some((function(e){return yu(e,t,r)})),o=It(e,Y.anyOf).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))})).some((function(e){return yu(e,t,r)})),a=It(e,Y.noneOf).map((function(e){return n.matchers.find((function(t){return Qt(t)===e}))})).some((function(e){return yu(e,t,r)}));return i||o||a}function yu(e,t,r){var n=[];return iu.forEach((function(o){var a=It(e,o).filter((function(e){return e!==r||o!==t}));n.push.apply(n,i(a))})),n.length>0}function mu(e,t,r,n,i){var o="_copy_without"+"_".concat(encodeURIComponent(n),"_").concat(i)+"_".concat(Date.now(),"_").concat(Math.random()),a=bu(It(e,Y.allOf),t,r,o,n,i),s=bu(It(e,Y.anyOf),t,r,o,n,i),u=bu(It(e,Y.noneOf),t,r,o,n,i),c=Ma(t,encodeURI(Qt(e))+o);return It(e,Y.allow).forEach((function(e){c=Fr(c,Y.allow,e)})),It(e,Y.deny).forEach((function(e){c=Fr(c,Y.deny,e)})),a.forEach((function(e){c=Fr(c,Y.allOf,e)})),s.forEach((function(e){c=Fr(c,Y.anyOf,e)})),u.forEach((function(e){c=Fr(c,Y.noneOf,e)})),[c,a.concat(s).concat(u)]}function bu(e,t,r,n,i,o){return e.map((function(e){var a=r.matchers.find((function(t){return Qt(t)===e}));if("undefined"===typeof a)return null;var s=Ms(t,encodeURI(Qt(a))+n),u=!1;return iu.forEach((function(e){It(a,e).forEach((function(t){e===i&&t===o||(u=!0,s=Fr(s,e,t))}))})),u?s:null})).filter(wu)}function wu(e){return null!==e}function xu(e){return _u.apply(this,arguments)}function _u(){return _u=u(s.mark((function e(t){var r,n,i,o,a,u,c,l,f,d,p,h,g,v,y,m=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:re,n=ro(t),i=lo(t),o=Su(n).concat(Su(i)),e.next=6,Eu(o,r);case 6:return a=e.sent,u=Ou(n,a).filter(wu),c=Ou(i,a).filter(wu),l=new Set,u.forEach((function(e){Cu(e).forEach((function(e){l.add(e)}))})),c.forEach((function(e){Cu(e).forEach((function(e){l.add(e)}))})),f=Array.from(l),d=f.map((function(e){return ku(e)})),p=d.filter((function(e){return!o.includes(e)})),e.next=17,Eu(p,r);case 17:return h=e.sent,g=Object.assign(Object.assign({},a),h),v=Ou(f,g).filter(wu),y=Object.keys(g).filter((function(e){return null===g[e]})),e.abrupt("return",{inaccessibleUrls:y,acrPolicies:u,policies:c,matchers:v});case 22:case"end":return e.stop()}}),e)}))),_u.apply(this,arguments)}function ku(e){var t=new URL(e);return t.hash="",t.href}function Su(e){var t=[];return e.forEach((function(e){var r=ku(e);t.includes(r)||t.push(r)})),t}function Eu(e,t){return Au.apply(this,arguments)}function Au(){return Au=u(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set(t)),i={},e.next=4,Promise.all(n.map(function(){var e=u(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur(t,r);case 3:n=e.sent,i[t]=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i[t]=null;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Ou(e,t){return e.map((function(e){var r=ku(e),n=t[r];return n?Kt(n,e):null}))}function Cu(e){return Ds(e).concat(Ls(e)).concat(Us(e))}function Pu(e,t){var r,n,i,o;if(e.controlRead!==e.controlWrite)throw new Error("For Pods using Web Access Control, controlRead and controlWrite must be equal.");return{read:null!==(r=e.read)&&void 0!==r?r:t.read,append:null!==(n=e.append)&&void 0!==n?n:t.append,write:null!==(i=e.write)&&void 0!==i?i:t.write,control:null!==(o=e.controlRead)&&void 0!==o?o:t.control}}function Ru(e){return{read:e.read,write:e.write,append:e.append,controlRead:e.control,controlWrite:e.control}}function ju(e,t,r,n){return Iu.apply(this,arguments)}function Iu(){return(Iu=u(s.mark((function e(t,r,n,i){var o,a;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(t,i);case 2:if(o=e.sent,null!==(a=n(Hn(t,o),r))){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Ru(a));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tu(e,t,r){return Fu.apply(this,arguments)}function Fu(){return(Fu=u(s.mark((function e(t,r,n){var i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(t,n);case 2:if(i=e.sent,null!==(o=r(Hn(t,i)))){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",Ru(o));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nu(e,t,r){return Du.apply(this,arguments)}function Du(){return(Du=u(s.mark((function e(t,r,n){var i,o,u,c,l,f,d,p;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(t,n);case 2:if(i=e.sent,null!==(o=r(Hn(t,i)))){e.next=6;break}return e.abrupt("return",null);case 6:for(u={},c=0,l=Object.entries(o);c<l.length;c++)f=a(l[c],2),d=f[0],p=f[1],u[d]=Ru(p);return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re;return ju(e,t,si,r)}function Uu(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:re;return ju(e,t,mi,r)}function Mu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return Tu(e,Oi,t)}function Bu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return Nu(e,ui,t)}function Hu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return Nu(e,bi,t)}function zu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=u(s.mark((function e(t,r){var n,i,o;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ai(t)){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,kn(t,r);case 4:if(n=e.sent,!Zn(i=Hn(t,n))){e.next=10;break}o=qn(i),e.next=15;break;case 10:if(!Xn(i)){e.next=14;break}o=ri(i),e.next=15;break;case 14:return e.abrupt("return",null);case 15:return e.abrupt("return",Vn(i,o));case 16:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Wu(e,t,r){return Vu.apply(this,arguments)}function Vu(){return Vu=u(s.mark((function e(t,r,n){var i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=null,e.prev=1,e.next=4,ni(t,r,n);case 4:return i=e.sent,e.abrupt("return",Vn(t,i));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),Vu.apply(this,arguments)}function qu(e,t,r,n,i){return Ju.apply(this,arguments)}function Ju(){return(Ju=u(s.mark((function e(t,r,n,i,o){var a,u,c,l,f;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(t,o);case 2:if(null!==(a=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return u=Yn(a),c=n(a),l=Pu(r,c),f=i(u,l),e.next=11,Wu(a,f,o);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(e,t,r,n,i,o){return Gu.apply(this,arguments)}function Gu(){return(Gu=u(s.mark((function e(t,r,n,i,o,a){var u,c,l,f,d;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(t,a);case 2:if(null!==(u=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return c=i(u,r),l=Yn(u),f=Pu(n,c),d=o(l,r,f),e.next=11,Wu(u,d,a);case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qu(e,t,r){return $u.apply(this,arguments)}function $u(){return $u=u(s.mark((function e(t,r,n){var i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:re,e.next=3,Zu(t,r,n,si,fi,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Yu(e,t,r){return Xu.apply(this,arguments)}function Xu(){return Xu=u(s.mark((function e(t,r,n){var i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:re,e.next=3,Zu(t,r,n,mi,Ai,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return tc=u(s.mark((function e(t,r){var n,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>2&&void 0!==i[2]?i[2]:re,e.next=3,qu(t,r,Oi,Ri,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tc.apply(this,arguments)}var rc=[Y.agent,Y.group];function nc(e,t,r){if(e.inaccessibleUrls.length>0)return null;var n=e.acrPolicies.filter((function(n){return sc(n,t,r,e)})),i=e.policies.filter((function(n){return sc(n,t,r,e)})),o=n.reduce((function(e,t){var r=Object.assign({},e),n=Na(t);return n.read&&(r.controlRead=!0),n.write&&(r.controlWrite=!0),r}),{read:!1,append:!1,write:!1,controlRead:!1,controlWrite:!1}),a=i.reduce((function(e,t){var r=Object.assign({},e),n=Na(t);return n.read&&(r.read=!0),n.append&&(r.append=!0),n.write&&(r.write=!0),r}),o),s=n.reduce((function(e,t){var r=Object.assign({},e),n=Ua(t);return!0===n.read&&(r.controlRead=!1),!0===n.write&&(r.controlWrite=!1),r}),a);return i.reduce((function(e,t){var r=Object.assign({},e),n=Ua(t);return!0===n.read&&(r.read=!1),!0===n.append&&(r.append=!1),!0===n.write&&(r.write=!1),r}),s)}function ic(e,t){return nc(e,Y.agent,t)}function oc(e,t){return nc(e,Y.group,t)}function ac(e){return nc(e,Y.agent,Y.PublicAgent)}function sc(e,t,r,n){var i=It(e,Y.allow),o=It(e,Y.deny);if(i.length+o.length===0)return!1;var a=zo(e).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))})),s=qo(e).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))})),u=Qo(e).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))}));return a.every((function(e){return cc(e,t,r)}))&&(0===s.length||s.some((function(e){return cc(e,t,r)})))&&0===u.length}function uc(e,t){var r=It(e,Y.allow),n=It(e,Y.deny);return!0===t.read&&n.includes(Y.Read)||!1===t.read&&r.includes(Y.Read)&&!n.includes(Y.Read)||!0===t.append&&n.includes(Y.Append)||!1===t.append&&r.includes(Y.Append)&&!n.includes(Y.Append)||!0===t.write&&n.includes(Y.Write)||!1===t.write&&r.includes(Y.Write)&&!n.includes(Y.Write)}function cc(e,t,r){var n=!0;return rc.forEach((function(t){n&&(n=null===Rt(e,t))})),n||It(e,t).includes(r)}function lc(e,t){if(e.inaccessibleUrls.length>0)return null;var r={},n=function(e,t){var r=new Set;return e.rules.forEach((function(e){It(e,t).filter((function(e){return![Y.PublicAgent,Y.CreatorAgent,Y.AuthenticatedAgent].includes(e)||t!=Y.agent})).forEach((function(e){return r.add(e)}))})),r}(e,t);return n.forEach((function(n){var i=nc(e,t,n);r[n]=i})),r}function fc(e){return lc(e,Y.group)}function dc(e){return lc(e,Y.agent)}function pc(e,t,r,n,i){var o,s,u,c,l;if(!Io(e)||t.inaccessibleUrls.length>0)return null;var f=nc(t,r,n);if(null===f)return null;var d=t.acrPolicies.filter((function(e){return sc(e,r,n,t)})),p=t.policies.filter((function(e){return sc(e,r,n,t)})),h=d.filter((function(e){return uc(e,{read:i.controlRead,write:i.controlWrite})})),g=p.filter((function(e){return uc(e,{read:i.read,append:i.append,write:i.write})})),v=h.filter((function(e){return yc(e,r,n,t)})),y=g.filter((function(e){return yc(e,r,n,t)})),m=nc(Object.assign(Object.assign({},t),{acrPolicies:t.acrPolicies.filter((function(e){return!v.includes(e)})),policies:t.policies.filter((function(e){return!y.includes(e)}))}),r,n);if(null===m)return null;var b=e;v.forEach((function(i){var o=bc(i,e,t,r,n),s=a(o,2),u=s[0],c=s[1];b=Ja(b,u),b=c.reduce(ia,b)})),y.forEach((function(i){var o=bc(i,e,t,r,n),s=a(o,2),u=s[0],c=s[1];b=qa(b,u),b=c.reduce(ia,b)}));var w="rule_".concat(encodeURIComponent("".concat(r,"_").concat(n))),x=Yo(e,w);x=cn(x,r,n);var _=null!==(o=i.controlRead)&&void 0!==o?o:f.controlRead,k=null!==(s=i.controlWrite)&&void 0!==s?s:f.controlWrite,S=v;if(_!==m.controlRead||k!==m.controlWrite){var E="acr_policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),A=Ma(e,E);A=Ta(A,{read:!0===_,append:!1,write:!0===k}),A=Fr(A,Y.allOf,x),b=ia(b=Ja(b,A),x),S=h}var O=null!==(u=i.read)&&void 0!==u?u:f.read,C=null!==(c=i.append)&&void 0!==c?c:f.append,P=null!==(l=i.write)&&void 0!==l?l:f.write,R=y;if(O!==m.read||C!==m.append||P!==m.write){var j="policy"+"_".concat(encodeURIComponent("".concat(r,"_").concat(n)))+"_".concat(Date.now(),"_").concat(Math.random()),I=Ma(e,j);I=Ta(I,{read:!0===O,append:!0===C,write:!0===P}),I=Fr(I,Y.allOf,x),b=ia(b=qa(b,I),x),R=g}return S.forEach((function(e){b=io(b,Qt(e))})),R.forEach((function(e){b=po(b,Qt(e))})),b}function hc(e,t,r,n){return pc(e,t,Y.agent,r,n)}function gc(e,t,r,n){return pc(e,t,Y.group,r,n)}function vc(e,t,r){return pc(e,t,Y.agent,Y.PublicAgent,r)}function yc(e,t,r,n){var i=It(e,Y.allOf).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))})).some((function(e){return mc(e,t,r)})),o=It(e,Y.anyOf).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))})).some((function(e){return mc(e,t,r)})),a=It(e,Y.noneOf).map((function(e){return n.rules.find((function(t){return Qt(t)===e}))})).some((function(e){return mc(e,t,r)}));return i||o||a}function mc(e,t,r){var n=[];return rc.forEach((function(o){var a=It(e,o).filter((function(e){return e!==r||o!==t}));n.push.apply(n,i(a))})),n.length>0}function bc(e,t,r,n,i){var o="_copy_without"+"_".concat(encodeURIComponent(n),"_").concat(i)+"_".concat(Date.now(),"_").concat(Math.random()),a=wc(It(e,Y.allOf),t,r,o,n,i),s=wc(It(e,Y.anyOf),t,r,o,n,i),u=wc(It(e,Y.noneOf),t,r,o,n,i),c=Ma(t,encodeURI(Qt(e))+o);return It(e,Y.allow).forEach((function(e){c=Fr(c,Y.allow,e)})),It(e,Y.deny).forEach((function(e){c=Fr(c,Y.deny,e)})),a.forEach((function(e){c=Fr(c,Y.allOf,e)})),s.forEach((function(e){c=Fr(c,Y.anyOf,e)})),u.forEach((function(e){c=Fr(c,Y.noneOf,e)})),[c,a.concat(s).concat(u)]}function wc(e,t,r,n,i,o){return e.map((function(e){var a=r.rules.find((function(t){return Qt(t)===e}));if("undefined"===typeof a)return null;var s=Yo(t,encodeURI(Qt(a))+n),u=!1;return rc.forEach((function(e){It(a,e).forEach((function(t){e===i&&t===o||(u=!0,s=Fr(s,e,t))}))})),u?s:null})).filter(xc)}function xc(e){return null!==e}function _c(e){return kc.apply(this,arguments)}function kc(){return kc=u(s.mark((function e(t){var r,n,i,o,a,u,c,l,f,d,p,h,g,v,y,m=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.length>1&&void 0!==m[1]?m[1]:re,n=ro(t),i=lo(t),o=Ec(n).concat(Ec(i)),e.next=6,Ac(o,r);case 6:return a=e.sent,u=Cc(n,a).filter(xc),c=Cc(i,a).filter(xc),l=new Set,u.forEach((function(e){Pc(e).forEach((function(e){l.add(e)}))})),c.forEach((function(e){Pc(e).forEach((function(e){l.add(e)}))})),f=Array.from(l),d=f.map((function(e){return Sc(e)})),p=d.filter((function(e){return!o.includes(e)})),e.next=17,Ac(p,r);case 17:return h=e.sent,g=Object.assign(Object.assign({},a),h),v=Cc(f,g).filter(xc),y=Object.keys(g).filter((function(e){return null===g[e]})),e.abrupt("return",{inaccessibleUrls:y,acrPolicies:u,policies:c,rules:v});case 22:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function Sc(e){var t=new URL(e);return t.hash="",t.href}function Ec(e){var t=[];return e.forEach((function(e){var r=Sc(e);t.includes(r)||t.push(r)})),t}function Ac(e,t){return Oc.apply(this,arguments)}function Oc(){return Oc=u(s.mark((function e(t,r){var n,i;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set(t)),i={},e.next=4,Promise.all(n.map(function(){var e=u(s.mark((function e(t){var n;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur(t,r);case 3:n=e.sent,i[t]=n,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i[t]=null;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()));case 4:return e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Cc(e,t){return e.map((function(e){var r=Sc(e),n=t[r];return n?Kt(n,e):null}))}function Pc(e){return zo(e).concat(qo(e)).concat(Qo(e))}function Rc(e,t){return jc.apply(this,arguments)}function jc(){return jc=u(s.mark((function e(t,r){var n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:re,e.next=3,_o(t,n);case 3:if(!Io(i=e.sent)){e.next=9;break}return e.next=7,_c(i,n);case 7:return o=e.sent,e.abrupt("return",ic(o,r));case 9:if(!ai(i)){e.next=13;break}return e.next=12,Lu(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Ic(e,t,r){return Tc.apply(this,arguments)}function Tc(){return Tc=u(s.mark((function e(t,r,n){var i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:re,e.next=3,_o(t,i);case 3:if(!Io(o=e.sent)){e.next=22;break}return e.next=7,_c(o,i);case 7:if(a=e.sent,!(u=hc(o,a,r,n))){e.next=21;break}return e.prev=10,e.next=13,Ro(u,i);case 13:return e.next=15,Rc(t,r,i);case 15:case 30:return e.abrupt("return",e.sent);case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return",null);case 21:case 31:return e.abrupt("return",null);case 22:if(!ai(o)){e.next=31;break}if(n.controlRead==n.controlWrite){e.next=25;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(ce(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 25:return c=n,e.next=28,Qu(o,r,c,i);case 28:return e.next=30,Lu(o,r,i);case 32:case"end":return e.stop()}}),e,null,[[10,18]])}))),Tc.apply(this,arguments)}function Fc(e){return Nc.apply(this,arguments)}function Nc(){return Nc=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,_o(t,r);case 3:if(!Io(n=e.sent)){e.next=9;break}return e.next=7,_c(n,r);case 7:return i=e.sent,e.abrupt("return",dc(i));case 9:if(!ai(n)){e.next=13;break}return e.next=12,Bu(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Dc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=u(s.mark((function e(t,r){var n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:re,e.next=3,_o(t,n);case 3:if(!Io(i=e.sent)){e.next=9;break}return e.next=7,_c(i,n);case 7:return o=e.sent,e.abrupt("return",oc(o,r));case 9:if(!ai(i)){e.next=13;break}return e.next=12,Uu(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Uc(e){return Mc.apply(this,arguments)}function Mc(){return Mc=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,_o(t,r);case 3:if(!Io(n=e.sent)){e.next=9;break}return e.next=7,_c(n,r);case 7:return i=e.sent,e.abrupt("return",fc(i));case 9:if(!ai(n)){e.next=13;break}return e.next=12,Hu(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}function Bc(e,t,r){return Hc.apply(this,arguments)}function Hc(){return Hc=u(s.mark((function e(t,r,n){var i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:re,e.next=3,_o(t,i);case 3:if(!Io(o=e.sent)){e.next=20;break}return e.next=7,_c(o,i);case 7:if(a=e.sent,!(u=gc(o,a,r,n))){e.next=19;break}return e.prev=10,e.next=13,Ro(u,i);case 13:return e.abrupt("return",Dc(t,r,i));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!ai(o)){e.next=29;break}if(n.controlRead==n.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(ce(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return c=n,e.next=26,Yu(o,r,c,i);case 26:return e.next=28,Uu(o,r,i);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),Hc.apply(this,arguments)}function zc(e){return Kc.apply(this,arguments)}function Kc(){return Kc=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,_o(t,r);case 3:if(!Io(n=e.sent)){e.next=9;break}return e.next=7,_c(n,r);case 7:return i=e.sent,e.abrupt("return",ac(i));case 9:if(!ai(n)){e.next=13;break}return e.next=12,Mu(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}function Wc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=u(s.mark((function e(t,r){var n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:re,e.next=3,_o(t,n);case 3:if(!Io(i=e.sent)){e.next=20;break}return e.next=7,_c(i,n);case 7:if(o=e.sent,!(a=vc(i,o,r))){e.next=19;break}return e.prev=10,e.next=13,Ro(a,n);case 13:return e.abrupt("return",zc(t,n));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!ai(i)){e.next=29;break}if(r.controlRead==r.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(ce(i),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return u=r,e.next=26,ec(i,u,n);case 26:return e.next=28,Mu(i,n);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),Vc.apply(this,arguments)}var qc=Object.freeze({__proto__:null,getAgentAccess:Rc,setAgentAccess:Ic,getAgentAccessAll:Fc,getGroupAccess:Dc,getGroupAccessAll:Uc,setGroupAccess:Bc,getPublicAccess:zc,setPublicAccess:Wc,getAccessFor:Zc,getAccessForAll:Qc,setAccessFor:Yc}),Jc=Object.freeze({__proto__:null,getAccessFor:Zc,getAccessForAll:Qc,setAccessFor:Yc,getAgentAccess:Rc,setAgentAccess:Ic,getAgentAccessAll:Fc,getGroupAccess:Dc,getGroupAccessAll:Uc,setGroupAccess:Bc,getPublicAccess:zc,setPublicAccess:Wc});function Zc(e,t){return Gc.apply(this,arguments)}function Gc(){return Gc=u(s.mark((function e(t,r){var n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>2&&void 0!==o[2]?o[2]:re,i=o.length>3&&void 0!==o[3]?o[3]:re,"agent"!==r){e.next=8;break}if("string"===typeof n){e.next=5;break}throw new Error("When reading Agent-specific access, the given agent cannot be left undefined.");case 5:return e.next=7,Rc(t,n,i);case 7:case 13:case 19:return e.abrupt("return",e.sent);case 8:if("group"!==r){e.next=14;break}if("string"===typeof n){e.next=11;break}throw new Error("When reading Group-specific access, the given group cannot be left undefined.");case 11:return e.next=13,Dc(t,n,i);case 14:if("public"!==r){e.next=20;break}if("string"!==typeof n){e.next=17;break}throw new Error("When reading public access, no actor type should be specified (here [".concat(n,"])."));case 17:return e.next=19,zc(t,n);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}function Qc(e,t){return $c.apply(this,arguments)}function $c(){return $c=u(s.mark((function e(t,r){var n,i=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>2&&void 0!==i[2]?i[2]:re,"agent"!==r){e.next=5;break}return e.next=4,Fc(t,n);case 4:case 8:return e.abrupt("return",e.sent);case 5:if("group"!==r){e.next=9;break}return e.next=8,Uc(t,n);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}function Yc(e,t,r){return Xc.apply(this,arguments)}function Xc(){return Xc=u(s.mark((function e(t,r,n){var i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>3&&void 0!==a[3]?a[3]:re,o=a.length>4&&void 0!==a[4]?a[4]:re,"agent"!==r){e.next=8;break}if("string"===typeof i){e.next=5;break}throw new Error("When writing Agent-specific access, the given agent cannot be left undefined.");case 5:return e.next=7,Ic(t,i,n,o);case 7:case 13:case 19:return e.abrupt("return",e.sent);case 8:if("group"!==r){e.next=14;break}if("string"===typeof i){e.next=11;break}throw new Error("When writing Group-specific access, the given group cannot be left undefined.");case 11:return e.next=13,Bc(t,i,n,o);case 14:if("public"!==r){e.next=20;break}if("string"!==typeof i){e.next=17;break}throw new Error("When writing public access, no actor type should be specified (here [".concat(i,"])."));case 17:return e.next=19,Wc(t,n,i);case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e)}))),Xc.apply(this,arguments)}function el(e,t){return tl.apply(this,arguments)}function tl(){return tl=u(s.mark((function e(t,r){var n,i,o,a=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:re,e.next=3,_o(t,n);case 3:if(!Io(i=e.sent)){e.next=9;break}return e.next=7,xu(i,n);case 7:return o=e.sent,e.abrupt("return",au(o,r));case 9:if(!ai(i)){e.next=13;break}return e.next=12,Lu(i,r,n);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),tl.apply(this,arguments)}function rl(){return rl=u(s.mark((function e(t,r,n){var i,o,a,u,c,l=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>3&&void 0!==l[3]?l[3]:re,e.next=3,_o(t,i);case 3:if(!Io(o=e.sent)){e.next=22;break}return e.next=7,xu(o,i);case 7:if(a=e.sent,!(u=hu(o,a,r,n))){e.next=21;break}return e.prev=10,e.next=13,Ro(u,i);case 13:return e.next=15,el(t,r,i);case 15:case 30:return e.abrupt("return",e.sent);case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return",null);case 21:case 31:return e.abrupt("return",null);case 22:if(!ai(o)){e.next=31;break}if(n.controlRead==n.controlWrite){e.next=25;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(ce(o),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 25:return c=n,e.next=28,Qu(o,r,c,i);case 28:return e.next=30,Lu(o,r,i);case 32:case"end":return e.stop()}}),e,null,[[10,18]])}))),rl.apply(this,arguments)}function nl(){return nl=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,_o(t,r);case 3:if(!Io(n=e.sent)){e.next=9;break}return e.next=7,xu(n,r);case 7:return i=e.sent,e.abrupt("return",du(i));case 9:if(!ai(n)){e.next=13;break}return e.next=12,Bu(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}function il(e){return ol.apply(this,arguments)}function ol(){return ol=u(s.mark((function e(t){var r,n,i,o=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:re,e.next=3,_o(t,r);case 3:if(!Io(n=e.sent)){e.next=9;break}return e.next=7,xu(n,r);case 7:return i=e.sent,e.abrupt("return",su(i));case 9:if(!ai(n)){e.next=13;break}return e.next=12,Mu(n,r);case 12:return e.abrupt("return",e.sent);case 13:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function al(){return al=u(s.mark((function e(t,r){var n,i,o,a,u,c=arguments;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:re,e.next=3,_o(t,n);case 3:if(!Io(i=e.sent)){e.next=20;break}return e.next=7,xu(i,n);case 7:if(o=e.sent,!(a=gu(i,o,r))){e.next=19;break}return e.prev=10,e.next=13,Ro(a,n);case 13:return e.abrupt("return",il(t,n));case 16:return e.prev=16,e.t0=e.catch(10),e.abrupt("return",null);case 19:case 29:return e.abrupt("return",null);case 20:if(!ai(i)){e.next=29;break}if(r.controlRead==r.controlWrite){e.next=23;break}throw new Error("When setting access for a Resource in a Pod implementing Web Access Control (i.e. [".concat(ce(i),"]), ")+"`controlRead` and `controlWrite` should have the same value.");case 23:return u=r,e.next=26,ec(i,u,n);case 26:return e.next=28,Mu(i,n);case 28:return e.abrupt("return",e.sent);case 30:case"end":return e.stop()}}),e,null,[[10,16]])}))),al.apply(this,arguments)}var sl=Object.freeze({__proto__:null,getAgentAccess:el,setAgentAccess:function(e,t,r){return rl.apply(this,arguments)},getAgentAccessAll:function(e){return nl.apply(this,arguments)},getPublicAccess:il,setPublicAccess:function(e,t){return al.apply(this,arguments)},getAccessFor:Zc,getAccessForAll:Qc,setAccessFor:Yc});t.FetchError=de,t.SolidClientError=P,t.ThingExpectedError=Xt,t.access=Jc,t.access_v1=qc,t.access_v2=sl,t.acp_v1=ps,t.acp_v2=as,t.acp_v3=bs,t.acp_v4=nu,t.addBoolean=Nr,t.addDate=Lr,t.addDatetime=Dr,t.addDecimal=Mr,t.addInteger=Br,t.addIri=Fr,t.addJwkToJwks=Di,t.addLiteral=Wr,t.addMockFallbackAclTo=function(e){var t=Pn(ce(e)),r=t+".acl",n=function(e,t){return Object.assign(T(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:t})})}(Ir(t),r),i=ti(n);return Hn(T(e),{resourceAcl:null,fallbackAcl:i})},t.addMockResourceAclTo=function(e){var t,r=null!==(t=e.internal_resourceInfo.aclUrl)&&void 0!==t?t:"https://your.pod/mock-acl.ttl",n=Object.assign(T(e),{internal_resourceInfo:Object.assign(Object.assign({},e.internal_resourceInfo),{aclUrl:r})});return Hn(n,{resourceAcl:ti(n),fallbackAcl:null})},t.addNamedNode=Kr,t.addPublicKeyToProfileJwks=function(e,t){return Ui.apply(this,arguments)},t.addStringEnglish=function(e,t,r){return Hr(e,t,r,"en")},t.addStringNoLocale=zr,t.addStringWithLocale=Hr,t.addTerm=Vr,t.addTime=Ur,t.addUrl=Tr,t.asIri=Qt,t.asUrl=Gt,t.buildThing=xn,t.changeLogAsMarkdown=Er,t.createAcl=ti,t.createAclFromFallbackAcl=ri,t.createContainerAt=function(e){return yr.apply(this,arguments)},t.createContainerInContainer=function(e){return _r.apply(this,arguments)},t.createSolidDataset=or,t.createThing=Jt,t.deleteAclFor=function(e){return oi.apply(this,arguments)},t.deleteContainer=function(e){return kr.apply(this,arguments)},t.deleteFile=function(e){return me.apply(this,arguments)},t.deleteSolidDataset=function(e){return vr.apply(this,arguments)},t.fromRdfJsDataset=function(e){var t=Array.from(e),r=ct(t);return t.filter((function(e){return r.every((function(t){return!t.equals(e.subject)}))})).reduce((function(e,n){return it(e,n,{otherQuads:t,chainBlankNodes:r})}),{graphs:{default:{}},type:"Dataset"})},t.getAgentAccess=si,t.getAgentAccessAll=ui,t.getAgentDefaultAccess=di,t.getAgentDefaultAccessAll=pi,t.getAgentResourceAccess=ci,t.getAgentResourceAccessAll=li,t.getBoolean=function(e,t){Et(e);var r=Ht(e,t,Fe);return null===r?null:ze(r)},t.getBooleanAll=function(e,t){return Et(e),zt(e,t,Fe).map(ze).filter((function(e){return null!==e}))},t.getContainedResourceUrlAll=function(e){var t=Kt(e,ue(e));return null!==t?It(t,Z):[]},t.getContentType=se,t.getDate=function(e,t){Et(e);var r=Ht(e,t,De);return null===r?null:Ve(r)},t.getDateAll=function(e,t){return Et(e),zt(e,t,De).map(Ve).filter((function(e){return null!==e}))},t.getDatetime=function(e,t){Et(e);var r=Ht(e,t,Ne);return null===r?null:We(r)},t.getDatetimeAll=function(e,t){return Et(e),zt(e,t,Ne).map(We).filter((function(e){return null!==e}))},t.getDecimal=function(e,t){Et(e);var r=Ht(e,t,Ue);return null===r?null:Ze(r)},t.getDecimalAll=function(e,t){return Et(e),zt(e,t,Ue).map((function(e){return Ze(e)})).filter((function(e){return null!==e}))},t.getEffectiveAccess=function(e){var t,r,n,i,o,a,s;if("object"===typeof e.internal_resourceInfo.permissions)return{user:{read:e.internal_resourceInfo.permissions.user.read,append:e.internal_resourceInfo.permissions.user.append,write:e.internal_resourceInfo.permissions.user.write},public:{read:e.internal_resourceInfo.permissions.public.read,append:e.internal_resourceInfo.permissions.public.append,write:e.internal_resourceInfo.permissions.public.write}};var u=fe(e);return{user:{read:null!==(r=null===(t=u[Y.allow])||void 0===t?void 0:t.includes(Y.Read))&&void 0!==r&&r,append:null!==(o=(null===(n=u[Y.allow])||void 0===n?void 0:n.includes(Y.Append))||(null===(i=u[Y.allow])||void 0===i?void 0:i.includes(Y.Write)))&&void 0!==o&&o,write:null!==(s=null===(a=u[Y.allow])||void 0===a?void 0:a.includes(Y.Write))&&void 0!==s&&s}}},t.getFallbackAcl=ei,t.getFile=ve,t.getFileWithAcl=function(e){return Qn.apply(this,arguments)},t.getGroupAccess=mi,t.getGroupAccessAll=bi,t.getGroupDefaultAccess=_i,t.getGroupDefaultAccessAll=ki,t.getGroupResourceAccess=wi,t.getGroupResourceAccessAll=xi,t.getInteger=function(e,t){Et(e);var r=Ht(e,t,Me);return null===r?null:Ge(r)},t.getIntegerAll=function(e,t){return Et(e),zt(e,t,Me).map((function(e){return Ge(e)})).filter((function(e){return null!==e}))},t.getIri=Rt,t.getIriAll=It,t.getJsonLdParser=ht,t.getLinkedResourceUrlAll=fe,t.getLiteral=Lt,t.getLiteralAll=Ut,t.getNamedNode=Nt,t.getNamedNodeAll=Dt,t.getPodOwner=le,t.getProfileAll=function(e){return Mi.apply(this,arguments)},t.getProfileJwksIri=Fi,t.getPropertyAll=function(e){return Object.keys(e.predicates).filter((function(t){return null!==Mt(e,t)}))},t.getPublicAccess=Oi,t.getPublicDefaultAccess=Pi,t.getPublicResourceAccess=Ci,t.getResourceAcl=Yn,t.getResourceInfo=ne,t.getResourceInfoWithAcl=function(e){return $n.apply(this,arguments)},t.getSolidDataset=ur,t.getSolidDatasetWithAcl=function(e){return Gn.apply(this,arguments)},t.getSourceIri=ce,t.getSourceUrl=ue,t.getStringByLocaleAll=function(e,t){var r,n;if(Et(e),!et(t))throw new er(t);var o=R(t),s=null!==(n=null===(r=e.predicates[o])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{};return new Map(Object.entries(s).map((function(e){var t=a(e,2),r=t[0],n=t[1];return[r,i(n)]})))},t.getStringEnglish=function(e,t){return Tt(e,t,"en")},t.getStringEnglishAll=function(e,t){return Ft(e,t,"en")},t.getStringNoLocale=function(e,t){return Et(e),Ht(e,t,Be)},t.getStringNoLocaleAll=function(e,t){return Et(e),zt(e,t,Be)},t.getStringWithLocale=Tt,t.getStringWithLocaleAll=Ft,t.getTerm=Mt,t.getTermAll=Bt,t.getThing=Kt,t.getThingAll=Wt,t.getTime=function(e,t){Et(e);var r=Ht(e,t,Le);return null===r?null:Ke(r)},t.getTimeAll=function(e,t){return Et(e),zt(e,t,Le).map(Ke).filter((function(e){return null!==e}))},t.getTurtleParser=yt,t.getUrl=Pt,t.getUrlAll=jt,t.getWellKnownSolid=function(e){return Pr.apply(this,arguments)},t.hasAccessibleAcl=ai,t.hasAcl=function(e){return"object"===typeof e.internal_acl},t.hasFallbackAcl=Xn,t.hasResourceAcl=Zn,t.hasResourceInfo=A,t.hasServerResourceInfo=O,t.isContainer=ae,t.isPodOwner=function(e,t){var r=le(t);return"string"!==typeof r?null:r===e},t.isRawData=function(e){return e.internal_resourceInfo.isRawData},t.isThing=Zt,t.isThingLocal=Yt,t.mockContainerFrom=Ir,t.mockFetchError=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:404,r=new Rr(void 0,{status:t});return new de("Fetching the Resource at [".concat(e,"] failed: [").concat(r.status,"] [").concat(r.statusText,"]."),r)},t.mockFileFrom=function(e,t){var r=new Blob;return Object.assign(r,{internal_resourceInfo:{sourceIri:R(e),isRawData:!0,contentType:null===t||void 0===t?void 0:t.contentType,linkedResources:{}}})},t.mockSolidDatasetFrom=jr,t.mockThingFrom=function(e){return{type:"Subject",predicates:{},url:R(e)}},t.overwriteFile=we,t.removeAll=Jr,t.removeBoolean=Qr,t.removeDate=Yr,t.removeDatetime=$r,t.removeDecimal=en,t.removeInteger=tn,t.removeIri=Gr,t.removeLiteral=an,t.removeNamedNode=on,t.removeStringEnglish=function(e,t,r){return rn(e,t,r,"en")},t.removeStringNoLocale=nn,t.removeStringWithLocale=rn,t.removeThing=qt,t.removeTime=Xr,t.removeUrl=Zr,t.responseToResourceInfo=oe,t.responseToSolidDataset=ar,t.saveAclFor=ni,t.saveFileInContainer=function(e,t){return be.apply(this,arguments)},t.saveSolidDatasetAt=hr,t.saveSolidDatasetInContainer=function(e,t){return xr.apply(this,arguments)},t.setAgentDefaultAccess=function(e,t,r){return Wn(e,r,U,"default",t)},t.setAgentResourceAccess=fi,t.setBoolean=ln,t.setDate=dn,t.setDatetime=fn,t.setDecimal=hn,t.setGroupDefaultAccess=function(e,t,r){return Wn(e,r,M,"default",t)},t.setGroupResourceAccess=Ai,t.setInteger=gn,t.setIri=cn,t.setLiteral=bn,t.setNamedNode=mn,t.setProfileJwks=function(e,t,r){return Vt(e,cn(Ti(e,t),ee,r))},t.setPublicDefaultAccess=function(e,t){return Wn(e,t,B,"default",G)},t.setPublicResourceAccess=Ri,t.setStringNoLocale=yn,t.setStringWithLocale=vn,t.setTerm=wn,t.setThing=Vt,t.setTime=pn,t.setUrl=un,t.solidDatasetAsMarkdown=Sr,t.thingAsMarkdown=$t,t.toRdfJsDataset=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!==(r=null===(t=n.datasetFactory)||void 0===t?void 0:t.dataset)&&void 0!==r?r:Ii;return i(lt(e,n))}},7062:function(e,t,r){var n,i=r(7757),o=r(8926).default,a=r(3038).default;self,n=function(e,t,r,n,s){return function(){"use strict";var u={577:function(e){e.exports=t},606:function(e){e.exports=r},156:function(t){t.exports=e},767:function(e){e.exports=s},928:function(e){e.exports=n}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return u[e](r,r.exports,l),r.exports}l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},l.d=function(e,t){for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var f={};return function(){l.r(f),l.d(f,{CombinedDataProvider:function(){return te},DatasetContext:function(){return v},DatasetProvider:function(){return y},FileUpload:function(){return c},Image:function(){return P},Link:function(){return $},LoginButton:function(){return Y},LogoutButton:function(){return X},SessionContext:function(){return s},SessionProvider:function(){return u},Table:function(){return ie},TableColumn:function(){return ne},Text:function(){return ae},ThingContext:function(){return b},ThingProvider:function(){return w},Value:function(){return G},Video:function(){return ue},useDataset:function(){return h},useFile:function(){return O},useSession:function(){return ce},useThing:function(){return le}});var e=l(156),t=l.n(e),r=l(577),n=l(606),s=(0,e.createContext)({login:n.login,logout:n.logout,fetch:n.fetch,session:(0,n.getDefaultSession)(),sessionRequestInProgress:!0,profile:void 0}),u=function(u){var c=u.sessionId,l=u.children,f=u.onError,d=u.sessionRequestInProgress,p=u.restorePreviousSession,h=u.onSessionRestore,g=p||"undefined"!==typeof h,v=(0,e.useState)((0,n.getDefaultSession)()),y=a(v,2),m=y[0],b=y[1],w=(0,e.useState)(),x=a(w,2),_=x[0],k=x[1];(0,e.useEffect)((function(){void 0!==h&&(0,n.onSessionRestore)(h)}),[h]);var S,E="undefined"===typeof d?!m.info.isLoggedIn:d,A=(0,e.useState)(E),O=a(A,2),C=O[0],P=O[1];"undefined"!==typeof window&&(S=window.location),(0,e.useEffect)((function(){(0,n.handleIncomingRedirect)({url:window.location.href,restorePreviousSession:g}).then((function(e){return void 0!==(null===e||void 0===e?void 0:e.webId)?(0,r.getProfileAll)(null===e||void 0===e?void 0:e.webId,{fetch:m.fetch}):void 0})).then((function(e){void 0!==e&&k(e)})).catch((function(e){if(!f)throw e;f(e)})).finally((function(){P(!1)})),(0,n.getDefaultSession)().on("logout",(function(){b((0,n.getDefaultSession)())}))}),[m,c,f,S,g]);var R=function(){var e=o(i.mark((function e(t){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,(0,n.login)(t);case 4:e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(1),!f){e.next=12;break}f(e.t0),e.next=13;break;case 12:throw e.t0;case 13:return e.prev=13,P(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,6,13,16]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.logout)();case 3:k(void 0),e.next=13;break;case 6:if(e.prev=6,e.t0=e.catch(0),!f){e.next=12;break}f(e.t0),e.next=13;break;case 12:throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return t().createElement(s.Provider,{value:{session:m,login:R,logout:j,sessionRequestInProgress:C,setSessionRequestInProgress:P,fetch:n.fetch,profile:_}},l)};function c(n){var a=n.saveLocation,u=n.onError,c=n.onSave,l=n.inputProps,f=n.autosave,d=(0,e.useContext)(s).fetch,p=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.target).files){e.next=3;break}return e.abrupt("return");case 3:if(f){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,(0,r.saveFileInContainer)(a,n.files[0],{slug:n.files[0].name?n.files[0].name:void 0,fetch:d});case 8:o=e.sent,c&&c(o),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),u&&u(e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"file"},l,{onChange:function(e){return p(e)},"data-testid":"form-input"})))}var d=l(928),p=l.n(d);function h(t,n){var i=(0,e.useContext)(s).fetch,o=(0,e.useContext)(v).solidDataset,a=p()(t?[t,n,i]:null,(function(){var e=Object.assign({fetch:i},n);return(0,r.getSolidDataset)(t,e)})),u=a.data,c=a.error;return{dataset:t?u:o,error:c}}var g=(0,e.createContext)({solidDataset:void 0,setDataset:function(){}}),v=g,y=function(r){var n=r.children,i=r.onError,o=r.solidDataset,s=r.datasetUrl,u=r.loading,c=r.loadingComponent,l=h(s),f=l.dataset,d=l.error;d&&i&&i(d);var p=null!==o&&void 0!==o?o:f,v=(0,e.useState)(p),y=a(v,2),m=y[0],b=y[1];(0,e.useEffect)((function(){b(p)}),[p]);var w=c&&t().createElement(c,null)||u||t().createElement("span",null,"Fetching data...");return null===c&&(w=null),t().createElement(g.Provider,{value:{solidDataset:m,setDataset:b}},m?n:w)},m=(0,e.createContext)({thing:null,setThing:function(){}}),b=m,w=function(n){var i=n.children,o=n.thing,s=n.thingUrl,u=(0,e.useContext)(v).solidDataset,c=o;u&&s&&(c=(0,r.getThing)(u,s));var l=(0,e.useState)(c||null),f=a(l,2),d=f[0],p=f[1];return(0,e.useEffect)((function(){u&&s?p((0,r.getThing)(u,s)):o&&p(o)}),[u,s,o]),t().createElement(m.Provider,{value:{thing:d,setThing:p}},i)},x=function(){var e=o(i.mark((function e(t,n,o,a,s,u,c){var l;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(void 0!==s&&n.size>1024*s)){e.next=5;break}return o.setCustomValidity("The selected file must not be larger than ".concat(s,"kB")),o.reportValidity(),e.abrupt("return",null);case 5:return o.setCustomValidity(""),e.next=8,(0,r.overwriteFile)(t,n,{fetch:a});case 8:return u&&u(),l=URL.createObjectURL(n),e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(0),c&&c(e.t0),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,r,n,i,o,a,s){return e.apply(this,arguments)}}(),_=function(){var e=o(i.mark((function e(t,n){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getFile)(t,{fetch:n});case 2:return o=e.sent,e.abrupt("return",o);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function k(e,t,n,i){switch(e){case"boolean":return(0,r.getBoolean)(t,n);case"datetime":return(0,r.getDatetime)(t,n);case"decimal":return(0,r.getDecimal)(t,n);case"integer":return(0,r.getInteger)(t,n);case"url":return(0,r.getUrl)(t,n);default:return i?(0,r.getStringWithLocale)(t,n,i):(0,r.getStringNoLocale)(t,n)}}function S(t){var r,n=t.dataset,i=t.thing,o=t.properties,a=t.property,s=t.type,u=t.locale,c=(0,e.useContext)(v),l=c.solidDataset,f=c.setDataset,d=void 0===f?function(){}:f,p=n||l,h=(0,e.useContext)(b),g=h.thing,y=h.setThing,m=void 0===y?function(){}:y,w=i||g||void 0;w||(r=new Error("Thing not found as property or in context"));var x=w&&o?function(e,t,r,n,i){return n.find((function(n){return e(t,r,n,i)}))||n[0]}(k,s,w,o,u)||o[0]:a;if(!x)throw new Error("No property provided");return{dataset:p,thing:w,property:x,error:r,value:w&&x?k(s,w,x,u):null,setDataset:d,setThing:m}}function E(e,t){return A.apply(this,arguments)}function A(){return(A=o(i.mark((function e(t,n){var o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.getSolidDataset)(t);case 2:o=e.sent,n(o);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(t){var r=(0,e.useState)(),n=a(r,2),i=n[0],o=n[1],u=(0,e.useState)(!1),c=a(u,2),l=c[0],f=c[1],d=(0,e.useState)(),p=a(d,2),h=p[0],g=p[1],v=(0,e.useContext)(s).fetch;return(0,e.useEffect)((function(){t&&(f(!0),_(t,v).then((function(e){g(e),f(!1)})).catch((function(e){o(e),f(!1)})))}),[t,v]),{error:i,inProgress:l,data:h}}var C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function P(r){var n,u=r.thing,c=r.property,l=r.properties,f=r.edit,d=r.autosave,p=r.onSave,h=r.onError,g=r.maxSize,v=r.alt,y=r.inputProps,m=r.errorComponent,b=r.loadingComponent,w=C(r,["thing","property","properties","edit","autosave","onSave","onError","maxSize","alt","inputProps","errorComponent","loadingComponent"]),_=(0,e.useContext)(s).fetch,k=S({thing:u,property:c,properties:l,type:"url"}),E=k.value,A=k.thing,P=k.error;f||E||(n=new Error("No value found for property."));var R=!A&&!P,j=(0,e.useState)(null!==P&&void 0!==P?P:n),I=a(j,2),T=I[0],F=I[1];(0,e.useEffect)((function(){T&&h&&h(T)}),[T,h,m]);var N=(0,e.useState)(),D=a(N,2),L=D[0],U=D[1],M=O(E),B=M.data,H=M.error,z=M.inProgress;(0,e.useEffect)((function(){if(!z)if(H)F(H);else{var e=B&&URL.createObjectURL(B);e&&U(e)}}),[B,z,H]);var K=function(){var e=o(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.files,!(d&&r&&r.length>0&&E)){e.next=6;break}return e.next=4,x(E,r[0],t,_,g,p,h);case 4:(n=e.sent)&&U(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=null;if(R||z){var V=b&&t().createElement(b,null)||t().createElement("span",null,"fetching data in progress");return null===b&&(V=null),V}return T?W=m?t().createElement(m,{error:T}):t().createElement("span",null,T.toString()):E&&(W=t().createElement("img",Object.assign({src:L,alt:null!==v&&void 0!==v?v:""},w))),t().createElement(t().Fragment,null,W,f&&t().createElement("input",Object.assign({},y,{type:"file",accept:"image/*",onChange:function(e){return K(e.target)}})))}var R=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},j=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=R(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=S({dataset:l,thing:c,type:"datetime",property:f,properties:d}),_=x.value,k=x.thing,A=x.property,O=x.dataset,C=x.setDataset,P=x.error,j=function(){var t=(0,e.useState)(null),r=a(t,2),n=r[0],i=r[1];return(0,e.useEffect)((function(){var e=document.createElement("input");e.type="datetime-local",i("text"!==e.type)}),[]),n}();(0,e.useEffect)((function(){P&&g&&g(P)}),[P,g]);var I=_?_.toISOString().substring(0,_.toISOString().length-5):null,T=(0,e.useState)(I),F=a(T,2),N=F[0],D=F[1],L="";j||(L=null===N||void 0===N?void 0:N.split(/T(.+)/)[0].toString());var U="00:00";j||(U=null===(u=null===N||void 0===N?void 0:N.split(/T(.+)/)[1])||void 0===u?void 0:u.toString());var M=(0,e.useState)(U),B=a(M,2),H=B[0],z=B[1],K=(0,e.useState)(L),W=a(K,2),V=W[0],q=W[1];(0,e.useEffect)((function(){!H&&!V||j||D("".concat(null!==V&&void 0!==V?V:"","T").concat(null!==H&&void 0!==H?H:"00:00"))}),[H,V,j]);var J,Z=function(){var e=o(i.mark((function e(t){var n,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(I!==N&&k&&O&&t.target.reportValidity())){e.next=27;break}if(n=N,o=(0,r.setDatetime)(k,A,new Date("".concat(n,"Z"))),e.prev=3,!p){e.next=12;break}return e.next=7,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(O,o),{fetch:w});case 7:return a=e.sent,e.next=10,E(p,C);case 10:e.next=21;break;case 12:if(!(0,r.hasResourceInfo)(O)){e.next=20;break}return e.next=15,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(O),(0,r.setThing)(O,o),{fetch:w});case 15:return a=e.sent,e.next=18,E((0,r.getSourceUrl)(O),C);case 18:e.next=21;break;case 20:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 21:!P&&h&&h(a,o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),g&&g(e.t0);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}();return J=j?"datetime-local":"datetime-workaround",t().createElement(t().Fragment,null,!v&&O&&k&&t().createElement("span",Object.assign({},b),"".concat(N)),v&&O&&k&&"datetime-local"===J&&t().createElement("input",Object.assign({type:J,"aria-label":"Date and Time",step:"any"},m,{onChange:function(e){D(e.target.value)},onBlur:function(e){return y&&Z(e)},value:N,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}",placeholder:"yyyy-mm-ddThh:mm"})),v&&O&&k&&"datetime-workaround"===J&&t().createElement(t().Fragment,null,t().createElement("input",Object.assign({type:"date","aria-label":"Date",step:"any"},m,{onChange:function(e){q(e.target.value)},onBlur:function(e){return y&&Z(e)},value:V,pattern:"[0-9]{4}-[0-9]{2}-[0-9]{2}",placeholder:"yyyy-mm-dd"})),t().createElement("input",{type:"time","aria-label":"Time",value:H,onChange:function(e){return z(e.target.value)},onBlur:function(e){return y&&Z(e)},pattern:"[0-9]{2}:[0-9]{2}"})))};j.defaultProps={autosave:!1,edit:!1};var I=j,T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},F=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.locale,g=n.onSave,v=n.onError,y=n.edit,m=n.autosave,b=n.inputProps,w=T(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","edit","autosave","inputProps"]),x=(0,e.useContext)(s).fetch,_=S({dataset:l,thing:c,type:"string",property:f,properties:d,locale:h}),k=_.value,A=_.thing,O=_.property,C=_.dataset,P=_.setDataset,R=_.error;(0,e.useEffect)((function(){R&&v&&v(R)}),[R,v]);var j=null!==(u=null===k||void 0===k?void 0:k.toString())&&void 0!==u?u:"",I=(0,e.useState)(j),F=a(I,2),N=F[0],D=F[1],L=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(j!==N&&A&&C&&t.target.reportValidity())){e.next=26;break}if(n=h?(0,r.setStringWithLocale)(A,O,N,h):(0,r.setStringNoLocale)(A,O,N),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(C,n),{fetch:x});case 6:return o=e.sent,e.next=9,E(p,P);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(C)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(C),(0,r.setThing)(C,n),{fetch:x});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(C),P);case 17:e.next=20;break;case 19:v&&v(new Error("Please provide saveDatasetTo location for new data"));case 20:!R&&g&&g(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),v&&v(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!y&&C&&A&&t().createElement("span",Object.assign({},w),N),y&&C&&A&&t().createElement("input",Object.assign({type:"text"},b,{onChange:function(e){D(e.target.value)},onBlur:function(e){return m&&L(e)},value:N})))};F.defaultProps={autosave:!1,edit:!1};var N=F,D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},L=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=D(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=S({dataset:l,thing:c,type:"boolean",property:f,properties:d}),_=x.value,k=x.thing,A=x.property,O=x.dataset,C=x.setDataset,P=x.error;(0,e.useEffect)((function(){P&&g&&g(P)}),[P,g]);var R,j=!1;j=null!==(u=_)&&void 0!==u&&u,R=j.toString();var I=(0,e.useState)(R),T=a(I,2),F=T[0],N=T[1],L=(0,e.useState)(j),U=a(L,2),M=U[0],B=U[1];(0,e.useEffect)((function(){N(M.toString())}),[M]);var H=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R!==F&&k&&O&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setBoolean)(k,A,M),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(O,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,C);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(O)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(O),(0,r.setThing)(O,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(O),C);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!P&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&O&&k&&t().createElement("span",Object.assign({},b),"".concat(F)),v&&O&&k&&t().createElement("input",Object.assign({type:"checkbox",checked:M},m,{onChange:function(e){B(e.target.checked)},onBlur:function(e){return y&&H(e)},value:F})))};L.defaultProps={autosave:!1,edit:!1};var U=L,M=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},B=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=M(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=S({dataset:l,thing:c,type:"url",property:f,properties:d}),_=x.value,k=x.thing,A=x.property,O=x.dataset,C=x.setDataset,P=x.error;(0,e.useEffect)((function(){P&&g&&g(P)}),[P,g]);var R=null!==(u=null===_||void 0===_?void 0:_.toString())&&void 0!==u?u:"",j=(0,e.useState)(R),I=a(j,2),T=I[0],F=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R!==T&&k&&O&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setUrl)(k,A,T),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(O,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,C);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(O)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(O),(0,r.setThing)(O,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(O),C);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!P&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&O&&k&&t().createElement("span",Object.assign({},b),"".concat(T)),v&&O&&k&&t().createElement("input",Object.assign({type:"url"},m,{onChange:function(e){F(e.target.value)},onBlur:function(e){return y&&N(e)},value:T})))};B.defaultProps={autosave:!1,edit:!1};var H=B,z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},K=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=z(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=S({dataset:l,thing:c,type:"integer",property:f,properties:d}),_=x.value,k=x.thing,A=x.property,O=x.dataset,C=x.setDataset,P=x.error;(0,e.useEffect)((function(){P&&g&&g(P)}),[P,g]);var R=null!==(u=null===_||void 0===_?void 0:_.toString())&&void 0!==u?u:"",j=(0,e.useState)(R),I=a(j,2),T=I[0],F=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R!==T&&k&&O&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setInteger)(k,A,parseInt(T,10)),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(O,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,C);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(O)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(O),(0,r.setThing)(O,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(O),C);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!P&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&O&&k&&t().createElement("span",Object.assign({},b),"".concat(T)),v&&O&&k&&t().createElement("input",Object.assign({type:"number",step:"any"},m,{onChange:function(e){F(e.target.value)},onBlur:function(e){return y&&N(e)},value:T})))};K.defaultProps={autosave:!1,edit:!1};var W=K,V=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},q=function(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.onSave,g=n.onError,v=n.edit,y=n.autosave,m=n.inputProps,b=V(n,["thing","solidDataset","property","properties","saveDatasetTo","onSave","onError","edit","autosave","inputProps"]),w=(0,e.useContext)(s).fetch,x=S({dataset:l,thing:c,type:"decimal",property:f,properties:d}),_=x.value,k=x.thing,A=x.property,O=x.dataset,C=x.setDataset,P=x.error;(0,e.useEffect)((function(){P&&g&&g(P)}),[P,g]);var R=null!==(u=null===_||void 0===_?void 0:_.toString())&&void 0!==u?u:"",j=(0,e.useState)(R),I=a(j,2),T=I[0],F=I[1],N=function(){var e=o(i.mark((function e(t){var n,o;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R!==T&&k&&O&&t.target.reportValidity())){e.next=26;break}if(n=(0,r.setDecimal)(k,A,parseFloat(T)),e.prev=2,!p){e.next=11;break}return e.next=6,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(O,n),{fetch:w});case 6:return o=e.sent,e.next=9,E(p,C);case 9:e.next=20;break;case 11:if(!(0,r.hasResourceInfo)(O)){e.next=19;break}return e.next=14,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(O),(0,r.setThing)(O,n),{fetch:w});case 14:return o=e.sent,e.next=17,E((0,r.getSourceUrl)(O),C);case 17:e.next=20;break;case 19:g&&g(new Error("Please provide saveDatasetTo location for new data"));case 20:!P&&h&&h(o,n),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(2),g&&g(e.t0);case 26:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return t().createElement(t().Fragment,null,!v&&O&&k&&t().createElement("span",Object.assign({},b),"".concat(T)),v&&O&&k&&t().createElement("input",Object.assign({type:"number",step:"any"},m,{onChange:function(e){F(e.target.value)},onBlur:function(e){return y&&N(e)},value:T})))};q.defaultProps={autosave:!1,edit:!1};var J=q,Z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function G(r){var n,i=r,o=i.dataType,s=Z(i,["dataType"]),u=s.thing,c=s.solidDataset,l=s.property,f=s.properties,d=s.edit,p=s.loadingComponent,h=s.errorComponent,g=S({dataset:c,thing:u,property:l,properties:f,type:o,locale:s.locale}),v=g.thing,y=g.value,m=g.error;d||y||"boolean"===o||(n=new Error("No value found for property."));var b=!v&&!m,w=(0,e.useState)(null!==m&&void 0!==m?m:n),x=a(w,1)[0];if(b){var _=p&&t().createElement(p,null)||t().createElement("span",null,"fetching data in progress");return null===p&&(_=null),_}if(x)return h?t().createElement(h,{error:x}):t().createElement("span",null,x.toString());var k=N;switch(o){case"boolean":k=U;break;case"datetime":k=I;break;case"decimal":k=J;break;case"integer":k=W;break;case"url":k=H;break;default:k=N}return t().createElement(k,Object.assign({},s))}G.defaultProps={autosave:!1,edit:!1};var Q=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function $(r){var n,i=r.children,o=r.property,s=r.properties,u=r.thing,c=r.solidDataset,l=r.autosave,f=r.rel,d=r.target,p=r.edit,h=r.loadingComponent,g=r.errorComponent,v=r.onSave,y=r.onError,m=Q(r,["children","property","properties","thing","solidDataset","autosave","rel","target","edit","loadingComponent","errorComponent","onSave","onError"]),b=S({dataset:c,thing:u,property:o,properties:s,type:"url"}),w=b.value,x=b.thing,_=b.property,k=b.dataset,E=b.error;p||w||(n=new Error("URL not found for given property"));var A=!x&&!E,O=(0,e.useState)(null!==E&&void 0!==E?E:n),C=a(O,1)[0];if(A){var P=h&&t().createElement(h,null)||t().createElement("span",null,"fetching data in progress");return null===h&&(P=null),P}if(C)return g?t().createElement(g,{error:C}):t().createElement("span",null,C.toString());var R=f||("_blank"===d?"noopener noreferrer":"nofollow");return p?t().createElement(G,{dataType:"url",solidDataset:k,thing:x,property:_,autosave:l,onSave:v,onError:y,edit:!0}):t().createElement("a",Object.assign({href:w,rel:R,target:d},m),null!==i&&void 0!==i?i:w)}var Y=function(r){var n=r.oidcIssuer,a=r.redirectUrl,u=r.children,c=r.authOptions,l=r.onError,f=Object.assign({redirectUrl:a,oidcIssuer:n},c),d=(0,e.useContext)(s),p=d.login,h=d.setSessionRequestInProgress;function g(){return v.apply(this,arguments)}function v(){return(v=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,p(f);case 4:h(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),h(!1),l&&l(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function y(e){return"Enter"===e.key?g():Promise.resolve()}return u?t().createElement("div",{role:"button",tabIndex:0,onClick:g,onKeyDown:y},u):t().createElement("button",{type:"button",onClick:g,onKeyDown:y},"Log In")},X=function(r){var n=(0,e.useContext)(s).logout,a=r.children,u=r.onLogout,c=r.onError;function l(){return f.apply(this,arguments)}function f(){return(f=o(i.mark((function e(){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:u&&u(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c&&c(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function d(e){return"Enter"===e.key?l():Promise.resolve()}return a?t().createElement("div",{role:"button",tabIndex:0,onClick:l,onKeyDown:d},a):t().createElement("button",{type:"button",onClick:l,onKeyDown:d},"Log Out")},ee=l(767),te=function(e){var r=e.children,n=e.solidDataset,i=e.datasetUrl,o=e.thing,a=e.thingUrl,s=e.onError,u=e.loadingComponent;return t().createElement(y,{onError:s,solidDataset:n,datasetUrl:i,loadingComponent:u},t().createElement(w,{thing:o,thingUrl:a},r))},re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ne(e){throw new Error("Can't use TableColumn outside a Table.")}function ie(n){var i=n.children,o=n.emptyStateComponent,a=n.things,s=n.filter,u=n.ascIndicator,c=n.descIndicator,l=n.getRowProps,f=re(n,["children","emptyStateComponent","things","filter","ascIndicator","descIndicator","getRowProps"]),d=(0,e.useMemo)((function(){var t=[],n=a.map((function(){return{}}));return e.Children.forEach(i,(function(e,i){if(e){var o=e.props,s=o.property,u=o.header,c=o.body,l=o.dataType,f=void 0===l?"string":l,d=o.locale,p=o.multiple,h=void 0!==p&&p,g=o.sortable,v=o.sortFn,y=o.filterable;t.push({Header:null!==u&&void 0!==u?u:"".concat(s),accessor:"col".concat(i),disableGlobalFilter:!y,disableSortBy:!g,Cell:null!==c&&void 0!==c?c:function(e){var t=e.value;return null!=t?"".concat(t):""}}),v?t[i].sortType=function(e,t,r){var n=e.values[r],i=t.values[r];return v(n,i)}:("string"===f&&(t[i].sortType=f),"integer"!==f&&"decimal"!==f||(t[i].sortType="number")),a.forEach((function(e,t){n[t]["col".concat(i)]=h?function(e,t,n,i){switch(e){case"boolean":return(0,r.getBooleanAll)(t,n);case"datetime":return(0,r.getDatetimeAll)(t,n);case"decimal":return(0,r.getDecimalAll)(t,n);case"integer":return(0,r.getIntegerAll)(t,n);case"url":return(0,r.getUrlAll)(t,n);default:return i?(0,r.getStringWithLocaleAll)(t,n,i):(0,r.getStringNoLocaleAll)(t,n)}}(f,e.thing,s,d):k(f,e.thing,s,d)}))}})),{columns:t,data:n}}),[i,a]),p=d.columns,h=d.data,g=(0,ee.useTable)({columns:p,data:h,initialState:{globalFilter:s||void 0}},ee.useGlobalFilter,ee.useSortBy),v=g.getTableProps,y=g.getTableBodyProps,m=g.headerGroups,b=g.rows,w=g.prepareRow;return b.length?t().createElement("table",Object.assign({},v(),f),t().createElement("thead",null,m.map((function(e){return t().createElement("tr",Object.assign({},e.getHeaderGroupProps()),e.headers.map((function(e){return t().createElement("th",Object.assign({},e.getHeaderProps(e.getSortByToggleProps())),e.render("Header"),e.isSorted&&(e.isSortedDesc?c:u))})))}))),t().createElement("tbody",Object.assign({},y()),b.map((function(e){w(e);var r=a[e.index].dataset,n=a[e.index].thing;return t().createElement("tr",Object.assign({},e.getRowProps(l(e,n,r))),t().createElement(te,{solidDataset:r,thing:n},e.cells.map((function(e){return t().createElement("td",Object.assign({},e.getCellProps()),e.render("Cell"))}))))})))):o?t().createElement(o,null):null}ie.defaultProps={filter:void 0,ascIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in ascending order"}," ","\ud83d\udd3c"),descIndicator:t().createElement("span",{role:"img","aria-label":"Sorted in descending order"}," ","\ud83d\udd3d"),getRowProps:function(){return{}}};var oe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ae(n){var u,c=n.thing,l=n.solidDataset,f=n.property,d=n.properties,p=n.saveDatasetTo,h=n.locale,g=n.onSave,v=n.onError,y=n.inputProps,m=n.errorComponent,b=n.loadingComponent,w=n.edit,x=void 0!==w&&w,_=n.autosave,k=void 0!==_&&_,A=oe(n,["thing","solidDataset","property","properties","saveDatasetTo","locale","onSave","onError","inputProps","errorComponent","loadingComponent","edit","autosave"]),O=(0,e.useContext)(s).fetch,C=S({dataset:l,thing:c,property:f,properties:d,type:"string",locale:h}),P=C.error,R=C.value,j=C.thing,I=C.property,T=C.dataset,F=C.setDataset;x||R||(u=new Error("No value found for property."));var N=!j&&!P,D=(0,e.useState)(null!==P&&void 0!==P?P:u),L=a(D,1)[0];(0,e.useEffect)((function(){L&&v&&v(L)}),[L,v]);var U=(0,e.useState)(R),M=a(U,2),B=M[0],H=M[1],z=(0,e.useState)(),K=a(z,2)[1],W=(0,e.useState)(R),V=a(W,2),q=V[0],J=V[1],Z=function(){var e=o(i.mark((function e(t){var n,o,a;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q===t.target.value||!j||!T){e.next=27;break}if(n=t.target.value,o=h?(0,r.setStringWithLocale)(j,I,n,h):(0,r.setStringNoLocale)(j,I,n),e.prev=3,!p){e.next=12;break}return e.next=7,(0,r.saveSolidDatasetAt)(p,(0,r.setThing)(T,o),{fetch:O});case 7:return a=e.sent,e.next=10,E(p,F);case 10:e.next=21;break;case 12:if(!(0,r.hasResourceInfo)(T)){e.next=20;break}return e.next=15,(0,r.saveSolidDatasetAt)((0,r.getSourceUrl)(T),(0,r.setThing)(T,o),{fetch:O});case 15:return a=e.sent,e.next=18,E((0,r.getSourceUrl)(T),F);case 18:e.next=21;break;case 20:K((function(){throw new Error("Please provide saveDatasetTo location for new data")}));case 21:g&&g(a,o),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(3),v&&v(e.t0);case 27:case"end":return e.stop()}}),e,null,[[3,24]])})));return function(t){return e.apply(this,arguments)}}();if(N){var G=b&&t().createElement(b,null)||t().createElement("span",null,"fetching data in progress");return null===b&&(G=null),G}return L?m?t().createElement(m,{error:L}):t().createElement("span",null,L.toString()):t().createElement(t().Fragment,null,!x&&T&&j&&t().createElement("span",Object.assign({},A),B),x&&T&&j&&t().createElement("input",Object.assign({type:y&&y.type?y.type:"text"},y,{onFocus:function(e){return J(e.target.value)},onChange:function(e){return H(e.target.value)},onBlur:function(e){return k&&Z(e)},value:B||""})))}var se=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function ue(r){var n,u=r.property,c=r.properties,l=r.thing,f=r.edit,d=r.autosave,p=r.onSave,h=r.onError,g=r.maxSize,v=r.inputProps,y=r.errorComponent,m=r.loadingComponent,b=se(r,["property","properties","thing","edit","autosave","onSave","onError","maxSize","inputProps","errorComponent","loadingComponent"]),w=(0,e.useContext)(s).fetch,_=S({thing:l,property:u,properties:c,type:"url"}),k=_.value,E=_.thing,A=_.error;f||k||(n=new Error("No value found for property."));var C=!E&&!A,P=(0,e.useState)(null!==A&&void 0!==A?A:n),R=a(P,2),j=R[0],I=R[1];(0,e.useEffect)((function(){j&&h&&h(j)}),[j,h,y]);var T=(0,e.useState)(""),F=a(T,2),N=F[0],D=F[1],L=O(k),U=L.data,M=L.error,B=L.inProgress;(0,e.useEffect)((function(){if(!B)if(M)I(M);else{var e=U&&URL.createObjectURL(U);e&&D(e)}}),[U,B,M]);var H=function(){var e=o(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.files,!(d&&r&&r.length>0&&k)){e.next=6;break}return e.next=4,x(k,r[0],t,w,g,p,h);case 4:(n=e.sent)&&D(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=null;if(C||B){var K=m&&t().createElement(m,null)||t().createElement("span",null,"fetching data in progress");return null===m&&(K=null),K}return j?z=y?t().createElement(y,{error:j}):t().createElement("span",null,j.toString()):k&&(z=t().createElement("video",Object.assign({src:N||k,controls:!0},b))),t().createElement(t().Fragment,null,z,f&&t().createElement("input",Object.assign({},v,{type:"file",accept:"video/*",onChange:function(e){return H(e.target)}})))}function ce(){var t=(0,e.useContext)(s);return{session:t.session,sessionRequestInProgress:t.sessionRequestInProgress,fetch:t.fetch,login:t.login,logout:t.logout}}function le(t,n,i){var o=h(t,i),a=o.dataset,s=o.error,u=(0,e.useContext)(b).thing;return n?a?{thing:(0,r.getThing)(a,n),error:s}:{thing:null,error:s}:{thing:u||void 0,error:s}}}(),f}()},e.exports=n(r(390),r(3748),r(3393),r(5535),r(2105))},6867:function(e,t,r){var n=r(5888);e.exports=n},7331:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=function(){"use strict";function e(t){n(this,e),this.value=t||"b"+ ++e.nextId}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="BlankNode",o.nextId=0,e.exports=o},5888:function(e,t,r){var n=r(7331),i=r(4565),o=r(9709),a=r(1702),s=r(184),u=r(9776),c=r(4350);var l={namedNode:function(e){return new s(e)},blankNode:function(e){return new n(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,l.namedNode(t)):new a(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return l.defaultGraphInstance},triple:function(e,t,r){return l.quad(e,t,r)},quad:function(e,t,r,n){return new u(e,t,r,n||l.defaultGraphInstance)},fromTerm:function(e){return o.call(l,e)},fromQuad:function(e){return o.call(l,e)},defaultGraphInstance:new i};e.exports=l},4565:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=function(){"use strict";function e(){n(this,e)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType}}]),e}();o.prototype.termType="DefaultGraph",o.prototype.value="",e.exports=o},1702:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=r(184),a=function(){"use strict";function e(t,r,i){n(this,e),this.value=t,this.datatype=e.stringDatatype,this.language="",r?(this.language=r,this.datatype=e.langStringDatatype):i&&(this.datatype=i)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();a.prototype.termType="Literal",a.langStringDatatype=new o("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new o("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},184:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=function(){"use strict";function e(t){n(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="NamedNode",e.exports=o},9776:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=r(4565),a=function(){"use strict";function e(t,r,i,a){n(this,e),this.subject=t,this.predicate=r,this.object=i,this.graph=a||new o}return i(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}]),e}();a.prototype.termType="Quad",a.prototype.value="",e.exports=a},4350:function(e,t,r){var n=r(4575).default,i=r(3913).default,o=function(){"use strict";function e(t){n(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="Variable",e.exports=o},9709:function(e){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){var t=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),n=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,r,n,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error("unknown termType ".concat(e.termType))}},4018:function(e,t,r){var n=r(9713).default,i=r(3269).default,o=r(4575).default,a=r(3913).default;function s(e){return"string"===typeof e||e instanceof String}function u(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;var t,r,n,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return e.language?'"'.concat(e.value,'"@').concat(e.language):'"'.concat(e.value,'"').concat(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?"^^".concat(e.datatype.value):"");case"Quad":return t=l(u(e.subject)),r=l(u(e.predicate)),n=l(u(e.object)),i="DefaultGraph"===e.graph.termType?"":" ".concat(u(e.graph)),"<<".concat(t," ").concat(r," ").concat(n).concat(i,">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}var c=/^"(.*".*)(?="[^"]*$)/;function l(e){return e.replace(c,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}var f=function(e){"use strict";function t(e){if(o(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e){var r,n=i(e);try{for(n.s();!(r=n.n()).done;){var a=r.value;this.add(a)}}catch(s){n.e(s)}finally{n.f()}}}return a(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var a in r=t[o])e+=Object.keys(r[a]).length;return this._size=e,this._size}},{key:"add",value:function(e){var t=u(e.subject),r=u(e.predicate),n=u(e.object),i=u(e.graph),o=this._graphs[i];o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var a=this._ids,s=this._entities;return t=a[t]||(a[s[++this._id]=t]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id),n=a[n]||(a[s[++this._id]=n]=this._id),this._addToIndex(o.subjects,t,r,n),this._addToIndex(o.predicates,r,n,t),this._addToIndex(o.objects,n,t,r),this._setQuad(t,r,n,i,e),this._size=null,this}},{key:"delete",value:function(e){var t,r,n,i=u(e.subject),o=u(e.predicate),a=u(e.object),s=u(e.graph),c=this._ids,l=this._graphs;if(!(i=c[i])||!(o=c[o])||!(a=c[a])||!(t=l[s])||!(r=t.subjects[i])||!(n=r[o])||!(a in n))return this;for(i in this._removeFromIndex(t.subjects,i,o,a),this._removeFromIndex(t.predicates,o,a,i),this._removeFromIndex(t.objects,a,i,o),null!==this._size&&this._size--,this._deleteQuad(i,o,a,s),t.subjects)return this;return delete l[s],this}},{key:"has",value:function(e){var t=u(e.subject),r=u(e.predicate),n=u(e.object),i=u(e.graph),o=this._graphs[i];if(!o)return!1;var a,c,l,f=this._ids;return!(s(t)&&!(a=f[t])||s(r)&&!(c=f[r])||s(n)&&!(l=f[n]))&&1===this._countInIndex(o.objects,l,a,c)}},{key:"match",value:function(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}},{key:e,value:function(){return this._match()[Symbol.iterator]()}},{key:"_addToIndex",value:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}},{key:"_removeFromIndex",value:function(e,t,r,n){var i=e[t],o=i[r];for(var a in delete o[n],o)return;for(var s in delete i[r],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,r,i,o,a,s,u,c,l){var f,d,p;for(var h in t&&((f=e,e={})[t]=f[t]),e)if(d=e[h])for(var g in r&&((f=d,d={})[r]=f[r]),d)if(p=d[g])for(var v=(i?i in p?[i]:[]:Object.keys(p)),y=0;y<v.length;y++){var m,b=(n(m={},o,h),n(m,a,g),n(m,s,v[y]),m),w=this._getQuad(b.subject,b.predicate,b.object,u);if(l)l.push(w);else if(c(w))return!0}return l}},{key:"_countInIndex",value:function(e,t,r,n){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){return s(e)?n({},e,this._graphs[e]):this._graphs}},{key:"_match",value:function(e,t,r,n){e=e&&u(e),t=t&&u(t),r=r&&u(r),n=n&&u(n);var i,o,a,c,l=[],f=this._getGraphs(n),d=this._ids;if(s(e)&&!(o=d[e])||s(t)&&!(a=d[t])||s(r)&&!(c=d[r]))return l;for(var p in f)(i=f[p])&&(o?c?this._findInIndex(i.objects,c,o,a,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",p,null,l):a?this._findInIndex(i.predicates,a,c,null,"predicate","object","subject",p,null,l):c?this._findInIndex(i.objects,c,null,null,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p,null,l));return l}},{key:"_getQuad",value:function(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}},{key:"_setQuad",value:function(e,t,r,n,i){this._quads.set(this._toId(e,t,r,n),i)}},{key:"_deleteQuad",value:function(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}},{key:"_createDataset",value:function(e){return new this.constructor(e)}},{key:"_toId",value:function(e,t,r,n){return"".concat(e,":").concat(t,":").concat(r,":").concat(n)}}]),t}(Symbol.iterator);e.exports=f},9559:function(e,t,r){var n=r(6867),i=r(4018);e.exports=Object.assign({dataset:function(e){return new i(e)}},n)},8835:function(e){"use strict";e.exports=function e(t){return null===t||"object"!==typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((function(t,r,n){return t+(0===n?"":",")+e(void 0===r||"symbol"===typeof r?null:r)}),"")+"]":"{"+Object.keys(t).sort().reduce((function(r,n,i){return void 0===t[n]||"symbol"===typeof t[n]?r:r+(0===r.length?"":",")+e(n)+":"+e(t[n])}),"")+"}"}},5003:function(e,t){var r="undefined"!==typeof self?self:this,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=h(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=h(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function x(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];_.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(E){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,r){return new Promise((function(n,o){var a=new b(e,r);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:x(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;n(new _(t,e))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=d,e.Request=b,e.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},7708:function(e){"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,a,c;if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"===typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=l.bind(n);return i.listener=r,n.wrapFn=i,i}function d(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)n(u,this,t);else{var c=u.length,l=h(u,c);for(r=0;r<c;++r)n(l[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},7178:function(e,t,r){"use strict";var n=r(557),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(h){var i=p(r);i&&i!==h&&e(t,i,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),g=u(r),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!n||!n[y])&&(!g||!g[y])&&(!s||!s[y])){var m=d(r,y);try{c(t,y,m)}catch(b){}}}}return t}},264:function(e,t,r){"use strict";var n=r(319).default,i=r(4575).default,o=r(3913).default,a=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/\s|\uFEFF|\xA0/,c=/\r?\n[\x20\x09]+/g,l=/[;,"]/,f=/[;,"]|\s/,d=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,p=1,h=2,g=4;function v(e){return e.replace(s,"")}function y(e){return u.test(e)}function m(e,t){for(;y(e[t]);)t++;return t}function b(e){return f.test(e)||!d.test(e)}var w=function(){function e(t){i(this,e),this.refs=[],t&&this.parse(t)}return o(e,[{key:"rel",value:function(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}},{key:"get",value:function(e,t){e=e.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)this.refs[n][e]===t&&r.push(this.refs[n]);return r}},{key:"set",value:function(e){return this.refs.push(e),this}},{key:"has",value:function(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}},{key:"parse",value:function(t,r){t=v(t=(r=r||0)?t.slice(r):t).replace(c,"");for(var i,o=p,a=t.length,s=(r=0,null);r<a;)if(o===p){if(y(t[r])){r++;continue}if("<"!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);var u;if(null!=s&&(null!=s.rel?(u=this.refs).push.apply(u,n(e.expandRelations(s))):this.refs.push(s)),-1===(b=t.indexOf(">",r)))throw new Error("Expected end of URI delimiter at offset "+r);s={uri:t.slice(r+1,b)},r=b,o=h,r++}else if(o===h){if(y(t[r])){r++;continue}if(";"===t[r])o=g,r++;else{if(","!==t[r])throw new Error('Unexpected character "'+t[r]+'" at offset '+r);o=p,r++}}else{if(o!==g)throw new Error('Unknown parser state "'+o+'"');if(";"===t[r]||y(t[r])){r++;continue}if(-1===(b=t.indexOf("=",r)))throw new Error("Expected attribute delimiter at offset "+r);var f=v(t.slice(r,b)).toLowerCase(),d="";if('"'===t[r=m(t,r=b+1)])for(r++;r<a;){if('"'===t[r]){r++;break}"\\"===t[r]&&r++,d+=t[r],r++}else{for(var b=r+1;!l.test(t[b])&&b<a;)b++;d=t.slice(r,b),r=b}switch(s[f]&&e.isSingleOccurenceAttr(f)||("*"===f[f.length-1]?s[f]=e.parseExtendedValue(d):(d="type"===f?d.toLowerCase():d,null!=s[f]?Array.isArray(s[f])?s[f].push(d):s[f]=[s[f],d]:s[f]=d)),t[r]){case",":o=p;break;case";":o=g}r++}null!=s&&(null!=s.rel?(i=this.refs).push.apply(i,n(e.expandRelations(s))):this.refs.push(s));return s=null,this}},{key:"toString",value:function(){for(var t=[],r="",n=null,i=0;i<this.refs.length;i++)n=this.refs[i],r=Object.keys(this.refs[i]).reduce((function(t,r){return"uri"===r?t:t+"; "+e.formatAttribute(r,n[r])}),"<"+n.uri+">"),t.push(r);return t.join(", ")}}]),e}();w.isCompatibleEncoding=function(e){return a.test(e)},w.parse=function(e,t){return(new w).parse(e,t)},w.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},w.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},w.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},w.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},w.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:w.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:w.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},w.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(Buffer.isBuffer(t.value)&&w.isCompatibleEncoding(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},w.formatAttribute=function(e,t){return Array.isArray(t)?t.map((function(t){return w.formatAttribute(e,t)})).join("; "):"*"===e[e.length-1]||"string"!==typeof t?w.formatExtendedAttribute(e,t):(w.isTokenAttr(e)?t=b(t)?'"'+w.escapeQuotes(t)+'"':w.escapeQuotes(t):b(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=w},4313:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},9665:function(e,t,r){"use strict";var n=r(7757),i=r(319).default,o=r(3269).default,a=r(8926).default,s=r(4575).default,u=r(3913).default,c=r(2396),l=c.isArray,f=c.isObject,d=c.isString,p=r(9949).asArray,h=r(1991).prependBase,g=r(5551),v=r(8016);function y(e){throw new g("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function m(e){var t=e.context,r=e.base;if(t){var n=t["@context"];if(d(n))t["@context"]=h(r,n);else if(l(n))for(var i=0;i<n.length;++i){var o=n[i];d(o)?n[i]=h(r,o):f(o)&&m({context:{"@context":o},base:r})}else if(f(n))for(var a in n)m({context:n[a],base:r})}}e.exports=function(){function e(t){var r=t.sharedCache;s(this,e),this.perOpCache=new Map,this.sharedCache=r}return u(e,[{key:"resolve",value:function(){var e=a(n.mark((function e(t){var r,a,s,u,c,h,g,m,b,w,x,_,k;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,a=t.context,s=t.documentLoader,u=t.base,c=t.cycles,h=void 0===c?new Set:c,a&&f(a)&&a["@context"]&&(a=a["@context"]),a=p(a),g=[],m=o(a),e.prev=5,m.s();case 7:if((b=m.n()).done){e.next=27;break}if(w=b.value,!d(w)){e.next=17;break}if(x=this._get(w)){e.next=15;break}return e.next=14,this._resolveRemoteContext({activeCtx:r,url:w,documentLoader:s,base:u,cycles:h});case 14:x=e.sent;case 15:return l(x)?g.push.apply(g,i(x)):g.push(x),e.abrupt("continue",25);case 17:if(null!==w){e.next=20;break}return g.push(new v({document:null})),e.abrupt("continue",25);case 20:f(w)||y(a),_=JSON.stringify(w),(k=this._get(_))||(k=new v({document:w}),this._cacheResolvedContext({key:_,resolved:k,tag:"static"})),g.push(k);case 25:e.next=7;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(5),m.e(e.t0);case 32:return e.prev=32,m.f(),e.finish(32);case 35:return e.abrupt("return",g);case 36:case"end":return e.stop()}}),e,this,[[5,29,32,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_get",value:function(e){var t=this.perOpCache.get(e);if(!t){var r=this.sharedCache.get(e);r&&(t=r.get("static"))&&this.perOpCache.set(e,t)}return t}},{key:"_cacheResolvedContext",value:function(e){var t=e.key,r=e.resolved,n=e.tag;if(this.perOpCache.set(t,r),void 0!==n){var i=this.sharedCache.get(t);i||(i=new Map,this.sharedCache.set(t,i)),i.set(n,r)}return r}},{key:"_resolveRemoteContext",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,s,u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.activeCtx,i=t.url,o=t.documentLoader,a=t.base,s=t.cycles,i=h(a,i),e.next=4,this._fetchContext({activeCtx:r,url:i,documentLoader:o,cycles:s});case 4:return u=e.sent,c=u.context,l=u.remoteDoc,a=l.documentUrl||i,m({context:c,base:a}),e.next=11,this.resolve({activeCtx:r,context:c,documentLoader:o,base:a,cycles:s});case 11:return f=e.sent,this._cacheResolvedContext({key:i,resolved:f,tag:l.tag}),e.abrupt("return",f);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchContext",value:function(){var e=a(n.mark((function e(t){var r,i,o,a,s,u;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,i=t.url,o=t.documentLoader,!((a=t.cycles).size>10)){e.next=3;break}throw new g("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"loading remote context failed":"context overflow",max:10});case 3:if(!a.has(i)){e.next=5;break}throw new g("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===r.processingMode?"recursive context inclusion":"context overflow",url:i});case 5:return a.add(i),e.prev=6,e.next=9,o(i);case 9:u=e.sent,s=u.document||null,d(s)&&(s=JSON.parse(s)),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(6),new g("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:i,cause:e.t0});case 17:if(f(s)){e.next=19;break}throw new g("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:i});case 19:return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},u.contextUrl&&(l(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(u.contextUrl)),e.abrupt("return",{context:s,remoteDoc:u});case 22:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},5551:function(e,t,r){"use strict";var n=r(3913).default,i=r(4575).default,o=r(2205).default,a=r(9842).default,s=r(5957).default;e.exports=function(e){o(r,e);var t=a(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"An unspecified JSON-LD error occurred.",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jsonld.Error",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i(this,r),(e=t.call(this,n)).name=o,e.message=n,e.details=a,e}return n(r)}(s(Error))},3132:function(e,t,r){"use strict";var n=r(4575).default,i=r(3913).default;e.exports=function(e){var t=function(){function e(){n(this,e)}return i(e,[{key:"toString",value:function(){return"[object JsonLdProcessor]"}}]),e}();return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},7198:function(e,t,r){"use strict";e.exports=r(1061).NQuads},6205:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;e.exports=function(){function e(){o(this,e),this._requests={}}return a(e,[{key:"wrapLoader",value:function(e){var t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}},{key:"add",value:function(){var e=i(n.mark((function e(t){var r;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=this._requests[t])){e.next=3;break}return e.abrupt("return",Promise.resolve(r));case 3:return r=this._requests[t]=this._loader(t),e.prev=4,e.next=7,r;case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,delete this._requests[t],e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[4,,8,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},8016:function(e,t,r){"use strict";var n=r(4575).default,i=r(3913).default,o=r(1612);e.exports=function(){function e(t){var r=t.document;n(this,e),this.document=r,this.cache=new o({max:10})}return i(e,[{key:"getProcessed",value:function(e){return this.cache.get(e)}},{key:"setProcessed",value:function(e,t){this.cache.set(e,t)}}]),e}()},1854:function(e,t,r){"use strict";var n=r(3038).default,i=r(7757),o=r(8551).default,a=r(9713).default,s=r(3269).default,u=r(8926).default,c=r(5551),l=r(2396),f=l.isArray,d=l.isObject,p=l.isString,h=l.isUndefined,g=r(7342),v=g.isList,y=g.isValue,m=g.isGraph,b=g.isSimpleGraph,w=g.isSubjectReference,x=r(8447),_=x.expandIri,k=x.getContextValue,S=x.isKeyword,E=x.process,A=x.processingMode,O=r(1991),C=O.removeBase,P=O.prependBase,R=r(9949),j=R.addValue,I=R.asArray,T=R.compareShortestLeast,F={};function N(e,t,r){if("@nest"!==_(e,t,{vocab:!0},r))throw new c("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=F,F.compact=function(){var e=u(i.mark((function e(t){var r,n,u,l,g,x,_,O,C,P,R,T,D;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.activeProperty,u=void 0===n?null:n,l=t.element,g=t.options,x=void 0===g?{}:g,_=t.compactionMap,O=void 0===_?function(){}:_,!f(l)){e.next=20;break}C=[],P=0;case 4:if(!(P<l.length)){e.next=18;break}return e.next=7,F.compact({activeCtx:r,activeProperty:u,element:l[P],options:x,compactionMap:O});case 7:if(null!==(R=e.sent)){e.next=14;break}return e.next=11,O({unmappedValue:l[P],activeCtx:r,activeProperty:u,parent:l,index:P,options:x});case 11:if(void 0!==(R=e.sent)){e.next=14;break}return e.abrupt("continue",15);case 14:C.push(R);case 15:++P,e.next=4;break;case 18:return x.compactArrays&&1===C.length&&0===(k(r,u,"@container")||[]).length&&(C=C[0]),e.abrupt("return",C);case 20:if(T=k(r,u,"@context"),h(T)){e.next=25;break}return e.next=24,E({activeCtx:r,localCtx:T,propagate:!0,overrideProtected:!0,options:x});case 24:r=e.sent;case 25:if(!d(l)){e.next=30;break}return e.delegateYield(i.mark((function e(){var t,n,g,_,C,P,R,T,D,L,U,M,B,H,z,K,W,V,q,J,Z,G,Q,$,Y,X,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,ge,ve,ye,me,be,we,xe,_e,ke,Se,Ee,Ae,Oe,Ce,Pe,Re,je,Ie,Te,Fe,Ne,De,Le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(x.link&&"@id"in l&&x.link.hasOwnProperty(l["@id"]))){e.next=9;break}t=x.link[l["@id"]],n=0;case 3:if(!(n<t.length)){e.next=9;break}if(t[n].expanded!==l){e.next=6;break}return e.abrupt("return",{v:t[n].compacted});case 6:++n,e.next=3;break;case 9:if(!y(l)&&!w(l)){e.next=13;break}return g=F.compactValue({activeCtx:r,activeProperty:u,value:l,options:x}),x.link&&w(l)&&(x.link.hasOwnProperty(l["@id"])||(x.link[l["@id"]]=[]),x.link[l["@id"]].push({expanded:l,compacted:g})),e.abrupt("return",{v:g});case 13:if(!v(l)){e.next=17;break}if(!(k(r,u,"@container")||[]).includes("@list")){e.next=17;break}return e.abrupt("return",{v:F.compact({activeCtx:r,activeProperty:u,element:l["@list"],options:x,compactionMap:O})});case 17:if(_="@reverse"===u,C={},P=r,y(l)||w(l)||(r=r.revertToPreviousContext()),R=k(P,u,"@context"),h(R)){e.next=26;break}return e.next=25,E({activeCtx:r,localCtx:R,propagate:!0,overrideProtected:!0,options:x});case 25:r=e.sent;case 26:x.link&&"@id"in l&&(x.link.hasOwnProperty(l["@id"])||(x.link[l["@id"]]=[]),x.link[l["@id"]].push({expanded:l,compacted:C})),(T=l["@type"]||[]).length>1&&(T=Array.from(T).sort()),D=r,L=s(T),e.prev=31,L.s();case 33:if((U=L.n()).done){e.next=43;break}if(M=U.value,B=F.compactIri({activeCtx:D,iri:M,relativeTo:{vocab:!0}}),H=k(P,B,"@context"),h(H)){e.next=41;break}return e.next=40,E({activeCtx:r,localCtx:H,options:x,propagate:!1});case 40:r=e.sent;case 41:e.next=33;break;case 43:e.next=48;break;case 45:e.prev=45,e.t0=e.catch(31),L.e(e.t0);case 48:return e.prev=48,L.f(),e.finish(48);case 51:z=Object.keys(l).sort(),K=s(z),e.prev=53,K.s();case 55:if((W=K.n()).done){e.next=211;break}if(V=W.value,q=l[V],"@id"!==V){e.next=64;break}return 1===(J=I(q).map((function(e){return F.compactIri({activeCtx:r,iri:e,relativeTo:{vocab:!1},base:x.base})}))).length&&(J=J[0]),Z=F.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),C[Z]=J,e.abrupt("continue",209);case 64:if("@type"!==V){e.next=73;break}return 1===(G=I(q).map((function(e){return F.compactIri({activeCtx:P,iri:e,relativeTo:{vocab:!0}})}))).length&&(G=G[0]),Q=F.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),$=k(r,Q,"@container")||[],Y=$.includes("@set")&&A(r,1.1),X=Y||f(G)&&0===q.length,j(C,Q,G,{propertyIsArray:X}),e.abrupt("continue",209);case 73:if("@reverse"!==V){e.next=80;break}return e.next=76,F.compact({activeCtx:r,activeProperty:"@reverse",element:q,options:x,compactionMap:O});case 76:for(te in ee=e.sent)r.mappings.has(te)&&r.mappings.get(te).reverse&&(re=ee[te],ne=k(r,te,"@container")||[],ie=ne.includes("@set")||!x.compactArrays,j(C,te,re,{propertyIsArray:ie}),delete ee[te]);return Object.keys(ee).length>0&&(oe=F.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),j(C,oe,ee)),e.abrupt("continue",209);case 80:if("@preserve"!==V){e.next=86;break}return e.next=83,F.compact({activeCtx:r,activeProperty:u,element:q,options:x,compactionMap:O});case 83:return ae=e.sent,f(ae)&&0===ae.length||j(C,V,ae),e.abrupt("continue",209);case 86:if("@index"!==V){e.next=93;break}if(!(k(r,u,"@container")||[]).includes("@index")){e.next=90;break}return e.abrupt("continue",209);case 90:return se=F.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),j(C,se,q),e.abrupt("continue",209);case 93:if("@graph"===V||"@list"===V||"@included"===V||!S(V)){e.next=97;break}return ue=F.compactIri({activeCtx:r,iri:V,relativeTo:{vocab:!0}}),j(C,ue,q),e.abrupt("continue",209);case 97:if(f(q)){e.next=99;break}throw new c("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");case 99:0===q.length&&(ce=F.compactIri({activeCtx:r,iri:V,value:q,relativeTo:{vocab:!0},reverse:_}),le=r.mappings.has(ce)?r.mappings.get(ce)["@nest"]:null,fe=C,le&&(N(r,le,x),d(C[le])||(C[le]={}),fe=C[le]),j(fe,ce,q,{propertyIsArray:!0})),de=s(q),e.prev=101,de.s();case 103:if((pe=de.n()).done){e.next=201;break}return he=pe.value,ge=F.compactIri({activeCtx:r,iri:V,value:he,relativeTo:{vocab:!0},reverse:_}),ve=r.mappings.has(ge)?r.mappings.get(ge)["@nest"]:null,ye=C,ve&&(N(r,ve,x),d(C[ve])||(C[ve]={}),ye=C[ve]),me=k(r,ge,"@container")||[],be=m(he),we=v(he),xe=void 0,we?xe=he["@list"]:be&&(xe=he["@graph"]),e.next=116,F.compact({activeCtx:r,activeProperty:ge,element:we||be?xe:he,options:x,compactionMap:O});case 116:if(_e=e.sent,!we){e.next=126;break}if(f(_e)||(_e=[_e]),me.includes("@list")){e.next=124;break}_e=a({},F.compactIri({activeCtx:r,iri:"@list",relativeTo:{vocab:!0}}),_e),"@index"in he&&(_e[F.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=he["@index"]),e.next=126;break;case 124:return j(ye,ge,_e,{valueIsArray:!0,allowDuplicate:!0}),e.abrupt("continue",199);case 126:if(!be){e.next=130;break}me.includes("@graph")&&(me.includes("@id")||me.includes("@index")&&b(he))?(ke=void 0,ye.hasOwnProperty(ge)?ke=ye[ge]:ye[ge]=ke={},Se=(me.includes("@id")?he["@id"]:he["@index"])||F.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}}),j(ke,Se,_e,{propertyIsArray:!x.compactArrays||me.includes("@set")})):me.includes("@graph")&&b(he)?(f(_e)&&_e.length>1&&(_e={"@included":_e}),j(ye,ge,_e,{propertyIsArray:!x.compactArrays||me.includes("@set")})):(f(_e)&&1===_e.length&&x.compactArrays&&(_e=_e[0]),_e=a({},F.compactIri({activeCtx:r,iri:"@graph",relativeTo:{vocab:!0}}),_e),"@id"in he&&(_e[F.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}})]=he["@id"]),"@index"in he&&(_e[F.compactIri({activeCtx:r,iri:"@index",relativeTo:{vocab:!0}})]=he["@index"]),j(ye,ge,_e,{propertyIsArray:!x.compactArrays||me.includes("@set")})),e.next=199;break;case 130:if(!(me.includes("@language")||me.includes("@index")||me.includes("@id")||me.includes("@type"))){e.next=197;break}if(Ee=void 0,ye.hasOwnProperty(ge)?Ee=ye[ge]:ye[ge]=Ee={},Ae=void 0,!me.includes("@language")){e.next=139;break}y(_e)&&(_e=_e["@value"]),Ae=he["@language"],e.next=193;break;case 139:if(!me.includes("@index")){e.next=167;break}if(Oe=k(r,ge,"@index")||"@index",Ce=F.compactIri({activeCtx:r,iri:Oe,relativeTo:{vocab:!0}}),"@index"!==Oe){e.next=147;break}Ae=he["@index"],delete _e[Ce],e.next=165;break;case 147:if(Pe=void 0,Re=I(_e[Oe]||[]),je=o(Re),Ae=je[0],Pe=je.slice(1),p(Ae)){e.next=156;break}Ae=null,e.next=165;break;case 156:e.t1=Pe.length,e.next=0===e.t1?159:1===e.t1?161:163;break;case 159:return delete _e[Oe],e.abrupt("break",165);case 161:return _e[Oe]=Pe[0],e.abrupt("break",165);case 163:return _e[Oe]=Pe,e.abrupt("break",165);case 165:e.next=193;break;case 167:if(!me.includes("@id")){e.next=173;break}Ie=F.compactIri({activeCtx:r,iri:"@id",relativeTo:{vocab:!0}}),Ae=_e[Ie],delete _e[Ie],e.next=193;break;case 173:if(!me.includes("@type")){e.next=193;break}Te=F.compactIri({activeCtx:r,iri:"@type",relativeTo:{vocab:!0}}),Fe=void 0,Ne=I(_e[Te]||[]),De=o(Ne),Ae=De[0],Fe=De.slice(1),e.t2=Fe.length,e.next=0===e.t2?183:1===e.t2?185:187;break;case 183:return delete _e[Te],e.abrupt("break",189);case 185:return _e[Te]=Fe[0],e.abrupt("break",189);case 187:return _e[Te]=Fe,e.abrupt("break",189);case 189:if(1!==Object.keys(_e).length||!("@id"in he)){e.next=193;break}return e.next=192,F.compact({activeCtx:r,activeProperty:ge,element:{"@id":he["@id"]},options:x,compactionMap:O});case 192:_e=e.sent;case 193:Ae||(Ae=F.compactIri({activeCtx:r,iri:"@none",relativeTo:{vocab:!0}})),j(Ee,Ae,_e,{propertyIsArray:me.includes("@set")}),e.next=199;break;case 197:Le=!x.compactArrays||me.includes("@set")||me.includes("@list")||f(_e)&&0===_e.length||"@list"===V||"@graph"===V,j(ye,ge,_e,{propertyIsArray:Le});case 199:e.next=103;break;case 201:e.next=206;break;case 203:e.prev=203,e.t3=e.catch(101),de.e(e.t3);case 206:return e.prev=206,de.f(),e.finish(206);case 209:e.next=55;break;case 211:e.next=216;break;case 213:e.prev=213,e.t4=e.catch(53),K.e(e.t4);case 216:return e.prev=216,K.f(),e.finish(216);case 219:return e.abrupt("return",{v:C});case 220:case"end":return e.stop()}}),e,null,[[31,45,48,51],[53,213,216,219],[101,203,206,209]])}))(),"t0",27);case 27:if("object"!==typeof(D=e.t0)){e.next=30;break}return e.abrupt("return",D.v);case 30:return e.abrupt("return",l);case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F.compactIri=function(e){var t=e.activeCtx,r=e.iri,i=e.value,o=void 0===i?null:i,a=e.relativeTo,u=void 0===a?{vocab:!1}:a,l=e.reverse,f=void 0!==l&&l,p=e.base,h=void 0===p?null:p;if(null===r)return r;t.isPropertyTermScoped&&t.previousContext&&(t=t.previousContext);var g=t.getInverse();if(S(r)&&r in g&&"@none"in g[r]&&"@type"in g[r]["@none"]&&"@none"in g[r]["@none"]["@type"])return g[r]["@none"]["@type"]["@none"];if(u.vocab&&r in g){var b=t["@language"]||"@none",w=[];d(o)&&"@index"in o&&!("@graph"in o)&&w.push("@index","@index@set"),d(o)&&"@preserve"in o&&(o=o["@preserve"][0]),m(o)?("@index"in o&&w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o&&w.push("@graph@id","@graph@id@set"),w.push("@graph","@graph@set","@set"),"@index"in o||w.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in o||w.push("@graph@id","@graph@id@set")):d(o)&&!y(o)&&w.push("@id","@id@set","@type","@set@type");var x="@language",_="@null";if(f)x="@type",_="@reverse",w.push("@set");else if(v(o)){"@index"in o||w.push("@list");var k=o["@list"];if(0===k.length)x="@any",_="@none";else{for(var E=0===k.length?b:null,A=null,O=0;O<k.length;++O){var R=k[O],j="@none",I="@none";if(y(R))if("@direction"in R){var N=(R["@language"]||"").toLowerCase(),D=R["@direction"];j="".concat(N,"_").concat(D)}else"@language"in R?j=R["@language"].toLowerCase():"@type"in R?I=R["@type"]:j="@null";else I="@id";if(null===E?E=j:j!==E&&y(R)&&(E="@none"),null===A?A=I:I!==A&&(A="@none"),"@none"===E&&"@none"===A)break}E=E||"@none","@none"!==(A=A||"@none")?(x="@type",_=A):_=E}}else{if(y(o))if("@language"in o&&!("@index"in o)){w.push("@language","@language@set"),_=o["@language"];var L=o["@direction"];L&&(_="".concat(_,"_").concat(L))}else"@direction"in o&&!("@index"in o)?_="_".concat(o["@direction"]):"@type"in o&&(x="@type",_=o["@type"]);else x="@type",_="@id";w.push("@set")}w.push("@none"),d(o)&&!("@index"in o)&&w.push("@index","@index@set"),y(o)&&1===Object.keys(o).length&&w.push("@language","@language@set");var U=function(e,t,r,n,i,o){null===o&&(o="@null");var a=[];if(("@id"===o||"@reverse"===o)&&d(r)&&"@id"in r){"@reverse"===o&&a.push("@reverse");var u=F.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(u)&&e.mappings.get(u)&&e.mappings.get(u)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else{a.push(o);var c=a.find((function(e){return e.includes("_")}));c&&a.push(c.replace(/^[^_]+_/,"_"))}a.push("@none");var l,f=e.inverse[t],p=s(n);try{for(p.s();!(l=p.n()).done;){var h=l.value;if(h in f){var g,v=f[h][i],y=s(a);try{for(y.s();!(g=y.n()).done;){var m=g.value;if(m in v)return v[m]}}catch(b){y.e(b)}finally{y.f()}}}}catch(b){p.e(b)}finally{p.f()}return null}(t,r,o,w,x,_);if(null!==U)return U}if(u.vocab&&"@vocab"in t){var M=t["@vocab"];if(0===r.indexOf(M)&&r!==M){var B=r.substr(M.length);if(!t.mappings.has(B))return B}}for(var H=null,z=[],K=t.fastCurieMap,W=r.length-1,V=0;V<W&&r[V]in K;++V)""in(K=K[r[V]])&&z.push(K[""][0]);for(var q=z.length-1;q>=0;--q){var J,Z=z[q],G=Z.terms,Q=s(G);try{for(Q.s();!(J=Q.n()).done;){var $=J.value,Y=$+":"+r.substr(Z.iri.length);t.mappings.get($)._prefix&&(!t.mappings.has(Y)||null===o&&t.mappings.get(Y)["@id"]===r)&&(null===H||T(Y,H)<0)&&(H=Y)}}catch(ie){Q.e(ie)}finally{Q.f()}}if(null!==H)return H;var X,ee=s(t.mappings);try{for(ee.s();!(X=ee.n()).done;){var te=n(X.value,2),re=te[0],ne=te[1];if(ne&&ne._prefix&&r.startsWith(re+":"))throw new c('Absolute IRI "'.concat(r,'" confused with prefix "').concat(re,'".'),"jsonld.SyntaxError",{code:"IRI confused with prefix",context:t})}}catch(ie){ee.e(ie)}finally{ee.f()}return u.vocab?r:"@base"in t?t["@base"]?C(P(h,t["@base"]),r):r:C(h,r)},F.compactValue=function(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(y(n)){var o=k(t,r,"@type"),s=k(t,r,"@language"),u=k(t,r,"@direction"),c=k(t,r,"@container")||[],l="@index"in n&&!c.includes("@index");if(!l&&"@none"!==o){if(n["@type"]===o)return n["@value"];if("@language"in n&&n["@language"]===s&&"@direction"in n&&n["@direction"]===u)return n["@value"];if("@language"in n&&n["@language"]===s)return n["@value"];if("@direction"in n&&n["@direction"]===u)return n["@value"]}var f=Object.keys(n).length,d=1===f||2===f&&"@index"in n&&!l,h="@language"in t,g=p(n["@value"]),v=t.mappings.has(r)&&null===t.mappings.get(r)["@language"];if(d&&"@none"!==o&&(!h||!g||v))return n["@value"];var m={};return l&&(m[F.compactIri({activeCtx:t,iri:"@index",relativeTo:{vocab:!0}})]=n["@index"]),"@type"in n?m[F.compactIri({activeCtx:t,iri:"@type",relativeTo:{vocab:!0}})]=F.compactIri({activeCtx:t,iri:n["@type"],relativeTo:{vocab:!0}}):"@language"in n&&(m[F.compactIri({activeCtx:t,iri:"@language",relativeTo:{vocab:!0}})]=n["@language"]),"@direction"in n&&(m[F.compactIri({activeCtx:t,iri:"@direction",relativeTo:{vocab:!0}})]=n["@direction"]),m[F.compactIri({activeCtx:t,iri:"@value",relativeTo:{vocab:!0}})]=n["@value"],m}var b=_(t,r,{vocab:!0},i),w=k(t,r,"@type"),x=F.compactIri({activeCtx:t,iri:n["@id"],relativeTo:{vocab:"@vocab"===w},base:i.base});return"@id"===w||"@vocab"===w||"@graph"===b?x:a({},F.compactIri({activeCtx:t,iri:"@id",relativeTo:{vocab:!0}}),x)}},5379:function(e){"use strict";var t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},8447:function(e,t,r){"use strict";var n=r(319).default,i=r(7757),o=r(3038).default,a=r(3269).default,s=r(8926).default,u=r(9949),c=r(5551),l=r(2396),f=l.isArray,d=l.isObject,p=l.isString,h=l.isUndefined,g=r(1991),v=g.isAbsolute,y=g.isRelative,m=g.prependBase,b=r(9949),w=b.asArray,x=b.compareShortestLeast,_=new Map,k=/^@[a-zA-Z]+$/,S={};function E(e,t,r,n,i,o){if(null===t||!p(t)||S.isKeyword(t))return t;if(t.match(k))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&S.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){var a=e.mappings.get(t);if(null===a)return null;if(d(a)&&"@id"in a)return a["@id"]}var s=t.indexOf(":");if(s>0){var u=t.substr(0,s),c=t.substr(s+1);if("_"===u||0===c.indexOf("//"))return t;n&&n.hasOwnProperty(u)&&S.createTermDefinition({activeCtx:e,localCtx:n,term:u,defined:i,options:o});var l=e.mappings.get(u);if(l&&l._prefix)return l["@id"]+c;if(v(t))return t}if(r.vocab&&"@vocab"in e)return e["@vocab"]+t;if(r.base&&"@base"in e){if(e["@base"])return m(m(o.base,e["@base"]),t)}else if(r.base)return m(o.base,t);return t}function A(e,t){if(!e||"object"!==typeof e||!t||"object"!==typeof t)return e===t;var r=Array.isArray(e);if(r!==Array.isArray(t))return!1;if(r){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!A(e[n],t[n]))return!1;return!0}var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a in e){var s=e[a],u=t[a];if("@container"===a&&Array.isArray(s)&&Array.isArray(u)&&(s=s.slice().sort(),u=u.slice().sort()),!A(s,u))return!1}return!0}e.exports=S,S.process=function(){var e=s(i.mark((function e(t){var r,n,s,l,h,g,b,x,_,k,A,O,C,P,R,j,I,T,F,N,D,L,U,M,B,H,z,K,W,V,q,J,Z,G,Q,$,Y,X;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.localCtx,s=t.options,l=t.propagate,h=void 0===l||l,g=t.overrideProtected,b=void 0!==g&&g,x=t.cycles,_=void 0===x?new Set:x,d(n)&&"@context"in n&&f(n["@context"])&&(n=n["@context"]),0!==w(n).length){e.next=5;break}return e.abrupt("return",r);case 5:return e.next=7,s.contextResolver.resolve({activeCtx:r,context:n,documentLoader:s.documentLoader,base:s.base});case 7:k=e.sent,d(k[0].document)&&"boolean"===typeof k[0].document["@propagate"]&&(h=k[0].document["@propagate"]),A=r,h||A.previousContext||((A=A.clone()).previousContext=r),O=a(k),e.prev=12,O.s();case 14:if((C=O.n()).done){e.next=164;break}if(P=C.value,R=P.document,r=A,null!==R){e.next=40;break}if(b||0===Object.keys(r.protected).length){e.next=38;break}if("error"!==(j=s&&s.protectedMode||"error")){e.next=25;break}throw new c("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});case 25:if("warn"!==j){e.next=37;break}if(console.warn("WARNING: invalid context nullification"),!(I=P.getProcessed(r))){e.next=31;break}return A=r=I,e.abrupt("continue",162);case 31:for(T=r,A=r=S.getInitialContext(s).clone(),F=0,N=Object.entries(T.protected);F<N.length;F++)D=o(N[F],2),L=D[0],D[1]&&(r.mappings[L]=u.clone(T.mappings[L]));return r.protected=u.clone(T.protected),P.setProcessed(T,A),e.abrupt("continue",162);case 37:throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,protectedMode:j});case 38:return A=r=S.getInitialContext(s).clone(),e.abrupt("continue",162);case 40:if(!(U=P.getProcessed(r))){e.next=44;break}return A=r=U,e.abrupt("continue",162);case 44:if(d(R)&&"@context"in R&&(R=R["@context"]),d(R)){e.next=47;break}throw new c("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:R});case 47:if(A=A.clone(),M=new Map,!("@version"in R)){e.next=57;break}if(1.1===R["@version"]){e.next=52;break}throw new c("Unsupported JSON-LD version: "+R["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:R});case 52:if(!r.processingMode||"json-ld-1.0"!==r.processingMode){e.next=54;break}throw new c("@version: "+R["@version"]+" not compatible with "+r.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:R});case 54:A.processingMode="json-ld-1.1",A["@version"]=R["@version"],M.set("@version",!0);case 57:if(A.processingMode=A.processingMode||r.processingMode,!("@base"in R)){e.next=70;break}if(null!==(B=R["@base"])&&!v(B)){e.next=63;break}e.next=68;break;case 63:if(!y(B)){e.next=67;break}B=m(A["@base"],B),e.next=68;break;case 67:throw new c('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:R});case 68:A["@base"]=B,M.set("@base",!0);case 70:if(!("@vocab"in R)){e.next=86;break}if(null!==(H=R["@vocab"])){e.next=76;break}delete A["@vocab"],e.next=85;break;case 76:if(p(H)){e.next=80;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:R});case 80:if(v(H)||!S.processingMode(A,1)){e.next=84;break}throw new c('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:R});case 84:A["@vocab"]=E(A,H,{vocab:!0,base:!0},void 0,void 0,s);case 85:M.set("@vocab",!0);case 86:if(!("@language"in R)){e.next=98;break}if(null!==(z=R["@language"])){e.next=92;break}delete A["@language"],e.next=97;break;case 92:if(p(z)){e.next=96;break}throw new c('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:R});case 96:A["@language"]=z.toLowerCase();case 97:M.set("@language",!0);case 98:if(!("@direction"in R)){e.next=112;break}if(K=R["@direction"],"json-ld-1.0"!==r.processingMode){e.next=102;break}throw new c("Invalid JSON-LD syntax; @direction not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:R});case 102:if(null!==K){e.next=106;break}delete A["@direction"],e.next=111;break;case 106:if("ltr"===K||"rtl"===K){e.next=110;break}throw new c('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:R});case 110:A["@direction"]=K;case 111:M.set("@direction",!0);case 112:if(!("@propagate"in R)){e.next=119;break}if(W=R["@propagate"],"json-ld-1.0"!==r.processingMode){e.next=116;break}throw new c("Invalid JSON-LD syntax; @propagate not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:R});case 116:if("boolean"===typeof W){e.next=118;break}throw new c("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:n});case 118:M.set("@propagate",!0);case 119:if(!("@import"in R)){e.next=141;break}if(V=R["@import"],"json-ld-1.0"!==r.processingMode){e.next=123;break}throw new c("Invalid JSON-LD syntax; @import not compatible with "+r.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:R});case 123:if(p(V)){e.next=125;break}throw new c("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:n});case 125:return e.next=127,s.contextResolver.resolve({activeCtx:r,context:V,documentLoader:s.documentLoader,base:s.base});case 127:if(1===(q=e.sent).length){e.next=130;break}throw new c("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:n});case 130:if(!(J=q[0].getProcessed(r))){e.next=135;break}R=J,e.next=140;break;case 135:if(!("@import"in(Z=q[0].document))){e.next=138;break}throw new c("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:n});case 138:for(G in Z)R.hasOwnProperty(G)||(R[G]=Z[G]);q[0].setProcessed(r,R);case 140:M.set("@import",!0);case 141:M.set("@protected",R["@protected"]||!1),e.t0=i.keys(R);case 143:if((e.t1=e.t0()).done){e.next=161;break}if(Q=e.t1.value,S.createTermDefinition({activeCtx:A,localCtx:R,term:Q,defined:M,options:s,overrideProtected:b}),!d(R[Q])||!("@context"in R[Q])){e.next=159;break}if($=R[Q]["@context"],Y=!0,p($)&&(X=m(s.base,$),_.has(X)?Y=!1:_.add(X)),!Y){e.next=159;break}return e.prev=151,e.next=154,S.process({activeCtx:A.clone(),localCtx:R[Q]["@context"],overrideProtected:!0,options:s,cycles:_});case 154:e.next=159;break;case 156:throw e.prev=156,e.t2=e.catch(151),new c("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:R[Q]["@context"],term:Q});case 159:e.next=143;break;case 161:P.setProcessed(r,A);case 162:e.next=14;break;case 164:e.next=169;break;case 166:e.prev=166,e.t3=e.catch(12),O.e(e.t3);case 169:return e.prev=169,O.f(),e.finish(169);case 172:return e.abrupt("return",A);case 173:case"end":return e.stop()}}),e,null,[[12,166,169,172],[151,156]])})));return function(t){return e.apply(this,arguments)}}(),S.createTermDefinition=function(e){var t,r=e.activeCtx,n=e.localCtx,i=e.term,o=e.defined,a=e.options,s=e.overrideProtected,u=void 0!==s&&s;if(o.has(i)){if(o.get(i))return;throw new c("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:n,term:i})}if(o.set(i,!1),n.hasOwnProperty(i)&&(t=n[i]),"@type"===i&&d(t)&&"@set"===(t["@container"]||"@set")&&S.processingMode(r,1.1)){var l=["@container","@id","@protected"],h=Object.keys(t);if(0===h.length||h.some((function(e){return!l.includes(e)})))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i})}else{if(S.isKeyword(i))throw new c("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:n,term:i});if(i.match(k))return void console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:i});if(""===i)throw new c("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:n})}var g=r.mappings.get(i);r.mappings.has(i)&&r.mappings.delete(i);var y=!1;if((p(t)||null===t)&&(y=!0,t={"@id":t}),!d(t))throw new c("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:n});var m={};r.mappings.set(i,m),m.reverse=!1;var b=["@container","@id","@language","@reverse","@type"];for(var w in S.processingMode(r,1.1)&&b.push("@context","@direction","@index","@nest","@prefix","@protected"),t)if(!b.includes(w))throw new c("Invalid JSON-LD syntax; a term definition must not contain "+w,"jsonld.SyntaxError",{code:"invalid term definition",context:n});var x=i.indexOf(":");if(m._termHasColon=x>0,"@reverse"in t){if("@id"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});if("@nest"in t)throw new c("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});var _=t["@reverse"];if(!p(_))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(!S.isKeyword(_)&&_.match(k))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:_}),void(g?r.mappings.set(i,g):r.mappings.delete(i));var O=E(r,_,{vocab:!0,base:!1},n,o,a);if(!v(O))throw new c("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});m["@id"]=O,m.reverse=!0}else if("@id"in t){var C=t["@id"];if(C&&!p(C))throw new c("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(null===C)m["@id"]=null;else{if(!S.isKeyword(C)&&C.match(k))return console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:C}),void(g?r.mappings.set(i,g):r.mappings.delete(i));if(C!==i){if(C=E(r,C,{vocab:!0,base:!1},n,o,a),!v(C)&&!S.isKeyword(C))throw new c("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});if(i.match(/(?::[^:])|\//))if(E(r,i,{vocab:!0,base:!1},n,new Map(o).set(i,!0),a)!==C)throw new c("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n});m["@id"]=C,m._prefix=y&&!m._termHasColon&&C.match(/[:\/\?#\[\]@]$/)}}}if(!("@id"in m))if(m._termHasColon){var P=i.substr(0,x);if(n.hasOwnProperty(P)&&S.createTermDefinition({activeCtx:r,localCtx:n,term:P,defined:o,options:a}),r.mappings.has(P)){var R=i.substr(x+1);m["@id"]=r.mappings.get(P)["@id"]+R}else m["@id"]=i}else if("@type"===i)m["@id"]=i;else{if(!("@vocab"in r))throw new c("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:n,term:i});m["@id"]=r["@vocab"]+i}if((!0===t["@protected"]||!0===o.get("@protected")&&!1!==t["@protected"])&&(r.protected[i]=!0,m.protected=!0),o.set(i,!0),"@type"in t){var j=t["@type"];if(!p(j))throw new c("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if("@json"===j||"@none"===j){if(S.processingMode(r,1))throw new c("Invalid JSON-LD syntax; an @context @type value must not be "+'"'.concat(j,'" in JSON-LD 1.0 mode.'),"jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else if("@id"!==j&&"@vocab"!==j){if(j=E(r,j,{vocab:!0,base:!1},n,o,a),!v(j))throw new c("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:n});if(0===j.indexOf("_:"))throw new c("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}m["@type"]=j}if("@container"in t){var I=p(t["@container"])?[t["@container"]]:t["@container"]||[],T=["@list","@set","@index","@language"],F=!0,N=I.includes("@set");if(S.processingMode(r,1.1)){if(T.push("@graph","@id","@type"),I.includes("@list")){if(1!==I.length)throw new c("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else if(I.includes("@graph")){if(I.some((function(e){return"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e})))throw new c("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:n})}else F&=I.length<=(N?2:1);if(I.includes("@type")&&(m["@type"]=m["@type"]||"@id",!["@id","@vocab"].includes(m["@type"])))throw new c("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:n})}else F&=!f(t["@container"]),F&=I.length<=1;if(F&=I.every((function(e){return T.includes(e)})),!(F&=!(N&&I.includes("@list"))))throw new c("Invalid JSON-LD syntax; @context @container value must be one of the following: "+T.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:n});if(m.reverse&&!I.every((function(e){return["@index","@set"].includes(e)})))throw new c("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:n});m["@container"]=I}if("@index"in t){if(!("@container"in t)||!m["@container"].includes("@index"))throw new c("Invalid JSON-LD syntax; @index without @index in @container: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});if(!p(t["@index"])||0===t["@index"].indexOf("@"))throw new c("Invalid JSON-LD syntax; @index must expand to an IRI: "+'"'.concat(t["@index"],'" on term "').concat(i,'".'),"jsonld.SyntaxError",{code:"invalid term definition",context:n});m["@index"]=t["@index"]}if("@context"in t&&(m["@context"]=t["@context"]),"@language"in t&&!("@type"in t)){var D=t["@language"];if(null!==D&&!p(D))throw new c("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:n});null!==D&&(D=D.toLowerCase()),m["@language"]=D}if("@prefix"in t){if(i.match(/:|\//))throw new c("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:n});if(S.isKeyword(m["@id"]))throw new c("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:n});if("boolean"!==typeof t["@prefix"])throw new c("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:n});m._prefix=!0===t["@prefix"]}if("@direction"in t){var L=t["@direction"];if(null!==L&&"ltr"!==L&&"rtl"!==L)throw new c('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:n});m["@direction"]=L}if("@nest"in t){var U=t["@nest"];if(!p(U)||"@nest"!==U&&0===U.indexOf("@"))throw new c("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:n});m["@nest"]=U}var M=m["@id"];if("@context"===M||"@preserve"===M)throw new c("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:n});if(g&&g.protected&&!u&&(r.protected[i]=!0,m.protected=!0,!A(g,m))){var B=a&&a.protectedMode||"error";if("error"===B)throw new c('Invalid JSON-LD syntax; tried to redefine "'.concat(i,'" which is a ')+"protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:n,term:i});if("warn"===B)return void console.warn("WARNING: protected term redefinition",{term:i});throw new c("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:n,term:i,protectedMode:B})}},S.expandIri=function(e,t,r,n){return E(e,t,r,void 0,void 0,n)},S.getInitialContext=function(e){var t=JSON.stringify({processingMode:e.processingMode}),r=_.get(t);if(r)return r;var i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){var e=this;if(e.inverse)return e.inverse;var t,r=e.inverse={},i=e.fastCurieMap={},u={},c=(e["@language"]||"@none").toLowerCase(),l=e["@direction"],f=e.mappings,d=n(f.keys()).sort(x),p=a(d);try{for(p.s();!(t=p.n()).done;){var h=t.value,g=f.get(h);if(null!==g){var v=g["@container"]||"@none";if(v=[].concat(v).sort().join(""),null!==g["@id"]){var y,m=w(g["@id"]),b=a(m);try{for(b.s();!(y=b.n()).done;){var _=y.value,k=r[_],E=S.isKeyword(_);if(k)E||g._termHasColon||u[_].push(h);else if(r[_]=k={},!E&&!g._termHasColon){u[_]=[h];var A={iri:_,terms:u[_]};_[0]in i?i[_[0]].push(A):i[_[0]]=[A]}if(k[v]||(k[v]={"@language":{},"@type":{},"@any":{}}),k=k[v],s(h,k["@any"],"@none"),g.reverse)s(h,k["@type"],"@reverse");else if("@none"===g["@type"])s(h,k["@any"],"@none"),s(h,k["@language"],"@none"),s(h,k["@type"],"@none");else if("@type"in g)s(h,k["@type"],g["@type"]);else if("@language"in g&&"@direction"in g){var O=g["@language"],C=g["@direction"];s(h,k["@language"],O&&C?"".concat(O,"_").concat(C).toLowerCase():O?O.toLowerCase():C?"_".concat(C):"@null")}else"@language"in g?s(h,k["@language"],(g["@language"]||"@null").toLowerCase()):"@direction"in g?g["@direction"]?s(h,k["@language"],"_".concat(g["@direction"])):s(h,k["@language"],"@none"):l?(s(h,k["@language"],"_".concat(l)),s(h,k["@language"],"@none"),s(h,k["@type"],"@none")):(s(h,k["@language"],c),s(h,k["@language"],"@none"),s(h,k["@type"],"@none"))}}catch(R){b.e(R)}finally{b.f()}}}}}catch(R){p.e(R)}finally{p.f()}for(var P in i)o(i,P,1);return r},clone:function(){var e={};e.mappings=u.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=u.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]);"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===_.size&&_.clear(),_.set(t,i),i;function o(e,t,r){var n,i,s,u=e[t],c=e[t]={},l=a(u);try{for(l.s();!(s=l.n()).done;){var f=s.value;(i=r>=(n=f.iri).length?"":n[r])in c?c[i].push(f):c[i]=[f]}}catch(p){l.e(p)}finally{l.f()}for(var d in c)""!==d&&o(c,d,r+1)}function s(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},S.getContextValue=function(e,t,r){if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){var n=e.mappings.get(t);if(h(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},S.processingMode=function(e,t){return t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode},S.isKeyword=function(e){if(!p(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},2186:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(9949),a=o.parseLinkHeader,s=o.buildHeaders,u=r(5379).LINK_HEADER_CONTEXT,c=r(5551),l=r(6205),f=r(1991).prependBase,d=/(^|(\r\n))link:/i;function p(e,t,r){var n=new(e=e||XMLHttpRequest);return new Promise((function(e,i){for(var o in n.onload=function(){return e(n)},n.onerror=function(e){return i(e)},n.open("GET",t,!0),r)n.setRequestHeader(o,r[o]);n.send()}))}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{headers:{}},t=e.secure,r=e.headers,o=void 0===r?{}:r,h=e.xhr;o=s(o);var g=new l;return g.wrapLoader(v);function v(e){return y.apply(this,arguments)}function y(){return(y=i(n.mark((function e(r){var i,s,l,g,y,m,b;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===r.indexOf("http:")||0===r.indexOf("https:")){e.next=2;break}throw new c('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 2:if(!t||0===r.indexOf("https")){e.next=4;break}throw new c('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});case 4:return e.prev=4,e.next=7,p(h,r,o);case 7:i=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(4),new c("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:r,cause:e.t0});case 13:if(!(i.status>=400)){e.next=15;break}throw new c("URL could not be dereferenced: "+i.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:r,httpStatusCode:i.status});case 15:if(s={contextUrl:null,documentUrl:r,document:i.response},l=null,g=i.getResponseHeader("Content-Type"),d.test(i.getAllResponseHeaders())&&(y=i.getResponseHeader("Link")),!y||"application/ld+json"===g){e.next=30;break}if(m=a(y),b=m[u],!Array.isArray(b)){e.next=24;break}throw new c("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});case 24:if(b&&(s.contextUrl=b.target),!(l=m.alternate)||"application/ld+json"!=l.type||(g||"").match(/^application\/(\w*\+)?json$/)){e.next=30;break}return e.next=29,v(f(r,l.target));case 29:s=e.sent;case 30:return e.abrupt("return",s);case 31:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}}},4095:function(e,t,r){"use strict";var n=r(3038).default,i=r(7757),o=r(3269).default,a=r(8926).default,s=r(5551),u=r(2396),c=u.isArray,l=u.isObject,f=u.isEmptyObject,d=u.isString,p=u.isUndefined,h=r(7342),g=h.isList,v=h.isValue,y=h.isGraph,m=h.isSubject,b=r(8447),w=b.expandIri,x=b.getContextValue,_=b.isKeyword,k=b.process,S=b.processingMode,E=r(1991).isAbsolute,A=r(9949),O=A.addValue,C=A.asArray,P=A.getValues,R=A.validateTypeValue,j={};e.exports=j;var I=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;function T(e){return F.apply(this,arguments)}function F(){return(F=a(i.mark((function e(t){var r,a,u,h,y,b,A,P,F,N,U,M,B,H,z,K,W,V,q,J,Z,G,Q,$,Y,X,ee,te,re,ne,ie,oe,ae,se,ue,ce,le,fe,de,pe,he,ge,ve,ye,me,be,we,xe,_e,ke,Se,Ee,Ae,Oe;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,a=t.activeProperty,u=t.expandedActiveProperty,h=t.element,y=t.expandedParent,b=t.options,A=void 0===b?{}:b,P=t.insideList,F=t.typeKey,N=t.typeScopedContext,U=t.expansionMap,M=Object.keys(h).sort(),B=[],z=h[F]&&"@json"===w(r,c(h[F])?h[F][0]:h[F],{vocab:!0},A),K=o(M),e.prev=5,K.s();case 7:if((W=K.n()).done){e.next=202;break}if(V=W.value,q=h[V],J=void 0,"@context"!==V){e.next=13;break}return e.abrupt("continue",200);case 13:if(null!==(Z=w(r,V,{vocab:!0},A))&&(E(Z)||_(Z))){e.next=18;break}if(void 0!==(Z=U({unmappedProperty:V,activeCtx:r,activeProperty:a,parent:h,options:A,insideList:P,value:q,expandedParent:y}))){e.next=18;break}return e.abrupt("continue",200);case 18:if(!_(Z)){e.next=23;break}if("@reverse"!==u){e.next=21;break}throw new s("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:q});case 21:if(!(Z in y)||"@included"===Z||"@type"===Z){e.next=23;break}throw new s("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:Z});case 23:if("@id"!==Z){e.next=40;break}if(d(q)){e.next=38;break}if(A.isFrame){e.next=27;break}throw new s('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 27:if(!l(q)){e.next=32;break}if(f(q)){e.next=30;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 30:e.next=38;break;case 32:if(!c(q)){e.next=37;break}if(q.every((function(e){return d(e)}))){e.next=35;break}throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 35:e.next=38;break;case 37:throw new s('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:q});case 38:return O(y,"@id",C(q).map((function(e){return d(e)?w(r,e,{base:!0},A):e})),{propertyIsArray:A.isFrame}),e.abrupt("continue",200);case 40:if("@type"!==Z){e.next=45;break}return l(q)&&(q=Object.fromEntries(Object.entries(q).map((function(e){var t=n(e,2),r=t[0],i=t[1];return[w(N,r,{vocab:!0}),C(i).map((function(e){return w(N,e,{base:!0,vocab:!0})}))]})))),R(q,A.isFrame),O(y,"@type",C(q).map((function(e){return d(e)?w(N,e,{base:!0,vocab:!0},A):e})),{propertyIsArray:A.isFrame}),e.abrupt("continue",200);case 45:if("@included"!==Z||!S(r,1.1)){e.next=55;break}return e.t0=C,e.next=49,j.expand({activeCtx:r,activeProperty:a,element:q,options:A,expansionMap:U});case 49:if(e.t1=e.sent,(G=(0,e.t0)(e.t1)).every((function(e){return m(e)}))){e.next=53;break}throw new s("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:q});case 53:return O(y,"@included",G,{propertyIsArray:!0}),e.abrupt("continue",200);case 55:if("@graph"!==Z||l(q)||c(q)){e.next=57;break}throw new s('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:q});case 57:if("@value"!==Z){e.next=61;break}return H=q,z&&S(r,1.1)?y["@value"]=q:O(y,"@value",q,{propertyIsArray:A.isFrame}),e.abrupt("continue",200);case 61:if("@language"!==Z){e.next=71;break}if(null!==q){e.next=64;break}return e.abrupt("continue",200);case 64:if(d(q)||A.isFrame){e.next=66;break}throw new s('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:q});case 66:q=C(q).map((function(e){return d(e)?e.toLowerCase():e})),Q=o(q);try{for(Q.s();!($=Q.n()).done;)Y=$.value,d(Y)&&!Y.match(I)&&console.warn("@language must be valid BCP47: ".concat(Y))}catch(Ce){Q.e(Ce)}finally{Q.f()}return O(y,"@language",q,{propertyIsArray:A.isFrame}),e.abrupt("continue",200);case 71:if("@direction"!==Z){e.next=94;break}if(d(q)||A.isFrame){e.next=74;break}throw new s('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 74:q=C(q),X=o(q),e.prev=76,X.s();case 78:if((ee=X.n()).done){e.next=84;break}if(te=ee.value,!d(te)||"ltr"===te||"rtl"===te){e.next=82;break}throw new s('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:q});case 82:e.next=78;break;case 84:e.next=89;break;case 86:e.prev=86,e.t2=e.catch(76),X.e(e.t2);case 89:return e.prev=89,X.f(),e.finish(89);case 92:return O(y,"@direction",q,{propertyIsArray:A.isFrame}),e.abrupt("continue",200);case 94:if("@index"!==Z){e.next=99;break}if(d(q)){e.next=97;break}throw new s('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:q});case 97:return O(y,"@index",q),e.abrupt("continue",200);case 99:if("@reverse"!==Z){e.next=127;break}if(l(q)){e.next=102;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:q});case 102:return e.next=104,j.expand({activeCtx:r,activeProperty:"@reverse",element:q,options:A,expansionMap:U});case 104:if("@reverse"in(J=e.sent))for(re in J["@reverse"])O(y,re,J["@reverse"][re],{propertyIsArray:!0});ne=y["@reverse"]||null,e.t3=i.keys(J);case 108:if((e.t4=e.t3()).done){e.next=126;break}if("@reverse"!==(ie=e.t4.value)){e.next=112;break}return e.abrupt("continue",108);case 112:null===ne&&(ne=y["@reverse"]={}),O(ne,ie,[],{propertyIsArray:!0}),oe=J[ie],ae=0;case 116:if(!(ae<oe.length)){e.next=124;break}if(se=oe[ae],!v(se)&&!g(se)){e.next=120;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 120:O(ne,ie,se,{propertyIsArray:!0});case 121:++ae,e.next=116;break;case 124:e.next=108;break;case 126:return e.abrupt("continue",200);case 127:if("@nest"!==Z){e.next=130;break}return B.push(V),e.abrupt("continue",200);case 130:if(ue=r,ce=x(r,V,"@context"),p(ce)){e.next=136;break}return e.next=135,k({activeCtx:r,localCtx:ce,propagate:!0,overrideProtected:!0,options:A});case 135:ue=e.sent;case 136:if(!(le=x(ue,V,"@container")||[]).includes("@language")||!l(q)){e.next=142;break}fe=x(ue,V,"@direction"),J=D(ue,q,fe,A),e.next=180;break;case 142:if(!le.includes("@index")||!l(q)){e.next=151;break}return de=le.includes("@graph"),pe=x(ue,V,"@index")||"@index",he="@index"!==pe&&w(r,pe,{vocab:!0},A),e.next=148,L({activeCtx:ue,options:A,activeProperty:V,value:q,expansionMap:U,asGraph:de,indexKey:pe,propertyIndex:he});case 148:J=e.sent,e.next=180;break;case 151:if(!le.includes("@id")||!l(q)){e.next=158;break}return ge=le.includes("@graph"),e.next=155,L({activeCtx:ue,options:A,activeProperty:V,value:q,expansionMap:U,asGraph:ge,indexKey:"@id"});case 155:J=e.sent,e.next=180;break;case 158:if(!le.includes("@type")||!l(q)){e.next=164;break}return e.next=161,L({activeCtx:ue.revertToPreviousContext(),options:A,activeProperty:V,value:q,expansionMap:U,asGraph:!1,indexKey:"@type"});case 161:J=e.sent,e.next=180;break;case 164:if(!(ve="@list"===Z)&&"@set"!==Z){e.next=173;break}return ye=a,ve&&"@graph"===u&&(ye=null),e.next=170,j.expand({activeCtx:ue,activeProperty:ye,element:q,options:A,insideList:ve,expansionMap:U});case 170:J=e.sent,e.next=180;break;case 173:if("@json"!==x(r,V,"@type")){e.next=177;break}J={"@type":"@json","@value":q},e.next=180;break;case 177:return e.next=179,j.expand({activeCtx:ue,activeProperty:V,element:q,options:A,insideList:!1,expansionMap:U});case 179:J=e.sent;case 180:if(null!==J||"@value"===Z){e.next=184;break}if(void 0!==(J=U({unmappedValue:q,expandedProperty:Z,activeCtx:ue,activeProperty:a,parent:h,options:A,insideList:P,key:V,expandedParent:y}))){e.next=184;break}return e.abrupt("continue",200);case 184:if("@list"!==Z&&!g(J)&&le.includes("@list")&&(J={"@list":C(J)}),le.includes("@graph")&&!le.some((function(e){return"@id"===e||"@index"===e}))&&(J=C(J).map((function(e){return{"@graph":C(e)}}))),!ue.mappings.has(V)||!ue.mappings.get(V).reverse){e.next=199;break}me=y["@reverse"]=y["@reverse"]||{},J=C(J),be=0;case 190:if(!(be<J.length)){e.next=198;break}if(we=J[be],!v(we)&&!g(we)){e.next=194;break}throw new s('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:J});case 194:O(me,Z,we,{propertyIsArray:!0});case 195:++be,e.next=190;break;case 198:return e.abrupt("continue",200);case 199:O(y,Z,J,{propertyIsArray:!0});case 200:e.next=7;break;case 202:e.next=207;break;case 204:e.prev=204,e.t5=e.catch(5),K.e(e.t5);case 207:return e.prev=207,K.f(),e.finish(207);case 210:if(!("@value"in y)){e.next=216;break}if("@json"!==y["@type"]||!S(r,1.1)){e.next=214;break}e.next=216;break;case 214:if(!l(H)&&!c(H)||A.isFrame){e.next=216;break}throw new s('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:H});case 216:xe=0,_e=B;case 217:if(!(xe<_e.length)){e.next=242;break}ke=_e[xe],Se=c(h[ke])?h[ke]:[h[ke]],Ee=o(Se),e.prev=221,Ee.s();case 223:if((Ae=Ee.n()).done){e.next=231;break}if(Oe=Ae.value,l(Oe)&&!Object.keys(Oe).some((function(e){return"@value"===w(r,e,{vocab:!0},A)}))){e.next=227;break}throw new s("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Oe});case 227:return e.next=229,T({activeCtx:r,activeProperty:a,expandedActiveProperty:u,element:Oe,expandedParent:y,options:A,insideList:P,typeScopedContext:N,typeKey:F,expansionMap:U});case 229:e.next=223;break;case 231:e.next=236;break;case 233:e.prev=233,e.t6=e.catch(221),Ee.e(e.t6);case 236:return e.prev=236,Ee.f(),e.finish(236);case 239:xe++,e.next=217;break;case 242:case"end":return e.stop()}}),e,null,[[5,204,207,210],[76,86,89,92],[221,233,236,239]])})))).apply(this,arguments)}function N(e){var t=e.activeCtx,r=e.activeProperty,n=e.value,i=e.options;if(null===n||void 0===n)return null;var o=w(t,r,{vocab:!0},i);if("@id"===o)return w(t,n,{base:!0},i);if("@type"===o)return w(t,n,{vocab:!0,base:!0},i);var a=x(t,r,"@type");if(("@id"===a||"@graph"===o)&&d(n))return{"@id":w(t,n,{base:!0},i)};if("@vocab"===a&&d(n))return{"@id":w(t,n,{vocab:!0,base:!0},i)};if(_(o))return n;var s={};if(a&&!["@id","@vocab","@none"].includes(a))s["@type"]=a;else if(d(n)){var u=x(t,r,"@language");null!==u&&(s["@language"]=u);var c=x(t,r,"@direction");null!==c&&(s["@direction"]=c)}return["boolean","number","string"].includes(typeof n)||(n=n.toString()),s["@value"]=n,s}function D(e,t,r,n){var i,a=[],u=Object.keys(t).sort(),l=o(u);try{for(l.s();!(i=l.n()).done;){var f=i.value,p=w(e,f,{vocab:!0},n),h=t[f];c(h)||(h=[h]);var g,v=o(h);try{for(v.s();!(g=v.n()).done;){var y=g.value;if(null!==y){if(!d(y))throw new s("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});var m={"@value":y};"@none"!==p&&(m["@language"]=f.toLowerCase()),r&&(m["@direction"]=r),a.push(m)}}}catch(b){v.e(b)}finally{v.f()}}}catch(b){l.e(b)}finally{l.f()}return a}function L(e){return U.apply(this,arguments)}function U(){return(U=a(i.mark((function e(t){var r,n,a,u,l,f,d,h,g,m,b,_,S,E,A,C,P,R,I,T;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.activeCtx,n=t.options,a=t.activeProperty,u=t.value,l=t.expansionMap,f=t.asGraph,d=t.indexKey,h=t.propertyIndex,g=[],m=Object.keys(u).sort(),b="@type"===d,_=o(m),e.prev=5,_.s();case 7:if((S=_.n()).done){e.next=51;break}if(E=S.value,!b){e.next=15;break}if(A=x(r,E,"@context"),p(A)){e.next=15;break}return e.next=14,k({activeCtx:r,localCtx:A,propagate:!1,options:n});case 14:r=e.sent;case 15:return C=u[E],c(C)||(C=[C]),e.next=19,j.expand({activeCtx:r,activeProperty:a,element:C,options:n,insideList:!1,insideIndex:!0,expansionMap:l});case 19:C=e.sent,P=void 0,P=h?"@none"===E?"@none":N({activeCtx:r,activeProperty:d,value:E,options:n}):w(r,E,{vocab:!0},n),"@id"===d?E=w(r,E,{base:!0},n):b&&(E=P),R=o(C),e.prev=24,R.s();case 26:if((I=R.n()).done){e.next=41;break}if(T=I.value,f&&!y(T)&&(T={"@graph":[T]}),"@type"!==d){e.next=33;break}"@none"===P||(T["@type"]?T["@type"]=[E].concat(T["@type"]):T["@type"]=[E]),e.next=38;break;case 33:if(!v(T)||["@language","@type","@index"].includes(d)){e.next=37;break}throw new s("Invalid JSON-LD syntax; Attempt to add illegal key to value "+'object: "'.concat(d,'".'),"jsonld.SyntaxError",{code:"invalid value object",value:T});case 37:h?"@none"!==P&&O(T,h,P,{propertyIsArray:!0,prependValue:!0}):"@none"===P||d in T||(T[d]=E);case 38:g.push(T);case 39:e.next=26;break;case 41:e.next=46;break;case 43:e.prev=43,e.t0=e.catch(24),R.e(e.t0);case 46:return e.prev=46,R.f(),e.finish(46);case 49:e.next=7;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(5),_.e(e.t1);case 56:return e.prev=56,_.f(),e.finish(56);case 59:return e.abrupt("return",g);case 60:case"end":return e.stop()}}),e,null,[[5,53,56,59],[24,43,46,49]])})))).apply(this,arguments)}j.expand=function(){var e=a(i.mark((function e(t){var r,n,a,u,h,g,v,y,m,b,_,A,O,R,I,F,D,L,U,M,B,H,z,K,W,V,q,J,Z,G,Q,$,Y,X,ee,te,re,ne,ie,oe,ae,se,ue,ce,le;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.activeCtx,n=t.activeProperty,a=void 0===n?null:n,u=t.element,h=t.options,g=void 0===h?{}:h,v=t.insideList,y=void 0!==v&&v,m=t.insideIndex,b=void 0!==m&&m,_=t.typeScopedContext,A=void 0===_?null:_,O=t.expansionMap,R=void 0===O?function(){}:O,null!==u&&void 0!==u){e.next=3;break}return e.abrupt("return",null);case 3:if("@default"===a&&(g=Object.assign({},g,{isFrame:!1})),c(u)||l(u)){e.next=13;break}if(y||null!==a&&"@graph"!==w(r,a,{vocab:!0},g)){e.next=12;break}return e.next=8,R({unmappedValue:u,activeCtx:r,activeProperty:a,options:g,insideList:y});case 8:if(void 0!==(I=e.sent)){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",I);case 12:return e.abrupt("return",N({activeCtx:r,activeProperty:a,value:u,options:g}));case 13:if(!c(u)){e.next=34;break}F=[],D=x(r,a,"@container")||[],y=y||D.includes("@list"),L=0;case 18:if(!(L<u.length)){e.next=33;break}return e.next=21,j.expand({activeCtx:r,activeProperty:a,element:u[L],options:g,expansionMap:R,insideIndex:b,typeScopedContext:A});case 21:if(U=e.sent,y&&c(U)&&(U={"@list":U}),null!==U){e.next=29;break}return e.next=26,R({unmappedValue:u[L],activeCtx:r,activeProperty:a,parent:u,index:L,options:g,expandedParent:F,insideList:y});case 26:if(void 0!==(U=e.sent)){e.next=29;break}return e.abrupt("continue",30);case 29:c(U)?F=F.concat(U):F.push(U);case 30:++L,e.next=18;break;case 33:return e.abrupt("return",F);case 34:if(M=w(r,a,{vocab:!0},g),B=x(r,a,"@context"),A=A||(r.previousContext?r:null),H=Object.keys(u).sort(),!((z=!b)&&A&&H.length<=2)||H.includes("@context")){e.next=63;break}K=o(H),e.prev=41,K.s();case 43:if((W=K.n()).done){e.next=55;break}if(V=W.value,"@value"!==(q=w(A,V,{vocab:!0},g))){e.next=50;break}return z=!1,r=A,e.abrupt("break",55);case 50:if("@id"!==q||1!==H.length){e.next=53;break}return z=!1,e.abrupt("break",55);case 53:e.next=43;break;case 55:e.next=60;break;case 57:e.prev=57,e.t0=e.catch(41),K.e(e.t0);case 60:return e.prev=60,K.f(),e.finish(60);case 63:if(z&&(r=r.revertToPreviousContext()),p(B)){e.next=68;break}return e.next=67,k({activeCtx:r,localCtx:B,propagate:!0,overrideProtected:!0,options:g});case 67:r=e.sent;case 68:if(!("@context"in u)){e.next=72;break}return e.next=71,k({activeCtx:r,localCtx:u["@context"],options:g});case 71:r=e.sent;case 72:A=r,J=null,Z=o(H),e.prev=75,Z.s();case 77:if((G=Z.n()).done){e.next=106;break}if(Q=G.value,"@type"!==w(r,Q,{vocab:!0},g)){e.next=104;break}J=J||Q,$=u[Q],Y=Array.isArray($)?$.length>1?$.slice().sort():$:[$],X=o(Y),e.prev=85,X.s();case 87:if((ee=X.n()).done){e.next=96;break}if(te=ee.value,re=x(A,te,"@context"),p(re)){e.next=94;break}return e.next=93,k({activeCtx:r,localCtx:re,options:g,propagate:!1});case 93:r=e.sent;case 94:e.next=87;break;case 96:e.next=101;break;case 98:e.prev=98,e.t1=e.catch(85),X.e(e.t1);case 101:return e.prev=101,X.f(),e.finish(101);case 104:e.next=77;break;case 106:e.next=111;break;case 108:e.prev=108,e.t2=e.catch(75),Z.e(e.t2);case 111:return e.prev=111,Z.f(),e.finish(111);case 114:return ne={},e.next=117,T({activeCtx:r,activeProperty:a,expandedActiveProperty:M,element:u,expandedParent:ne,options:g,insideList:y,typeKey:J,typeScopedContext:A,expansionMap:R});case 117:if(H=Object.keys(ne),ie=H.length,!("@value"in ne)){e.next=149;break}if(!("@type"in ne)||!("@language"in ne)&&!("@direction"in ne)){e.next=122;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 122:if(oe=ie-1,"@type"in ne&&(oe-=1),"@index"in ne&&(oe-=1),"@language"in ne&&(oe-=1),"@direction"in ne&&(oe-=1),0===oe){e.next=129;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:ne});case 129:if(ae=null===ne["@value"]?[]:C(ne["@value"]),se=P(ne,"@type"),!S(r,1.1)||!se.includes("@json")||1!==se.length){e.next=134;break}e.next=147;break;case 134:if(0!==ae.length){e.next=141;break}return e.next=137,R({unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 137:ue=e.sent,ne=void 0!==ue?ue:null,e.next=147;break;case 141:if(ae.every((function(e){return d(e)||f(e)}))||!("@language"in ne)){e.next=145;break}throw new s("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:ne});case 145:if(se.every((function(e){return E(e)&&!(d(e)&&0===e.indexOf("_:"))||f(e)}))){e.next=147;break}throw new s('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:ne});case 147:e.next=164;break;case 149:if(!("@type"in ne)||c(ne["@type"])){e.next=153;break}ne["@type"]=[ne["@type"]],e.next=164;break;case 153:if(!("@set"in ne)&&!("@list"in ne)){e.next=159;break}if(!(ie>1)||2===ie&&"@index"in ne){e.next=156;break}throw new s('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:ne});case 156:"@set"in ne&&(ne=ne["@set"],H=Object.keys(ne),ie=H.length),e.next=164;break;case 159:if(1!==ie||!("@language"in ne)){e.next=164;break}return e.next=162,R(ne,{unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 162:ce=e.sent,ne=void 0!==ce?ce:null;case 164:if(!l(ne)||g.keepFreeFloatingNodes||y||null!==a&&"@graph"!==M){e.next=170;break}if(!(0===ie||"@value"in ne||"@list"in ne||1===ie&&"@id"in ne)){e.next=170;break}return e.next=168,R({unmappedValue:ne,activeCtx:r,activeProperty:a,element:u,options:g,insideList:y});case 168:le=e.sent,ne=void 0!==le?le:null;case 170:return e.abrupt("return",ne);case 171:case"end":return e.stop()}}),e,null,[[41,57,60,63],[75,108,111,114],[85,98,101,104]])})));return function(t){return e.apply(this,arguments)}}()},1922:function(e,t,r){"use strict";var n=r(7342).isSubjectReference,i=r(5784).createMergedNodeMap,o={};e.exports=o,o.flatten=function(e){for(var t=i(e),r=[],o=Object.keys(t).sort(),a=0;a<o.length;++a){var s=t[o[a]];n(s)||r.push(s)}return r}},5323:function(e,t,r){"use strict";var n=r(1109).default,i=r(9713).default,o=r(3269).default,a=r(8447).isKeyword,s=r(7342),u=r(2396),c=r(9949),l=r(1991),f=r(5551),d=r(5784),p=d.createNodeMap,h=d.mergeNodeMapGraphs,g={};function v(e){var t={};for(var r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function y(e,t,r){for(var n=r.length-1;n>=0;--n){var i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function m(e,t,r){var n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r)if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e});return i}function b(e){if(!u.isArray(e)||1!==e.length||!u.isObject(e[0]))throw new f("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){var t,r=o(c.asArray(e[0]["@id"]));try{for(r.s();!(t=r.n()).done;){var n=t.value;if(!u.isObject(n)&&!l.isAbsolute(n)||u.isString(n)&&0===n.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){r.e(d)}finally{r.f()}}if("@type"in e[0]){var i,a=o(c.asArray(e[0]["@type"]));try{for(a.s();!(i=a.n()).done;){var s=i.value;if(!u.isObject(s)&&!l.isAbsolute(s)||u.isString(s)&&0===s.indexOf("_:"))throw new f("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}catch(d){a.e(d)}finally{a.f()}}}function w(e,t,r,n){var i,a={},s=o(t);try{for(s.s();!(i=s.n()).done;){var u=i.value,c=e.graphMap[e.graph][u];x(e,c,r,n)&&(a[u]=c)}}catch(l){s.e(l)}finally{s.f()}return a}function x(e,t,r,n){var i=!0,l=!1;for(var f in r){var d=!1,p=c.getValues(t,f),h=0===c.getValues(r,f).length;if("@id"===f){if(u.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(p[0])),!n.requireAll)return d}else if("@type"===f){if(i=!1,h){if(p.length>0)return!1;d=!0}else if(1===r["@type"].length&&u.isEmptyObject(r["@type"][0]))d=p.length>0;else{var g,v=o(r["@type"]);try{var y=function(){var e=g.value;d=!(!u.isObject(e)||!("@default"in e))||(d||p.some((function(t){return t===e})))};for(v.s();!(g=v.n()).done;)y()}catch(w){v.e(w)}finally{v.f()}}if(!n.requireAll)return d}else{if(a(f))continue;var m=function(){var t=c.getValues(r,f)[0],o=!1;if(t&&(b([t]),o="@default"in t),i=!1,0===p.length&&o)return"continue";if(p.length>0&&h)return{v:!1};if(void 0===t){if(p.length>0)return{v:!1};d=!0}else if(s.isList(t)){var a=t["@list"][0];if(s.isList(p[0])){var l=p[0]["@list"];s.isValue(a)?d=l.some((function(e){return A(a,e)})):(s.isSubject(a)||s.isSubjectReference(a))&&(d=l.some((function(t){return E(e,a,t,n)})))}}else d=s.isValue(t)?p.some((function(e){return A(t,e)})):s.isSubjectReference(t)?p.some((function(r){return E(e,t,r,n)})):!!u.isObject(t)&&p.length>0}();if("continue"===m)continue;if("object"===typeof m)return m.v}if(!d&&n.requireAll)return!1;l=l||d}return i||l}function _(e,t){var r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,o=n.property,a={"@id":t};if(u.isArray(i)){for(var s=0;s<i.length;++s)if(c.compareValues(i[s],a)){i[s]=a;break}}else{var l=u.isArray(i[o]);c.removeValue(i,o,a,{propertyIsArray:l}),c.addValue(i,o,a,{propertyIsArray:l})}!function e(t){for(var n=0,i=Object.keys(r);n<i.length;n++){var o=i[n];o in r&&u.isObject(r[o].parent)&&r[o].parent["@id"]===t&&(delete r[o],e(o))}}(t)}function k(e,t){if(u.isArray(e))return e.map((function(e){return k(e,t)}));if(u.isObject(e)){if("@preserve"in e)return e["@preserve"][0];if(s.isValue(e))return e;if(s.isList(e))return e["@list"]=k(e["@list"],t),e;if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)"@id"===i&&t.bnodesToClear.includes(e[i])?delete e["@id"]:e[i]=k(e[i],t)}return e}function S(e,t,r){u.isObject(e)?c.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function E(e,t,r,n){if(!("@id"in r))return!1;var i=e.subjects[r["@id"]];return i&&x(e,i,t,n)}function A(e,t){var r=t["@value"],n=t["@type"],i=t["@language"],o=e["@value"]?u.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?u.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],s=e["@language"]?u.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===o.length&&0===a.length&&0===s.length||!(!o.includes(r)&&!u.isEmptyObject(o[0]))&&(!!(!n&&0===a.length||a.includes(n)||n&&u.isEmptyObject(a[0]))&&!!(!i&&0===s.length||s.includes(i)||i&&u.isEmptyObject(s[0])))}e.exports=g,g.frameMergedOrDefault=function(e,t,r){var n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},i=new c.IdentifierIssuer("_:b");p(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=h(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];var o=[];return g.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter((function(e){return 1===n.bnodeMap[e].length}))),r.link={},k(o,r)},g.frame=function(e,t,r,l){var d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;b(r),r=r[0];var p=e.options,h={embed:m(r,p,"embed"),explicit:m(r,p,"explicit"),requireAll:m(r,p,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});var x,k=e.link[e.graph],E=w(e,t,r,h),O=Object.keys(E).sort(),C=o(O);try{var P=function(){var b=x.value,w=E[b];if(null===d?e.uniqueEmbeds=i({},e.graph,{}):e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===h.embed&&b in k)return S(l,d,k[b]),"continue";var O={"@id":b};if(0===b.indexOf("_:")&&c.addValue(e.bnodeMap,b,O,{propertyIsArray:!0}),k[b]=O,("@first"===h.embed||"@last"===h.embed)&&e.is11)throw new f("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(b))return"continue";if(e.embedded&&("@never"===h.embed||y(w,e.graph,e.subjectStack)))return S(l,d,O),"continue";if(e.embedded&&("@first"==h.embed||"@once"==h.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(b))return S(l,d,O),"continue";if("@last"===h.embed&&b in e.uniqueEmbeds[e.graph]&&_(e,b),e.uniqueEmbeds[e.graph][b]={parent:l,property:d},e.subjectStack.push({subject:w,graph:e.graph}),b in e.graphMap){var C=!1,P=null;"@graph"in r?(P=r["@graph"][0],C=!("@merged"===b||"@default"===b),u.isObject(P)||(P={})):(C="@merged"!==e.graph,P={}),C&&g.frame(n(n({},e),{},{graph:b,embedded:!1}),Object.keys(e.graphMap[b]).sort(),[P],O,"@graph")}"@included"in r&&g.frame(n(n({},e),{},{embedded:!1}),t,r["@included"],O,"@included");var R,j=o(Object.keys(w).sort());try{for(j.s();!(R=j.n()).done;){var I=R.value;if(a(I)){if(O[I]=c.clone(w[I]),"@type"===I){var T,F=o(w["@type"]);try{for(F.s();!(T=F.n()).done;){var N=T.value;0===N.indexOf("_:")&&c.addValue(e.bnodeMap,N,O,{propertyIsArray:!0})}}catch(ie){F.e(ie)}finally{F.f()}}}else if(!h.explicit||I in r){var D,L=o(w[I]);try{for(L.s();!(D=L.n()).done;){var U=D.value,M=I in r?r[I]:v(h);if(s.isList(U)){var B=r[I]&&r[I][0]&&r[I][0]["@list"]?r[I][0]["@list"]:v(h),H={"@list":[]};S(O,I,H);var z,K=U["@list"],W=o(K);try{for(W.s();!(z=W.n()).done;){var V=z.value;s.isSubjectReference(V)?g.frame(n(n({},e),{},{embedded:!0}),[V["@id"]],B,H,"@list"):S(H,"@list",c.clone(V))}}catch(ie){W.e(ie)}finally{W.f()}}else s.isSubjectReference(U)?g.frame(n(n({},e),{},{embedded:!0}),[U["@id"]],M,O,I):A(M[0],U)&&S(O,I,c.clone(U))}}catch(ie){L.e(ie)}finally{L.f()}}}}catch(ie){j.e(ie)}finally{j.f()}var q,J=o(Object.keys(r).sort());try{for(J.s();!(q=J.n()).done;){var Z=q.value;if("@type"===Z){if(!u.isObject(r[Z][0])||!("@default"in r[Z][0]))continue}else if(a(Z))continue;var G=r[Z][0]||{};if(!m(G,p,"omitDefault")&&!(Z in O)){var Q="@null";"@default"in G&&(Q=c.clone(G["@default"])),u.isArray(Q)||(Q=[Q]),O[Z]=[{"@preserve":Q}]}}}catch(ie){J.e(ie)}finally{J.f()}var $,Y=o(Object.keys(r["@reverse"]||{}).sort());try{for(Y.s();!($=Y.n()).done;)for(var X=$.value,ee=r["@reverse"][X],te=0,re=Object.keys(e.subjects);te<re.length;te++){var ne=re[te];c.getValues(e.subjects[ne],X).some((function(e){return e["@id"]===b}))&&(O["@reverse"]=O["@reverse"]||{},c.addValue(O["@reverse"],X,[],{propertyIsArray:!0}),g.frame(n(n({},e),{},{embedded:!0}),[ne],ee,O["@reverse"][X],d))}}catch(ie){Y.e(ie)}finally{Y.f()}S(l,d,O),e.subjectStack.pop()};for(C.s();!(x=C.n()).done;)P()}catch(R){C.e(R)}finally{C.f()}},g.cleanupNull=function(e,t){if(u.isArray(e))return e.map((function(e){return g.cleanupNull(e,t)})).filter((function(e){return e}));if("@null"===e)return null;if(u.isObject(e)){if("@id"in e){var r=e["@id"];if(t.link.hasOwnProperty(r)){var n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(var i in e)e[i]=g.cleanupNull(e[i],t)}return e}},2401:function(e,t,r){"use strict";var n=r(3038).default,i=r(7757),o=r(3269).default,a=r(8926).default,s=r(5551),u=r(7342),c=r(2396),l=r(9949),f=r(5379),d=f.RDF_LIST,p=f.RDF_FIRST,h=f.RDF_REST,g=f.RDF_NIL,v=f.RDF_TYPE,y=f.RDF_JSON_LITERAL,m=f.XSD_BOOLEAN,b=f.XSD_DOUBLE,w=f.XSD_INTEGER,x=f.XSD_STRING,_=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,k={};function S(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};var i={"@value":e.value};if(e.language)i["@language"]=e.language;else{var o=e.datatype.value;if(o||(o=x),o===y){o="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(p){throw new s("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:p})}}if(t){if(o===m)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(c.isNumeric(i["@value"]))if(o===w){var a=parseInt(i["@value"],10);a.toFixed(0)===i["@value"]&&(i["@value"]=a)}else o===b&&(i["@value"]=parseFloat(i["@value"]));[m,w,b,x].includes(o)||(i["@type"]=o)}else if("i18n-datatype"===r&&o.startsWith("https://www.w3.org/ns/i18n#")){var u=o.split(/[#_]/),l=n(u,3),f=l[1],d=l[2];f.length>0&&(i["@language"]=f,f.match(_)||console.warn("@language must be valid BCP47: ".concat(f))),i["@direction"]=d}else o!==x&&(i["@type"]=o)}return i}e.exports=k,k.fromRDF=function(){var e=a(i.mark((function e(t,r){var n,a,s,f,y,m,b,w,x,_,k,E,A,O,C,P,R,j,I,T,F,N,D,L,U,M,B,H,z,K,W,V,q,J,Z,G,Q,$,Y,X,ee,te,re,ne,ie,oe,ae,se,ue;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.useRdfType,a=void 0!==n&&n,s=r.useNativeTypes,f=void 0!==s&&s,y=r.rdfDirection,m=void 0===y?null:y,w={"@default":b={}},x={},_=o(t),e.prev=5,_.s();case 7:if((k=_.n()).done){e.next=28;break}if(E=k.value,(A="DefaultGraph"===E.graph.termType?"@default":E.graph.value)in w||(w[A]={}),"@default"===A||A in b||(b[A]={"@id":A}),O=w[A],C=E.subject.value,P=E.predicate.value,R=E.object,C in O||(O[C]={"@id":C}),j=O[C],(I=R.termType.endsWith("Node"))&&!(R.value in O)&&(O[R.value]={"@id":R.value}),P!==v||a||!I){e.next=23;break}return l.addValue(j,"@type",R.value,{propertyIsArray:!0}),e.abrupt("continue",26);case 23:T=S(R,f,m),l.addValue(j,P,T,{propertyIsArray:!0}),I&&(R.value===g?("usages"in(F=O[R.value])||(F.usages=[]),F.usages.push({node:j,property:P,value:T})):R.value in x?x[R.value]=!1:x[R.value]={node:j,property:P,value:T});case 26:e.next=7;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(5),_.e(e.t0);case 33:return e.prev=33,_.f(),e.finish(33);case 36:e.t1=i.keys(w);case 37:if((e.t2=e.t1()).done){e.next=84;break}if(N=e.t2.value,D=w[N],g in D){e.next=42;break}return e.abrupt("continue",37);case 42:if((L=D[g]).usages){e.next=45;break}return e.abrupt("continue",37);case 45:U=o(L.usages),e.prev=46,U.s();case 48:if((M=U.n()).done){e.next=73;break}B=M.value,H=B.node,z=B.property,K=B.value,W=[],V=[],q=Object.keys(H).length;case 56:if(!(z===h&&c.isObject(x[H["@id"]])&&c.isArray(H[p])&&1===H[p].length&&c.isArray(H[h])&&1===H[h].length&&(3===q||4===q&&c.isArray(H["@type"])&&1===H["@type"].length&&H["@type"][0]===d))){e.next=68;break}if(W.push(H[p][0]),V.push(H["@id"]),B=x[H["@id"]],H=B.node,z=B.property,K=B.value,q=Object.keys(H).length,u.isBlankNode(H)){e.next=66;break}return e.abrupt("break",68);case 66:e.next=56;break;case 68:for(delete K["@id"],K["@list"]=W.reverse(),J=0,Z=V;J<Z.length;J++)G=Z[J],delete D[G];case 71:e.next=48;break;case 73:e.next=78;break;case 75:e.prev=75,e.t3=e.catch(46),U.e(e.t3);case 78:return e.prev=78,U.f(),e.finish(78);case 81:delete L.usages,e.next=37;break;case 84:Q=[],$=Object.keys(b).sort(),Y=o($);try{for(Y.s();!(X=Y.n()).done;){if(ee=X.value,te=b[ee],ee in w){re=te["@graph"]=[],ne=w[ee],ie=Object.keys(ne).sort(),oe=o(ie);try{for(oe.s();!(ae=oe.n()).done;)se=ae.value,ue=ne[se],u.isSubjectReference(ue)||re.push(ue)}catch(ce){oe.e(ce)}finally{oe.f()}}u.isSubjectReference(te)||Q.push(te)}}catch(ce){Y.e(ce)}finally{Y.f()}return e.abrupt("return",Q);case 89:case"end":return e.stop()}}),e,null,[[5,30,33,36],[46,75,78,81]])})));return function(t,r){return e.apply(this,arguments)}}()},7342:function(e,t,r){"use strict";var n=r(2396),i={};e.exports=i,i.isSubject=function(e){return!(!n.isObject(e)||"@value"in e||"@set"in e||"@list"in e)&&(Object.keys(e).length>1||!("@id"in e))},i.isSubjectReference=function(e){return n.isObject(e)&&1===Object.keys(e).length&&"@id"in e},i.isValue=function(e){return n.isObject(e)&&"@value"in e},i.isList=function(e){return n.isObject(e)&&"@list"in e},i.isGraph=function(e){return n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter((function(e){return"@id"!==e&&"@index"!==e})).length},i.isSimpleGraph=function(e){return i.isGraph(e)&&!("@id"in e)},i.isBlankNode=function(e){return!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))}},3049:function(e,t,r){var n=r(6479).default,i=r(1109).default,o=r(7757),a=r(8926).default,s=["documentLoader"],u=r(1061),c=r(1787),l=r(9949),f=r(9665),d=l.IdentifierIssuer,p=r(5551),h=r(1612),g=r(7198),v=r(4095).expand,y=r(1922).flatten,m=r(2401).fromRDF,b=r(1501).toRDF,w=r(5323),x=w.frameMergedOrDefault,_=w.cleanupNull,k=r(2396),S=k.isArray,E=k.isObject,A=k.isString,O=r(7342).isSubjectReference,C=r(8447),P=C.expandIri,R=C.getInitialContext,j=C.process,I=C.processingMode,T=r(1854),F=T.compact,N=T.compactIri,D=r(5784),L=D.createNodeMap,U=D.createMergedNodeMap,M=D.mergeNodeMaps,B=function(e){var t={},w=new h({max:100});function k(t,r){var i=r.documentLoader,o=void 0===i?e.documentLoader:i,a=n(r,s);return Object.assign({},{documentLoader:o},a,t)}return e.compact=function(){var t=a(o.mark((function t(r,n,i){var a,s,u,c,h,g,v,y,m,b,x=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(x.length<2)){t.next=2;break}throw new TypeError("Could not compact, too few arguments.");case 2:if(null!==n){t.next=4;break}throw new p("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});case 4:if(null!==r){t.next=6;break}return t.abrupt("return",null);case 6:if((i=k(i,{base:A(r)?r:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new d("_:b"),contextResolver:new f({sharedCache:w})})).link&&(i.skipExpansion=!0),i.compactToRelative||delete i.base,!i.skipExpansion){t.next=13;break}a=r,t.next=16;break;case 13:return t.next=15,e.expand(r,i);case 15:a=t.sent;case 16:return t.next=18,e.processContext(R(i),n,i);case 18:return s=t.sent,t.next=21,F({activeCtx:s,element:a,options:i,compactionMap:i.compactionMap});case 21:u=t.sent,i.compactArrays&&!i.graph&&S(u)?1===u.length?u=u[0]:0===u.length&&(u={}):i.graph&&E(u)&&(u=[u]),E(n)&&"@context"in n&&(n=n["@context"]),n=l.clone(n),S(n)||(n=[n]),c=n,n=[];for(h=0;h<c.length;++h)(!E(c[h])||Object.keys(c[h]).length>0)&&n.push(c[h]);if(g=n.length>0,1===n.length&&(n=n[0]),S(u))v=N({activeCtx:s,iri:"@graph",relativeTo:{vocab:!0}}),y=u,u={},g&&(u["@context"]=n),u[v]=y;else if(E(u)&&g)for(b in m=u,u={"@context":n},m)u[b]=m[b];return t.abrupt("return",u);case 33:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.expand=function(){var t=a(o.mark((function t(r,n){var i,a,s,u,c,d,p,h,g,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<1)){t.next=2;break}throw new TypeError("Could not expand, too few arguments.");case 2:if(!1===(n=k(n,{keepFreeFloatingNodes:!1,contextResolver:new f({sharedCache:w})})).expansionMap&&(n.expansionMap=void 0),i={},a=[],"expandContext"in n&&(s=l.clone(n.expandContext),E(s)&&"@context"in s?i.expandContext=s:i.expandContext={"@context":s},a.push(i.expandContext)),A(r)){t.next=11;break}i.input=l.clone(r),t.next=17;break;case 11:return t.next=13,e.get(r,n);case 13:c=t.sent,u=c.documentUrl,i.input=c.document,c.contextUrl&&(i.remoteContext={"@context":c.contextUrl},a.push(i.remoteContext));case 17:"base"in n||(n.base=u||""),d=R(n),p=0,h=a;case 20:if(!(p<h.length)){t.next=28;break}return g=h[p],t.next=24,j({activeCtx:d,localCtx:g,options:n});case 24:d=t.sent;case 25:p++,t.next=20;break;case 28:return t.next=30,v({activeCtx:d,element:i.input,options:n,expansionMap:n.expansionMap});case 30:return y=t.sent,E(y)&&"@graph"in y&&1===Object.keys(y).length?y=y["@graph"]:null===y&&(y=[]),S(y)||(y=[y]),t.abrupt("return",y);case 34:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.flatten=function(){var t=a(o.mark((function t(r,n,i){var a,s,u,c=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(c.length<1)){t.next=2;break}return t.abrupt("return",new TypeError("Could not flatten, too few arguments."));case 2:return n="function"===typeof n?null:n||null,i=k(i,{base:A(r)?r:"",contextResolver:new f({sharedCache:w})}),t.next=6,e.expand(r,i);case 6:if(a=t.sent,s=y(a),null!==n){t.next=10;break}return t.abrupt("return",s);case 10:return i.graph=!0,i.skipExpansion=!0,t.next=14,e.compact(s,n,i);case 14:return u=t.sent,t.abrupt("return",u);case 16:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.frame=function(){var t=a(o.mark((function t(r,n,a){var s,u,c,l,d,p,h,g,v,y,m=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(m.length<2)){t.next=2;break}throw new TypeError("Could not frame, too few arguments.");case 2:if(a=k(a,{base:A(r)?r:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new f({sharedCache:w})}),!A(n)){t.next=9;break}return t.next=6,e.get(n,a);case 6:s=t.sent,n=s.document,s.contextUrl&&((u=n["@context"])?S(u)?u.push(s.contextUrl):u=[u,s.contextUrl]:u=s.contextUrl,n["@context"]=u);case 9:return c=n&&n["@context"]||{},t.next=12,e.processContext(R(a),c,a);case 12:return l=t.sent,a.hasOwnProperty("omitGraph")||(a.omitGraph=I(l,1.1)),a.hasOwnProperty("pruneBlankNodeIdentifiers")||(a.pruneBlankNodeIdentifiers=I(l,1.1)),t.next=17,e.expand(r,a);case 17:return d=t.sent,(p=i({},a)).isFrame=!0,p.keepFreeFloatingNodes=!0,t.next=23,e.expand(n,p);case 23:return h=t.sent,g=Object.keys(n).map((function(e){return P(l,e,{vocab:!0})})),p.merged=!g.includes("@graph"),p.is11=I(l,1.1),v=x(d,h,p),p.graph=!a.omitGraph,p.skipExpansion=!0,p.link={},p.framing=!0,t.next=34,e.compact(v,c,p);case 34:return y=t.sent,p.link={},y=_(y,p),t.abrupt("return",y);case 38:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.link=function(){var t=a(o.mark((function t(r,n,i){var a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={},n&&(a["@context"]=n),a["@embed"]="@link",t.abrupt("return",e.frame(r,a,i));case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e.normalize=e.canonize=function(){var t=a(o.mark((function t(r,n){var a,s,c,l=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(l.length<1)){t.next=2;break}throw new TypeError("Could not canonize, too few arguments.");case 2:if(!("inputFormat"in(n=k(n,{base:A(r)?r:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new f({sharedCache:w})})))){t.next=8;break}if("application/n-quads"===n.inputFormat||"application/nquads"===n.inputFormat){t.next=6;break}throw new p("Unknown canonicalization input format.","jsonld.CanonizeError");case 6:return a=g.parse(r),t.abrupt("return",u.canonize(a,n));case 8:return delete(s=i({},n)).format,s.produceGeneralizedRdf=!1,t.next=13,e.toRDF(r,s);case 13:return c=t.sent,t.abrupt("return",u.canonize(c,n));case 15:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.fromRDF=function(){var e=a(o.mark((function e(r,n){var i,a,s,u=arguments;return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=2;break}throw new TypeError("Could not convert from RDF, too few arguments.");case 2:if(n=k(n,{format:A(r)?"application/n-quads":void 0}),i=n.format,a=n.rdfParser,!i){e.next=11;break}if(a=a||t[i]){e.next=9;break}throw new p("Unknown input format.","jsonld.UnknownFormat",{format:i});case 9:e.next=12;break;case 11:a=function(){return r};case 12:return e.next=14,a(r);case 14:return s=e.sent,e.abrupt("return",m(s,n));case 16:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.toRDF=function(){var t=a(o.mark((function t(r,n){var i,a,s=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<1)){t.next=2;break}throw new TypeError("Could not convert to RDF, too few arguments.");case 2:if(!(n=k(n,{base:A(r)?r:"",skipExpansion:!1,contextResolver:new f({sharedCache:w})})).skipExpansion){t.next=7;break}i=r,t.next=10;break;case 7:return t.next=9,e.expand(r,n);case 9:i=t.sent;case 10:if(a=b(i,n),!n.format){t.next=15;break}if("application/n-quads"!==n.format&&"application/nquads"!==n.format){t.next=14;break}return t.abrupt("return",g.serialize(a));case 14:throw new p("Unknown output format.","jsonld.UnknownFormat",{format:n.format});case 15:return t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.createNodeMap=function(){var t=a(o.mark((function t(r,n){var i,a=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(a.length<1)){t.next=2;break}throw new TypeError("Could not create node map, too few arguments.");case 2:return n=k(n,{base:A(r)?r:"",contextResolver:new f({sharedCache:w})}),t.next=5,e.expand(r,n);case 5:return i=t.sent,t.abrupt("return",U(i,n));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),e.merge=function(){var t=a(o.mark((function t(r,n,a){var s,u,c,p,h,g,v,y,m,b,x,_,E,A,C,P,R,j=arguments;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(j.length<1)){t.next=2;break}throw new TypeError("Could not merge, too few arguments.");case 2:if(S(r)){t.next=4;break}throw new TypeError('Could not merge, "docs" must be an array.');case 4:return n="function"===typeof n?null:n||null,a=k(a,{contextResolver:new f({sharedCache:w})}),t.next=8,Promise.all(r.map((function(t){var r=i({},a);return e.expand(t,r)})));case 8:s=t.sent,u=!0,"mergeNodes"in a&&(u=a.mergeNodes),c=a.issuer||new d("_:b"),p={"@default":{}},h=0;case 14:if(!(h<s.length)){t.next=33;break}if(g=l.relabelBlankNodes(s[h],{issuer:new d("_:b"+h+"-")}),L(g,v=u||0===h?p:{"@default":{}},"@default",c),v===p){t.next=30;break}t.t0=o.keys(v);case 20:if((t.t1=t.t0()).done){t.next=30;break}if(y=t.t1.value,m=v[y],y in p){t.next=26;break}return p[y]=m,t.abrupt("continue",20);case 26:for(x in b=p[y],m)x in b||(b[x]=m[x]);t.next=20;break;case 30:++h,t.next=14;break;case 33:for(_=M(p),E=[],A=Object.keys(_).sort(),C=0;C<A.length;++C)P=_[A[C]],O(P)||E.push(P);if(null!==n){t.next=39;break}return t.abrupt("return",E);case 39:return a.graph=!0,a.skipExpansion=!0,t.next=43,e.compact(E,n,a);case 43:return R=t.sent,t.abrupt("return",R);case 45:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),Object.defineProperty(e,"documentLoader",{get:function(){return e._documentLoader},set:function(t){return e._documentLoader=t}}),e.documentLoader=function(){var e=a(o.mark((function e(t){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new p("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.get=function(){var t=a(o.mark((function t(r,n){var i,a;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="function"===typeof n.documentLoader?n.documentLoader:e.documentLoader,t.next=3,i(r);case 3:if(a=t.sent,t.prev=4,a.document){t.next=7;break}throw new p("No remote document found at the given URL.","jsonld.NullRemoteDocument");case 7:A(a.document)&&(a.document=JSON.parse(a.document)),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(4),new p("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:t.t0,remoteDoc:a});case 13:return t.abrupt("return",a);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e,r){return t.apply(this,arguments)}}(),e.processContext=function(){var e=a(o.mark((function e(t,r,n){return o.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k(n,{base:"",contextResolver:new f({sharedCache:w})}),null!==r){e.next=3;break}return e.abrupt("return",R(n));case 3:return r=l.clone(r),E(r)&&"@context"in r||(r={"@context":r}),e.abrupt("return",j({activeCtx:t,localCtx:r,options:n}));case 6:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),e.getContextValue=r(8447).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new p('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",g.parse),e.registerRDFParser("application/nquads",g.parse),e.url=r(1991),e.util=l,Object.assign(e,l),e.promises=e,e.RequestQueue=r(6205),e.JsonLdProcessor=r(3132)(e),c.setupGlobals(e),c.setupDocumentLoaders(e),e},H=function e(){return B((function(){return e()}))};B(H),e.exports=H},5784:function(e,t,r){"use strict";var n=r(3269).default,i=r(8447).isKeyword,o=r(7342),a=r(2396),s=r(9949),u=r(5551),c={};e.exports=c,c.createMergedNodeMap=function(e,t){var r=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),n={"@default":{}};return c.createNodeMap(e,n,"@default",r),c.mergeNodeMaps(n)},c.createNodeMap=function(e,t,r,l,f,d){if(a.isArray(e)){var p,h=n(e);try{for(h.s();!(p=h.n()).done;){var g=p.value;c.createNodeMap(g,t,r,l,void 0,d)}}catch(z){h.e(z)}finally{h.f()}}else if(a.isObject(e))if(o.isValue(e)){if("@type"in e){var v=e["@type"];0===v.indexOf("_:")&&(e["@type"]=v=l.getId(v))}d&&d.push(e)}else{if(d&&o.isList(e)){var y=[];return c.createNodeMap(e["@list"],t,r,l,f,y),void d.push({"@list":y})}if("@type"in e){var m,b=e["@type"],w=n(b);try{for(w.s();!(m=w.n()).done;){var x=m.value;0===x.indexOf("_:")&&l.getId(x)}}catch(z){w.e(z)}finally{w.f()}}a.isUndefined(f)&&(f=o.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),d&&d.push({"@id":f});var _=t[r],k=_[f]=_[f]||{};k["@id"]=f;var S,E=Object.keys(e).sort(),A=n(E);try{for(A.s();!(S=A.n()).done;){var O=S.value;if("@id"!==O)if("@reverse"!==O)if("@graph"!==O)if("@included"!==O)if("@type"!==O&&i(O)){if("@index"===O&&O in k&&(e[O]!==k[O]||e[O]["@id"]!==k[O]["@id"]))throw new u("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:k});k[O]=e[O]}else{var C=e[O];if(0===O.indexOf("_:")&&(O=l.getId(O)),0!==C.length){var P,R=n(C);try{for(R.s();!(P=R.n()).done;){var j=P.value;if("@type"===O&&(j=0===j.indexOf("_:")?l.getId(j):j),o.isSubject(j)||o.isSubjectReference(j)){if("@id"in j&&!j["@id"])continue;var I=o.isBlankNode(j)?l.getId(j["@id"]):j["@id"];s.addValue(k,O,{"@id":I},{propertyIsArray:!0,allowDuplicate:!1}),c.createNodeMap(j,t,r,l,I)}else if(o.isValue(j))s.addValue(k,O,j,{propertyIsArray:!0,allowDuplicate:!1});else if(o.isList(j)){var T=[];c.createNodeMap(j["@list"],t,r,l,f,T),j={"@list":T},s.addValue(k,O,j,{propertyIsArray:!0,allowDuplicate:!1})}else c.createNodeMap(j,t,r,l,f),s.addValue(k,O,j,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){R.e(z)}finally{R.f()}}else s.addValue(k,O,[],{propertyIsArray:!0})}else c.createNodeMap(e[O],t,r,l);else f in t||(t[f]={}),c.createNodeMap(e[O],t,f,l);else{var F={"@id":f},N=e["@reverse"];for(var D in N){var L,U=N[D],M=n(U);try{for(M.s();!(L=M.n()).done;){var B=L.value,H=B["@id"];o.isBlankNode(B)&&(H=l.getId(H)),c.createNodeMap(B,t,r,l,H),s.addValue(_[H],D,F,{propertyIsArray:!0,allowDuplicate:!1})}}catch(z){M.e(z)}finally{M.f()}}}}}catch(z){A.e(z)}finally{A.f()}}else d&&d.push(e)},c.mergeNodeMapGraphs=function(e){var t,r={},o=n(Object.keys(e).sort());try{for(o.s();!(t=o.n()).done;){var a,u=t.value,c=n(Object.keys(e[u]).sort());try{for(c.s();!(a=c.n()).done;){var l=a.value,f=e[u][l];l in r||(r[l]={"@id":l});var d,p=r[l],h=n(Object.keys(f).sort());try{for(h.s();!(d=h.n()).done;){var g=d.value;if(i(g)&&"@type"!==g)p[g]=s.clone(f[g]);else{var v,y=n(f[g]);try{for(y.s();!(v=y.n()).done;){var m=v.value;s.addValue(p,g,s.clone(m),{propertyIsArray:!0,allowDuplicate:!1})}}catch(b){y.e(b)}finally{y.f()}}}}catch(b){h.e(b)}finally{h.f()}}}catch(b){c.e(b)}finally{c.f()}}}catch(b){o.e(b)}finally{o.f()}return r},c.mergeNodeMaps=function(e){var t,r=e["@default"],i=Object.keys(e).sort(),a=n(i);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("@default"!==s){var u=e[s],c=r[s];c?"@graph"in c||(c["@graph"]=[]):r[s]=c={"@id":s,"@graph":[]};var l,f=c["@graph"],d=n(Object.keys(u).sort());try{for(d.s();!(l=d.n()).done;){var p=u[l.value];o.isSubjectReference(p)||f.push(p)}}catch(h){d.e(h)}finally{d.f()}}}}catch(h){a.e(h)}finally{a.f()}return r}},1787:function(e,t,r){"use strict";var n=r(2186),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!==typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){"undefined"===typeof globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},1501:function(e,t,r){"use strict";var n=r(3269).default,i=r(5784).createNodeMap,o=r(8447).isKeyword,a=r(7342),s=r(8835),u=r(2396),c=r(9949),l=r(5379),f=l.RDF_FIRST,d=l.RDF_REST,p=l.RDF_NIL,h=l.RDF_TYPE,g=l.RDF_JSON_LITERAL,v=l.RDF_LANGSTRING,y=l.XSD_BOOLEAN,m=l.XSD_DOUBLE,b=l.XSD_INTEGER,w=l.XSD_STRING,x=r(1991).isAbsolute,_={};function k(e,t,r,i,a){var s,u=Object.keys(t).sort(),c=n(u);try{for(c.s();!(s=c.n()).done;){var l,f=s.value,d=t[f],p=Object.keys(d).sort(),g=n(p);try{for(g.s();!(l=g.n()).done;){var v=l.value,y=d[v];if("@type"===v)v=h;else if(o(v))continue;var m,b=n(y);try{for(b.s();!(m=b.n()).done;){var w=m.value,_={termType:f.startsWith("_:")?"BlankNode":"NamedNode",value:f};if(x(f)){var k={termType:v.startsWith("_:")?"BlankNode":"NamedNode",value:v};if(x(v)&&("BlankNode"!==k.termType||a.produceGeneralizedRdf)){var E=S(w,i,e,r,a.rdfDirection);E&&e.push({subject:_,predicate:k,object:E,graph:r})}}}}catch(A){b.e(A)}finally{b.f()}}}catch(A){g.e(A)}finally{g.f()}}}catch(A){c.e(A)}finally{c.f()}}function S(e,t,r,i,o){var c={};if(a.isValue(e)){c.termType="Literal",c.value=void 0,c.datatype={termType:"NamedNode"};var l=e["@value"],h=e["@type"]||null;if("@json"===h)c.value=s(l),c.datatype.value=g;else if(u.isBoolean(l))c.value=l.toString(),c.datatype.value=h||y;else if(u.isDouble(l)||h===m)u.isDouble(l)||(l=parseFloat(l)),c.value=l.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),c.datatype.value=h||m;else if(u.isNumber(l))c.value=l.toFixed(0),c.datatype.value=h||b;else if("i18n-datatype"===o&&"@direction"in e){var _="https://www.w3.org/ns/i18n#"+(e["@language"]||"")+"_".concat(e["@direction"]);c.datatype.value=_,c.value=l}else"@language"in e?(c.value=l,c.datatype.value=h||v,c.language=e["@language"]):(c.value=l,c.datatype.value=h||w)}else if(a.isList(e)){var k=function(e,t,r,i,o){var a,s={termType:"NamedNode",value:f},u={termType:"NamedNode",value:d},c={termType:"NamedNode",value:p},l=e.pop(),h=l?{termType:"BlankNode",value:t.getId()}:c,g=h,v=n(e);try{for(v.s();!(a=v.n()).done;){var y=S(a.value,t,r,i,o),m={termType:"BlankNode",value:t.getId()};r.push({subject:g,predicate:s,object:y,graph:i}),r.push({subject:g,predicate:u,object:m,graph:i}),g=m}}catch(w){v.e(w)}finally{v.f()}if(l){var b=S(l,t,r,i,o);r.push({subject:g,predicate:s,object:b,graph:i}),r.push({subject:g,predicate:u,object:c,graph:i})}return h}(e["@list"],t,r,i,o);c.termType=k.termType,c.value=k.value}else{var E=u.isObject(e)?e["@id"]:e;c.termType=E.startsWith("_:")?"BlankNode":"NamedNode",c.value=E}return"NamedNode"!==c.termType||x(c.value)?c:null}e.exports=_,_.toRDF=function(e,t){var r=new c.IdentifierIssuer("_:b"),o={"@default":{}};i(e,o,"@default",r);var a,s=[],u=Object.keys(o).sort(),l=n(u);try{for(l.s();!(a=l.n()).done;){var f=a.value,d=void 0;if("@default"===f)d={termType:"DefaultGraph",value:""};else{if(!x(f))continue;(d=f.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=f}k(s,o[f],d,r,t)}}catch(p){l.e(p)}finally{l.f()}return s}},2396:function(e){"use strict";var t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=function(e){return"boolean"===typeof e||"[object Boolean]"===Object.prototype.toString.call(e)},t.isDouble=function(e){return t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21)},t.isEmptyObject=function(e){return t.isObject(e)&&0===Object.keys(e).length},t.isNumber=function(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)},t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isString=function(e){return"string"===typeof e||"[object String]"===Object.prototype.toString.call(e)},t.isUndefined=function(e){return"undefined"===typeof e}},1991:function(e,t,r){"use strict";var n=r(2396),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=function(e,t){for(var r={},n=i.parsers[t||"full"],o=n.regex.exec(e),a=n.keys.length;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=function(e,t){if(null===e)return t;if(i.isAbsolute(t))return t;e&&!n.isString(e)||(e=i.parse(e||""));var r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{var a=e.path;((a=a.substr(0,a.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==a.substr(-1)&&(a+="/"),a+=r.path,o.path=a}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));var s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s},i.removeBase=function(e,t){if(null===e)return t;e&&!n.isString(e)||(e=i.parse(e||""));var r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;for(var o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;a.length>0&&s.length>u&&a[0]===s[0];)a.shift(),s.shift();var c="";if(a.length>0){a.pop();for(var l=0;l<a.length;++l)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=function(e){if(0===e.length)return"";for(var t=e.split("/"),r=[];t.length>0;){var n=t.shift(),i=0===t.length;"."!==n?".."!==n?r.push(n):(r.pop(),i&&r.push("")):i&&r.push("")}return"/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")};var o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=function(e){return n.isString(e)&&o.test(e)},i.isRelative=function(e){return n.isString(e)}},9949:function(e,t,r){"use strict";var n=r(3038).default,i=r(3269).default,o=r(7342),a=r(2396),s=r(1061).IdentifierIssuer,u=r(5551),c=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,f=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,d={accept:"application/ld+json, application/json"},p={};function h(e,t){if(a.isArray(t))for(var r=0;r<t.length;++r)t[r]=h(e,t[r]);else if(o.isList(t))t["@list"]=h(e,t["@list"]);else if(a.isObject(t)){o.isBlankNode(t)&&(t["@id"]=e.getId(t["@id"]));for(var n=Object.keys(t).sort(),i=0;i<n.length;++i){var s=n[i];"@id"!==s&&(t[s]=h(e,t[s]))}}return t}e.exports=p,p.IdentifierIssuer=s,p.clone=function(e){if(e&&"object"===typeof e){var t;if(a.isArray(e)){t=[];for(var r=0;r<e.length;++r)t[r]=p.clone(e[r])}else if(e instanceof Map){t=new Map;var o,s=i(e);try{for(s.s();!(o=s.n()).done;){var u=n(o.value,2),c=u[0],l=u[1];t.set(c,p.clone(l))}}catch(v){s.e(v)}finally{s.f()}}else if(e instanceof Set){t=new Set;var f,d=i(e);try{for(d.s();!(f=d.n()).done;){var h=f.value;t.add(p.clone(h))}}catch(v){d.e(v)}finally{d.f()}}else if(a.isObject(e))for(var g in t={},e)t[g]=p.clone(e[g]);else t=e.toString();return t}return e},p.asArray=function(e){return Array.isArray(e)?e:[e]},p.buildHeaders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).some((function(e){return"accept"===e.toLowerCase()}));if(t)throw new RangeError('Accept header may not be specified; only "'+d.accept+'" is supported.');return Object.assign({Accept:d.accept},e)},p.parseLinkHeader=function(e){for(var t={},r=e.match(c),n=0;n<r.length;++n){var i=r[n].match(l);if(i){for(var o={target:i[1]},a=i[2];i=f.exec(a);)o[i[1]]=void 0===i[2]?i[3]:i[2];var s=o.rel||"";Array.isArray(t[s])?t[s].push(o):t.hasOwnProperty(s)?t[s]=[t[s],o]:t[s]=o}}return t},p.validateTypeValue=function(e,t){if(!a.isString(e)&&(!a.isArray(e)||!e.every((function(e){return a.isString(e)})))){if(t&&a.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&p.asArray(e["@default"]).every((function(e){return a.isString(e)})))return}throw new u('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},p.hasProperty=function(e,t){if(e.hasOwnProperty(t)){var r=e[t];return!a.isArray(r)||r.length>0}return!1},p.hasValue=function(e,t,r){if(p.hasProperty(e,t)){var n=e[t],i=o.isList(n);if(a.isArray(n)||i){i&&(n=n["@list"]);for(var s=0;s<n.length;++s)if(p.compareValues(r,n[s]))return!0}else if(!a.isArray(r))return p.compareValues(r,n)}return!1},p.addValue=function(e,t,r,n){if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(a.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(var i=0;i<r.length;++i)p.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){var o=!n.allowDuplicate&&p.hasValue(e,t,r);a.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},p.getValues=function(e,t){return[].concat(e[t]||[])},p.removeProperty=function(e,t){delete e[t]},p.removeValue=function(e,t,r,n){"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);var i=p.getValues(e,t).filter((function(e){return!p.compareValues(e,r)}));0===i.length?p.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},p.relabelBlankNodes=function(e,t){return h((t=t||{}).issuer||new s("_:b"),e)},p.compareValues=function(e,t){return e===t||(!(!o.isValue(e)||!o.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])},p.compareShortestLeast=function(e,t){return e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1}},1612:function(e,t,r){"use strict";var n=r(4575).default,i=r(3913).default,o=r(6518),a=Symbol("max"),s=Symbol("length"),u=Symbol("lengthCalculator"),c=Symbol("allowStale"),l=Symbol("maxAge"),f=Symbol("dispose"),d=Symbol("noDisposeOnSet"),p=Symbol("lruList"),h=Symbol("cache"),g=Symbol("updateAgeOnGet"),v=function(){return 1},y=function(){function e(t){if(n(this,e),"number"===typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!==typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[a]=t.max||1/0;var r=t.length||v;if(this[u]="function"!==typeof r?v:r,this[c]=t.stale||!1,t.maxAge&&"number"!==typeof t.maxAge)throw new TypeError("maxAge must be a number");this[l]=t.maxAge||0,this[f]=t.dispose,this[d]=t.noDisposeOnSet||!1,this[g]=t.updateAgeOnGet||!1,this.reset()}return i(e,[{key:"max",get:function(){return this[a]},set:function(e){if("number"!==typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,w(this)}},{key:"allowStale",get:function(){return this[c]},set:function(e){this[c]=!!e}},{key:"maxAge",get:function(){return this[l]},set:function(e){if("number"!==typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,w(this)}},{key:"lengthCalculator",get:function(){return this[u]},set:function(e){var t=this;"function"!==typeof e&&(e=v),e!==this[u]&&(this[u]=e,this[s]=0,this[p].forEach((function(e){e.length=t[u](e.value,e.key),t[s]+=e.length}))),w(this)}},{key:"length",get:function(){return this[s]}},{key:"itemCount",get:function(){return this[p].length}},{key:"rforEach",value:function(e,t){t=t||this;for(var r=this[p].tail;null!==r;){var n=r.prev;k(this,e,r,t),r=n}}},{key:"forEach",value:function(e,t){t=t||this;for(var r=this[p].head;null!==r;){var n=r.next;k(this,e,r,t),r=n}}},{key:"keys",value:function(){return this[p].toArray().map((function(e){return e.key}))}},{key:"values",value:function(){return this[p].toArray().map((function(e){return e.value}))}},{key:"reset",value:function(){var e=this;this[f]&&this[p]&&this[p].length&&this[p].forEach((function(t){return e[f](t.key,t.value)})),this[h]=new Map,this[p]=new o,this[s]=0}},{key:"dump",value:function(){var e=this;return this[p].map((function(t){return!b(e,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}})).toArray().filter((function(e){return e}))}},{key:"dumpLru",value:function(){return this[p]}},{key:"set",value:function(e,t,r){if((r=r||this[l])&&"number"!==typeof r)throw new TypeError("maxAge must be a number");var n=r?Date.now():0,i=this[u](t,e);if(this[h].has(e)){if(i>this[a])return x(this,this[h].get(e)),!1;var o=this[h].get(e).value;return this[f]&&(this[d]||this[f](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[s]+=i-o.length,o.length=i,this.get(e),w(this),!0}var c=new _(e,t,i,n,r);return c.length>this[a]?(this[f]&&this[f](e,t),!1):(this[s]+=c.length,this[p].unshift(c),this[h].set(e,this[p].head),w(this),!0)}},{key:"has",value:function(e){if(!this[h].has(e))return!1;var t=this[h].get(e).value;return!b(this,t)}},{key:"get",value:function(e){return m(this,e,!0)}},{key:"peek",value:function(e){return m(this,e,!1)}},{key:"pop",value:function(){var e=this[p].tail;return e?(x(this,e),e.value):null}},{key:"del",value:function(e){x(this,this[h].get(e))}},{key:"load",value:function(e){this.reset();for(var t=Date.now(),r=e.length-1;r>=0;r--){var n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{var o=i-t;o>0&&this.set(n.k,n.v,o)}}}},{key:"prune",value:function(){var e=this;this[h].forEach((function(t,r){return m(e,r,!1)}))}}]),e}(),m=function(e,t,r){var n=e[h].get(t);if(n){var i=n.value;if(b(e,i)){if(x(e,n),!e[c])return}else r&&(e[g]&&(n.value.now=Date.now()),e[p].unshiftNode(n));return i.value}},b=function(e,t){if(!t||!t.maxAge&&!e[l])return!1;var r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},w=function(e){if(e[s]>e[a])for(var t=e[p].tail;e[s]>e[a]&&null!==t;){var r=t.prev;x(e,t),t=r}},x=function(e,t){if(t){var r=t.value;e[f]&&e[f](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[p].removeNode(t)}},_=i((function e(t,r,i,o,a){n(this,e),this.key=t,this.value=r,this.length=i,this.now=o,this.maxAge=a||0})),k=function(e,t,r,n){var i=r.value;b(e,i)&&(x(e,r),e[c]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=y},1208:function(e,t,r){"use strict";r.r(t),r.d(t,{BlankNode:function(){return z},DataFactory:function(){return U},DefaultGraph:function(){return W},Lexer:function(){return m},Literal:function(){return H},NamedNode:function(){return B},Parser:function(){return Y},Quad:function(){return J},Store:function(){return ve},StreamParser:function(){return be},StreamWriter:function(){return we},Term:function(){return M},Triple:function(){return J},Util:function(){return n},Variable:function(){return K},Writer:function(){return ue},termFromId:function(){return V},termToId:function(){return q}});var n={};r.r(n),r.d(n,{inDefaultGraph:function(){return C},isBlankNode:function(){return S},isDefaultGraph:function(){return O},isLiteral:function(){return E},isNamedNode:function(){return k},isVariable:function(){return A},prefix:function(){return P},prefixes:function(){return R}});var i=r(5671),o=r(3144),a="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s="http://www.w3.org/2001/XMLSchema#",u="http://www.w3.org/2000/10/swap/",c={xsd:{decimal:"".concat(s,"decimal"),boolean:"".concat(s,"boolean"),double:"".concat(s,"double"),integer:"".concat(s,"integer"),string:"".concat(s,"string")},rdf:{type:"".concat(a,"type"),nil:"".concat(a,"nil"),first:"".concat(a,"first"),rest:"".concat(a,"rest"),langString:"".concat(a,"langString")},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:"".concat(u,"reify#forSome"),forAll:"".concat(u,"reify#forAll")},log:{implies:"".concat(u,"log#implies")}},l=r(7235),f=r.n(l),d=c.xsd,p=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,h={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},g=/[\x00-\x20<>\\"\{\}\|\^\`]/,v={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},y=/$0^/,m=function(){function e(t){if((0,i.Z)(this,e),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode)for(var r in this._n3Mode=!1,this)!(r in v)&&this[r]instanceof RegExp&&(this[r]=y);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}return(0,o.Z)(e,[{key:"_tokenizeToEnd",value:function(e,t){for(var r=this._input,n=this._comments;;){for(var i=void 0,o=void 0;i=this._newline.exec(r);)n&&(o=this._comment.exec(i[0]))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),r=r.substr(i[0].length,r.length),this._line++;if(!i&&(i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(o=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var a=this._line,s=r[0],u="",c="",l="",f=null,p=0,h=!1;switch(s){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(p=1,u="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){h=!0;break}case"<":if(f=this._unescapedIri.exec(r))u="IRI",c=f[1];else if(f=this._iri.exec(r)){if(null===(c=this._unescape(f[1]))||g.test(c))return b(this);u="IRI"}else r.length>1&&"<"===r[1]?(u="<<",p=2):this._n3Mode&&r.length>1&&"="===r[1]&&(u="inverse",p=2,c=">");break;case">":r.length>1&&">"===r[1]&&(u=">>",p=2);break;case"_":((f=this._blank.exec(r))||t&&(f=this._blank.exec("".concat(r," "))))&&(u="blank",l="_",c=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(r))c=f[1];else{var v=this._parseLiteral(r);if(c=v.value,p=v.matchLength,null===c)return b(this)}null===f&&0===p||(u="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(r))c=f[1];else{var y=this._parseLiteral(r);if(c=y.value,p=y.matchLength,null===c)return b(this)}null===f&&0===p||(u="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(r))&&(u="var",c=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(r))?(u="langcode",c=f[1]):(f=this._keyword.exec(r))&&(u=f[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){u=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(r)||t&&(f=this._number.exec("".concat(r," "))))&&(u="literal",c=f[0],l="string"===typeof f[1]?d.double:"string"===typeof f[2]?d.decimal:d.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(r))?u=f[0].toUpperCase():h=!0;break;case"f":case"t":(f=this._boolean.exec(r))?(u="literal",c=f[0],l=d.boolean):h=!0;break;case"a":(f=this._shortPredicates.exec(r))?(u="abbreviation",c="a"):h=!0;break;case"=":this._n3Mode&&r.length>1&&(u="abbreviation",">"!==r[1]?(p=1,c="="):(p=2,c=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,u=s);break;default:h=!0}if(h&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(r))?((f=this._prefixed.exec(r))||t&&(f=this._prefixed.exec("".concat(r," "))))&&(u="prefixed",l=f[1]||"",c=this._unescape(f[2])):(u="prefix",c=f[1]||"")),"^^"===this._previousMarker)switch(u){case"prefixed":u="type";break;case"IRI":u="typeIRI";break;default:u=""}if(!u)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?b(this):this._input=r;var m={line:a,type:u,value:c,prefix:l};e(null,m),this.previousToken=m,this._previousMarker=u,r=r.substr(p||f[0].length,r.length)}function b(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}},{key:"_unescape",value:function(e){var t=!1,r=e.replace(p,(function(e,r,n,i){if("string"===typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"===typeof n){var o=Number.parseInt(n,16);return o<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((o-=65536)>>10),56320+(1023&o))}return i in h?h[i]:(t=!0,"")}));return t?null:r}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length,n=Math.max(this._literalClosingPos,r);(n=e.indexOf(t,n))>0;){for(var i=0;"\\"===e[n-i-1];)i++;if(i%2===0){var o=e.substring(r,n),a=o.split(/\r\n|\r|\n/).length-1,s=n+r;if(1===r&&0!==a||3===r&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:s}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'.concat(e,'" on line ').concat(this._line,"."));return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"_readStartingBom",value:function(e){return e.startsWith("\ufeff")?e.substr(1):e}},{key:"tokenize",value:function(e,t){var r=this;if(this._line=1,"string"===typeof e){if(this._input=this._readStartingBom(e),"function"!==typeof t){var n,i=[];if(this._tokenizeToEnd((function(e,t){return e?n=e:i.push(t)}),!0),n)throw n;return i}f()((function(){return r._tokenizeToEnd(t,!0)}))}else this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==r._input&&0!==e.length&&(r._pendingBuffer&&(e=Buffer.concat([r._pendingBuffer,e]),r._pendingBuffer=null),128&e[e.length-1]?r._pendingBuffer=e:("undefined"===typeof r._input?r._input=r._readStartingBom("string"===typeof e?e:e.toString()):r._input+=e,r._tokenizeToEnd(t,!1)))})),e.on("end",(function(){"string"===typeof r._input&&r._tokenizeToEnd(t,!0)})),e.on("error",t)}}]),e}(),b=r(6215),w=r(7326),x=r(136),_=r(9388);function k(e){return!!e&&"NamedNode"===e.termType}function S(e){return!!e&&"BlankNode"===e.termType}function E(e){return!!e&&"Literal"===e.termType}function A(e){return!!e&&"Variable"===e.termType}function O(e){return!!e&&"DefaultGraph"===e.termType}function C(e){return O(e.graph)}function P(e,t){return R({"":e},t)("")}function R(e,t){var r=Object.create(null);for(var n in e)i(n,e[n]);function i(e,n){if("string"===typeof n){var i=Object.create(null);r[e]=function(e){return i[e]||(i[e]=t.namedNode(n+e))}}else if(!(e in r))throw new Error("Unknown prefix: ".concat(e));return r[e]}return t=t||U,i}var j,I=c.rdf,T=c.xsd,F=0,N=/^"(.*".*)(?="[^"]*$)/,D=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,L={namedNode:function(e){return new B(e)},blankNode:function(e){return new z(e||"n3-".concat(F++))},variable:function(e){return new K(e)},literal:function(e,t){if("string"===typeof t)return new H('"'.concat(e,'"@').concat(t.toLowerCase()));var r=t?t.value:"";""===r&&("boolean"===typeof e?r=T.boolean:"number"===typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?T.integer:T.double:(r=T.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===r||r===T.string?new H('"'.concat(e,'"')):new H('"'.concat(e,'"^^').concat(r))},defaultGraph:function(){return j},quad:Q,triple:Q},U=L,M=function(){function e(t){(0,i.Z)(this,e),this.id=t}return(0,o.Z)(e,[{key:"value",get:function(){return this.id}},{key:"hashCode",get:function(){return 0}},{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}}]),e}(),B=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"termType",get:function(){return"NamedNode"}}]),r}(M),H=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new B(this.datatypeString)}},{key:"datatypeString",get:function(){var e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?T.string:I.langString}},{key:"equals",value:function(e){return e instanceof r?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}]),r}(M),z=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(e){return(0,i.Z)(this,r),t.call(this,"_:".concat(e))}return(0,o.Z)(r,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),r}(M),K=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(e){return(0,i.Z)(this,r),t.call(this,"?".concat(e))}return(0,o.Z)(r,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),r}(M),W=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(){var e;return(0,i.Z)(this,r),e=t.call(this,""),(0,b.Z)(e,j||(0,w.Z)(e))}return(0,o.Z)(r,[{key:"termType",get:function(){return"DefaultGraph"}},{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}}]),r}(M);function V(e,t){if(t=t||L,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===L)return new H(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),"@"===e[r+1]?e.substr(r+2):t.namedNode(e.substr(r+3)));case"<":var n=D.exec(e);return t.quad(V(G(n[1]),t),V(G(n[2]),t),V(G(n[3]),t),n[4]&&V(G(n[4]),t));default:return t.namedNode(e)}}function q(e){if("string"===typeof e)return e;if(e instanceof M&&"Quad"!==e.termType)return e.id;if(!e)return j.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return'"'.concat(e.value,'"').concat(e.language?"@".concat(e.language):e.datatype&&e.datatype.value!==T.string?"^^".concat(e.datatype.value):"");case"Quad":return"<<".concat(Z(q(e.subject))," ").concat(Z(q(e.predicate))," ").concat(Z(q(e.object))).concat(O(e.graph)?"":" ".concat(q(e.graph)),">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}j=new W;var J=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(e,n,o,a){var s;return(0,i.Z)(this,r),(s=t.call(this,""))._subject=e,s._predicate=n,s._object=o,s._graph=a||j,s}return(0,o.Z)(r,[{key:"termType",get:function(){return"Quad"}},{key:"subject",get:function(){return this._subject}},{key:"predicate",get:function(){return this._predicate}},{key:"object",get:function(){return this._object}},{key:"graph",get:function(){return this._graph}},{key:"toJSON",value:function(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}]),r}(M);function Z(e){return e.replace(N,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}function G(e){return e.replace(N,(function(e,t){return'"'.concat(t.replace(/""/g,'"'))}))}function Q(e,t,r,n){return new J(e,t,r,n)}var $=0,Y=function(){function e(t){(0,i.Z)(this,e),this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&ee(this,t.factory);var r="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",n=/turtle/.test(r),o=/trig/.test(r),a=/triple/.test(r),s=/quad/.test(r),u=this._n3Mode=/n3/.test(r),c=a||s;(this._supportsNamedGraphs=!(n||u))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(n||o||a||u),this._supportsRDFStar=""===r||/star|\*$/.test(r),c&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new m({lineMode:c,n3:u}),this._explicitQuantifiers=!!t.explicitQuantifiers}return(0,o.Z)(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?"".concat(this._graph.id.substr(2),"."):".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var r;switch(e.type){case"IRI":case"typeIRI":var n=this._resolveIRI(e.value);if(null===n)return this._error("Invalid IRI",e);r=this._namedNode(n);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'.concat(e.prefix,':"'),e);r=this._namedNode(i+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got ".concat(e.type),e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected ".concat(t),e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got ".concat(e.type),e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,r=null,n=this._readListItem,i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._blankNode()),null===i?null===a.predicate?a.subject=r:a.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var r=this._readEntity(e);if(void 0===r)return;t=this._literal(this._literalValue,r),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,r=this._graph,n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}if(null!==n){var o=this._predicate,a=this._object;i?this._emit(a,o,n,r):this._emit(n,o,a,r)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'.concat(this._prefix,':"'),e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected ".concat(e.type),e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,r,n=this._blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,r,n=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._emit(n,t,r,this._graph),this._readPath}},{key:"_readRDFStarTailOrGraph",value:function(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'.concat(this._object.id,'"'),e):this._readRDFStarTail(e)}},{key:"_readRDFStarTail",value:function(e){if(">>"!==e.type)return this._error("Expected >> but got ".concat(e.type),e);var t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}},{key:"_emit",value:function(e,t,r,n){this._callback(null,this._quad(e,t,r,n||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var r=new Error("".concat(e," on line ").concat(t.line,"."));r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=X}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t=e.length,r="",n=-1,i=-1,o=0,a="/";n<t;){switch(a){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<t&&"/"!==e[i];)n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(a=e[1+ ++n]){case"/":r+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return r+e.substring(o,n)+e.substr(n+1);case".":if(void 0===(a=e[1+ ++n])||"/"===a||"?"===a||"#"===a){if((o=(r+=e.substring(o,n-2)).lastIndexOf("/"))>=i&&(r=r.substr(0,o)),"/"!==a)return"".concat(r,"/").concat(e.substr(n+1));o=n+1}}}a=e[++n]}return r+e.substring(o)}},{key:"parse",value:function(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b".concat($++,"_"),this._prefixCallback=r||X,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every((function(e){return n._readCallback=n._readCallback(e)})),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(n._callback(e),n._callback=X):n._readCallback&&(n._readCallback=n._readCallback(t))}))}}],[{key:"_resetBlankNodePrefix",value:function(){$=0}}]),e}();function X(){}function ee(e,t){var r=t.namedNode;e._namedNode=r,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=r(c.rdf.first),e.RDF_REST=r(c.rdf.rest),e.RDF_NIL=r(c.rdf.nil),e.N3_FORALL=r(c.r.forAll),e.N3_FORSOME=r(c.r.forSome),e.ABBREVIATIONS={a:r(c.rdf.type),"=":r(c.owl.sameAs),">":r(c.log.implies)},e.QUANTIFIERS_GRAPH=r("urn:n3:quantifiers")}ee(Y.prototype,U);var te=U.defaultGraph(),re=c.rdf,ne=c.xsd,ie=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,oe=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ae={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},se=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(){return(0,i.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"equals",value:function(){return!1}}]),r}(M),ue=function(){function e(t,r){if((0,i.Z)(this,e),this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(r=t,t=null),r=r||{},this._lists=r.lists,t)this._outputStream=t,this._endStream=void 0===r.end||!!r.end;else{var n="";this._outputStream={write:function(e,t,r){n+=e,r&&r()},end:function(e){e&&e(null,n)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(r.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=te,this._prefixIRIs=Object.create(null),r.prefixes&&this.addPrefixes(r.prefixes),r.baseIRI&&(this._baseMatcher=new RegExp("^".concat(le(r.baseIRI)).concat(r.baseIRI.endsWith("/")?"":"[#?]")),this._baseLength=r.baseIRI.length))}return(0,o.Z)(e,[{key:"_inDefaultGraph",get:function(){return te.equals(this._graph)}},{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(te.equals(n)?"":"".concat(this._encodeIriOrBlank(n)," {\n"))),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", ".concat(this._encodeObject(r)),i):this._write(";\n    ".concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(r)),i):this._write("".concat((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)," ").concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(r)),i)}catch(o){i&&i(o)}}},{key:"_writeQuadLine",value:function(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}},{key:"quadToString",value:function(e,t,r,n){return"".concat(this._encodeSubject(e)," ").concat(this._encodeIriOrBlank(t)," ").concat(this._encodeObject(r)).concat(n&&n.value?" ".concat(this._encodeIriOrBlank(n)," .\n"):" .\n")}},{key:"quadsToString",value:function(e){var t=this;return e.map((function(e){return t.quadToString(e.subject,e.predicate,e.object,e.graph)})).join("")}},{key:"_encodeSubject",value:function(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:".concat(e.value);var t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),ie.test(t)&&(t=t.replace(oe,ce));var r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<".concat(t,">")}},{key:"_encodeLiteral",value:function(e){var t=e.value;if(ie.test(t)&&(t=t.replace(oe,ce)),e.language)return'"'.concat(t,'"@').concat(e.language);if(this._lineMode){if(e.datatype.value===ne.string)return'"'.concat(t,'"')}else switch(e.datatype.value){case ne.string:return'"'.concat(t,'"');case ne.boolean:if("true"===t||"false"===t)return t;break;case ne.integer:if(/^[+-]?\d+$/.test(t))return t;break;case ne.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case ne.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return'"'.concat(t,'"^^').concat(this._encodeIriOrBlank(e.datatype))}},{key:"_encodePredicate",value:function(e){return e.value===re.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}},{key:"_encodeQuad",value:function(e){var t=e.subject,r=e.predicate,n=e.object,i=e.graph;return"<<".concat(this._encodeSubject(t)," ").concat(this._encodePredicate(r)," ").concat(this._encodeObject(n)).concat(O(i)?"":" ".concat(this._encodeIriOrBlank(i)),">>")}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof n?this._writeQuad(e,t,r,te,n):this._writeQuad(e,t,r,n||te,i)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)}},{key:"addPrefixes",value:function(e,t){if(!this._prefixIRIs)return t&&t();var r=!1;for(var n in e){var i=e[n];"string"!==typeof i&&(i=i.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[i]=n+=":",this._write("@prefix ".concat(n," <").concat(i,">.\n"))}if(r){var o="",a="";for(var s in this._prefixIRIs)o+=o?"|".concat(s):s,a+=(a?"|":"")+this._prefixIRIs[s];o=le(o),this._prefixRegex=new RegExp("^(?:".concat(a,")[^/]*$|")+"^(".concat(o,")([a-zA-Z][\\-_a-zA-Z0-9]*)$"))}this._write(r?"\n":"",t)}},{key:"blank",value:function(e,t){var r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new se("[]");case 1:if(!((r=i[0]).object instanceof se))return new se("[ ".concat(this._encodePredicate(r.predicate)," ").concat(this._encodeObject(r.object)," ]"));default:for(var o="[",a=0;a<n;a++)(r=i[a]).predicate.equals(e)?o+=", ".concat(this._encodeObject(r.object)):(o+="".concat((a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)," ").concat(this._encodeObject(r.object)),e=r.predicate);return new se("".concat(o,"\n]"))}}},{key:"list",value:function(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new se("(".concat(r.join(" "),")"))}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}}]),e}();function ce(e){var t=ae[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function le(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var fe=r(2982),de=r(7762),pe=r(7757),he=r.n(pe),ge=r(6484),ve=function(e){function t(e,r){(0,i.Z)(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,r||!e||e[0]||(r=e,e=null),r=r||{},this._factory=r.factory||U,e&&this.addQuads(e)}return(0,o.Z)(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var a in r=t[o])e+=Object.keys(r[a]).length;return this._size=e}},{key:"_addToIndex",value:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),a=n in o;return a||(o[n]=null),!a}},{key:"_removeFromIndex",value:function(e,t,r,n){var i=e[t],o=i[r];for(var a in delete o[n],o)return;for(var s in delete i[r],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,r,n,i,o,a,s,u,c){var l,f,d,p=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var h in t&&((l=e,e={})[t]=l[t]),e){var g=p[h];if(f=e[h])for(var v in r&&((l=f,f={})[r]=l[r]),f){var y=p[v];if(d=f[v])for(var m=(n?n in d?[n]:[]:Object.keys(d)),b=0;b<m.length;b++){var w={subject:null,predicate:null,object:null};w[i]=V(g,this._factory),w[o]=V(y,this._factory),w[a]=V(p[m[b]],this._factory);var x=this._factory.quad(w.subject,w.predicate,w.object,V(s,this._factory));if(c)c.push(x);else if(u(x))return!0}}}return c}},{key:"_loop",value:function(e,t){for(var r in e)t(r)}},{key:"_loopByKey0",value:function(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)}},{key:"_loopByKey1",value:function(e,t,r){var n;for(n in e)e[n][t]&&r(n)}},{key:"_loopBy2Keys",value:function(e,t,r,n){var i,o,a;if((i=e[t])&&(o=i[r]))for(a in o)n(a)}},{key:"_countInIndex",value:function(e,t,r,n){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in r&&((i=o,o={})[r]=i[r]),o)(a=o[c])&&(n?n in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){if(!ye(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=this,r=Object.create(null);return function(n){n in r||(r[n]=!0,e(V(t._entities[n],t._factory)))}}},{key:"add",value:function(e){return this.addQuad(e),this}},{key:"addQuad",value:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=q(e),t=q(t),r=q(r),n=q(n);var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),t=o[t]||(o[a[++this._id]=t]=this._id),r=o[r]||(o[a[++this._id]=r]=this._id);var s=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,s}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"delete",value:function(e){return this.removeQuad(e),this}},{key:"has",value:function(e){return 0!==this.getQuads(e.subject,e.predicate,e.object,e.graph).length}},{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}},{key:"removeQuad",value:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),e=q(e),t=q(t),r=q(r),n=q(n);var i,o,a,s=this._ids,u=this._graphs;if(!(e=s[e])||!(t=s[t])||!(r=s[r])||!(i=u[n])||!(o=i.subjects[e])||!(a=o[t])||!(r in a))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}},{key:"removeMatches",value:function(e,t,r,n){var i=this,o=new ge.Readable({objectMode:!0});return o._read=function(){var a,s=(0,de.Z)(i.getQuads(e,t,r,n));try{for(s.s();!(a=s.n()).done;){var u=a.value;o.push(u)}}catch(c){s.e(c)}finally{s.f()}o.push(null)},this.remove(o)}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,r,n){e=e&&q(e),t=t&&q(t),r=r&&q(r),n=n&&q(n);var i,o,a,s,u=[],c=this._getGraphs(n),l=this._ids;if(ye(e)&&!(o=l[e])||ye(t)&&!(a=l[t])||ye(r)&&!(s=l[r]))return u;for(var f in c)(i=c[f])&&(o?s?this._findInIndex(i.objects,s,o,a,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",f,null,u):a?this._findInIndex(i.predicates,a,s,null,"predicate","object","subject",f,null,u):s?this._findInIndex(i.objects,s,null,null,"object","subject","predicate",f,null,u):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",f,null,u));return u}},{key:"match",value:function(e,t,r,n){return new me(this,e,t,r,n)}},{key:"countQuads",value:function(e,t,r,n){e=e&&q(e),t=t&&q(t),r=r&&q(r),n=n&&q(n);var i,o,a,s,u=this._getGraphs(n),c=this._ids,l=0;if(ye(e)&&!(o=c[e])||ye(t)&&!(a=c[t])||ye(r)&&!(s=c[r]))return 0;for(var f in u)(i=u[f])&&(l+=e?r?this._countInIndex(i.objects,s,o,a):this._countInIndex(i.subjects,o,a,s):t?this._countInIndex(i.predicates,a,s,o):this._countInIndex(i.objects,s,o,a));return l}},{key:"forEach",value:function(e,t,r,n,i){this.some((function(t){return e(t),!1}),t,r,n,i)}},{key:"every",value:function(e,t,r,n,i){var o=!1,a=!this.some((function(t){return o=!0,!e(t)}),t,r,n,i);return o&&a}},{key:"some",value:function(e,t,r,n,i){t=t&&q(t),r=r&&q(r),n=n&&q(n),i=i&&q(i);var o,a,s,u,c=this._getGraphs(i),l=this._ids;if(ye(t)&&!(a=l[t])||ye(r)&&!(s=l[r])||ye(n)&&!(u=l[n]))return!1;for(var f in c)if(o=c[f])if(a){if(u){if(this._findInIndex(o.objects,u,a,s,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(o.subjects,a,s,null,"subject","predicate","object",f,e,null))return!0}else if(s){if(this._findInIndex(o.predicates,s,u,null,"predicate","object","subject",f,e,null))return!0}else if(u){if(this._findInIndex(o.objects,u,null,null,"object","subject","predicate",f,e,null))return!0}else if(this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",f,e,null))return!0;return!1}},{key:"getSubjects",value:function(e,t,r){var n=[];return this.forSubjects((function(e){n.push(e)}),e,t,r),n}},{key:"forSubjects",value:function(e,t,r,n){t=t&&q(t),r=r&&q(r),n=n&&q(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ye(t)&&!(o=s[t])||ye(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.predicates,o,a,e):this._loopByKey1(i.subjects,o,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))}},{key:"getPredicates",value:function(e,t,r){var n=[];return this.forPredicates((function(e){n.push(e)}),e,t,r),n}},{key:"forPredicates",value:function(e,t,r,n){t=t&&q(t),r=r&&q(r),n=n&&q(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ye(t)&&!(o=s[t])||ye(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.objects,a,o,e):this._loopByKey0(i.subjects,o,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))}},{key:"getObjects",value:function(e,t,r){var n=[];return this.forObjects((function(e){n.push(e)}),e,t,r),n}},{key:"forObjects",value:function(e,t,r,n){t=t&&q(t),r=r&&q(r),n=n&&q(n);var i,o,a,s=this._ids,u=this._getGraphs(n);if(e=this._uniqueEntities(e),!(ye(t)&&!(o=s[t])||ye(r)&&!(a=s[r])))for(n in u)(i=u[n])&&(o?a?this._loopBy2Keys(i.subjects,o,a,e):this._loopByKey1(i.objects,o,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))}},{key:"getGraphs",value:function(e,t,r){var n=[];return this.forGraphs((function(e){n.push(e)}),e,t,r),n}},{key:"forGraphs",value:function(e,t,r,n){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,r,n,i)}},{key:"createBlankNode",value:function(e){var t,r;if(e)for(t=e="_:".concat(e),r=1;this._ids[t];)t=e+r++;else do{t="_:b".concat(this._blankNodeIndex++)}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.remove,n=void 0!==r&&r,i=t.ignoreErrors,o=void 0!==i&&i,a={},s=o?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},u=this.getQuads(null,c.rdf.rest,c.rdf.nil,null),l=n?(0,fe.Z)(u):[];return u.forEach((function(t){for(var r,i,o=[],u=!1,f=t.graph,d=t.subject;d&&!u;){for(var p=e.getQuads(null,null,d,null),h=e.getQuads(d,null,null,null),g=void 0,v=null,y=null,m=null,b=0;b<h.length&&!u;b++)(g=h[b]).graph.equals(f)?r?u=s(d,"has non-list arcs out"):g.predicate.value===c.rdf.first?v?u=s(d,"has multiple rdf:first arcs"):l.push(v=g):g.predicate.value===c.rdf.rest?y?u=s(d,"has multiple rdf:rest arcs"):l.push(y=g):p.length?u=s(d,"can't be subject and object"):(r=g,i="subject"):u=s(d,"not confined to single graph");for(var w=0;w<p.length&&!u;++w)g=p[w],r?u=s(d,"can't have coreferences"):g.predicate.value===c.rdf.rest?m?u=s(d,"has incoming rdf:rest arcs"):m=g:(r=g,i="object");v?o.unshift(v.object):u=s(d,"has no list head"),d=m&&m.subject}u?n=!1:r&&(a[r[i].value]=o)})),n&&this.removeQuads(l),a}},{key:e,value:he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.getQuads(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);function ye(e){return"string"===typeof e||e instanceof String}var me=function(e,t){(0,x.Z)(n,e);var r=(0,_.Z)(n);function n(e,t,o,a,s){var u;return(0,i.Z)(this,n),u=r.call(this,{objectMode:!0}),Object.assign((0,w.Z)(u),{n3Store:e,subject:t,predicate:o,object:a,graph:s}),u}return(0,o.Z)(n,[{key:"filtered",get:function(){if(!this._filtered){var e=this.n3Store,t=this.graph,r=this.object,n=this.predicate,i=this.subject,o=e.getQuads(i,n,r,t);this._filtered=new ve(o,{factory:e._factory})}return this._filtered}},{key:"size",get:function(){return this.filtered.size}},{key:"_read",value:function(){var e,t=(0,de.Z)(this.filtered.getQuads());try{for(t.s();!(e=t.n()).done;){var r=e.value;this.push(r)}}catch(n){t.e(n)}finally{t.f()}this.push(null)}},{key:"add",value:function(e){return this.filtered.add(e)}},{key:"delete",value:function(e){return this.filtered.delete(e)}},{key:"has",value:function(e){return this.filtered.has(e)}},{key:"match",value:function(e,t,r,i){return new n(this.filtered,e,t,r,i)}},{key:t,value:he().mark((function e(){return he().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.filtered.getQuads(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),n}(ge.Readable,Symbol.iterator),be=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(e){var n,o,a;return(0,i.Z)(this,r),(n=t.call(this,{decodeStrings:!0}))._readableState.objectMode=!0,new Y(e).parse({on:function(e,t){switch(e){case"data":o=t;break;case"end":a=t}}},(function(e,t){e&&n.emit("error",e)||t&&n.push(t)}),(function(e,t){n.emit("prefix",e,t)})),n._transform=function(e,t,r){o(e),r()},n._flush=function(e){a(),e()},n}return(0,o.Z)(r,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}]),r}(ge.Transform),we=function(e){(0,x.Z)(r,e);var t=(0,_.Z)(r);function r(e){var n;(0,i.Z)(this,r);var o=(n=t.call(this,{encoding:"utf8",writableObjectMode:!0}))._writer=new ue({write:function(e,t,r){n.push(e),r&&r()},end:function(e){n.push(null),e&&e()}},e);return n._transform=function(e,t,r){o.addQuad(e,r)},n._flush=function(e){o.end(e)},n}return(0,o.Z)(r,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,r){t._writer.addPrefix(e,r)})),this}}]),r}(ge.Transform)},1982:function(e){"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))r.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)n.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},9575:function(e){var t;t=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=22)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];o.error.apply(o,Array.from(t))}},n(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},n(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(a(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new r(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var r=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},r,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(r){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===r[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return r[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},n(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(s)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=s))),this._metadataUrl}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var n=r(0),i=r(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,r){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(r)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=r.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},u=/([^&=]+)=([^&]*)/g,c=0;a=u.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return n.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in s)return s;return{}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var n=r(26),i=function(e){return e&&e.__esModule?e:{default:e}}(r(33));t.JoseUtil=(0,i.default)({jws:n.jws,KeyUtil:n.KeyUtil,X509:n.X509,crypto:n.crypto,hextob64u:n.hextob64u,b64tohex:n.b64tohex,AllowedSigningAlgs:n.AllowedSigningAlgs})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=r(0),a=r(23),s=r(6),u=r(24),c=r(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration",d="id_token",p="openid",h="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.authority,i=t.metadataUrl,o=t.metadata,f=t.signingKeys,g=t.metadataSeed,v=t.client_id,y=t.client_secret,m=t.response_type,b=void 0===m?d:m,w=t.scope,x=void 0===w?p:w,_=t.redirect_uri,k=t.post_logout_redirect_uri,S=t.client_authentication,E=void 0===S?h:S,A=t.prompt,O=t.display,C=t.max_age,P=t.ui_locales,R=t.acr_values,j=t.resource,I=t.response_mode,T=t.filterProtocolClaims,F=void 0===T||T,N=t.loadUserInfo,D=void 0===N||N,L=t.staleStateAge,U=void 0===L?900:L,M=t.clockSkew,B=void 0===M?300:M,H=t.clockService,z=void 0===H?new a.ClockService:H,K=t.userInfoJwtIssuer,W=void 0===K?"OP":K,V=t.mergeClaims,q=void 0!==V&&V,J=t.stateStore,Z=void 0===J?new s.WebStorageStateStore:J,G=t.ResponseValidatorCtor,Q=void 0===G?u.ResponseValidator:G,$=t.MetadataServiceCtor,Y=void 0===$?c.MetadataService:$,X=t.extraQueryParams,ee=void 0===X?{}:X,te=t.extraTokenParams,re=void 0===te?{}:te;l(this,e),this._authority=r,this._metadataUrl=i,this._metadata=o,this._metadataSeed=g,this._signingKeys=f,this._client_id=v,this._client_secret=y,this._response_type=b,this._scope=x,this._redirect_uri=_,this._post_logout_redirect_uri=k,this._client_authentication=E,this._prompt=A,this._display=O,this._max_age=C,this._ui_locales=P,this._acr_values=R,this._resource=j,this._response_mode=I,this._filterProtocolClaims=!!F,this._loadUserInfo=!!D,this._staleStateAge=U,this._clockSkew=B,this._clockService=z,this._userInfoJwtIssuer=W,this._mergeClaims=!!q,this._stateStore=Z,this._validator=new Q(this),this._metadataService=new Y(this),this._extraQueryParams="object"===(void 0===ee?"undefined":n(ee))?ee:{},this._extraTokenParams="object"===(void 0===re?"undefined":n(re))?re:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":n(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var n=r(0),i=r(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.prefix,n=void 0===r?"oidc.":r,a=t.store,s=void 0===a?i.Global.localStorage:a;o(this,e),this._store=s,this._prefix=n}return e.prototype.set=function(e,t){return n.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){n.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){n.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){n.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var r=this._store.key(t);0===r.indexOf(this._prefix)&&e.push(r.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var n=r(0),i=r(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),n&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=r,this._jwtHandler=n}return e.prototype.getJson=function(e,t){var r=this;if(!e)throw n.Log.error("JsonService.getJson: No url passed"),new Error("url");return n.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new r._XMLHttpRequest;a.open("GET",e);var s=r._contentTypes,u=r._jwtHandler;a.onload=function(){if(n.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var r=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==r)return void u(a).then(i,o);if(r)try{return void i(JSON.parse(a.responseText))}catch(i){return n.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){n.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(n.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,r){var i=this;if(!e)throw n.Log.error("JsonService.postForm: No url passed"),new Error("url");return n.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var u=i._contentTypes;s.onload=function(){if(n.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(r=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(r.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return n.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error(s.statusText+" ("+s.status+")"))}else{var r;if((r=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(r.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(o){return n.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error("Invalid response Content-Type: "+r+", from URL: "+e))}},s.onerror=function(){n.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var l in t){var f=t[l];f&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(f))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==r&&s.setRequestHeader("Authorization","Basic "+btoa(r)),s.send(c)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var n=r(0),i=r(3),o=r(13);t.SigninRequest=function(){function e(t){var r=t.url,a=t.client_id,s=t.redirect_uri,u=t.response_type,c=t.scope,l=t.authority,f=t.data,d=t.prompt,p=t.display,h=t.max_age,g=t.ui_locales,v=t.id_token_hint,y=t.login_hint,m=t.acr_values,b=t.resource,w=t.response_mode,x=t.request,_=t.request_uri,k=t.extraQueryParams,S=t.request_type,E=t.client_secret,A=t.extraTokenParams,O=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw n.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw n.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw n.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw n.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw n.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var C=e.isOidc(u),P=e.isCode(u);w||(w=e.isCode(u)?"query":null),this.state=new o.SigninState({nonce:C,data:f,client_id:a,authority:l,redirect_uri:s,code_verifier:P,request_type:S,response_mode:w,client_secret:E,scope:c,extraTokenParams:A,skipUserInfo:O}),r=i.UrlUtility.addQueryParam(r,"client_id",a),r=i.UrlUtility.addQueryParam(r,"redirect_uri",s),r=i.UrlUtility.addQueryParam(r,"response_type",u),r=i.UrlUtility.addQueryParam(r,"scope",c),r=i.UrlUtility.addQueryParam(r,"state",this.state.id),C&&(r=i.UrlUtility.addQueryParam(r,"nonce",this.state.nonce)),P&&(r=i.UrlUtility.addQueryParam(r,"code_challenge",this.state.code_challenge),r=i.UrlUtility.addQueryParam(r,"code_challenge_method","S256"));var R={prompt:d,display:p,max_age:h,ui_locales:g,id_token_hint:v,login_hint:y,acr_values:m,resource:b,request:x,request_uri:_,response_mode:w};for(var j in R)R[j]&&(r=i.UrlUtility.addQueryParam(r,j,R[j]));for(var I in k)r=i.UrlUtility.addQueryParam(r,I,k[I]);this.url=r}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id,n=t.data,i=t.created,s=t.request_type;a(this,e),this._id=r||(0,o.default)(),this._data=n,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,r){var n=Date.now()/1e3-r;return t.getAllKeys().then((function(r){i.Log.debug("State.clearStaleState: got keys",r);for(var o=[],a=function(a){var s=r[a];u=t.get(s).then((function(r){var o=!1;if(r)try{var a=e.fromStorageString(r);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=n&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(u)},s=0;s<r.length;s++){var u;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},n(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(5),a=r(12),s=r(8),u=r(34),c=r(35),l=r(36),f=r(13),d=r(9);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.response_type,n=t.scope,o=t.redirect_uri,a=t.data,u=t.state,c=t.prompt,l=t.display,f=t.max_age,d=t.ui_locales,p=t.id_token_hint,h=t.login_hint,g=t.acr_values,v=t.resource,y=t.request,m=t.request_uri,b=t.response_mode,w=t.extraQueryParams,x=t.extraTokenParams,_=t.request_type,k=t.skipUserInfo,S=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var E=this._settings.client_id;r=r||this._settings.response_type,n=n||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,d=d||this._settings.ui_locales,g=g||this._settings.acr_values,v=v||this._settings.resource,b=b||this._settings.response_mode,w=w||this._settings.extraQueryParams,x=x||this._settings.extraTokenParams;var A=this._settings.authority;return s.SigninRequest.isCode(r)&&"code"!==r?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var O=new s.SigninRequest({url:t,client_id:E,redirect_uri:o,response_type:r,scope:n,data:a||u,authority:A,prompt:c,display:l,max_age:f,ui_locales:d,id_token_hint:p,login_hint:h,acr_values:g,resource:v,request:y,request_uri:m,extraQueryParams:w,extraTokenParams:x,request_type:_,response_mode:b,client_secret:e._settings.client_secret,skipUserInfo:k}),C=O.state;return(S=S||e._stateStore).set(C.id,C.toStorageString()).then((function(){return O}))}))},e.prototype.readSigninResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var n="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type),o=n?"?":"#",a=new u.SigninResponse(e,o);if(!a.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var c=r?t.remove.bind(t):t.get.bind(t);return c(a.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),r._validator.validateSigninResponse(t,n)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.id_token_hint,n=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,u=t.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var f=new c.SignoutRequest({url:t,id_token_hint:r,post_logout_redirect_uri:a,data:n||o,extraQueryParams:s,request_type:u}),d=f.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(d.id,d.toStorageString())),f}))},e.prototype.readSignoutResponseState=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var n=new l.SignoutResponse(e);if(!n.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),n.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",n.error),Promise.reject(new a.ErrorResponse(n))):Promise.resolve({state:void 0,response:n});var o=n.state;t=t||this._stateStore;var s=r?t.remove.bind(t):t.get.bind(t);return s(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:n}}))},e.prototype.processSignoutResponse=function(e,t){var r=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,n=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),r._validator.validateSignoutResponse(t,n)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),n)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,d.State.clearStaleState(e,this.settings.staleStateAge)},n(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var n=r(7),i=r(2),o=r(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=n?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var r=void 0,n=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==n&&(r=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(n){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(n,t,r).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var n=r(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.error,s=r.error_description,u=r.error_uri,c=r.state,l=r.session_state;if(i(this,t),!a)throw n.Log.error("No error passed to ErrorResponse"),new Error("error");var f=o(this,e.call(this,s||a));return f.name="ErrorResponse",f.error=a,f.error_description=s,f.error_uri=u,f.state=c,f.session_state=l,f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(9),a=r(4),s=function(e){return e&&e.__esModule?e:{default:e}}(r(14));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.nonce,i=r.authority,o=r.client_id,l=r.redirect_uri,f=r.code_verifier,d=r.response_mode,p=r.client_secret,h=r.scope,g=r.extraTokenParams,v=r.skipUserInfo;u(this,t);var y=c(this,e.call(this,arguments[0]));if(!0===n?y._nonce=(0,s.default)():n&&(y._nonce=n),!0===f?y._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():f&&(y._code_verifier=f),y.code_verifier){var m=a.JoseUtil.hashString(y.code_verifier,"SHA256");y._code_challenge=a.JoseUtil.hexToBase64Url(m)}return y._redirect_uri=l,y._authority=i,y._client_id=o,y._response_mode=d,y._client_secret=p,y._scope=h,y._extraTokenParams=g,y._skipUserInfo=v,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},n(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=n&&null!==n&&void 0!==n.getRandomValues?i:o)().replace(/-/g,"")};var n="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^n.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.User=function(){function e(t){var r=t.id_token,n=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,u=t.profile,c=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=r,this.session_state=n,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=u,this.expires_at=c,this.state=l}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var n=r(0),i=r(46);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.accessTokenExpiringNotificationTime,n=void 0===r?60:r,a=t.accessTokenExpiringTimer,s=void 0===a?new i.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;o(this,e),this._accessTokenExpiringNotificationTime=n,this._accessTokenExpiring=s,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(n.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var r=t-this._accessTokenExpiringNotificationTime;r<=0&&(r=1),n.Log.debug("AccessTokenEvents.load: registering expiring timer in:",r),this._accessTokenExpiring.init(r)}else n.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;n.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){n.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var n=r(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){n.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(19),a=r(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(s(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=n,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?r._start(e):r._settings.monitorAnonymousSession&&r._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),r._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,r=e.session_state;r&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",r,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",r,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(r):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var n=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),n,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(r)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var r={session_state:t.session_state};t.sub&&t.sid&&(r.profile={sub:t.sub,sid:t.sid}),e._start(r)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var r=!0;t?t.sub===e._sub?(r=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),r&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},n(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var n=r(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,r,n,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this._callback=t,this._client_id=r,this._url=n,this._interval=o||2e3,this._stopOnError=a;var s=n.indexOf("/",n.indexOf("//")+2);this._frame_origin=n.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=n}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(n.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(n.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):n.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){n.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var r=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};r(),this._timer=window.setInterval(r,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(n.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var n=r(0),i=r(2),o=r(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="access_token",u="refresh_token";t.TokenRevocationClient=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw n.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=r,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw n.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==s&&i!=u)throw n.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){n.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=r._settings.client_id,s=r._settings.client_secret;return r._revoke(o,a,s,e,i)}if(t)throw n.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,r,i,o){var a=this;return new Promise((function(s,u){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){n.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){n.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(t);r&&(l+="&client_secret="+encodeURIComponent(r)),l+="&token_type_hint="+encodeURIComponent(o),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.CordovaPopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0),i=r(10),o=r(5),a=r(6),s=r(37),u=r(38),c=r(16),l=r(2),f=r(48),d=r(49),p=r(19),h=r(20),g=r(18),v=r(1),y=r(15),m=r(50);t.default={Version:m.Version,Log:n.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:f.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:p.CheckSessionIFrame,TokenRevocationClient:h.TokenRevocationClient,SessionMonitor:g.SessionMonitor,Global:v.Global,User:y.User},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=r(0),o=r(2),a=r(25),s=r(11),u=r(12),c=r(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(l(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new r(this._settings),this._userInfoService=new n(this._settings),this._joseUtil=u,this._tokenClient=new f(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var r=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),r._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),r._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var r=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=r._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var r=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];r[i]?Array.isArray(r[i])?r[i].indexOf(s)<0&&r[i].push(s):r[i]!==s&&("object"===(void 0===s?"undefined":n(s))&&this._settings.mergeClaims?r[i]=this._mergeClaims(r[i],s):r[i]=[r[i],s]):r[i]=s}}return r},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(f.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var r=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===n(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(n){for(var o in n)t[o]=n[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),r._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){var o=e.client_id,a=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),r._settings.getEpochTime().then((function(s){return r._joseUtil.validateJwtAttributes(t.id_token,n,o,a,s).then((function(r){return e.nonce&&e.nonce!==r.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):r.sub?(t.profile=r,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var r=this;return this._validateIdToken(e,t).then((function(e){return r._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(r){var n=e.header.kid;if(!r)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(n)o=r.filter((function(e){return e.kid===n}))[0];else{if((r=t._filterByAlg(r,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=r[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(r){return r?Promise.resolve(r):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var r=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var n=this._joseUtil.parseJwt(t.id_token);return n&&n.header&&n.payload?e.nonce!==n.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),r._getSigningKeyForJwtWithSingleRetry(n).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,u=r._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),r._joseUtil.validateJwt(t.id_token,a,o,s,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),n.payload.sub?(t.profile=n.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",n),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];r="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",r,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var r=t.header.alg;if(!r||5!==r.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r),Promise.reject(new Error("Unsupported alg: "+r));var n=r.substr(2,3);if(!n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));if(256!==(n=parseInt(n))&&384!==n&&512!==n)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",r,n),Promise.reject(new Error("Unsupported alg: "+r));var o="sha"+n,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),u=this._joseUtil.hexToBase64Url(s);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var n=r(7),i=r(2),o=r(0),a=r(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(s(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new r(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(r){return o.Log.debug("UserInfoService.getClaims: received userinfo url",r),t._jsonService.getJson(r,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var r=this;try{var n=this._joseUtil.parseJwt(t.responseText);if(!n||!n.header||!n.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",n),Promise.reject(new Error("Failed to parse id_token"));var i=n.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(n.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),r._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=r._filterByAlg(a,n.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=r._settings.client_id,c=r._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),r._joseUtil.validateJwt(t.responseText,s,e,u,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),n.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var r=null;if(t.startsWith("RS"))r="RSA";else if(t.startsWith("PS"))r="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];r="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",r),e=e.filter((function(e){return e.kty===r})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",r,e.length),e},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var n=r(27);t.jws=n.jws,t.KeyUtil=n.KEYUTIL,t.X509=n.X509,t.crypto=n.crypto,t.hextob64u=n.hextob64u,t.b64tohex=n.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={userAgent:!1},i={};if(void 0===o)var o={};o.lang={extend:function(t,r,i){if(!r||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var o=function(){};if(o.prototype=r.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=r.prototype,r.prototype.constructor==Object.prototype.constructor&&(r.prototype.constructor=r),i){var a;for(a in i)t.prototype[a]=i[a];var s=function(){},u=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(s=function(e,t){for(a=0;a<u.length;a+=1){var r=u[a],n=t[r];"function"==typeof n&&n!=Object.prototype[r]&&(e[r]=n)}})}catch(e){}s(t.prototype,i)}}};var a,s,u,c,l,f,d,p,h,g,v,y=y||(a=Math,u=(s={}).lib={},c=u.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var r=new e;return t&&r.mixIn(t),r.hasOwnProperty("init")||(r.init=function(){r.$super.init.apply(this,arguments)}),r.init.prototype=r,r.$super=this,r},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=a.ceil(t/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*a.random()|0);return new l.init(t,e)}}),f=s.enc={},d=f.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},p=f.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},h=f.Utf8={stringify:function(t){try{return decodeURIComponent(escape(p.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return p.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,n=t.sigBytes,i=this.blockSize,o=n/(4*i),s=(o=e?a.ceil(o):a.max((0|o)-this._minBufferSize,0))*i,u=a.min(4*s,n);if(s){for(var c=0;c<s;c+=i)this._doProcessBlock(r,c);var f=r.splice(0,s);t.sigBytes-=u}return new l.init(f,u)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),u.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new v.HMAC.init(e,r).finalize(t)}}}),v=s.algo={},s);!function(e){var t,r=(t=y).lib,n=r.Base,i=r.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var o=e[n];r.push(o.high),r.push(o.low)}return i.create(r,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),r=t.length,i=0;i<r;i++)t[i]=t[i].clone();return e}})}(),function(){var e=y,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<r;a++)e.push(n.charAt(o>>>6*(3-a)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&-1!=(i=e.indexOf(i))&&(r=i);for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n.indexOf(e.charAt(a-1))<<a%4*2,u=n.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=y,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var f=e.sqrt(l),d=2;d<=f;d++)if(!(l%d)){l=!1;break e}l=!0}l&&(8>c&&(o[c]=s(e.pow(u,.5))),a[c]=s(e.pow(u,1/3)),c++),u++}var p=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],f=r[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var h=p[d-15],g=p[d-2];p[d]=((h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}h=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[d]+p[d],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&o^i&o),f=l,l=c,c=u,u=s+h|0,s=o,o=i,i=n,n=h+g|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+u|0,r[5]=r[5]+c|0,r[6]=r[6]+l|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),function(){function e(){return n.create.apply(n,arguments)}for(var t=y,r=t.lib.Hasher,n=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=e();o=o.SHA512=r.extend({_doReset:function(){this._hash=new i.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=(f=this._hash.words)[0],n=f[1],i=f[2],o=f[3],u=f[4],c=f[5],l=f[6],f=f[7],d=r.high,p=r.low,h=n.high,g=n.low,v=i.high,y=i.low,m=o.high,b=o.low,w=u.high,x=u.low,_=c.high,k=c.low,S=l.high,E=l.low,A=f.high,O=f.low,C=d,P=p,R=h,j=g,I=v,T=y,F=m,N=b,D=w,L=x,U=_,M=k,B=S,H=E,z=A,K=O,W=0;80>W;W++){var V=s[W];if(16>W)var q=V.high=0|e[t+2*W],J=V.low=0|e[t+2*W+1];else{q=((J=(q=s[W-15]).high)>>>1|(Z=q.low)<<31)^(J>>>8|Z<<24)^J>>>7;var Z=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),G=((J=(G=s[W-2]).high)>>>19|(Q=G.low)<<13)^(J<<3|Q>>>29)^J>>>6,Q=(Q>>>19|J<<13)^(Q<<3|J>>>29)^(Q>>>6|J<<26),$=(J=s[W-7]).high,Y=(X=s[W-16]).high,X=X.low;q=(q=(q=q+$+((J=Z+J.low)>>>0<Z>>>0?1:0))+G+((J+=Q)>>>0<Q>>>0?1:0))+Y+((J+=X)>>>0<X>>>0?1:0),V.high=q,V.low=J}$=D&U^~D&B,X=L&M^~L&H,V=C&R^C&I^R&I;var ee=P&j^P&T^j&T,te=(Z=(C>>>28|P<<4)^(C<<30|P>>>2)^(C<<25|P>>>7),G=(P>>>28|C<<4)^(P<<30|C>>>2)^(P<<25|C>>>7),(Q=a[W]).high),re=Q.low;Y=z+((D>>>14|L<<18)^(D>>>18|L<<14)^(D<<23|L>>>9))+((Q=K+((L>>>14|D<<18)^(L>>>18|D<<14)^(L<<23|D>>>9)))>>>0<K>>>0?1:0),z=B,K=H,B=U,H=M,U=D,M=L,D=F+(Y=(Y=(Y=Y+$+((Q+=X)>>>0<X>>>0?1:0))+te+((Q+=re)>>>0<re>>>0?1:0))+q+((Q+=J)>>>0<J>>>0?1:0))+((L=N+Q|0)>>>0<N>>>0?1:0)|0,F=I,N=T,I=R,T=j,R=C,j=P,C=Y+(V=Z+V+((J=G+ee)>>>0<G>>>0?1:0))+((P=Q+J|0)>>>0<Q>>>0?1:0)|0}p=r.low=p+P,r.high=d+C+(p>>>0<P>>>0?1:0),g=n.low=g+j,n.high=h+R+(g>>>0<j>>>0?1:0),y=i.low=y+T,i.high=v+I+(y>>>0<T>>>0?1:0),b=o.low=b+N,o.high=m+F+(b>>>0<N>>>0?1:0),x=u.low=x+L,u.high=w+D+(x>>>0<L>>>0?1:0),k=c.low=k+M,c.high=_+U+(k>>>0<M>>>0?1:0),E=l.low=E+H,l.high=S+B+(E>>>0<H>>>0?1:0),O=f.low=O+K,f.high=A+z+(O>>>0<K>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=r._createHelper(o),t.HmacSHA512=r._createHmacHelper(o)}(),function(){var e=y,t=(i=e.x64).Word,r=i.WordArray,n=(i=e.algo).SHA512,i=i.SHA384=n.extend({_doReset:function(){this._hash=new r.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(i),e.HmacSHA384=n._createHmacHelper(i)}();var m,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function w(e){var t,r,n="";for(t=0;t+3<=e.length;t+=3)r=parseInt(e.substring(t,t+3),16),n+=b.charAt(r>>6)+b.charAt(63&r);for(t+1==e.length?(r=parseInt(e.substring(t,t+1),16),n+=b.charAt(r<<2)):t+2==e.length&&(r=parseInt(e.substring(t,t+2),16),n+=b.charAt(r>>2)+b.charAt((3&r)<<4));(3&n.length)>0;)n+="=";return n}function x(e){var t,r,n,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=b.indexOf(e.charAt(t)))<0||(0==o?(i+=C(n>>2),r=3&n,o=1):1==o?(i+=C(r<<2|n>>4),r=15&n,o=2):2==o?(i+=C(r),i+=C(n>>2),r=3&n,o=3):(i+=C(r<<2|n>>4),i+=C(15&n),o=0));return 1==o&&(i+=C(r<<2)),i}function _(e){var t,r=x(e),n=new Array;for(t=0;2*t<r.length;++t)n[t]=parseInt(r.substring(2*t,2*t+2),16);return n}function k(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function S(){return new k(null)}"Microsoft Internet Explorer"==n.appName?(k.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+r[n]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),r[n++]=1073741823&u}return i},m=30):"Netscape"!=n.appName?(k.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this[e++]+r[n]+i;i=Math.floor(a/67108864),r[n++]=67108863&a}return i},m=26):(k.prototype.am=function(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+r[n]+i)>>28)+(l>>14)+s*c,r[n++]=268435455&u}return i},m=28),k.prototype.DB=m,k.prototype.DM=(1<<m)-1,k.prototype.DV=1<<m,k.prototype.FV=Math.pow(2,52),k.prototype.F1=52-m,k.prototype.F2=2*m-52;var E,A,O=new Array;for(E="0".charCodeAt(0),A=0;A<=9;++A)O[E++]=A;for(E="a".charCodeAt(0),A=10;A<36;++A)O[E++]=A;for(E="A".charCodeAt(0),A=10;A<36;++A)O[E++]=A;function C(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function P(e,t){var r=O[e.charCodeAt(t)];return null==r?-1:r}function R(e){var t=S();return t.fromInt(e),t}function j(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function I(e){this.m=e}function T(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function F(e,t){return e&t}function N(e,t){return e|t}function D(e,t){return e^t}function L(e,t){return e&~t}function U(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function M(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function B(){}function H(e){return e}function z(e){this.r2=S(),this.q3=S(),k.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},T.prototype.convert=function(e){var t=S();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(k.ZERO)>0&&this.m.subTo(t,t),t},T.prototype.revert=function(e){var t=S();return e.copyTo(t),this.reduce(t),t},T.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},T.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},T.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},k.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},k.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},k.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=8==r?255&e[n]:P(e,n);a<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&k.ZERO.subTo(this,this)},k.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},k.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},k.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},k.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+a+1]=this[r]>>i|s,s=(this[r]&o)<<n;for(r=a-1;r>=0;--r)t[r]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},k.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var a=r+1;a<this.t;++a)t[a-r-1]|=(this[a]&o)<<i,t[a-r]=this[a]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},k.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},k.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&k.ZERO.subTo(t,t)},k.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},k.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=S());var o=S(),a=this.s,s=e.s,u=this.DB-j(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,h=1<<this.F2,g=r.t,v=g-c,y=null==t?S():t;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),k.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--g]==l?this.DM:Math.floor(r[g]*d+(r[g-1]+h)*p);if((r[g]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[g]<--m;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),a!=s&&k.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),a<0&&k.ZERO.subTo(r,r)}}},k.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},k.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},k.prototype.exp=function(e,t){if(e>4294967295||e<1)return k.ONE;var r=S(),n=S(),i=t.convert(this),o=j(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)},k.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this[a]>>s)>0&&(i=!0,o=C(r));a>=0;)s<t?(r=(this[a]&(1<<s)-1)<<t-s,r|=this[--a]>>(s+=this.DB-t)):(r=this[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=C(r));return i?o:"0"},k.prototype.negate=function(){var e=S();return k.ZERO.subTo(this,e),e},k.prototype.abs=function(){return this.s<0?this.negate():this},k.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},k.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+j(this[this.t-1]^this.s&this.DM)},k.prototype.mod=function(e){var t=S();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(k.ZERO)>0&&e.subTo(t,t),t},k.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new I(t):new T(t),this.exp(e,r)},k.ZERO=R(0),k.ONE=R(1),B.prototype.convert=H,B.prototype.revert=H,B.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},B.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=S();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var K,W,V,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],J=(1<<26)/q[q.length-1];function Z(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){W[V++]^=255&e,W[V++]^=e>>8&255,W[V++]^=e>>16&255,W[V++]^=e>>24&255,V>=256&&(V-=256)}((new Date).getTime())}if(k.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},k.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=R(r),i=S(),o=S(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a},k.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,s=0;s<e.length;++s){var u=P(e,s);u<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+u,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&k.ZERO.subTo(this,this)},k.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(k.ONE.shiftLeft(e-1),N,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(k.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},k.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r[n]=t(this[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r[n]=t(i,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},k.prototype.changeBit=function(e,t){var r=k.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},k.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},k.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},k.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},k.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r[--i]=0;for(n=r.t-this.t;i<n;++i)r[i+this.t]=this.am(0,e[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e[i],r,i,0,t-i);r.clamp()},k.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},k.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},k.prototype.millerRabin=function(e){var t=this.subtract(k.ONE),r=t.getLowestSetBit();if(r<=0)return!1;var n=t.shiftRight(r);(e=e+1>>1)>q.length&&(e=q.length);for(var i=S(),o=0;o<e;++o){i.fromInt(q[Math.floor(Math.random()*q.length)]);var a=i.modPow(n,this);if(0!=a.compareTo(k.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<r&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(k.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},k.prototype.clone=function(){var e=S();return this.copyTo(e),e},k.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},k.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},k.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},k.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},k.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},k.prototype.equals=function(e){return 0==this.compareTo(e)},k.prototype.min=function(e){return this.compareTo(e)<0?this:e},k.prototype.max=function(e){return this.compareTo(e)>0?this:e},k.prototype.and=function(e){var t=S();return this.bitwiseTo(e,F,t),t},k.prototype.or=function(e){var t=S();return this.bitwiseTo(e,N,t),t},k.prototype.xor=function(e){var t=S();return this.bitwiseTo(e,D,t),t},k.prototype.andNot=function(e){var t=S();return this.bitwiseTo(e,L,t),t},k.prototype.not=function(){for(var e=S(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},k.prototype.shiftLeft=function(e){var t=S();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},k.prototype.shiftRight=function(e){var t=S();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},k.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+U(this[e]);return this.s<0?this.t*this.DB:-1},k.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=M(this[r]^t);return e},k.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},k.prototype.setBit=function(e){return this.changeBit(e,N)},k.prototype.clearBit=function(e){return this.changeBit(e,L)},k.prototype.flipBit=function(e){return this.changeBit(e,D)},k.prototype.add=function(e){var t=S();return this.addTo(e,t),t},k.prototype.subtract=function(e){var t=S();return this.subTo(e,t),t},k.prototype.multiply=function(e){var t=S();return this.multiplyTo(e,t),t},k.prototype.divide=function(e){var t=S();return this.divRemTo(e,t,null),t},k.prototype.remainder=function(e){var t=S();return this.divRemTo(e,null,t),t},k.prototype.divideAndRemainder=function(e){var t=S(),r=S();return this.divRemTo(e,t,r),new Array(t,r)},k.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=R(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new I(t):t.isEven()?new z(t):new T(t);var a=new Array,s=3,u=r-1,c=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=S();for(n.sqrTo(a[1],l);s<=c;)a[s]=S(),n.mulTo(l,a[s-2],a[s]),s+=2}var f,d,p=e.t-1,h=!0,g=S();for(i=j(e[p])-1;p>=0;){for(i>=u?f=e[p]>>i-u&c:(f=(e[p]&(1<<i+1)-1)<<u-i,p>0&&(f|=e[p-1]>>this.DB+i-u)),s=r;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),h)a[f].copyTo(o),h=!1;else{for(;s>1;)n.sqrTo(o,g),n.sqrTo(g,o),s-=2;s>0?n.sqrTo(o,g):(d=o,o=g,g=d),n.mulTo(g,a[f],o)}for(;p>=0&&0==(e[p]&1<<i);)n.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--p)}return n.revert(o)},k.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return k.ZERO;for(var r=e.clone(),n=this.clone(),i=R(1),o=R(0),a=R(0),s=R(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(k.ONE)?k.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},k.prototype.pow=function(e){return this.exp(e,new B)},k.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},k.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(r[0]==q[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<q.length;){for(var n=q[t],i=t+1;i<q.length&&n<J;)n*=q[i++];for(n=r.modInt(n);t<i;)if(n%q[t++]==0)return!1}return r.millerRabin(e)},k.prototype.square=function(){var e=S();return this.squareTo(e),e},Z.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},Z.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==W){var Q;if(W=new Array,V=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var $=i.crypto||i.msCrypto;if($.getRandomValues){var Y=new Uint8Array(32);for($.getRandomValues(Y),Q=0;Q<32;++Q)W[V++]=Y[Q]}else if("Netscape"==n.appName&&n.appVersion<"5"){var X=i.crypto.random(32);for(Q=0;Q<X.length;++Q)W[V++]=255&X.charCodeAt(Q)}}for(;V<256;)Q=Math.floor(65536*Math.random()),W[V++]=Q>>>8,W[V++]=255&Q;V=0,G()}function ee(){if(null==K){for(G(),(K=new Z).init(W),V=0;V<W.length;++V)W[V]=0;V=0}return K.next()}function te(){}function re(e,t){return new k(e,t)}function ne(e,t,r){for(var n="",i=0;n.length<t;)n+=r(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return n}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function oe(e,t){this.x=t,this.q=e}function ae(e,t,r,n){this.curve=e,this.x=t,this.y=r,this.z=null==n?k.ONE:n,this.zinv=null}function se(e,t,r){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(r),this.infinity=new ae(this,null,null)}te.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=ee()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=re(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var r=new Array,n=e.length-1;n>=0&&t>0;){var i=e.charCodeAt(n--);i<128?r[--t]=i:i>127&&i<2048?(r[--t]=63&i|128,r[--t]=i>>6|192):(r[--t]=63&i|128,r[--t]=i>>6&63|128,r[--t]=i>>12|224)}r[--t]=0;for(var o=new te,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);r[--t]=a[0]}return r[--t]=2,r[--t]=0,new k(r)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var r=this.doPublic(t);if(null==r)return null;var n=r.toString(16);return 0==(1&n.length)?n:"0"+n},ie.prototype.encryptOAEP=function(e,t,r){var n=function(e,t,r,n){var i=ce.crypto.MessageDigest,o=ce.crypto.Util,a=null;if(r||(r="sha1"),"string"==typeof r&&(a=i.getCanonicalAlgName(r),n=i.getHashLength(a),r=function(e){return ke(o.hashHex(Se(e),a))}),e.length+2*n+2>t)throw"Message too long for RSA";var s,u="";for(s=0;s<t-e.length-2*n-2;s+=1)u+="\0";var c=r("")+u+"\x01"+e,l=new Array(n);(new te).nextBytes(l);var f=ne(l,c.length,r),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);var p=ne(d,l.length,r),h=[0];for(s=0;s<l.length;s+=1)h[s+1]=l[s]^p.charCodeAt(s);return new k(h.concat(d))}(e,this.n.bitLength()+7>>3,t,r);if(null==n)return null;var i=this.doPublic(n);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},ie.prototype.type="RSA",oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},oe.prototype.toBigInteger=function(){return this.x},oe.prototype.negate=function(){return new oe(this.q,this.x.negate().mod(this.q))},oe.prototype.add=function(e){return new oe(this.q,this.x.add(e.toBigInteger()).mod(this.q))},oe.prototype.subtract=function(e){return new oe(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},oe.prototype.multiply=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},oe.prototype.square=function(){return new oe(this.q,this.x.square().mod(this.q))},oe.prototype.divide=function(e){return new oe(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(k.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(k.ZERO)&&!this.y.toBigInteger().equals(k.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),r=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(k.ZERO.equals(r))return k.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new k("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),r.square()),s=a.multiply(r),u=i.multiply(a),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(s).multiply(r).mod(this.curve.q),f=u.multiply(n).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),d)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new k("3"),t=this.x.toBigInteger(),r=this.y.toBigInteger(),n=r.multiply(this.z),i=n.multiply(r).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);k.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(n).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new k("3")),u=new ae(this.curve,this.x,this.y),c=u.negate();for(t=n.bitLength()-2;t>0;--t){o=o.twice();var l=n.testBit(t);l!=r.testBit(t)&&(o=o.add(l?this:i))}for(t=s.bitLength()-2;t>0;--t){u=u.twice();var f=s.testBit(t);f!=a.testBit(t)&&(u=u.add(f?u:c))}return o},ae.prototype.multiplyTwo=function(e,t,r){var n;n=e.bitLength()>r.bitLength()?e.bitLength()-1:r.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);n>=0;)i=i.twice(),e.testBit(n)?i=r.testBit(n)?i.add(o):i.add(this):r.testBit(n)&&(i=i.add(t)),--n;return i},se.prototype.getQ=function(){return this.q},se.prototype.getA=function(){return this.a},se.prototype.getB=function(){return this.b},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},se.prototype.getInfinity=function(){return this.infinity},se.prototype.fromBigInteger=function(e){return new oe(this.q,e)},se.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,r=e.substr(2,t),n=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new k(r,16)),this.fromBigInteger(new k(n,16)))}},oe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var r=e.toByteArrayUnsigned();if(t<r.length)r=r.slice(r.length-t);else for(;t>r.length;)r.unshift(0);return r},r=this.getX().toBigInteger(),n=this.getY().toBigInteger(),i=t(r,32);return e?n.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(n,32))),i},ae.decodeFrom=function(e,t){t[0];var r=t.length-1,n=t.slice(1,1+r/2),i=t.slice(1+r/2,1+r);n.unshift(0),i.unshift(0);var o=new k(n),a=new k(i);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var r=t.length-2,n=t.substr(2,r/2),i=t.substr(2+r/2,r/2),o=new k(n,16),a=new k(i,16);return new ae(e,e.fromBigInteger(o),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),r=e.y.subtract(this.y).divide(t),n=r.square().subtract(this.x).subtract(e.x),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,i)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(k.valueOf(2)),t=this.curve.fromBigInteger(k.valueOf(3)),r=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=r.square().subtract(this.x.multiply(e)),i=r.multiply(this.x.subtract(n)).subtract(this.y);return new ae(this.curve,n,i)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,r=e,n=r.multiply(new k("3")),i=this.negate(),o=this;for(t=n.bitLength()-2;t>0;--t){o=o.twice();var a=n.testBit(t);a!=r.testBit(t)&&(o=o.add2D(a?this:i))}return o},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),r=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(r.multiply(e)).add(n).mod(i);return o.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),r=this.getY().toBigInteger();if(t.compareTo(k.ONE)<0||t.compareTo(e.subtract(k.ONE))>0)throw new Error("x coordinate out of bounds");if(r.compareTo(k.ONE)<0||r.compareTo(e.subtract(k.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var ue=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var o=new String(""),a=Object.hasOwnProperty;return function(n,s){var u,c,l=n.match(e),f=l[0],d=!1;"{"===f?u={}:"["===f?u=[]:(u=[],d=!0);for(var p=[u],h=1-d,g=l.length;h<g;++h){var v;switch((f=l[h]).charCodeAt(0)){default:(v=p[0])[c||v.length]=+f,c=void 0;break;case 34:if(-1!==(f=f.substring(1,f.length-1)).indexOf("\\")&&(f=f.replace(t,i)),v=p[0],!c){if(!(v instanceof Array)){c=f||o;break}c=v.length}v[c]=f,c=void 0;break;case 91:v=p[0],p.unshift(v[c||v.length]=[]),c=void 0;break;case 93:case 125:p.shift();break;case 102:(v=p[0])[c||v.length]=!1,c=void 0;break;case 110:(v=p[0])[c||v.length]=null,c=void 0;break;case 116:(v=p[0])[c||v.length]=!0,c=void 0;break;case 123:v=p[0],p.unshift(v[c||v.length]={}),c=void 0}}if(d){if(1!==p.length)throw new Error;u=u[0]}else if(p.length)throw new Error;return s&&(u=function e(t,n){var i=t[n];if(i&&"object"===(void 0===i?"undefined":r(i))){var o=null;for(var u in i)if(a.call(i,u)&&i!==t){var c=e(i,u);void 0!==c?i[u]=c:(o||(o=[]),o.push(u))}if(o)for(var l=o.length;--l>=0;)delete i[o[l]]}return s.call(t,n,i)}({"":u},"")),u}}();void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var r=t.substr(1).length;r%2==1?r+=1:t.match(/^[0-7]/)||(r+=2);for(var n="",i=0;i<r;i++)n+="f";t=new k(n,16).xor(e).add(k.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Ce(e,t)},this.newObject=function(e){var t=ce.asn1,r=t.ASN1Object,n=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,f=t.DERNumericString,d=t.DERPrintableString,p=t.DERTeletexString,h=t.DERIA5String,g=t.DERUTCTime,v=t.DERGeneralizedTime,y=t.DERVisibleString,m=t.DERBMPString,b=t.DERSequence,w=t.DERSet,x=t.DERTaggedObject,_=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var k=Object.keys(e);if(1!=k.length)throw new Error("key of param shall be only one.");var S=k[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+S+":"))throw new Error("undefined key: "+S);if("bool"==S)return new n(e[S]);if("int"==S)return new i(e[S]);if("bitstr"==S)return new o(e[S]);if("octstr"==S)return new a(e[S]);if("null"==S)return new s(e[S]);if("oid"==S)return new u(e[S]);if("enum"==S)return new c(e[S]);if("utf8str"==S)return new l(e[S]);if("numstr"==S)return new f(e[S]);if("prnstr"==S)return new d(e[S]);if("telstr"==S)return new p(e[S]);if("ia5str"==S)return new h(e[S]);if("utctime"==S)return new g(e[S]);if("gentime"==S)return new v(e[S]);if("visstr"==S)return new y(e[S]);if("bmpstr"==S)return new m(e[S]);if("asn1"==S)return new r(e[S]);if("seq"==S){for(var E=e[S],A=[],O=0;O<E.length;O++){var C=_(E[O]);A.push(C)}return new b({array:A})}if("set"==S){for(E=e[S],A=[],O=0;O<E.length;O++)C=_(E[O]),A.push(C);return new w({array:A})}if("tag"==S){var P=e[S];if("[object Array]"===Object.prototype.toString.call(P)&&3==P.length){var R=_(P[2]);return new x({tag:P[0],explicit:P[1],obj:R})}return new x(P)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",r=parseInt(e.substr(0,2),16),n=(t=Math.floor(r/40)+"."+r%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);n+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new k(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=new k(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n},ce.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var r=t.length/2;if(r>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+r).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=xe(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},o.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,r){var n=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+n(String(i.getMonth()+1),2)+n(String(i.getDate()),2)+n(String(i.getHours()),2)+n(String(i.getMinutes()),2)+n(String(i.getSeconds()),2);if(!0===r){var s=i.getMilliseconds();if(0!=s){var u=n(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ve(e)},this.setByDateValue=function(e,t,r,n,i,o){var a=new Date(Date.UTC(e,t-1,r,n,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},o.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},o.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(e){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},o.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var r="0"+e;this.hTLV=null,this.isModified=!0,this.hV=r+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var r=0;r<=t;r++)e+="0";var n="";for(r=0;r<e.length-1;r+=8){var i=e.substr(r,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),n+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",r=0;r<e.length;r++)1==e[r]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},o.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},o.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},o.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},r=function(e){var r="",n=parseInt(e,10).toString(2),i=7-n.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(n=o+n,a=0;a<n.length-1;a+=7){var s=n.substr(a,7);a!=n.length-7&&(s="1"+s),r+=t(parseInt(s,2))}return r};try{if(!e.match(/^[0-9.]+$/))return null;var n="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);n+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)n+=r(i[a]);return n}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new k(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},o.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},o.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},o.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},o.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},o.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},o.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},o.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},o.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},o.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},o.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},o.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var r=this.asn1Array[t];e.push(r.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},o.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ce.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,r){this.hT=t,this.isExplicit=e,this.asn1Object=r,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=r.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==r(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},o.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,le,fe,de=new function(){};function pe(e){for(var t=new Array,r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}function he(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}function ge(e){for(var t="",r=0;r<e.length;r++){var n=e[r].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function ve(e){return ge(pe(e))}function ye(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function me(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ye(w(e))}function we(e){return x(me(e))}function xe(e){return Ie(Le(e))}function _e(e){return decodeURIComponent(Te(e))}function ke(e){for(var t="",r=0;r<e.length-1;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t}function Se(e){for(var t="",r=0;r<e.length;r++)t+=("0"+e.charCodeAt(r).toString(16)).slice(-2);return t}function Ee(e){return w(e)}function Ae(e){var t=Ee(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Oe(e){return x(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ce(e,t){return"-----BEGIN "+t+"-----\r\n"+Ae(e)+"\r\n-----END "+t+"-----\r\n"}function Pe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Oe(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Re(e){var t,r,n,i,o,a,s,u,c,l,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=f[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),r=parseInt(f[2])-1,n=parseInt(f[3]),i=parseInt(f[4]),o=parseInt(f[5]),a=parseInt(f[6]),s=0,""!==(c=f[7])&&(l=(c.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,r,n,i,o,a,s);throw"unsupported zulu format: "+e}function je(e){return~~(Re(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function Te(e){return e.replace(/(..)/g,"%$1")}function Fe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var r=(e=e.toLowerCase()).split(":").length-1;if(r<2)throw t;var n=":".repeat(7-r+2),i=(e=e.replace("::",n)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Ne(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),r=0;r<8;r++)t[r]=t[r].replace(/^0+/,""),""==t[r]&&(t[r]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var i="";for(r=0;r<n.length;r++)n[r].length>i.length&&(i=n[r]);return(e=e.replace(i,"::")).slice(1,-1)}function De(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ne(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function Le(e){for(var t=encodeURIComponent(e),r="",n=0;n<t.length;n++)"%"==t[n]?(r+=t.substr(n,3),n+=2):r=r+"%"+ve(t[n]);return r}function Ue(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Me(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var r=parseInt(e.substr(t+3,1));return 0==r?-1:0<r&&r<10?r+1:-2},de.getL=function(e,t){var r=de.getLblen(e,t);return r<1?"":e.substr(t+2,2*r)},de.getVblen=function(e,t){var r;return""==(r=de.getL(e,t))?-1:("8"===r.substr(0,1)?new k(r.substr(2),16):new k(r,16)).intValue()},de.getVidx=function(e,t){var r=de.getLblen(e,t);return r<0?r:t+2*(r+1)},de.getV=function(e,t){var r=de.getVidx(e,t),n=de.getVblen(e,t);return e.substr(r,2*n)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getTLVblen=function(e,t){return 2+2*de.getLblen(e,t)+2*de.getVblen(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var r,n,i,o=de,a=[];r=o.getVidx(e,t),n=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(r+=2,n-=2),i=0;for(var s=r;i<=n;){var u=o.getTLVblen(e,s);if((i+=u)<=n&&a.push(s),s+=u,i>=n)break}return a},de.getNthChildIdx=function(e,t,r){return de.getChildIdx(e,t)[r]},de.getIdxbyList=function(e,t,r,n){var i,o,a=de;return 0==r.length?void 0!==n&&e.substr(t,2)!==n?-1:t:(i=r.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],r,n)},de.getIdxbyListEx=function(e,t,r,n){var i,o,a=de;if(0==r.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;i=r.shift(),o=a.getChildIdx(e,t);for(var s=0,u=0;u<o.length;u++){var c=e.substr(o[u],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[u],r,n);a.isContextTag(c)||s++}return-1},de.getTLVbyList=function(e,t,r,n){var i=de,o=i.getIdxbyList(e,t,r,n);return-1==o||o>=e.length?null:i.getTLV(e,o)},de.getTLVbyListEx=function(e,t,r,n){var i=de,o=i.getIdxbyListEx(e,t,r,n);return-1==o?null:i.getTLV(e,o)},de.getVbyList=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyList(e,t,r,n))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},de.getVbyListEx=function(e,t,r,n,i){var o,a,s=de;return-1==(o=s.getIdxbyListEx(e,t,r,n))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},de.getInt=function(e,t,r){null==r&&(r=-1);try{var n=e.substr(t,2);if("02"!=n&&"03"!=n)return r;var i=de.getV(e,t);return"02"==n?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var r=parseInt(t,16),n=e.substr(2),i=parseInt(n,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-r),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return r}},de.getOID=function(e,t,r){null==r&&(r=null);try{return"06"!=e.substr(t,2)?r:function(e){if(!Ue(e))return null;try{var t=[],r=e.substr(0,2),n=parseInt(r,16);t[0]=new String(Math.floor(n/40)),t[1]=new String(n%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],u="";for(a=0;a<o.length;a++)128&o[a]?u+=Be((127&o[a]).toString(2),7):(u+=Be((127&o[a]).toString(2),7),s.push(new String(parseInt(u,2))),u="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(de.getV(e,t))}catch(e){return r}},de.getOIDName=function(e,t,r){null==r&&(r=null);try{var n=de.getOID(e,t,r);if(n==r)return r;var i=ce.asn1.x509.OID.oid2name(n);return""==i?n:i}catch(e){return r}},de.getString=function(e,t,r){null==r&&(r=null);try{return ke(de.getV(e,t))}catch(e){return r}},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},r=[],n=e.substr(0,2),i=parseInt(n,16);r[0]=new String(Math.floor(i/40)),r[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var u=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=r.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},de.dump=function(e,t,r,n){var i=de,o=i.getV,a=i.dump,s=i.getChildIdx,u=e;e instanceof ce.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===r&&(r=0),void 0===n&&(n="");var l,f=t.ommit_long_octet;if("01"==(l=u.substr(r,2)))return"00"==(d=o(u,r))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==l)return n+"INTEGER "+c(d=o(u,r),f)+"\n";if("03"==l){var d=o(u,r);return i.isASN1HEX(d.substr(2))?(x=n+"BITSTRING, encapsulates\n")+a(d.substr(2),t,0,n+"  "):n+"BITSTRING "+c(d,f)+"\n"}if("04"==l)return d=o(u,r),i.isASN1HEX(d)?(x=n+"OCTETSTRING, encapsulates\n")+a(d,t,0,n+"  "):n+"OCTETSTRING "+c(d,f)+"\n";if("05"==l)return n+"NULL\n";if("06"==l){var p=o(u,r),h=ce.asn1.ASN1Util.oidHexToInt(p),g=ce.asn1.x509.OID.oid2name(h),v=h.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+v+")\n":n+"ObjectIdentifier ("+v+")\n"}if("0a"==l)return n+"ENUMERATED "+parseInt(o(u,r))+"\n";if("0c"==l)return n+"UTF8String '"+_e(o(u,r))+"'\n";if("13"==l)return n+"PrintableString '"+_e(o(u,r))+"'\n";if("14"==l)return n+"TeletexString '"+_e(o(u,r))+"'\n";if("16"==l)return n+"IA5String '"+_e(o(u,r))+"'\n";if("17"==l)return n+"UTCTime "+_e(o(u,r))+"\n";if("18"==l)return n+"GeneralizedTime "+_e(o(u,r))+"\n";if("1a"==l)return n+"VisualString '"+_e(o(u,r))+"'\n";if("1e"==l)return n+"BMPString '"+_e(o(u,r))+"'\n";if("30"==l){if("3000"==u.substr(r,4))return n+"SEQUENCE {}\n";x=n+"SEQUENCE\n";var y=t;if((2==(w=s(u,r)).length||3==w.length)&&"06"==u.substr(w[0],2)&&"04"==u.substr(w[w.length-1],2)){g=i.oidname(o(u,w[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=g,y=m}for(var b=0;b<w.length;b++)x+=a(u,y,w[b],n+"  ");return x}if("31"==l){x=n+"SET\n";var w=s(u,r);for(b=0;b<w.length;b++)x+=a(u,t,w[b],n+"  ");return x}if(0!=(128&(l=parseInt(l,16)))){var x,_=31&l;if(0!=(32&l)){for(x=n+"["+_+"]\n",w=s(u,r),b=0;b<w.length;b++)x+=a(u,t,w[b],n+"  ");return x}return d=o(u,r),de.isASN1HEX(d)?(x=n+"["+_+"]\n")+a(d,t,0,n+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==_)&&(d=_e(d)),n+"["+_+"] "+d+"\n")}return n+"UNKNOWN("+l+") "+o(u,r)+"\n"},de.isContextTag=function(e,t){var r,n;e=e.toLowerCase();try{r=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&r);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&r)&&(31&r)==n}catch(e){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var r=t.getVblen(e,0),n=e.substr(0,2),i=t.getL(e,0);return e.length-n.length-i.length==2*r},de.checkStrictDER=function(e,t,r,n,i){var o=de;if(void 0===r){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");r=e.length,i=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>n)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),u=s.length-2-o.getL(e,t).length;if(u!==2*a)throw new Error("V string length and L's value not the same:"+u+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var l=o.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var f=o.getVblen(e,t),d=0,p=o.getChildIdx(e,t),h=0;h<p.length;h++)d+=o.getTLV(e,p[h]).length,o.checkStrictDER(e,p[h],r,n,i);if(2*f!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*f+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var r=t.x509.OID.oid2name(e);return""===r&&(r=e),r},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=le=function(t){return ye(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=fe=function(t){return e.from(me(t),"base64").toString("utf8")}):(t.utf8tob64u=le=function(e){return be(Ie(Le(e)))},t.b64utoutf8=fe=function(e){return decodeURIComponent(Te(we(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return Ue(e)},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=me(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ce.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ce.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ce.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Be=function(e,t,r){return null==r&&(r="0"),e.length>=t?e:new Array(t-e.length+1).join(r)+e};void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:y.algo.MD5,sha1:y.algo.SHA1,sha224:y.algo.SHA224,sha256:y.algo.SHA256,sha384:y.algo.SHA384,sha512:y.algo.SHA512,ripemd160:y.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,r){var n=this.getDigestInfoHex(e,t),i=r/4;if(n.length+22>i)throw"key is too short for SigAlg: keylen="+r+","+t;for(var o="0001",a="00"+n,s="",u=i-o.length-a.length,c=0;c<u;c+=2)s+="ff";return o+s+a},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new te,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new k(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,r=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(r),r[0]=(255<<t&255^255)&r[0],ge(r)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new k(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var r=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(r))return r}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var r=e.compareTo(t);if(1==r)throw"biMin is greater than biMax";if(0==r)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(y.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,r=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[r])throw"not supported algorithm: "+e;return t.HASHLENGTH[r]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var r=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(r)&&"cryptojs"==t){try{var n=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[r];this.mac=y.algo.HMAC.create(n,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+r+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=y.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(y.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Se(e)),void(this.pass=y.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":r(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=xe(e.utf8)),void 0!==e.rstr&&(t=Se(e.rstr)),void 0!==e.b64&&(t=x(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=y.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var r=null;try{r=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===r.isPrivate)this.prvKey=r,this.state="SIGN";else{if(!0!==r.isPublic)throw"init failed.:"+r;this.pubKey=r,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,r){if(t instanceof ie&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,r){if(t instanceof ie&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,r);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var i=n.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+r}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,n=k,i=ae,o=ce.crypto.ECDSA,a=ce.crypto.ECParameterDB,s=o.getName,u=de,c=u.getVbyListEx,l=u.isASN1HEX,f=new te;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),f).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=a.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var r={};return r.x=e.substr(2,t),r.y=e.substr(2+t),r},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),r=this.ecparams.G.multiply(t),n=r.getX().toBigInteger(),i=r.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+n.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),i=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(i),u=this.ecparams.G.multiply(s).getX().toBigInteger().mod(i)}while(u.compareTo(n.ZERO)<=0);var c=s.modInverse(i).multiply(a.add(r.multiply(u))).mod(i);return o.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(k.ZERO)<=0);var u=a.modInverse(i).multiply(o.add(r.multiply(s))).mod(i);return this.serializeSig(s,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var a,s,u=o.parseSigHex(t);a=u.r,s=u.s;var c=i.decodeFromHex(this.ecparams.curve,r),l=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,s,c)}catch(e){return!1}},this.verify=function(e,t,o){var a,s,u;if(Bitcoin.Util.isArray(t)){var c=this.parseSig(t);a=c.r,s=c.s}else{if("object"!==(void 0===t?"undefined":r(t))||!t.r||!t.s)throw"Invalid value for signature";a=t.r,s=t.s}if(o instanceof ae)u=o;else{if(!Bitcoin.Util.isArray(o))throw"Invalid format for pubkey value, must be byte array or ECPointFp";u=i.decodeFrom(this.ecparams.curve,o)}var l=n.fromByteArrayUnsigned(e);return this.verifyRaw(l,a,s,u)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var s=r.modInverse(o),u=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var r=e.toByteArraySigned(),n=t.toByteArraySigned(),i=[];return i.push(2),i.push(r.length),(i=i.concat(r)).push(2),i.push(n.length),(i=i.concat(n)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,r,n;try{t=c(e,0,["[0]",0],"06"),r=c(e,0,[1],"04");try{n=c(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=s(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n,i;try{c(e,0,[1,0],"06"),r=c(e,0,[1,1],"06"),n=c(e,0,[2,0,1],"04");try{i=c(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=s(r),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var r,n;try{c(e,0,[0,0],"06"),r=c(e,0,[0,1],"06"),n=c(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=s(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,r){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i;try{n=c(e,0,[0,5,0,1],"06"),i=c(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=s(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new k(t.r,16),s:new k(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de,r=t.getChildIdx,n=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=r(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,o),s:n(e,a)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),r=t.r,n=t.s;if("00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),r.length%32==30&&(r="00"+r),n.length%32==30&&(n="00"+n),r.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return r+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),r=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,r)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var r=new k(e,16),n=new k(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(r,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var r=ce.asn1,n=new r.DERInteger({bigint:e}),i=new r.DERInteger({bigint:t});return new r.DERSequence({array:[n,i]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function r(e){return new k(e,16)}this.getByName=function(r){var n=r;if(void 0!==t[n]&&(n=t[r]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,i,o,a,s,u,c,l,f,d,p,h){e[n]={};var g=r(o),v=r(a),y=r(s),m=r(u),b=r(c),w=new se(g,v,y),x=w.decodePointHex("04"+l+f);e[n].name=n,e[n].keylen=i,e[n].curve=w,e[n].G=x,e[n].n=m,e[n].h=b,e[n].oid=p,e[n].info=h;for(var _=0;_<d.length;_++)t[d[_]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,r,n){return t(y.AES,e,r,n)},t=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s={};s.key=o,s.iv=a,s.ciphertext=i;var u=e.decrypt(s,o,{iv:a});return y.enc.Hex.stringify(u)},r=function(e,t,r){return n(y.AES,e,t,r)},n=function(e,t,r,n){var i=y.enc.Hex.parse(t),o=y.enc.Hex.parse(r),a=y.enc.Hex.parse(n),s=e.encrypt(i,o,{iv:a}),u=y.enc.Hex.parse(s.toString());return y.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:r,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:r,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:r,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,r,n){return t(y.TripleDES,e,r,n)},eproc:function(e,t,r){return n(y.TripleDES,e,t,r)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,r,n){return t(y.DES,e,r,n)},eproc:function(e,t,r){return n(y.DES,e,t,r)},keylen:8,ivlen:8}},o=function(e){var t={},r=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));r&&(t.cipher=r[1],t.ivsalt=r[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,r){for(var n=r.substring(0,16),o=y.enc.Hex.parse(n),a=y.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=y.algo.MD5.create();if(null!=c&&l.update(c),l.update(a),l.update(o),c=l.finalize(),(u+=y.enc.Hex.stringify(c)).length>=2*s)break}var f={};return f.keyhex=u.substr(0,2*i[e].keylen),f.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),f},s=function(e,t,r,n){var o=y.enc.Base64.parse(e),a=y.enc.Hex.stringify(o);return(0,i[t].proc)(a,r,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,r){return a(e,t,r)},decryptKeyB64:function(e,t,r,n){return s(e,t,r,n)},getDecryptedKeyHex:function(e,t){var r=o(e),n=(r.type,r.cipher),i=r.ivsalt,u=r.data,c=a(n,t,i).keyhex;return s(u,n,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,r,n,o){var s="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===i[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==o&&null!=o||(o=function(e){var t=y.lib.WordArray.random(e);return y.enc.Hex.stringify(t)}(i[n].ivlen).toUpperCase());var u=function(e,t,r,n){return(0,i[t].eproc)(e,r,n)}(t,n,a(n,r,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+n+","+o+"\r\n",s+="\r\n",(s+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var r=de,n=r.getChildIdx,i=r.getV,o={},a=n(t,0);if(2!=a.length)throw"malformed format: SEQUENCE(0).items != 2: "+a.length;o.ciphertext=i(t,a[1]);var s=n(t,a[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=i(t,s[0]))throw"this only supports pkcs5PBES2";var u=n(t,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+u.length;var c=n(t,u[1]);if(2!=c.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length;if("2a864886f70d0307"!=i(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=i(t,c[1]);var l=n(t,u[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(t,l[0]))throw"this only supports pkcs5PBKDF2";var f=n(t,l[1]);if(f.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length;o.pbkdf2Salt=i(t,f[0]);var d=i(t,f[1]);try{o.pbkdf2Iter=parseInt(d,16)}catch(e){throw"malformed format pbkdf2Iter: "+d}return o},getPBKDF2KeyHexFromParam:function(e,t){var r=y.enc.Hex.parse(e.pbkdf2Salt),n=e.pbkdf2Iter,i=y.PBKDF2(t,r,{keySize:6,iterations:n});return y.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var r=Pe(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(r),i=He.getPBKDF2KeyHexFromParam(n,t),o={};o.ciphertext=y.enc.Hex.parse(n.ciphertext);var a=y.enc.Hex.parse(i),s=y.enc.Hex.parse(n.encryptionSchemeIV),u=y.TripleDES.decrypt(o,a,{iv:s});return y.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var r=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(r)},parsePlainPrivatePKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var o=r(e,0);if(3!=o.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(o[1],2))throw"malformed PKCS8 private key(code:003)";var a=r(e,o[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(i.algoid=n(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=n(e,a[1])),"04"!=e.substr(o[2],2))throw"malformed PKCS8 private key(code:006)";return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Pe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,r=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==r.algoid)t=new ie;else if("2a8648ce380401"==r.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=r.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,r=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===r)t=new ie;else if("2a8648ce380401"===r)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==r)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var o=r(e,0);if(2!=o.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(o[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,o[0]),"02"!=e.substr(o[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=de,r=t.getChildIdx,n=t.getV,i={algparam:null},o=r(e,0);if(2!=o.length)throw"outer DERSequence shall have 2 elements: "+o.length;var a=o[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var s=r(e,a);if(2!=s.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(s[0],2))throw"malformed PKCS8 public key(code:003)";if(i.algoid=n(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=n(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw"malformed PKCS8 public key(code:004)";return i.key=n(e,o[1]).substr(2),i}}}();He.getKey=function(e,t,r){var n,i=(y=de).getChildIdx,o=(y.getV,y.getVbyList),a=ce.crypto,s=a.ECDSA,u=a.DSA,c=ie,l=Pe,f=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(e.n,e.e),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(P=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),P;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(P=new c).setPrivate(e.n,e.e,e.d),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(P=new u).setPublic(e.p,e.q,e.g,e.y),P;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(P=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(P=new c).setPublic(we(e.n),we(e.e)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(P=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),P;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(P=new c).setPrivate(we(e.n),we(e.e),we(e.d)),P;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(C=new s({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);return C.setPublicKeyHex(p),C}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(C=new s({curve:e.crv})).ecparams.keylen/4,p="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);var h=("0000000000"+we(e.d)).slice(-d);return C.setPublicKeyHex(p),C.setPrivateKeyHex(h),C}if("pkcs5prv"===r){var g,v=e,y=de;if(9===(g=i(v,0)).length)(P=new c).readPKCS5PrvKeyHex(v);else if(6===g.length)(P=new u).readPKCS5PrvKeyHex(v);else{if(!(g.length>2&&"04"===v.substr(g[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(P=new s).readPKCS5PrvKeyHex(v)}return P}if("pkcs8prv"===r)return f.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===r)return f._getKeyFromPublicPKCS8Hex(e);if("x509pub"===r)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Pe(e,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var b=l(e,"RSA PRIVATE KEY");return f.getKey(b,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=o(n=l(e,"DSA PRIVATE KEY"),0,[1],"02"),x=o(n,0,[2],"02"),_=o(n,0,[3],"02"),S=o(n,0,[4],"02"),E=o(n,0,[5],"02");return(P=new u).setPrivate(new k(w,16),new k(x,16),new k(_,16),new k(S,16),new k(E,16)),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return b=l(e,"EC PRIVATE KEY"),f.getKey(b,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return f.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A=f.getDecryptedKeyHex(e,t),O=new ie;return O.readPKCS5PrvKeyHex(A),O}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var C,P=o(n=f.getDecryptedKeyHex(e,t),0,[1],"04"),R=o(n,0,[2,0],"06"),j=o(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[R])throw"undefined OID(hex) in KJUR.crypto.OID: "+R;return(C=new s({curve:ce.crypto.OID.oidhex2name[R]})).setPublicKeyHex(j),C.setPrivateKeyHex(P),C.isPublic=!1,C}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return w=o(n=f.getDecryptedKeyHex(e,t),0,[1],"02"),x=o(n,0,[2],"02"),_=o(n,0,[3],"02"),S=o(n,0,[4],"02"),E=o(n,0,[5],"02"),(P=new u).setPrivate(new k(w,16),new k(x,16),new k(_,16),new k(S,16),new k(E,16)),P;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return f.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var r=t;(a=new ie).generate(r,"10001"),a.isPrivate=!0,a.isPublic=!0;var n=new ie,i=a.n.toString(16),o=a.e.toString(16);return n.setPublic(i,o),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}if("EC"==e){var a,s,u=t,c=new ce.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(n=new ce.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=n,s}throw"unknown algorithm: "+e},He.getPEM=function(e,t,r,n,i,o){var a=ce,s=a.asn1,u=s.DERObjectIdentifier,c=s.DERInteger,l=s.ASN1Util.newObject,f=s.x509.SubjectPublicKeyInfo,d=a.crypto,p=d.DSA,h=d.ECDSA,g=ie;function v(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function b(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==g&&e instanceof g||void 0!==p&&e instanceof p||void 0!==h&&e instanceof h)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Ce(k=new f(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==g&&e instanceof g&&(void 0===r||null==r)&&1==e.isPrivate)return Ce(k=v(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===r||null==r)&&1==e.isPrivate){var w=new u({name:e.curveName}).getEncodedHex(),x=m(e).getEncodedHex(),_="";return(_+=Ce(w,"EC PARAMETERS"))+Ce(x,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===r||null==r)&&1==e.isPrivate)return Ce(k=b(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==g&&e instanceof g&&void 0!==r&&null!=r&&1==e.isPrivate){var k=v(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",k,r,n,o)}if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==r&&null!=r&&1==e.isPrivate)return k=m(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",k,r,n,o);if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==r&&null!=r&&1==e.isPrivate)return k=b(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",k,r,n,o);var S=function(e,t){var r=E(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:r.pbkdf2Salt}},{int:r.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:r.encryptionSchemeIV}}]}]}]},{octstr:{hex:r.ciphertext}}]}).getEncodedHex()},E=function(e,t){var r=y.lib.WordArray.random(8),n=y.lib.WordArray.random(8),i=y.PBKDF2(t,r,{keySize:6,iterations:100}),o=y.enc.Hex.parse(e),a=y.TripleDES.encrypt(o,i,{iv:n})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=y.enc.Hex.stringify(r),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=y.enc.Hex.stringify(n),s};if("PKCS8PRV"==t&&null!=g&&e instanceof g&&1==e.isPrivate){var A=v(e).getEncodedHex();return k=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Ce(k,"PRIVATE KEY"):Ce(x=S(k,r),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return A=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Ce(k,"PRIVATE KEY"):Ce(x=S(k,r),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return A=new c({bigint:e.x}).getEncodedHex(),k=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:A}}]}).getEncodedHex(),void 0===r||null==r?Ce(k,"PRIVATE KEY"):Ce(x=S(k,r),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Pe(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=de,r=t.getChildIdx,n=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw"malformed CSR(code:001)";var a=r(o,0);if(a.length<1)throw"malformed CSR(code:002)";if("30"!=o.substr(a[0],2))throw"malformed CSR(code:003)";var s=r(o,a[0]);if(s.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(o,s[2]),i},He.getKeyID=function(e){var t=He,r=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Pe(t.getPEM(e)),i=r.getIdxbyList(n,0,[1]),o=r.getV(n,i).substring(2);return ce.crypto.Util.hashHex(o,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var r=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t.d=be(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return r=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=be(r.x),t.y=be(r.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,r=de.getV,n=r(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),i=r(e,t[1]),o=r(e,t[2]),a=r(e,t[3]),s=r(e,t[4]),u=r(e,t[5]),c=r(e,t[6]),l=r(e,t[7]),f=r(e,t[8]);return(t=new Array).push(n,i,o,a,s,u,c,l,f),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Pe(e),r=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,r,n,i,o,a,s,u,c=de,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),r=l(e,0,[2,0,2],"02"),n=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,r,n,i,o,a,s,u)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,r=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=r(e,n[0]),o=r(e,n[1]);this.setPublic(i,o)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var r=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(r)},ie.prototype.readCertPubKeyHex=function(e,t){var r,n;(r=new qe).readCertHex(e),n=r.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var ze=new RegExp("[^0-9a-f]","gi");function Ke(e,t){for(var r="",n=t/4-e.length,i=0;i<n;i++)r+="0";return r+e}function We(e,t,r){for(var n="",i=0;n.length<t;)n+=ke(r(Se(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return n}function Ve(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var r=ce.crypto.Util.DIGESTINFOHEAD[t],n=r.length;if(e.substring(0,n)==r)return[t,e.substring(n)]}return[]}function qe(e){var t,r=de,n=r.getChildIdx,i=r.getV,o=r.getTLV,a=r.getVbyList,s=r.getVbyListEx,u=r.getTLVbyList,c=r.getTLVbyListEx,l=r.getIdxbyList,f=r.getIdxbyListEx,d=r.getVidx,p=r.oidname,h=r.hextooidstr,g=qe,v=Pe;try{t=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==u(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var r in t)if(e===t[r])return r;return p(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return g.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return g.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return r.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),r=this.getSignatureValueHex(),n=u(this.hex,0,[0],"30"),i=new ce.crypto.Signature({alg:t});return i.init(e),i.updateHex(n),i.verify(r)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=l(s,0,[0,7,0],"30"),o=n(s,t)}else{s=Pe(e);var u=l(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);t=l(s,0,[0,3,0,1,0],"30"),o=n(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var f={critical:!1},p=0;3===n(s,o[c]).length&&(f.critical=!0,p=1),f.oid=r.hextooidstr(a(s,o[c],[0],"06"));var h=l(s,o[c],[1+p]);f.vidx=d(s,h),this.aExtInfo.push(f)}},this.getExtInfo=function(e){var t=this.aExtInfo,r=e;if(e.match(/^[0-9.]+$/)||(r=ce.asn1.x509.OID.name2oid(e)),""!==r)for(var n=0;n<t.length;n++)if(t[n].oid===r)return t[n]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("basicConstraints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"basicConstraints"};if(t&&(n.critical=!0),"3000"===e)return n;if("30030101ff"===e)return n.cA=!0,n;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return n.cA=!0,n.pathLen=s,n}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("keyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"keyUsage"};return t&&(n.critical=!0),n.names=this.getExtKeyUsageString(e).split(","),n},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var r="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(r=r.slice(-8)),10==e.length&&(r=r.slice(-16)),""==(r=r.replace(/0+$/,""))&&(r="0"),r},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),r=new Array,n=0;n<t.length;n++)"1"==t.substr(n,1)&&r.push(qe.KEYUSAGE_NAME[n]);return r.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectKeyIdentifier"};t&&(n.critical=!0);var a=i(e,0);return n.kid={hex:a},n},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityKeyIdentifier");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=n(e,0),u=0;u<s.length;u++){var c=e.substr(s[u],2);if("80"===c&&(a.kid={hex:i(e,s[u])}),"a1"===c){var l=o(e,s[u]),f=this.getGeneralNames(l);a.issuer=f[0].dn}"82"===c&&(a.sn={hex:i(e,s[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("extKeyUsage");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=n(e,0),u=0;u<s.length;u++)a.array.push(p(i(e,s[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=o(this.hex,e.vidx);if(""===r)return t;for(var a=n(r,0),s=0;s<a.length;s++)t.push(p(i(r,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("subjectAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"subjectAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("issuerAltName");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var n={extname:"issuerAltName",array:[]};return t&&(n.critical=!0),n.array=this.getGeneralNames(e),n},this.getGeneralNames=function(e){for(var t=n(e,0),r=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&r.push(a)}return r},this.getGeneralName=function(e){var t=e.substr(0,2),r=i(e,0),n=ke(r);return"81"==t?{rfc822:n}:"82"==t?{dns:n}:"86"==t?{uri:n}:"87"==t?{ip:De(r)}:"a4"==t?{dn:this.getX500Name(r)}:void 0},this.getExtSubjectAltName2=function(){var e,t,r,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,u=o(this.hex,a.vidx),c=n(u,0),l=0;l<c.length;l++)r=u.substr(c[l],2),e=i(u,c[l]),"81"===r&&(t=_e(e),s.push(["MAIL",t])),"82"===r&&(t=_e(e),s.push(["DNS",t])),"84"===r&&(t=qe.hex2dn(e,0),s.push(["DN",t])),"86"===r&&(t=_e(e),s.push(["URI",t])),"87"===r&&(t=De(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("cRLDistributionPoints");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var u=o(e,a[s]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=e.substr(r[i],2),s=o(e,r[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,r=n(this.hex,e.vidx),i=0;i<r.length;i++)try{var o=_e(a(this.hex,r[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},r=n(this.hex,e.vidx),i=0;i<r.length;i++){var o=a(this.hex,r[i],[0],"06"),s=a(this.hex,r[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(_e(s)),"2b06010505073002"===o&&t.caissuer.push(_e(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("authorityInfoAccess");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=n(e,0),c=0;c<u.length;c++){var l=s(e,u[c],[0],"06"),f=_e(a(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:f});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:f})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("certificatePolicies");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=n(e,0),s=0;s<a.length;s++){var u=o(e,a[s]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},r=a(e,0,[0],"06");t.policyoid=p(r);var i=f(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=n(e,i),u=0;u<s.length;u++){var c=o(e,s[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},r=a(e,0,[0],"06");if("2b06010505070201"===r){var n=s(e,0,[1],"16");t.cps=ke(n)}else if("2b06010505070202"===r){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=ke(i(e,0)),t},this.getExtCRLNumber=function(e,t){var r={extname:"cRLNumber"};if(t&&(r.critical=!0),"02"==e.substr(0,2))return r.num={hex:i(e,0)},r;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var r={extname:"cRLReason"};if(t&&(r.critical=!0),"0a"==e.substr(0,2))return r.code=parseInt(i(e,0),16),r;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var r={extname:"ocspNonce"};t&&(r.critical=!0);var n=i(e,0);return r.hex=n,r},this.getExtOcspNoCheck=function(e,t){var r={extname:"ocspNoCheck"};return t&&(r.critical=!0),r},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var r=this.getExtInfo("adobeTimeStamp");if(void 0===r)return;e=o(this.hex,r.vidx),t=r.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=n(e,0);if(a.length>1){var s=o(e,a[1]),u=this.getGeneralName(s);null!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,r=[],n=0;n<e.length;n++)for(var i=e[n],o=0;o<i.length;o++)r.push(i[o]);for(n=0;n<r.length;n++){var a=r[n],s=a.ds,u=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(ce.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getRDN(o(e,r[i])));return t},this.getRDN=function(e){for(var t=[],r=n(e,0),i=0;i<r.length;i++)t.push(this.getAttrTypeAndValue(o(e,r[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},r=n(e,0),i=a(e,r[0],[],"06"),o=a(e,r[1],[]),s=ce.asn1.ASN1Util.oidHexToInt(i);return t.type=ce.asn1.x509.OID.oid2atype(s),t.value=ke(o),t.ds=this.HEX2STAG[e.substr(r[1],2)],t},this.readCertPEM=function(e){this.readCertHex(v(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Ce(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=f(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],r=n(e,0),i=0;i<r.length;i++){var a=o(e,r[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=n(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var r=h(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var o=u(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==r?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==r?s=this.getExtKeyUsage(o,i):"2.5.29.17"==r?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==r?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==r?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==r?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==r?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==r?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==r?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==r?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==r?s=this.getExtCRLNumber(o,i):"2.5.29.21"==r?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==r?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==r?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==r&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var c={extname:r,extn:o};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var r=0;r<e.length;r++)if(e[r].extname==t)return e[r];return null},this.updateExtCDPFullURI=function(e,t){var r=this.findExt(e,"cRLDistributionPoints");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)if(null!=n[i].dpname&&null!=n[i].dpname.full)for(var o=n[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].ocsp&&(n[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var r=this.findExt(e,"authorityInfoAccess");if(null!=r&&null!=r.array)for(var n=r.array,i=0;i<n.length;i++)null!=n[i].caissuer&&(n[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e)})).join("+")}(e)})).join("/")},this.getInfo=function(){var e,t,r,n=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(t){for(var r="",n=t.array,i=0;i<n.length;i++){var o=n[i];try{void 0!==o.dpname.full[0].uri&&(r+="    "+o.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==o.dname.full[0].dn.hex&&(r+="    "+qe.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(e){}}return r},a=function(e){for(var t="",r=e.array,n=0;n<r.length;n++){var i=r[n];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Me(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Me(t.e.toString(16))+"\n"),null!=(r=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<r.length;s++){var u=r[s],c=ce.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var f=this.getExtBasicConstraints();void 0===f.cA?e+="    {}\n":(e+="    cA=true",void 0!==f.pathLen&&(e+=", pathLen="+f.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+n(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ce.lang.String.isHex(e)&&this.readCertHex(e))}ie.prototype.sign=function(e,t){var r=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(r,t)},ie.prototype.signWithMessageHash=function(e,t){var r=re(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return Ke(this.doPrivate(r).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,r){var n=function(e){return ce.crypto.Util.hashHex(e,t)}(Se(e));return void 0===r&&(r=-1),this.signWithMessageHashPSS(n,t,r)},ie.prototype.signWithMessageHashPSS=function(e,t,r){var n,i=ke(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),u=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===r||void 0===r)r=o;else if(-2===r)r=s-o-2;else if(r<-2)throw new Error("invalid salt length");if(s<o+r+2)throw new Error("data too long");var c="";r>0&&(c=new Array(r),(new te).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=ke(u(Se("\0\0\0\0\0\0\0\0"+i+c))),f=[];for(n=0;n<s-r-o-2;n+=1)f[n]=0;var d=String.fromCharCode.apply(String,f)+"\x01"+c,p=We(l,d.length,u),h=[];for(n=0;n<d.length;n+=1)h[n]=d.charCodeAt(n)^p.charCodeAt(n);var g=65280>>8*s-a&255;for(h[0]&=~g,n=0;n<o;n++)h.push(l.charCodeAt(n));return h.push(188),Ke(this.doPrivate(new k(h)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var r=re(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ve(this.doPublic(r).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var i=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,i)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r=re(t,16);if(r.bitLength()>this.n.bitLength())return 0;var n=Ve(this.doPublic(r).toString(16).replace(/^1f+00/,""));return 0!=n.length&&(n[0],n[1]==e)},ie.prototype.verifyPSS=function(e,t,r,n){var i=function(e){return ce.crypto.Util.hashHex(e,r)}(Se(e));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(i,t,r,n)},ie.prototype.verifyWithMessageHashPSS=function(e,t,r,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new k(t,16),a=function(e){return ce.crypto.Util.hashHex(e,r)},s=ke(e),u=s.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===n||void 0===n)n=u;else if(-2===n)n=l-u-2;else if(n<-2)throw new Error("invalid salt length");if(l<u+n+2)throw new Error("data too long");var f=this.doPublic(o).toByteArray();for(i=0;i<f.length;i+=1)f[i]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw new Error("encoded message does not end in 0xbc");var d=(f=String.fromCharCode.apply(String,f)).substr(0,l-u-1),p=f.substr(d.length,u),h=65280>>8*l-c&255;if(0!=(d.charCodeAt(0)&h))throw new Error("bits beyond keysize not zero");var g=We(p,d.length,a),v=[];for(i=0;i<d.length;i+=1)v[i]=d.charCodeAt(i)^g.charCodeAt(i);v[0]&=~h;var y=l-u-n-2;for(i=0;i<y;i+=1)if(0!==v[i])throw new Error("leftmost octets not zero");if(1!==v[y])throw new Error("0x01 marker not found");return p===ke(a(Se("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,v.slice(-n)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed DN");for(var r=new Array,n=de.getChildIdx(e,t),i=0;i<n.length;i++)r.push(qe.hex2rdn(e,n[i]));return"/"+(r=r.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var r=new Array,n=de.getChildIdx(e,t),i=0;i<n.length;i++)r.push(qe.hex2attrTypeValue(e,n[i]));return(r=r.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var r=de,n=r.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=r.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=n(e,i[0]),a=ce.asn1.ASN1Util.oidHexToInt(o);return ce.asn1.x509.OID.oid2atype(a)+"="+ke(n(e,i[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,r,n=de.getVbyList,i={algparam:null};return(t=new qe).readCertPEM(e),r=t.getPublicKeyHex(),i.keyhex=n(r,0,[1],"03").substr(2),i.algoid=n(r,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=n(r,0,[0,1],"06")),i},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(t.KJUR=ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,r){if(void 0===this.parsedJWS||!r&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=n[1],o=n[2],a=n[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!r){var u=we(a),c=re(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=fe(i),f=fe(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ce.jws.JWS.sign=function(e,t,n,i,o){var a,s,u,c=ce,l=c.jws.JWS,f=l.readSafeJSONString,d=l.isSafeJSONString,p=c.crypto,h=(p.ECDSA,p.Mac),g=p.Signature,v=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":r(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":r(t))&&(s=t,a=v.stringify(s)),"string"==typeof t){if(!d(a=t))throw"JWS Head is not safe JSON string: "+a;s=f(a)}if(u=n,"object"==(void 0===n?"undefined":r(n))&&(u=v.stringify(n)),""!=e&&null!=e||void 0===s.alg||(e=s.alg),""!=e&&null!=e&&void 0===s.alg&&(s.alg=e,a=v.stringify(s)),e!==s.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+s.alg;var y=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=l.jwsalg2sigalg[e];var m=le(a)+"."+le(u),b="";if("Hmac"==y.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var w=new h({alg:y,prov:"cryptojs",pass:i});w.updateString(m),b=w.doFinal()}else if(-1!=y.indexOf("withECDSA")){(_=new g({alg:y})).init(i,o),_.updateString(m);var x=_.sign();b=ce.crypto.ECDSA.asn1SigToConcatSig(x)}else{var _;"none"!=y&&((_=new g({alg:y})).init(i,o),_.updateString(m),b=_.sign())}return m+"."+be(b)},ce.jws.JWS.verify=function(e,t,n){var i,o=ce,a=o.jws.JWS,s=a.readSafeJSONString,u=o.crypto,c=u.ECDSA,l=u.Mac,f=u.Signature;void 0!==r(ie)&&(i=ie);var d=e.split(".");if(3!==d.length)return!1;var p,h=d[0]+"."+d[1],g=we(d[2]),v=s(fe(d[0])),y=null;if(void 0===v.alg)throw"algorithm not specified in header";if(p=(y=v.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=p&&"PS"!=p||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==p&&!(t instanceof c))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===a.jwsalg2sigalg[v.alg])throw"unsupported alg name: "+y;if("none"==(m=a.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var b=new l({alg:m,pass:t});return b.updateString(h),g==b.doFinal()}if(-1!=m.indexOf("withECDSA")){var w,x=null;try{x=c.concatSigToASN1Sig(g)}catch(e){return!1}return(w=new f({alg:m})).init(t),w.updateString(h),w.verify(x)}return(w=new f({alg:m})).init(t),w.updateString(h),w.verify(g)},ce.jws.JWS.parse=function(e){var t,r,n,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],r=i[1],3==i.length&&(n=i[2]),o.headerObj=ce.jws.JWS.readSafeJSONString(fe(t)),o.payloadObj=ce.jws.JWS.readSafeJSONString(fe(r)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=fe(r):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==n&&(o.sigHex=we(n)),o},ce.jws.JWS.verifyJWT=function(e,t,n){var i=ce.jws,o=i.JWS,a=o.readSafeJSONString,s=o.inArray,u=o.includedArray,c=e.split("."),l=c[0],f=c[1],d=(we(c[2]),a(fe(l))),p=a(fe(f));if(void 0===d.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!s(d.alg,n.alg))return!1;if(void 0!==p.iss&&"object"===r(n.iss)&&!s(p.iss,n.iss))return!1;if(void 0!==p.sub&&"object"===r(n.sub)&&!s(p.sub,n.sub))return!1;if(void 0!==p.aud&&"object"===r(n.aud))if("string"==typeof p.aud){if(!s(p.aud,n.aud))return!1}else if("object"==r(p.aud)&&!u(p.aud,n.aud))return!1;var h=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(h=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==p.exp&&"number"==typeof p.exp&&p.exp+n.gracePeriod<h)&&!(void 0!==p.nbf&&"number"==typeof p.nbf&&h<p.nbf-n.gracePeriod)&&!(void 0!==p.iat&&"number"==typeof p.iat&&h<p.iat-n.gracePeriod)&&(void 0===p.jti||void 0===n.jti||p.jti===n.jti)&&!!o.verify(e,t,n.alg)},ce.jws.JWS.includedArray=function(e,t){var n=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":r(e)))return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":r(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,n){var i=null;try{return"object"!=(void 0===(i=ue(e))?"undefined":r(i))||i.constructor===Array?0:(t&&(t[n]=i),1)}catch(e){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=ue(e))?"undefined":r(t))||t.constructor===Array?null:t}catch(e){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var r=Se(t);return be(ce.crypto.Util.hashHex(r,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,r=t.getNow,n=t.getZulu;if("now"==e)return r();if("now + 1hour"==e)return r()+3600;if("now + 1day"==e)return r()+86400;if("now + 1month"==e)return r()+2592e3;if("now + 1year"==e)return r()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return je(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=te,t.rng_seed_time=G,t.BigInteger=k,t.RSAKey=ie;var Je=ce.crypto.EDSA;t.EDSA=Je;var Ze=ce.crypto.DSA;t.DSA=Ze;var Ge=ce.crypto.Signature;t.Signature=Ge;var Qe=ce.crypto.MessageDigest;t.MessageDigest=Qe;var $e=ce.crypto.Mac;t.Mac=$e;var Ye=ce.crypto.Cipher;t.Cipher=Ye,t.KEYUTIL=He,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=y,t.b64tohex=x,t.b64toBA=_,t.stoBA=pe,t.BAtos=he,t.BAtohex=ge,t.stohex=ve,t.stob64=function(e){return w(ve(e))},t.stob64u=function(e){return ye(w(ve(e)))},t.b64utos=function(e){return he(_(me(e)))},t.b64tob64u=ye,t.b64utob64=me,t.hex2b64=w,t.hextob64u=be,t.b64utohex=we,t.utf8tob64u=le,t.b64utoutf8=fe,t.utf8tob64=function(e){return w(Ie(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Te(x(e)))},t.utf8tohex=xe,t.hextoutf8=_e,t.hextorstr=ke,t.rstrtohex=Se,t.hextob64=Ee,t.hextob64nl=Ae,t.b64nltohex=Oe,t.hextopem=Ce,t.pemtohex=Pe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),r=new DataView(t),n=0;n<e.length/2;n++)r.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",r=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+r.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=Re,t.zulutosec=je,t.zulutodate=function(e){return new Date(Re(e))},t.datetozulu=function(e,t,r){var n,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;n=(""+i).slice(-2)}else n=("000"+i).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),r){var o=e.getUTCMilliseconds();0!==o&&(n+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Ie,t.hextouricmp=Te,t.ipv6tohex=Fe,t.hextoipv6=Ne,t.hextoip=De,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Fe(e);throw t}var r=e.split(".");if(4!==r.length)throw t;var n="";try{for(var i=0;i<4;i++)n+=("0"+parseInt(r[i]).toString(16)).slice(-2);return n}catch(e){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Me,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,r){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var r=e.length;e.length>t.length&&(r=t.length);for(var n=0;n<r;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?r:-1},t.KJUR=ce;var Xe=ce.crypto;t.crypto=Xe;var et=ce.asn1;t.asn1=et;var tt=ce.jws;t.jws=tt;var rt=ce.lang;t.lang=rt}).call(this,r(28).Buffer)},function(e,t,r){"use strict";(function(e){var n=r(30),i=r(31),o=r(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|p(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|p(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|p(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function h(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return H(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return A(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,a=1,s=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function w(e,t,r,n){return K(H(t,e.length-r),e,r,n)}function x(e,t,r,n){return K(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return x(e,t,r,n)}function k(e,t,r,n){return K(z(t),e,r,n)}function S(e,t,r,n){return K(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function A(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=r)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=f}return function(e){var t=e.length;if(t<=O)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=O));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=h,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=e.slice(t,r),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return x(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=B(e[o]);return i}function j(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function N(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||T(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||T(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);T(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);T(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function K(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(29))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),l=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,f=r?i-1:0,d=r?-1:1,p=e[t+f];for(f+=d,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,r=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(r){n.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(r);return{header:i.headerObj,payload:i.payloadObj}}catch(e){n.Log.error(e)}},e.validateJwt=function(t,o,a,u,c,l,f){n.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=r.getKey(o);else{if(!o.x5c||!o.x5c.length)return n.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return n.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return n.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=r.getKey(o)}return e._validateJwt(t,o,a,u,c,l,f)}catch(e){return n.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,r,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var u=e.parseJwt(t).payload;if(!u.iss)return n.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==r)return n.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return n.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return n.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return n.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!s){var c=a+o,l=a-o;if(!u.iat)return n.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return n.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return n.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return n.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return n.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},e._validateJwt=function(r,i,o,a,s,c,l){return e.validateJwtAttributes(r,o,a,s,c,l).then((function(e){try{return t.JWS.verify(r,i,u)?e:(n.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return n.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,r){try{return o.Util.hashString(t,r)}catch(e){n.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){n.Log.error(e)}},e}()};var n=r(0);e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";o(this,e);var n=i.UrlUtility.parseUrlFragment(t,r);this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.code=n.code,this.state=n.state,this.id_token=n.id_token,this.session_state=n.session_state,this.access_token=n.access_token,this.token_type=n.token_type,this.scope=n.scope,this.profile=void 0,this.expires_in=n.expires_in}return n(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var r=parseInt(Date.now()/1e3);this.expires_at=r+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var n=r(0),i=r(3),o=r(9);t.SignoutRequest=function e(t){var r=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!r)throw n.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var f in a&&(r=i.UrlUtility.addQueryParam(r,"id_token_hint",a)),s&&(r=i.UrlUtility.addQueryParam(r,"post_logout_redirect_uri",s),u&&(this.state=new o.State({data:u,request_type:l}),r=i.UrlUtility.addQueryParam(r,"state",this.state.id))),c)r=i.UrlUtility.addQueryParam(r,f,c[f]);this.url=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var n=r(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=n.UrlUtility.parseUrlFragment(t,"?");this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.state=r.state}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},n(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(10),a=r(39),s=r(15),u=r(45),c=r(47),l=r(18),f=r(8),d=r(20),p=r(11),h=r(4);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:p.TokenClient,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:h.JoseUtil;g(this,t),r instanceof a.UserManagerSettings||(r=new a.UserManagerSettings(r));var m=v(this,e.call(this,r));return m._events=new u.UserManagerEvents(r),m._silentRenewService=new n(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new s(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=y,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(r){return r&&r.refresh_token?(t.refresh_token=r.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&r&&r.id_token,r&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",r.profile.sub),t.current_sub=r.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(r){if(r){var n=Promise.resolve();return t.id_token&&(n=e._validateIdTokenFromTokenRefreshToken(r.profile,t.id_token)),n.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),r.id_token=t.id_token||r.id_token,r.access_token=t.access_token,r.refresh_token=t.refresh_token||r.refresh_token,r.expires_in=t.expires_in,e.storeUser(r).then((function(){return e._events.load(r),r}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var r=this;return this._metadataService.getIssuer().then((function(n){return r.settings.getEpochTime().then((function(o){return r._joseUtil.validateJwtAttributes(t,n,r._settings.client_id,r._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(r){var n=r.state;return r.response,"si:r"===n.request_type?t.signinRedirectCallback(e):"si:p"===n.request_type?t.signinPopupCallback(e):"si:s"===n.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var r=this;return this.readSignoutResponseState(e).then((function(n){var i=n.state,o=n.response;return i?"so:r"===i.request_type?r.signoutRedirectCallback(e):"so:p"===i.request_type?r.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var r=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return r?(t.redirect_uri=r,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:r,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,n).then((function(t){return r._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(n).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),r.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),n.url=e.url,n.id=e.state.id,t.navigate(n)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var n=new s.User(e);if(r.current_sub){if(r.current_sub!==n.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",n.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(n).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(n),n}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var r="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,r)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var r={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,r).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,n).then((function(e){return r._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,r=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.prepare(n).then((function(r){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),n.url=e.url,e.state&&(n.id=e.state.id),r.navigate(n)}))}))}))})).catch((function(e){throw r.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),r.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(r){if(r)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var r=this;if(e){var n=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(n,t).then((function(e){return r._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},n(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=(r(0),r(5)),o=r(40),a=r(41),s=r(43),u=r(6),c=r(1),l=r(8);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.popup_redirect_uri,i=r.popup_post_logout_redirect_uri,p=r.popupWindowFeatures,h=r.popupWindowTarget,g=r.silent_redirect_uri,v=r.silentRequestTimeout,y=r.automaticSilentRenew,m=void 0!==y&&y,b=r.validateSubOnSilentRenew,w=void 0!==b&&b,x=r.includeIdTokenInSilentRenew,_=void 0===x||x,k=r.monitorSession,S=void 0===k||k,E=r.monitorAnonymousSession,A=void 0!==E&&E,O=r.checkSessionInterval,C=void 0===O?2e3:O,P=r.stopCheckSessionOnError,R=void 0===P||P,j=r.query_status_response_type,I=r.revokeAccessTokenOnSignout,T=void 0!==I&&I,F=r.accessTokenExpiringNotificationTime,N=void 0===F?60:F,D=r.redirectNavigator,L=void 0===D?new o.RedirectNavigator:D,U=r.popupNavigator,M=void 0===U?new a.PopupNavigator:U,B=r.iframeNavigator,H=void 0===B?new s.IFrameNavigator:B,z=r.userStore,K=void 0===z?new u.WebStorageStateStore({store:c.Global.sessionStorage}):z;f(this,t);var W=d(this,e.call(this,arguments[0]));return W._popup_redirect_uri=n,W._popup_post_logout_redirect_uri=i,W._popupWindowFeatures=p,W._popupWindowTarget=h,W._silent_redirect_uri=g,W._silentRequestTimeout=v,W._automaticSilentRenew=m,W._validateSubOnSilentRenew=w,W._includeIdTokenInSilentRenew=_,W._accessTokenExpiringNotificationTime=N,W._monitorSession=S,W._monitorAnonymousSession=A,W._checkSessionInterval=C,W._stopCheckSessionOnError=R,j?W._query_status_response_type=j:arguments[0]&&arguments[0].response_type?W._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=T,W._redirectNavigator=L,W._popupNavigator=M,W._iframeNavigator=H,W._userStore=K,W}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},n(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var n=r(0),i=r(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,r,o){n.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,r,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(3);t.PopupWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t}));var n=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",n,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,r){if(window.opener){if(e=e||window.location.href){var n=o.UrlUtility.parseUrlFragment(e,r);if(n.state){var a="popupCallback_"+n.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},n(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var n=r(0),i=r(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){n.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0);t.IFrameWindow=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},n(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var n=r(0),i=r(16),o=r(17);t.UserManagerEvents=function(e){function t(r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,r));return n._userLoaded=new o.Event("User loaded"),n._userUnloaded=new o.Event("User unloaded"),n._silentRenewError=new o.Event("Silent renew error"),n._userSignedIn=new o.Event("User signed in"),n._userSignedOut=new o.Event("User signed out"),n._userSessionChanged=new o.Event("User session changed"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),r&&this._userLoaded.raise(t)},t.prototype.unload=function(){n.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){n.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){n.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){n.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){n.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(0),o=r(1),a=r(17);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t);var a=u(this,e.call(this,r));return a._timer=n,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var r=5;e<r&&(r=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*r)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},n(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var n=r(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){n.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){n.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){n.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var n=r(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var n=r(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new n.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.5"}])},e.exports=t()},7235:function(e,t,r){var n;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:r.g):function(e){return(n||(n=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}},1061:function(e,t,r){e.exports=r(3609)},7641:function(e,t,r){"use strict";var n=r(319).default,i=r(4575).default,o=r(3913).default;e.exports=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;i(this,e),this.prefix=t,this._existing=r,this.counter=n}return o(e,[{key:"clone",value:function(){var t=this.prefix,r=this._existing,n=this.counter;return new e(t,new Map(r),n)}},{key:"getId",value:function(e){var t=e&&this._existing.get(e);if(t)return t;var r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}},{key:"hasId",value:function(e){return this._existing.has(e)}},{key:"getOldIds",value:function(){return n(this._existing.keys())}}]),e}()},204:function(e,t,r){"use strict";var n=r(7757),i=r(8926).default,o=r(4575).default,a=r(3913).default;r(2201);var s=self.crypto||self.msCrypto;e.exports=function(){function e(t){if(o(this,e),!s||!s.subtle)throw new Error("crypto.subtle not found.");if("sha256"===t)this.algorithm={name:"SHA-256"};else{if("sha1"!==t)throw new Error('Unsupport algorithm "'.concat(t,'".'));this.algorithm={name:"SHA-1"}}this._content=""}return a(e,[{key:"update",value:function(e){this._content+=e}},{key:"digest",value:function(){var e=i(n.mark((function e(){var t,r,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(new TextEncoder).encode(this._content),e.t0=Uint8Array,e.next=4,s.subtle.digest(this.algorithm,t);case 4:for(e.t1=e.sent,r=new e.t0(e.t1),i="",o=0;o<r.length;++o)i+=r[o].toString(16).padStart(2,"0");return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()},5181:function(e,t,r){"use strict";var n=r(3269).default,i=r(4575).default,o=r(3913).default,a="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",s="http://www.w3.org/2001/XMLSchema#string",u="NamedNode",c="BlankNode",l="Literal",f="DefaultGraph",d={};function p(e,t){return e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType&&(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value&&(e.object.termType!==l||e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value))}d.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,d.empty=new RegExp("^[ \\t]*$"),d.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9])(?:(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040.])*(?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd_0-9-\xb7\u0300-\u036f\u203f-\u2040]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=function(){function e(){i(this,e)}return o(e,null,[{key:"parse",value:function(e){var t,r=[],i={},o=e.split(d.eoln),h=0,v=n(o);try{for(v.s();!(t=v.n()).done;){var y=t.value;if(h++,!d.empty.test(y)){var m=y.match(d.quad);if(null===m)throw new Error("N-Quads parse error on line "+h+".");var b={subject:null,predicate:null,object:null,graph:null};if(void 0!==m[1]?b.subject={termType:u,value:m[1]}:b.subject={termType:c,value:m[2]},b.predicate={termType:u,value:m[3]},void 0!==m[4]?b.object={termType:u,value:m[4]}:void 0!==m[5]?b.object={termType:c,value:m[5]}:(b.object={termType:l,value:void 0,datatype:{termType:u}},void 0!==m[7]?b.object.datatype.value=m[7]:void 0!==m[8]?(b.object.datatype.value=a,b.object.language=m[8]):b.object.datatype.value=s,b.object.value=m[6].replace(g,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==m[9]?b.graph={termType:u,value:m[9]}:void 0!==m[10]?b.graph={termType:c,value:m[10]}:b.graph={termType:f,value:""},b.graph.value in i){var w,x=!0,_=i[b.graph.value],k=n(_);try{for(k.s();!(w=k.n()).done;){if(p(w.value,b)){x=!1;break}}}catch(S){k.e(S)}finally{k.f()}x&&(_.push(b),r.push(b))}else i[b.graph.value]=[b],r.push(b)}}}catch(S){v.e(S)}finally{v.f()}return r}},{key:"serialize",value:function(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));var r,i=[],o=n(t);try{for(o.s();!(r=o.n()).done;){var a=r.value;i.push(e.serializeQuad(a))}}catch(s){o.e(s)}finally{o.f()}return i.sort().join("")}},{key:"serializeQuad",value:function(e){var t=e.subject,r=e.predicate,n=e.object,i=e.graph,o="";return t.termType===u?o+="<".concat(t.value,">"):o+="".concat(t.value),o+=" <".concat(r.value,"> "),n.termType===u?o+="<".concat(n.value,">"):n.termType===c?o+=n.value:(o+='"'.concat(function(e){return e.replace(h,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(n.value),'"'),n.datatype.value===a?n.language&&(o+="@".concat(n.language)):n.datatype.value!==s&&(o+="^^<".concat(n.datatype.value,">"))),i.termType===u?o+=" <".concat(i.value,">"):i.termType===c&&(o+=" ".concat(i.value)),o+=" .\n"}},{key:"legacyDatasetToQuads",value:function(e){var t=[],r={"blank node":c,IRI:u,literal:l},n=function(n){e[n].forEach((function(e){var i={};for(var o in e){var d=e[o],p={termType:r[d.type],value:d.value};p.termType===l&&(p.datatype={termType:u},"datatype"in d&&(p.datatype.value=d.datatype),"language"in d?("datatype"in d||(p.datatype.value=a),p.language=d.language):"datatype"in d||(p.datatype.value=s)),i[o]=p}i.graph="@default"===n?{termType:f,value:""}:{termType:n.startsWith("_:")?c:u,value:n},t.push(i)}))};for(var i in e)n(i);return t}}]),e}();var h=/["\\\n\r]/g;var g=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},7831:function(e,t,r){"use strict";var n=r(3269).default,i=r(4575).default,o=r(3913).default;e.exports=function(){function e(t){i(this,e),this.current=t.sort(),this.done=!1,this.dir=new Map;for(var r=0;r<t.length;++r)this.dir.set(t[r],!0)}return o(e,[{key:"hasNext",value:function(){return!this.done}},{key:"next",value:function(){for(var e=this.current,t=this.dir,r=e.slice(),i=null,o=0,a=e.length,s=0;s<a;++s){var u=e[s],c=t.get(u);(null===i||u>i)&&(c&&s>0&&u>e[s-1]||!c&&s<a-1&&u>e[s+1])&&(i=u,o=s)}if(null===i)this.done=!0;else{var l=t.get(i)?o-1:o+1;e[o]=e[l],e[l]=i;var f,d=n(e);try{for(d.s();!(f=d.n()).done;){var p=f.value;p>i&&t.set(p,!t.get(p))}}catch(h){d.e(h)}finally{d.f()}}return r}}]),e}()},4917:function(e,t,r){"use strict";var n=r(7757),i=r(1109).default,o=r(319).default,a=r(3269).default,s=r(8926).default,u=r(4575).default,c=r(3913).default,l=r(7641),f=r(204),d=r(7831),p=r(5181);function h(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){u(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new l("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return c(e,[{key:"main",value:function(){var e=s(n.mark((function e(t){var r,s,u,c,f,d,g,v,y,m,b,w,x,_,k,S,E,A,O,C,P,R,j,I,T,F,N,D,L,U,M,B,H,z,K,W,V;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.quads=t,r=a(t);try{for(r.s();!(s=r.n()).done;)u=s.value,this._addBlankNodeQuadInfo({quad:u,component:u.subject}),this._addBlankNodeQuadInfo({quad:u,component:u.object}),this._addBlankNodeQuadInfo({quad:u,component:u.graph})}catch(n){r.e(n)}finally{r.f()}c=new Map,f=o(this.blankNodeInfo.keys()),d=0,g=a(f),e.prev=7,g.s();case 9:if((v=g.n()).done){e.next=18;break}if(y=v.value,++d%100!==0){e.next=14;break}return e.next=14,this._yield();case 14:return e.next=16,this._hashAndTrackBlankNode({id:y,hashToBlankNodes:c});case 16:e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(7),g.e(e.t0);case 23:return e.prev=23,g.f(),e.finish(23);case 26:m=o(c.keys()).sort(),b=[],w=a(m),e.prev=29,w.s();case 31:if((x=w.n()).done){e.next=41;break}if(_=x.value,!((k=c.get(_)).length>1)){e.next=37;break}return b.push(k),e.abrupt("continue",39);case 37:S=k[0],this.canonicalIssuer.getId(S);case 39:e.next=31;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(29),w.e(e.t1);case 46:return e.prev=46,w.f(),e.finish(46);case 49:E=0,A=b;case 50:if(!(E<A.length)){e.next=81;break}O=A[E],C=[],P=a(O),e.prev=54,P.s();case 56:if((R=P.n()).done){e.next=68;break}if(j=R.value,!this.canonicalIssuer.hasId(j)){e.next=60;break}return e.abrupt("continue",66);case 60:return(I=new l("_:b")).getId(j),e.next=64,this.hashNDegreeQuads(j,I);case 64:T=e.sent,C.push(T);case 66:e.next=56;break;case 68:e.next=73;break;case 70:e.prev=70,e.t2=e.catch(54),P.e(e.t2);case 73:return e.prev=73,P.f(),e.finish(73);case 76:for(C.sort(h),F=0,N=C;F<N.length;F++){D=N[F],L=D.issuer.getOldIds(),U=a(L);try{for(U.s();!(M=U.n()).done;)B=M.value,this.canonicalIssuer.getId(B)}catch(n){U.e(n)}finally{U.f()}}case 78:E++,e.next=50;break;case 81:H=[],z=a(this.quads);try{for(z.s();!(K=z.n()).done;)W=K.value,(V=i({},W)).subject=this._useCanonicalId({component:V.subject}),V.object=this._useCanonicalId({component:V.object}),V.graph=this._useCanonicalId({component:V.graph}),H.push(p.serializeQuad(V))}catch(n){z.e(n)}finally{z.f()}return H.sort(),e.abrupt("return",H.join(""));case 86:case"end":return e.stop()}}),e,this,[[7,20,23,26],[29,43,46,49],[54,70,73,76]])})));return function(t){return e.apply(this,arguments)}}()},{key:"hashFirstDegreeQuads",value:function(){var e=s(n.mark((function e(t){var r,i,o,s,u,c,l,d,h,g,v;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],i=this.blankNodeInfo.get(t),o=i.quads,s=a(o);try{for(s.s();!(u=s.n()).done;)c=u.value,(l={subject:null,predicate:c.predicate,object:null,graph:null}).subject=this.modifyFirstDegreeComponent(t,c.subject,"subject"),l.object=this.modifyFirstDegreeComponent(t,c.object,"object"),l.graph=this.modifyFirstDegreeComponent(t,c.graph,"graph"),r.push(p.serializeQuad(l))}catch(n){s.e(n)}finally{s.f()}for(r.sort(),d=new f(this.hashAlgorithm),h=0,g=r;h<g.length;h++)v=g[h],d.update(v);return e.next=10,d.digest();case 10:return i.hash=e.sent,e.abrupt("return",i.hash);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"hashRelatedBlankNode",value:function(){var e=s(n.mark((function e(t,r,i,o){var a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.canonicalIssuer.hasId(t)?this.canonicalIssuer.getId(t):i.hasId(t)?i.getId(t):this.blankNodeInfo.get(t).hash,(s=new f(this.hashAlgorithm)).update(o),"g"!==o&&s.update(this.getRelatedPredicate(r)),s.update(a),e.abrupt("return",s.digest());case 6:case"end":return e.stop()}}),e,this)})));return function(t,r,n,i){return e.apply(this,arguments)}}()},{key:"hashNDegreeQuads",value:function(){var e=s(n.mark((function e(t,r){var i,s,u,c,l,p,h,g,v,y,m,b,w,x,_,k,S,E,A,O,C,P;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new f(this.hashAlgorithm),e.next=3,this.createHashToRelated(t,r);case 3:s=e.sent,u=o(s.keys()).sort(),c=a(u),e.prev=6,c.s();case 8:if((l=c.n()).done){e.next=69;break}p=l.value,i.update(p),h="",g=void 0,v=new d(s.get(p)),y=0;case 15:if(!v.hasNext()){e.next=65;break}if(m=v.next(),++y%3!==0){e.next=20;break}return e.next=20,this._yield();case 20:b=r.clone(),w="",x=[],_=!1,k=a(m),e.prev=25,k.s();case 27:if((S=k.n()).done){e.next=35;break}if(E=S.value,this.canonicalIssuer.hasId(E)?w+=this.canonicalIssuer.getId(E):(b.hasId(E)||x.push(E),w+=b.getId(E)),!(0!==h.length&&w>h)){e.next=33;break}return _=!0,e.abrupt("break",35);case 33:e.next=27;break;case 35:e.next=40;break;case 37:e.prev=37,e.t0=e.catch(25),k.e(e.t0);case 40:return e.prev=40,k.f(),e.finish(40);case 43:if(!_){e.next=45;break}return e.abrupt("continue",15);case 45:A=0,O=x;case 46:if(!(A<O.length)){e.next=60;break}return C=O[A],e.next=50,this.hashNDegreeQuads(C,b);case 50:if(P=e.sent,w+=b.getId(C),w+="<".concat(P.hash,">"),b=P.issuer,!(0!==h.length&&w>h)){e.next=57;break}return _=!0,e.abrupt("break",60);case 57:A++,e.next=46;break;case 60:if(!_){e.next=62;break}return e.abrupt("continue",15);case 62:(0===h.length||w<h)&&(h=w,g=b),e.next=15;break;case 65:i.update(h),r=g;case 67:e.next=8;break;case 69:e.next=74;break;case 71:e.prev=71,e.t1=e.catch(6),c.e(e.t1);case 74:return e.prev=74,c.f(),e.finish(74);case 77:return e.next=79,i.digest();case 79:return e.t2=e.sent,e.t3=r,e.abrupt("return",{hash:e.t2,issuer:e.t3});case 82:case"end":return e.stop()}}),e,this,[[6,71,74,77],[25,37,40,43]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(){var e=s(n.mark((function e(t,r){var i,o,s,u,c,l;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Map,o=this.blankNodeInfo.get(t).quads,s=0,u=a(o),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=15;break}if(l=c.value,++s%100!==0){e.next=11;break}return e.next=11,this._yield();case 11:return e.next=13,Promise.all([this._addRelatedBlankNodeHash({quad:l,component:l.subject,position:"s",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.object,position:"o",id:t,issuer:r,hashToRelated:i}),this._addRelatedBlankNodeHash({quad:l,component:l.graph,position:"g",id:t,issuer:r,hashToRelated:i})]);case 13:e.next=6;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(4),u.e(e.t0);case 20:return e.prev=20,u.f(),e.finish(20);case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,this,[[4,17,20,23]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"_hashAndTrackBlankNode",value:function(){var e=s(n.mark((function e(t){var r,i,o,a;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.hashToBlankNodes,e.next=3,this.hashFirstDegreeQuads(r);case 3:o=e.sent,(a=i.get(o))?a.push(r):i.set(o,[r]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(){var e=s(n.mark((function e(t){var r,i,o,a,s,u,c,l,f;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.quad,i=t.component,o=t.position,a=t.id,s=t.issuer,u=t.hashToRelated,"BlankNode"===i.termType&&i.value!==a){e.next=3;break}return e.abrupt("return");case 3:return c=i.value,e.next=6,this.hashRelatedBlankNode(c,r,s,o);case 6:l=e.sent,(f=u.get(l))?f.push(c):u.set(l,[c]);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}},{key:"_yield",value:function(){var e=s(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setImmediate(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}()},1119:function(e,t,r){"use strict";var n=r(1109).default,i=r(319).default,o=r(3269).default,a=r(4575).default,s=r(3913).default,u=r(7641),c=r(204),l=r(7831),f=r(5181);function d(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=function(){function e(){a(this,e),this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new u("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}return s(e,[{key:"main",value:function(e){this.quads=e;var t,r=o(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;this._addBlankNodeQuadInfo({quad:a,component:a.subject}),this._addBlankNodeQuadInfo({quad:a,component:a.object}),this._addBlankNodeQuadInfo({quad:a,component:a.graph})}}catch(z){r.e(z)}finally{r.f()}var s,c=new Map,l=i(this.blankNodeInfo.keys()),p=o(l);try{for(p.s();!(s=p.n()).done;){var h=s.value;this._hashAndTrackBlankNode({id:h,hashToBlankNodes:c})}}catch(z){p.e(z)}finally{p.f()}var g,v=i(c.keys()).sort(),y=[],m=o(v);try{for(m.s();!(g=m.n()).done;){var b=g.value,w=c.get(b);if(w.length>1)y.push(w);else{var x=w[0];this.canonicalIssuer.getId(x)}}}catch(z){m.e(z)}finally{m.f()}for(var _=0,k=y;_<k.length;_++){var S,E=k[_],A=[],O=o(E);try{for(O.s();!(S=O.n()).done;){var C=S.value;if(!this.canonicalIssuer.hasId(C)){var P=new u("_:b");P.getId(C);var R=this.hashNDegreeQuads(C,P);A.push(R)}}}catch(z){O.e(z)}finally{O.f()}A.sort(d);for(var j=0,I=A;j<I.length;j++){var T,F=I[j].issuer.getOldIds(),N=o(F);try{for(N.s();!(T=N.n()).done;){var D=T.value;this.canonicalIssuer.getId(D)}}catch(z){N.e(z)}finally{N.f()}}}var L,U=[],M=o(this.quads);try{for(M.s();!(L=M.n()).done;){var B=L.value,H=n({},B);H.subject=this._useCanonicalId({component:H.subject}),H.object=this._useCanonicalId({component:H.object}),H.graph=this._useCanonicalId({component:H.graph}),U.push(f.serializeQuad(H))}}catch(z){M.e(z)}finally{M.f()}return U.sort(),U.join("")}},{key:"hashFirstDegreeQuads",value:function(e){var t,r=[],n=this.blankNodeInfo.get(e),i=n.quads,a=o(i);try{for(a.s();!(t=a.n()).done;){var s=t.value,u={subject:null,predicate:s.predicate,object:null,graph:null};u.subject=this.modifyFirstDegreeComponent(e,s.subject,"subject"),u.object=this.modifyFirstDegreeComponent(e,s.object,"object"),u.graph=this.modifyFirstDegreeComponent(e,s.graph,"graph"),r.push(f.serializeQuad(u))}}catch(g){a.e(g)}finally{a.f()}r.sort();for(var l=new c(this.hashAlgorithm),d=0,p=r;d<p.length;d++){var h=p[d];l.update(h)}return n.hash=l.digest(),n.hash}},{key:"hashRelatedBlankNode",value:function(e,t,r,n){var i;i=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;var o=new c(this.hashAlgorithm);return o.update(n),"g"!==n&&o.update(this.getRelatedPredicate(t)),o.update(i),o.digest()}},{key:"hashNDegreeQuads",value:function(e,t){var r,n=new c(this.hashAlgorithm),a=this.createHashToRelated(e,t),s=i(a.keys()).sort(),u=o(s);try{for(u.s();!(r=u.n()).done;){var f=r.value;n.update(f);for(var d="",p=void 0,h=new l(a.get(f));h.hasNext();){var g,v=h.next(),y=t.clone(),m="",b=[],w=!1,x=o(v);try{for(x.s();!(g=x.n()).done;){var _=g.value;if(this.canonicalIssuer.hasId(_)?m+=this.canonicalIssuer.getId(_):(y.hasId(_)||b.push(_),m+=y.getId(_)),0!==d.length&&m>d){w=!0;break}}}catch(O){x.e(O)}finally{x.f()}if(!w){for(var k=0,S=b;k<S.length;k++){var E=S[k],A=this.hashNDegreeQuads(E,y);if(m+=y.getId(E),m+="<".concat(A.hash,">"),y=A.issuer,0!==d.length&&m>d){w=!0;break}}w||(0===d.length||m<d)&&(d=m,p=y)}}n.update(d),t=p}}catch(O){u.e(O)}finally{u.f()}return{hash:n.digest(),issuer:t}}},{key:"modifyFirstDegreeComponent",value:function(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return"<".concat(e.predicate.value,">")}},{key:"createHashToRelated",value:function(e,t){var r,n=new Map,i=this.blankNodeInfo.get(e).quads,a=o(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:e,issuer:t,hashToRelated:n}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:e,issuer:t,hashToRelated:n})}}catch(u){a.e(u)}finally{a.f()}return n}},{key:"_hashAndTrackBlankNode",value:function(e){var t=e.id,r=e.hashToBlankNodes,n=this.hashFirstDegreeQuads(t),i=r.get(n);i?i.push(t):r.set(n,[t])}},{key:"_addBlankNodeQuadInfo",value:function(e){var t=e.quad,r=e.component;if("BlankNode"===r.termType){var n=r.value,i=this.blankNodeInfo.get(n);i?i.quads.add(t):this.blankNodeInfo.set(n,{quads:new Set([t]),hash:null})}}},{key:"_addRelatedBlankNodeHash",value:function(e){var t=e.quad,r=e.component,n=e.position,i=e.id,o=e.issuer,a=e.hashToRelated;if("BlankNode"===r.termType&&r.value!==i){var s=r.value,u=this.hashRelatedBlankNode(s,t,o,n),c=a.get(u);c?c.push(s):a.set(u,[s])}}},{key:"_useCanonicalId",value:function(e){var t=e.component;return"BlankNode"!==t.termType||t.value.startsWith(this.canonicalIssuer.prefix)?t:{termType:"BlankNode",value:this.canonicalIssuer.getId(t.value)}}}]),e}()},3547:function(e,t,r){"use strict";var n=r(7757),i=r(3269).default,o=r(8926).default,a=r(4575).default,s=r(3913).default,u=r(2205).default,c=r(9842).default,l=r(4917);e.exports=function(e){u(r,e);var t=c(r);function r(){var e;return a(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return s(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(){var e=o(n.mark((function e(t,r){var o,a,s,u,c,l,f,d,p,h;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=new Map,a=this.blankNodeInfo.get(t).quads,s=0,u=i(a),e.prev=4,u.s();case 6:if((c=u.n()).done){e.next=31;break}if(l=c.value,f=void 0,d=void 0,"BlankNode"!==l.subject.termType||l.subject.value===t){e.next=15;break}d=l.subject.value,f="p",e.next=21;break;case 15:if("BlankNode"!==l.object.termType||l.object.value===t){e.next=20;break}d=l.object.value,f="r",e.next=21;break;case 20:return e.abrupt("continue",29);case 21:if(++s%100!==0){e.next=24;break}return e.next=24,this._yield();case 24:return e.next=26,this.hashRelatedBlankNode(d,l,r,f);case 26:p=e.sent,(h=o.get(p))?h.push(d):o.set(p,[d]);case 29:e.next=6;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(4),u.e(e.t0);case 36:return e.prev=36,u.f(),e.finish(36);case 39:return e.abrupt("return",o);case 40:case"end":return e.stop()}}),e,this,[[4,33,36,39]])})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(l)},7330:function(e,t,r){"use strict";var n=r(3269).default,i=r(4575).default,o=r(3913).default,a=r(2205).default,s=r(9842).default,u=r(1119);e.exports=function(e){a(r,e);var t=s(r);function r(){var e;return i(this,r),(e=t.call(this)).name="URGNA2012",e.hashAlgorithm="sha1",e}return o(r,[{key:"modifyFirstDegreeComponent",value:function(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}},{key:"getRelatedPredicate",value:function(e){return e.predicate.value}},{key:"createHashToRelated",value:function(e,t){var r,i=new Map,o=this.blankNodeInfo.get(e).quads,a=n(o);try{for(a.s();!(r=a.n()).done;){var s=r.value,u=void 0,c=void 0;if("BlankNode"===s.subject.termType&&s.subject.value!==e)c=s.subject.value,u="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;c=s.object.value,u="r"}var l=this.hashRelatedBlankNode(c,s,t,u),f=i.get(l);f?f.push(c):i.set(l,[c])}}catch(d){a.e(d)}finally{a.f()}return i}}]),r}(u)},3609:function(e,t,r){"use strict";var n,i=r(7757),o=r(8926).default,a=r(4917),s=r(3547),u=r(1119),c=r(7330);try{n=r(7670)}catch(f){}var l={};e.exports=l,l.NQuads=r(5181),l.IdentifierIssuer=r(7641),l._rdfCanonizeNative=function(e){return e&&(n=e),n},l.canonize=function(){var e=o(i.mark((function e(t,r){return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)||(t=l.NQuads.legacyDatasetToQuads(t)),!r.useNative){e.next=5;break}if(n){e.next=4;break}throw new Error("rdf-canonize-native not available");case 4:return e.abrupt("return",new Promise((function(e,i){return n.canonize(t,r,(function(t,r){return t?i(t):e(r)}))})));case 5:if("URDNA2015"!==r.algorithm){e.next=7;break}return e.abrupt("return",new a(r).main(t));case 7:if("URGNA2012"!==r.algorithm){e.next=9;break}return e.abrupt("return",new s(r).main(t));case 9:if("algorithm"in r){e.next=11;break}throw new Error("No RDF Dataset Canonicalization algorithm specified.");case 11:throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+r.algorithm);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(n)return n.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new u(t).main(e);if("URGNA2012"===t.algorithm)return new c(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},3470:function(e,t,r){"use strict";var n=r(390),i=r(1982),o=r(6124);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,h={},g={};function v(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,r,n){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!p.call(g,e)||!p.call(h,e)&&(d.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,k=60106,S=60107,E=60108,A=60114,O=60109,C=60110,P=60112,R=60113,j=60120,I=60115,T=60116,F=60121,N=60128,D=60129,L=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var M=Symbol.for;_=M("react.element"),k=M("react.portal"),S=M("react.fragment"),E=M("react.strict_mode"),A=M("react.profiler"),O=M("react.provider"),C=M("react.context"),P=M("react.forward_ref"),R=M("react.suspense"),j=M("react.suspense_list"),I=M("react.memo"),T=M("react.lazy"),F=M("react.block"),M("react.scope"),N=M("react.opaque.id"),D=M("react.debug_trace_mode"),L=M("react.offscreen"),U=M("react.legacy_hidden")}var B,H="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function K(e){if(void 0===B)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var W=!1;function V(e,t){if(!e||W)return"";W=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?K(e):""}function q(e){switch(e.tag){case 5:return K(e.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 22:return e=V(e.type._render,!1);case 1:return e=V(e.type,!0);default:return""}}function J(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case A:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case I:return J(e.type);case F:return J(e._render);case T:t=e._payload,e=e._init;try{return J(e(t))}catch(r){}}return null}function Z(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=G(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function ee(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=Z(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function re(e,t){te(e,t);var r=Z(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,r):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ne(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ie(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Z(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:Z(r)}}function ce(e,t){var r=Z(t.value),n=Z(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",de="http://www.w3.org/2000/svg";function pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ge,ve,ye=(ve=function(e,t){if(e.namespaceURI!==de||"innerHTML"in e)e.innerHTML=t;else{for((ge=ge||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ge.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function me(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=xe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ae(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Oe=null,Ce=null,Pe=null;function Re(e){if(e=ni(e)){if("function"!==typeof Oe)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Oe(e.stateNode,e.type,t))}}function je(e){Ce?Pe?Pe.push(e):Pe=[e]:Ce=e}function Ie(){if(Ce){var e=Ce,t=Pe;if(Pe=Ce=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Te(e,t){return e(t)}function Fe(e,t,r,n,i){return e(t,r,n,i)}function Ne(){}var De=Te,Le=!1,Ue=!1;function Me(){null===Ce&&null===Pe||(Ne(),Ie())}function Be(e,t){var r=e.stateNode;if(null===r)return null;var n=oi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(a(231,t,typeof r));return r}var He=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){He=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){He=!1}function Ke(e,t,r,n,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(l){this.onError(l)}}var We=!1,Ve=null,qe=!1,Je=null,Ze={onError:function(e){We=!0,Ve=e}};function Ge(e,t,r,n,i,o,a,s,u){We=!1,Ve=null,Ke.apply(Ze,arguments)}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ye(e){if(Qe(e)!==e)throw Error(a(188))}function Xe(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ye(i),e;if(o===n)return Ye(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,u=i.child;u;){if(u===r){s=!0,r=i,n=o;break}if(u===n){s=!0,n=i,r=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===r){s=!0,r=o,n=i;break}if(u===n){s=!0,n=o,r=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var r=e.alternate;null!==t;){if(t===e||t===r)return!0;t=t.return}return!1}var tt,rt,nt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ft=new Map,dt=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|r,nativeEvent:i,targetContainers:[n]}}function gt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function vt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,r,n,i,o),null!==t&&(null!==(t=ni(t))&&rt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ri(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=$e(r)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){nt(r)}))}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ni(r))&&rt(t),e.blockedOn=r,!1;t.shift()}return!0}function bt(e,t,r){mt(e)&&r.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var r=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r){e.blockedOn=r;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function _t(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var r=1;r<at.length;r++){var n=at[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==st&&xt(st,e),null!==ut&&xt(ut,e),null!==ct&&xt(ct,e),lt.forEach(t),ft.forEach(t),r=0;r<dt.length;r++)(n=dt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<dt.length&&null===(r=dt[0]).blockedOn;)yt(r),null===r.blockedOn&&dt.shift()}function kt(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var St={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Et={},At={};function Ot(e){if(Et[e])return Et[e];if(!St[e])return e;var t,r=St[e];for(t in r)if(r.hasOwnProperty(t)&&t in At)return Et[e]=r[t];return e}f&&(At=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ct=Ot("animationend"),Pt=Ot("animationiteration"),Rt=Ot("animationstart"),jt=Ot("transitionend"),It=new Map,Tt=new Map,Ft=["abort","abort",Ct,"animationEnd",Pt,"animationIteration",Rt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",jt,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Tt.set(n,t),It.set(n,i),c(i,[n])}}(0,o.unstable_now)();var Dt=8;function Lt(e){if(0!==(1&e))return Dt=15,1;if(0!==(2&e))return Dt=14,2;if(0!==(4&e))return Dt=13,4;var t=24&e;return 0!==t?(Dt=12,t):0!==(32&e)?(Dt=11,32):0!==(t=192&e)?(Dt=10,t):0!==(256&e)?(Dt=9,256):0!==(t=3584&e)?(Dt=8,t):0!==(4096&e)?(Dt=7,4096):0!==(t=4186112&e)?(Dt=6,t):0!==(t=62914560&e)?(Dt=5,t):67108864&e?(Dt=4,67108864):0!==(134217728&e)?(Dt=3,134217728):0!==(t=805306368&e)?(Dt=2,t):0!==(1073741824&e)?(Dt=1,1073741824):(Dt=8,e)}function Ut(e,t){var r=e.pendingLanes;if(0===r)return Dt=0;var n=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)n=o,i=Dt=15;else if(0!==(o=134217727&r)){var u=o&~a;0!==u?(n=Lt(u),i=Dt):0!==(s&=o)&&(n=Lt(s),i=Dt)}else 0!==(o=r&~a)?(n=Lt(o),i=Dt):0!==s&&(n=Lt(s),i=Dt);if(0===n)return 0;if(n=r&((0>(n=31-Wt(n))?0:1<<n)<<1)-1,0!==t&&t!==n&&0===(t&a)){if(Lt(t),i<=Dt)return t;Dt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-Wt(t)),n|=e[r],t&=~i;return n}function Mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Bt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Bt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Bt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Ht(e){return e&-e}function zt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kt(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,(e=e.eventTimes)[t=31-Wt(t)]=r}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Vt(e)/qt|0)|0},Vt=Math.log,qt=Math.LN2;var Jt=o.unstable_UserBlockingPriority,Zt=o.unstable_runWithPriority,Gt=!0;function Qt(e,t,r,n){Le||Ne();var i=Yt,o=Le;Le=!0;try{Fe(i,e,t,r,n)}finally{(Le=o)||Me()}}function $t(e,t,r,n){Zt(Jt,Yt.bind(null,e,t,r,n))}function Yt(e,t,r,n){var i;if(Gt)if((i=0===(4&t))&&0<at.length&&-1<pt.indexOf(e))e=ht(null,e,t,r,n),at.push(e);else{var o=Xt(e,t,r,n);if(null===o)i&&gt(e,n);else{if(i){if(-1<pt.indexOf(e))return e=ht(o,e,t,r,n),void at.push(e);if(function(e,t,r,n,i){switch(t){case"focusin":return st=vt(st,e,t,r,n,i),!0;case"dragenter":return ut=vt(ut,e,t,r,n,i),!0;case"mouseover":return ct=vt(ct,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,vt(lt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,vt(ft.get(o)||null,e,t,r,n,i)),!0}return!1}(o,e,t,r,n))return;gt(e,n)}Nn(e,t,n,null,r)}}}function Xt(e,t,r,n){var i=Ae(n);if(null!==(i=ri(i))){var o=Qe(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$e(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Nn(e,t,n,i,r),null}var er=null,tr=null,rr=null;function nr(){if(rr)return rr;var e,t,r=tr,n=r.length,i="value"in er?er.value:er.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return rr=i.slice(e,1<t?1-t:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function or(){return!0}function ar(){return!1}function sr(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?or:ar,this.isPropagationStopped=ar,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var ur,cr,lr,fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=sr(fr),pr=i({},fr,{view:0,detail:0}),hr=sr(pr),gr=i({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(ur=e.screenX-lr.screenX,cr=e.screenY-lr.screenY):cr=ur=0,lr=e),ur)},movementY:function(e){return"movementY"in e?e.movementY:cr}}),vr=sr(gr),yr=sr(i({},gr,{dataTransfer:0})),mr=sr(i({},pr,{relatedTarget:0})),br=sr(i({},fr,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=i({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xr=sr(wr),_r=sr(i({},fr,{data:0})),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Er[e])&&!!t[e]}function Or(){return Ar}var Cr=i({},pr,{key:function(e){if(e.key){var t=kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ir(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(e){return"keypress"===e.type?ir(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ir(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pr=sr(Cr),Rr=sr(i({},gr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jr=sr(i({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or})),Ir=sr(i({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Tr=i({},gr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fr=sr(Tr),Nr=[9,13,27,32],Dr=f&&"CompositionEvent"in window,Lr=null;f&&"documentMode"in document&&(Lr=document.documentMode);var Ur=f&&"TextEvent"in window&&!Lr,Mr=f&&(!Dr||Lr&&8<Lr&&11>=Lr),Br=String.fromCharCode(32),Hr=!1;function zr(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wr=!1;var Vr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vr[e.type]:"textarea"===t}function Jr(e,t,r,n){je(n),0<(t=Ln(t,"onChange")).length&&(r=new dr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zr=null,Gr=null;function Qr(e){Pn(e,0)}function $r(e){if($(ii(e)))return e}function Yr(e,t){if("change"===e)return t}var Xr=!1;if(f){var en;if(f){var tn="oninput"in document;if(!tn){var rn=document.createElement("div");rn.setAttribute("oninput","return;"),tn="function"===typeof rn.oninput}en=tn}else en=!1;Xr=en&&(!document.documentMode||9<document.documentMode)}function nn(){Zr&&(Zr.detachEvent("onpropertychange",on),Gr=Zr=null)}function on(e){if("value"===e.propertyName&&$r(Gr)){var t=[];if(Jr(t,Gr,e,Ae(e)),e=Qr,Le)e(t);else{Le=!0;try{Te(e,t)}finally{Le=!1,Me()}}}}function an(e,t,r){"focusin"===e?(nn(),Gr=r,(Zr=t).attachEvent("onpropertychange",on)):"focusout"===e&&nn()}function sn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Gr)}function un(e,t){if("click"===e)return $r(t)}function cn(e,t){if("input"===e||"change"===e)return $r(t)}var ln="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fn=Object.prototype.hasOwnProperty;function dn(e,t){if(ln(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!fn.call(t,r[n])||!ln(e[r[n]],t[r[n]]))return!1;return!0}function pn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=pn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pn(n)}}function gn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?gn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=f&&"documentMode"in document&&11>=document.documentMode,bn=null,wn=null,xn=null,_n=!1;function kn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;_n||null==bn||bn!==Y(n)||("selectionStart"in(n=bn)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},xn&&dn(xn,n)||(xn=n,0<(n=Ln(wn,"onSelect")).length&&(t=new dr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bn)))}Nt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ft,2);for(var Sn="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),En=0;En<Sn.length;En++)Tt.set(Sn[En],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var An="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),On=new Set("cancel close invalid load scroll toggle".split(" ").concat(An));function Cn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,s,u,c){if(Ge.apply(this,arguments),We){if(!We)throw Error(a(198));var l=Ve;We=!1,Ve=null,qe||(qe=!0,Je=l)}}(n,t,void 0,e),e.currentTarget=null}function Pn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Cn(i,s,c),o=u}else for(a=0;a<n.length;a++){if(u=(s=n[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Cn(i,s,c),o=u}}}if(qe)throw e=Je,qe=!1,Je=null,e}function Rn(e,t){var r=ai(t),n=e+"__bubble";r.has(n)||(Fn(t,e,2,!1),r.add(n))}var jn="_reactListening"+Math.random().toString(36).slice(2);function In(e){e[jn]||(e[jn]=!0,s.forEach((function(t){On.has(t)||Tn(t,!1,e,null),Tn(t,!0,e,null)})))}function Tn(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=r;if("selectionchange"===e&&9!==r.nodeType&&(o=r.ownerDocument),null!==n&&!t&&On.has(e)){if("scroll"!==e)return;i|=2,o=n}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Fn(o,e,i,t),a.add(s))}function Fn(e,t,r,n){var i=Tt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=$t;break;default:i=Yt}r=i.bind(null,t,r,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ri(s)))return;if(5===(u=a.tag)||6===u){n=o=a;continue e}s=s.parentNode}}n=n.return}!function(e,t,r){if(Ue)return e(t,r);Ue=!0;try{De(e,t,r)}finally{Ue=!1,Me()}}((function(){var n=o,i=Ae(r),a=[];e:{var s=It.get(e);if(void 0!==s){var u=dr,c=e;switch(e){case"keypress":if(0===ir(r))break e;case"keydown":case"keyup":u=Pr;break;case"focusin":c="focus",u=mr;break;case"focusout":c="blur",u=mr;break;case"beforeblur":case"afterblur":u=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=vr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=jr;break;case Ct:case Pt:case Rt:u=br;break;case jt:u=Ir;break;case"scroll":u=hr;break;case"wheel":u=Fr;break;case"copy":case"cut":case"paste":u=xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Rr}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var p,h=n;null!==h;){var g=(p=h).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Be(h,d))&&l.push(Dn(h,g,p)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,r,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=r.relatedTarget||r.fromElement)||!ri(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=n,null!==(c=(c=r.relatedTarget||r.toElement)?ri(c):null)&&(c!==(f=Qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=n),u!==c)){if(l=vr,g="onMouseLeave",d="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rr,g="onPointerLeave",d="onPointerEnter",h="pointer"),f=null==u?s:ii(u),p=null==c?s:ii(c),(s=new l(g,h+"leave",u,r,i)).target=f,s.relatedTarget=p,g=null,ri(i)===n&&((l=new l(d,h+"enter",c,r,i)).target=p,l.relatedTarget=f,g=l),f=g,u&&c)e:{for(d=c,h=0,p=l=u;p;p=Un(p))h++;for(p=0,g=d;g;g=Un(g))p++;for(;0<h-p;)l=Un(l),h--;for(;0<p-h;)d=Un(d),p--;for(;h--;){if(l===d||null!==d&&l===d.alternate)break e;l=Un(l),d=Un(d)}l=null}else l=null;null!==u&&Mn(a,s,u,l,!1),null!==c&&null!==f&&Mn(a,f,c,l,!0)}if("select"===(u=(s=n?ii(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yr;else if(qr(s))if(Xr)v=cn;else{v=sn;var y=an}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=un);switch(v&&(v=v(e,n))?Jr(a,v,r,i):(y&&y(e,s,n),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=n?ii(n):window,e){case"focusin":(qr(y)||"true"===y.contentEditable)&&(bn=y,wn=n,xn=null);break;case"focusout":xn=wn=bn=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,kn(a,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":kn(a,r,i)}var m;if(Dr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wr?zr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Mr&&"ko"!==r.locale&&(Wr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wr&&(m=nr()):(tr="value"in(er=i)?er.value:er.textContent,Wr=!0)),0<(y=Ln(n,b)).length&&(b=new _r(b,e,null,r,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Kr(r))&&(b.data=m))),(m=Ur?function(e,t){switch(e){case"compositionend":return Kr(t);case"keypress":return 32!==t.which?null:(Hr=!0,Br);case"textInput":return(e=t.data)===Br&&Hr?null:e;default:return null}}(e,r):function(e,t){if(Wr)return"compositionend"===e||!Dr&&zr(e,t)?(e=nr(),rr=tr=er=null,Wr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Ln(n,"onBeforeInput")).length&&(i=new _r("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=m))}Pn(a,t)}))}function Dn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ln(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Be(e,r))&&n.unshift(Dn(e,o,i)),null!=(o=Be(e,t))&&n.push(Dn(e,o,i))),e=e.return}return n}function Un(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,u=s.alternate,c=s.stateNode;if(null!==u&&u===n)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Be(r,o))&&a.unshift(Dn(r,u,s)):i||null!=(u=Be(r,o))&&a.push(Dn(r,u,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}function Bn(){}var Hn=null,zn=null;function Kn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vn="function"===typeof setTimeout?setTimeout:void 0,qn="function"===typeof clearTimeout?clearTimeout:void 0;function Jn(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Zn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var Qn=0;var $n=Math.random().toString(36).slice(2),Yn="__reactFiber$"+$n,Xn="__reactProps$"+$n,ei="__reactContainer$"+$n,ti="__reactEvents$"+$n;function ri(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ei]||r[Yn]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Gn(e);null!==e;){if(r=e[Yn])return r;e=Gn(e)}return t}r=(e=r).parentNode}return null}function ni(e){return!(e=e[Yn]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Xn]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function fi(e,t){ui++,si[ui]=e.current,e.current=t}var di={},pi=ci(di),hi=ci(!1),gi=di;function vi(e,t){var r=e.type.contextTypes;if(!r)return di;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(hi),li(pi)}function bi(e,t,r){if(pi.current!==di)throw Error(a(168));fi(pi,t),fi(hi,r)}function wi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,J(t)||"Unknown",o));return i({},r,n)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,gi=pi.current,fi(pi,e),fi(hi,hi.current),!0}function _i(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=wi(e,t,gi),n.__reactInternalMemoizedMergedChildContext=e,li(hi),li(pi),fi(pi,e)):li(hi),fi(hi,r)}var ki=null,Si=null,Ei=o.unstable_runWithPriority,Ai=o.unstable_scheduleCallback,Oi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ri=o.unstable_now,ji=o.unstable_getCurrentPriorityLevel,Ii=o.unstable_ImmediatePriority,Ti=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,Ni=o.unstable_LowPriority,Di=o.unstable_IdlePriority,Li={},Ui=void 0!==Pi?Pi:function(){},Mi=null,Bi=null,Hi=!1,zi=Ri(),Ki=1e4>zi?Ri:function(){return Ri()-zi};function Wi(){switch(ji()){case Ii:return 99;case Ti:return 98;case Fi:return 97;case Ni:return 96;case Di:return 95;default:throw Error(a(332))}}function Vi(e){switch(e){case 99:return Ii;case 98:return Ti;case 97:return Fi;case 96:return Ni;case 95:return Di;default:throw Error(a(332))}}function qi(e,t){return e=Vi(e),Ei(e,t)}function Ji(e,t,r){return e=Vi(e),Ai(e,t,r)}function Zi(){if(null!==Bi){var e=Bi;Bi=null,Oi(e)}Gi()}function Gi(){if(!Hi&&null!==Mi){Hi=!0;var e=0;try{var t=Mi;qi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Mi=null}catch(r){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ai(Ii,Zi),r}finally{Hi=!1}}}var Qi=x.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var Yi=ci(null),Xi=null,eo=null,to=null;function ro(){to=eo=Xi=null}function no(e){var t=Yi.current;li(Yi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)===t){if(null===r||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,null!==r&&(r.childLanes|=t);e=e.return}}function oo(e,t){Xi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(La=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Xi)throw Error(a(308));eo=t,Xi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function po(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ho(e,t,r,n){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var d=(f=f.updateQueue).lastBaseUpdate;d!==s&&(null===d?f.firstBaseUpdate=l:d.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(d=o.baseState,s=0,f=l=c=null;;){u=a.lane;var p=a.eventTime;if((n&u)===u){null!==f&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,g=a;switch(u=t,p=r,g.tag){case 1:if("function"===typeof(h=g.payload)){d=h.call(p,d,u);break e}d=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(u="function"===typeof(h=g.payload)?h.call(p,d,u):h)||void 0===u)break e;d=i({},d,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=p,c=d):f=f.next=p,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===f&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,Hs|=s,e.lanes=s,e.memoizedState=d}}function go(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(a(191,i));i.call(n)}}}var vo=(new n.Component).refs;function yo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:i({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=du(),i=pu(e),o=lo(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),fo(e,o),hu(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=du(),i=pu(e),o=lo(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),fo(e,o),hu(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=du(),n=pu(e),i=lo(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),hu(e,n,r)}};function bo(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!dn(r,n)||!dn(i,o))}function wo(e,t,r){var n=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?gi:pi.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?vi(e,i):di),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function _o(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=vo,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?gi:pi.current,i.context=vi(e,o)),ho(e,r,i,n),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),ho(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function So(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=n.refs;t===vo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ao(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.flags=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=qu(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags=2,r):n:(t.flags=2,r):r}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,r,n){return null===t||6!==t.tag?((t=Qu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=So(e,t,r),n.return=e,n):((n=Ju(r.type,r.key,r.props,null,e.mode,n)).ref=So(e,t,r),n.return=e,n)}function l(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=$u(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function f(e,t,r,n,o){return null===t||7!==t.tag?((t=Zu(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t||"number"===typeof t)return(t=Qu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(r=Ju(t.type,t.key,t.props,null,e.mode,r)).ref=So(e,null,t),r.return=e,r;case k:return(t=$u(t,e.mode,r)).return=e,t}if(ko(t)||z(t))return(t=Zu(t,e.mode,r,null)).return=e,t;Eo(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r||"number"===typeof r)return null!==i?null:u(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return r.key===i?r.type===S?f(e,t,r.props.children,n,i):c(e,t,r,n):null;case k:return r.key===i?l(e,t,r,n):null}if(ko(r)||z(r))return null!==i?null:f(e,t,r,n,null);Eo(e,r)}return null}function h(e,t,r,n,i){if("string"===typeof n||"number"===typeof n)return u(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return e=e.get(null===n.key?r:n.key)||null,n.type===S?f(t,e,n.props.children,i,n.key):c(t,e,n,i);case k:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(ko(n)||z(n))return f(t,e=e.get(r)||null,n,i,null);Eo(t,n)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,g=a=0,v=null;null!==f&&g<s.length;g++){f.index>g?(v=f,f=null):v=f.sibling;var y=p(i,f,s[g],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,g),null===l?c=y:l.sibling=y,l=y,f=v}if(g===s.length)return r(i,f),c;if(null===f){for(;g<s.length;g++)null!==(f=d(i,s[g],u))&&(a=o(f,a,g),null===l?c=f:l.sibling=f,l=f);return c}for(f=n(i,f);g<s.length;g++)null!==(v=h(f,i,g,s[g],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,g=s,v=s=0,y=null,m=u.next();null!==g&&!m.done;v++,m=u.next()){g.index>v?(y=g,g=null):y=g.sibling;var b=p(i,g,m.value,c);if(null===b){null===g&&(g=y);break}e&&g&&null===b.alternate&&t(i,g),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,g=y}if(m.done)return r(i,g),l;if(null===g){for(;!m.done;v++,m=u.next())null!==(m=d(i,m.value,c))&&(s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return l}for(g=n(i,g);!m.done;v++,m=u.next())null!==(m=h(g,i,v,m.value,c))&&(e&&null!==m.alternate&&g.delete(null===m.key?v:m.key),s=o(m,s,v),null===f?l=m:f.sibling=m,f=m);return e&&g.forEach((function(e){return t(i,e)})),l}return function(e,n,o,u){var c="object"===typeof o&&null!==o&&o.type===S&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,c=n;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===S){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}}else if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=So(e,c,o),n.return=e,e=n;break e}r(e,c);break}t(e,c),c=c.sibling}o.type===S?((n=Zu(o.props.children,e.mode,u,o.key)).return=e,e=n):((u=Ju(o.type,o.key,o.props,null,e.mode,u)).ref=So(e,n,o),u.return=e,e=u)}return s(e);case k:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=$u(o,e.mode,u)).return=e,e=n}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Qu(o,e.mode,u)).return=e,e=n),s(e);if(ko(o))return g(e,n,o,u);if(z(o))return v(e,n,o,u);if(l&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,J(e.type)||"Component"))}return r(e,n)}}var Oo=Ao(!0),Co=Ao(!1),Po={},Ro=ci(Po),jo=ci(Po),Io=ci(Po);function To(e){if(e===Po)throw Error(a(174));return e}function Fo(e,t){switch(fi(Io,t),fi(jo,e),fi(Ro,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Ro),fi(Ro,t)}function No(){li(Ro),li(jo),li(Io)}function Do(e){To(Io.current);var t=To(Ro.current),r=he(t,e.type);t!==r&&(fi(jo,e),fi(Ro,r))}function Lo(e){jo.current===e&&(li(Ro),li(jo))}var Uo=ci(0);function Mo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bo=null,Ho=null,zo=!1;function Ko(e,t){var r=Wu(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Wo(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Vo(e){if(zo){var t=Ho;if(t){var r=t;if(!Wo(e,t)){if(!(t=Zn(r.nextSibling))||!Wo(e,t))return e.flags=-1025&e.flags|2,zo=!1,void(Bo=e);Ko(Bo,r)}Bo=e,Ho=Zn(t.firstChild)}else e.flags=-1025&e.flags|2,zo=!1,Bo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Bo=e}function Jo(e){if(e!==Bo)return!1;if(!zo)return qo(e),zo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wn(t,e.memoizedProps))for(t=Ho;t;)Ko(e,t),t=Zn(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){Ho=Zn(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}Ho=null}}else Ho=Bo?Zn(e.stateNode.nextSibling):null;return!0}function Zo(){Ho=Bo=null,zo=!1}var Go=[];function Qo(){for(var e=0;e<Go.length;e++)Go[e]._workInProgressVersionPrimary=null;Go.length=0}var $o=x.ReactCurrentDispatcher,Yo=x.ReactCurrentBatchConfig,Xo=0,ea=null,ta=null,ra=null,na=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ln(e[r],t[r]))return!1;return!0}function sa(e,t,r,n,i,o){if(Xo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$o.current=null===e||null===e.memoizedState?Ta:Fa,e=r(n,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,ra=ta=null,t.updateQueue=null,$o.current=Na,e=r(n,i)}while(ia)}if($o.current=Ia,t=null!==ta&&null!==ta.next,Xo=0,ra=ta=ea=null,na=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ra?ea.memoizedState=ra=e:ra=ra.next=e,ra}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===ra?ea.memoizedState:ra.next;if(null!==t)ra=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===ra?ea.memoizedState=ra=e:ra=ra.next=e}return ra}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=ta,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Xo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===e?c.eagerState:e(n,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=n):u=u.next=f,ea.lanes|=l,Hs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=n:u.next=s,ln(n,t.memoizedState)||(La=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=u,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function da(e){var t=ca(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ln(o,t.memoizedState)||(La=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function pa(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===n:(e=e.mutableReadLanes,(e=(Xo&e)===e)&&(t._workInProgressVersionPrimary=n,Go.push(t))),e)return r(t._source);throw Go.push(t),Error(a(350))}function ha(e,t,r,n){var i=Ts;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=$o.current,c=u.useState((function(){return pa(i,t,r)})),l=c[1],f=c[0];c=ra;var d=e.memoizedState,p=d.refs,h=p.getSnapshot,g=d.source;d=d.subscribe;var v=ea;return e.memoizedState={refs:p,source:t,subscribe:n},u.useEffect((function(){p.getSnapshot=r,p.setSnapshot=l;var e=o(t._source);if(!ln(s,e)){e=r(t._source),ln(f,e)||(l(e),e=pu(v),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var n=i.entanglements,a=e;0<a;){var u=31-Wt(a),c=1<<u;n[u]|=e,a&=~c}}}),[r,t,n]),u.useEffect((function(){return n(t._source,(function(){var e=p.getSnapshot,r=p.setSnapshot;try{r(e(t._source));var n=pu(v);i.mutableReadLanes|=n&i.pendingLanes}catch(o){r((function(){throw o}))}}))}),[t,n]),ln(h,r)&&ln(g,t)&&ln(d,n)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=ja.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=pa(i,t,r),c.memoizedState=c.baseState=f),f}function ga(e,t,r){return ha(ca(),e,t,r)}function va(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=ja.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,r,n){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,r,void 0,void 0===n?null:n)}function xa(e,t,r,n){var i=ca();n=void 0===n?null:n;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==n&&aa(n,a.deps))return void ya(t,r,o,n)}ea.flags|=e,i.memoizedState=ya(1|t,r,o,n)}function _a(e,t){return wa(516,4,e,t)}function ka(e,t){return xa(516,4,e,t)}function Sa(e,t){return xa(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Aa(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,xa(4,2,Ea.bind(null,t,e),r)}function Oa(){}function Ca(e,t){var r=ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Pa(e,t){var r=ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&aa(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ra(e,t){var r=Wi();qi(98>r?98:r,(function(){e(!0)})),qi(97<r?97:r,(function(){var r=Yo.transition;Yo.transition=1;try{e(!1),t()}finally{Yo.transition=r}}))}function ja(e,t,r){var n=du(),i=pu(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=na=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,r);if(o.eagerReducer=a,o.eagerState=u,ln(u,s))return}catch(c){}hu(e,i,n)}}var Ia={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ta={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:_a,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,wa(4,2,Ea.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var r=ua();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ua();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ja.bind(null,ea,e),[n.memoizedState,e]},useRef:ma,useState:va,useDebugValue:Oa,useDeferredValue:function(e){var t=va(e),r=t[0],n=t[1];return _a((function(){var t=Yo.transition;Yo.transition=1;try{n(e)}finally{Yo.transition=t}}),[e]),r},useTransition:function(){var e=va(!1),t=e[0];return ma(e=Ra.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,r){var n=ua();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},ha(n,e,t,r)},useOpaqueIdentifier:function(){if(zo){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,r("r:"+(Qn++).toString(36))),Error(a(355))})),r=va(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){r("r:"+(Qn++).toString(36))}),void 0,null)),t}return va(t="r:"+(Qn++).toString(36)),t},unstable_isNewReconciler:!1},Fa={readContext:ao,useCallback:Ca,useContext:ao,useEffect:ka,useImperativeHandle:Aa,useLayoutEffect:Sa,useMemo:Pa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:Oa,useDeferredValue:function(e){var t=fa(la),r=t[0],n=t[1];return ka((function(){var t=Yo.transition;Yo.transition=1;try{n(e)}finally{Yo.transition=t}}),[e]),r},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:Ca,useContext:ao,useEffect:ka,useImperativeHandle:Aa,useLayoutEffect:Sa,useMemo:Pa,useReducer:da,useRef:ba,useState:function(){return da(la)},useDebugValue:Oa,useDeferredValue:function(e){var t=da(la),r=t[0],n=t[1];return ka((function(){var t=Yo.transition;Yo.transition=1;try{n(e)}finally{Yo.transition=t}}),[e]),r},useTransition:function(){var e=da(la)[0];return[ba().current,e]},useMutableSource:ga,useOpaqueIdentifier:function(){return da(la)[0]},unstable_isNewReconciler:!1},Da=x.ReactCurrentOwner,La=!1;function Ua(e,t,r,n){t.child=null===e?Co(t,null,r,n):Oo(t,e.child,r,n)}function Ma(e,t,r,n,i){r=r.render;var o=t.ref;return oo(t,i),n=sa(e,t,r,n,o,i),null===e||La?(t.flags|=1,Ua(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ba(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!==typeof a||Vu(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ju(r.type,null,n,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ha(e,t,a,n,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:dn)(i,n)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=qu(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ha(e,t,r,n,i,o){if(null!==e&&dn(e.memoizedProps,n)&&e.ref===t.ref){if(La=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(La=!0)}return Wa(e,t,r,n,o)}function za(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode||"unstable-defer-without-hiding"===n.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_u(t,r);else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_u(t,e),null;t.memoizedState={baseLanes:0},_u(t,null!==o?o.baseLanes:r)}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,_u(t,n);return Ua(e,t,i,r),t.child}function Ka(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=128)}function Wa(e,t,r,n,i){var o=yi(r)?gi:pi.current;return o=vi(t,o),oo(t,i),r=sa(e,t,r,n,o,i),null===e||La?(t.flags|=1,Ua(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Va(e,t,r,n,i){if(yi(r)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,r,n),_o(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=r.contextType;"object"===typeof c&&null!==c?c=ao(c):c=vi(t,c=yi(r)?gi:pi.current);var l=r.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||u!==c)&&xo(t,a,n,c),so=!1;var d=t.memoizedState;a.state=d,ho(t,n,a,i),u=t.memoizedState,s!==n||d!==u||hi.current||so?("function"===typeof l&&(yo(t,r,l,n),u=t.memoizedState),(s=so||bo(t,r,s,n,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),a.props=n,a.state=u,a.context=c,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4),n=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:$i(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=r.contextType)&&null!==u?u=ao(u):u=vi(t,u=yi(r)?gi:pi.current);var p=r.getDerivedStateFromProps;(l="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&xo(t,a,n,u),so=!1,d=t.memoizedState,a.state=d,ho(t,n,a,i);var h=t.memoizedState;s!==f||d!==h||hi.current||so?("function"===typeof p&&(yo(t,r,p,n),h=t.memoizedState),(c=so||bo(t,r,c,n,d,h,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=u,n=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),n=!1)}return qa(e,t,r,n,o,i)}function qa(e,t,r,n,i,o){Ka(e,t);var a=0!==(64&t.flags);if(!n&&!a)return i&&_i(t,r,!1),os(e,t,o);n=t.stateNode,Da.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,s,o)):Ua(e,t,s,o),t.memoizedState=n.state,i&&_i(t,r,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Fo(e,t.containerInfo)}var Za,Ga,Qa,$a={dehydrated:null,retryLane:0};function Ya(e,t,r){var n,i=t.pendingProps,o=Uo.current,a=!1;return(n=0!==(64&t.flags))||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(Uo,1&o),null===e?(void 0!==i.fallback&&Vo(t),e=i.children,o=i.fallback,a?(e=Xa(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=$a,e):"number"===typeof i.unstable_expectedLoadTime?(e=Xa(t,e,o,r),t.child.memoizedState={baseLanes:r},t.memoizedState=$a,t.lanes=33554432,e):((r=Gu({mode:"visible",children:e},t.mode,r,null)).return=t,t.child=r)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,r),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:r}:{baseLanes:o.baseLanes|r},a.childLanes=e.childLanes&~r,t.memoizedState=$a,i):(r=es(e,t,i.children,r),t.memoizedState=null,r))}function Xa(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Gu(t,i,0,null),r=Zu(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function es(e,t,r,n){var i=e.child;return e=i.sibling,r=qu(i,{mode:"visible",children:r}),0===(2&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function ts(e,t,r,n,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:r};return 0===(2&o)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=s,null!==(a=r.lastEffect)?(t.firstEffect=r.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):r=qu(a,s),null!==e?n=qu(e,n):(n=Zu(n,o,i,null)).flags|=2,n.return=t,r.return=t,r.sibling=n,t.child=r,n}function rs(e,t){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),io(e.return,t)}function ns(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i,a.lastEffect=o)}function is(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ua(e,t,n.children,r),0!==(2&(n=Uo.current)))n=1&n|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rs(e,r);else if(19===e.tag)rs(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fi(Uo,n),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Mo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),ns(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Mo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}ns(t,!0,r,null,o,t.lastEffect);break;case"together":ns(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Hs|=t.lanes,0!==(r&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=qu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=qu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}return null}function as(e,t){if(!zo)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ss(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return No(),li(hi),li(pi),Qo(),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Jo(t)?t.flags|=4:n.hydrate||(t.flags|=256)),null;case 5:Lo(t);var o=To(Io.current);if(r=t.type,null!==e&&null!=t.stateNode)Ga(e,t,r,n),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=To(Ro.current),Jo(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Yn]=t,n[Xn]=s,r){case"dialog":Rn("cancel",n),Rn("close",n);break;case"iframe":case"object":case"embed":Rn("load",n);break;case"video":case"audio":for(e=0;e<An.length;e++)Rn(An[e],n);break;case"source":Rn("error",n);break;case"img":case"image":case"link":Rn("error",n),Rn("load",n);break;case"details":Rn("toggle",n);break;case"input":ee(n,s),Rn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Rn("invalid",n);break;case"textarea":ue(n,s),Rn("invalid",n)}for(var c in Se(r,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?n.textContent!==o&&(e=["children",o]):"number"===typeof o&&n.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Rn("scroll",n));switch(r){case"input":Q(n),ne(n,s,!0);break;case"textarea":Q(n),le(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Bn)}n=e,t.updateQueue=n,null!==n&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=pe(r)),e===fe?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[Yn]=t,e[Xn]=n,Za(e,t),t.stateNode=e,c=Ee(r,n),r){case"dialog":Rn("cancel",e),Rn("close",e),o=n;break;case"iframe":case"object":case"embed":Rn("load",e),o=n;break;case"video":case"audio":for(o=0;o<An.length;o++)Rn(An[o],e);o=n;break;case"source":Rn("error",e),o=n;break;case"img":case"image":case"link":Rn("error",e),Rn("load",e),o=n;break;case"details":Rn("toggle",e),o=n;break;case"input":ee(e,n),o=X(e,n),Rn("invalid",e);break;case"option":o=oe(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=i({},n,{value:void 0}),Rn("invalid",e);break;case"textarea":ue(e,n),o=se(e,n),Rn("invalid",e);break;default:o=n}Se(r,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?_e(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===s?"string"===typeof f?("textarea"!==r||""!==f)&&me(e,f):"number"===typeof f&&me(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Rn("scroll",e):null!=f&&w(e,s,f,c))}switch(r){case"input":Q(e),ne(e,n,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Z(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?ae(e,!!n.multiple,s,!1):null!=n.defaultValue&&ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Bn)}Kn(r,n)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(a(166));r=To(Io.current),To(Ro.current),Jo(t)?(n=t.stateNode,r=t.memoizedProps,n[Yn]=t,n.nodeValue!==r&&(t.flags|=4)):((n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Yn]=t,t.stateNode=n)}return null;case 13:return li(Uo),n=t.memoizedState,0!==(64&t.flags)?(t.lanes=r,t):(n=null!==n,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Jo(t):r=null!==e.memoizedState,n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?0===Us&&(Us=3):(0!==Us&&3!==Us||(Us=4),null===Ts||0===(134217727&Hs)&&0===(134217727&zs)||mu(Ts,Ns))),(n||r)&&(t.flags|=4),null);case 4:return No(),null===e&&In(t.stateNode.containerInfo),null;case 10:return no(t),null;case 19:if(li(Uo),null===(n=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=n.rendering))if(s)as(n,!1);else{if(0!==Us||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Mo(e))){for(t.flags|=64,as(n,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fi(Uo,1&Uo.current|2),t.child}e=e.sibling}null!==n.tail&&Ki()>qs&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Mo(c))){if(t.flags|=64,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),as(n,!0),null===n.tail&&"hidden"===n.tailMode&&!c.alternate&&!zo)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*Ki()-n.renderingStartTime>qs&&1073741824!==r&&(t.flags|=64,s=!0,as(n,!1),t.lanes=33554432);n.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=n.last)?r.sibling=c:t.child=c,n.last=c)}return null!==n.tail?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=Ki(),r.sibling=null,t=Uo.current,fi(Uo,s?1&t|2:1&t),r):null;case 23:case 24:return ku(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==n.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(No(),li(hi),li(pi),Qo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Uo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Uo),null;case 4:return No(),null;case 10:return no(e),null;case 23:case 24:return ku(),null;default:return null}}function cs(e,t){try{var r="",n=t;do{r+=q(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}Za=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ga=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,To(Ro.current);var a,s=null;switch(r){case"input":o=X(e,o),n=X(e,n),s=[];break;case"option":o=oe(e,o),n=oe(e,n),s=[];break;case"select":o=i({},o,{value:void 0}),n=i({},n,{value:void 0}),s=[];break;case"textarea":o=se(e,o),n=se(e,n),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof n.onClick&&(e.onclick=Bn)}for(f in Se(r,n),r=null,o)if(!n.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var l=n[f];if(c=null!=o?o[f]:void 0,n.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(f,r)),r=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Rn("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===N?l.toString():(s=s||[]).push(f,l))}r&&(s=s||[]).push("style",r);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Qa=function(e,t,r,n){r!==n&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,r){(r=lo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qs||(Qs=!0,$s=n),ls(0,t)},r}function ps(e,t,r){(r=lo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return ls(0,t),n(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){"function"!==typeof n&&(null===Ys?Ys=new Set([this]):Ys.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}var hs="function"===typeof WeakSet?WeakSet:Set;function gs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(r){Bu(e,r)}else t.current=null}function vs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:$i(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Jn(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=r.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;n=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Lu(r,e),Du(r,e)),e=n}while(e!==t)}return;case 1:return e=r.stateNode,4&r.flags&&(null===t?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:$i(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=r.updateQueue)&&go(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:case 1:e=r.child.stateNode}go(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.flags&&Kn(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&_t(r)))))}throw Error(a(163))}function ms(e,t){for(var r=e;;){if(5===r.tag){var n=r.stateNode;if(t)"function"===typeof(n=n.style).setProperty?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,n.style.display=xe("display",i)}}else if(6===r.tag)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((23!==r.tag&&24!==r.tag||null===r.memoizedState||r===e)&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function bs(e,t){if(Si&&"function"===typeof Si.onCommitFiberUnmount)try{Si.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,void 0!==i)if(0!==(4&n))Lu(t,r);else{n=t;try{i()}catch(o){Bu(n,o)}}r=r.next}while(r!==e)}break;case 1:if(gs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Bu(t,o)}break;case 5:gs(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function _s(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.flags&&(me(t,""),r.flags&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||xs(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.flags)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.flags)){r=r.stateNode;break e}}n?ks(e,r,t):Ss(e,r,t)}function ks(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Bn));else if(4!==n&&null!==(e=e.child))for(ks(e,t,r),e=e.sibling;null!==e;)ks(e,t,r),e=e.sibling}function Ss(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(Ss(e,t,r),e=e.sibling;null!==e;)Ss(e,t,r),e=e.sibling}function Es(e,t){for(var r,n,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(r=o.stateNode,o.tag){case 5:n=!1;break e;case 3:case 4:r=r.containerInfo,n=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n?(s=r,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,n=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function As(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{3===(3&n.tag)&&(e=n.destroy,n.destroy=void 0,void 0!==e&&e()),n=n.next}while(n!==r)}return;case 1:case 12:case 17:return;case 5:if(null!=(r=t.stateNode)){n=t.memoizedProps;var i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Xn]=n,"input"===e&&"radio"===n.type&&null!=n.name&&te(r,n),Ee(e,i),t=Ee(e,n),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?_e(r,u):"dangerouslySetInnerHTML"===s?ye(r,u):"children"===s?me(r,u):w(r,s,u,t)}switch(e){case"input":re(r,n);break;case"textarea":ce(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(o=n.value)?ae(r,!!n.multiple,o,!1):e!==!!n.multiple&&(null!=n.defaultValue?ae(r,!!n.multiple,n.defaultValue,!0):ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((r=t.stateNode).hydrate&&(r.hydrate=!1,_t(r.containerInfo)));case 13:return null!==t.memoizedState&&(Vs=Ki(),ms(t.child,!0)),void Os(t);case 19:return void Os(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function Os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new hs),t.forEach((function(t){var n=zu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Cs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,Rs=x.ReactCurrentDispatcher,js=x.ReactCurrentOwner,Is=0,Ts=null,Fs=null,Ns=0,Ds=0,Ls=ci(0),Us=0,Ms=null,Bs=0,Hs=0,zs=0,Ks=0,Ws=null,Vs=0,qs=1/0;function Js(){qs=Ki()+500}var Zs,Gs=null,Qs=!1,$s=null,Ys=null,Xs=!1,eu=null,tu=90,ru=[],nu=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function du(){return 0!==(48&Is)?Ki():-1!==su?su:su=Ki()}function pu(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===uu&&(uu=Bs),0!==Qi.transition){0!==cu&&(cu=null!==Ws?Ws.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Is)&&98===e?e=Bt(12,uu):e=Bt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function hu(e,t,r){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=gu(e,t)))return null;Kt(e,t,r),e===Ts&&(zs|=t,4===Us&&mu(e,Ns));var n=Wi();1===t?0!==(8&Is)&&0===(48&Is)?bu(e):(vu(e,r),0===Is&&(Js(),Zi())):(0===(4&Is)||98!==n&&99!==n||(null===iu?iu=new Set([e]):iu.add(e)),vu(e,r)),Ws=e}function gu(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function vu(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Wt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&n)||0!==(c&i)){l=t,Lt(c);var f=Dt;o[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(n=Ut(e,e===Ts?Ns:0),t=Dt,0===n)null!==r&&(r!==Li&&Oi(r),e.callbackNode=null,e.callbackPriority=0);else{if(null!==r){if(e.callbackPriority===t)return;r!==Li&&Oi(r)}15===t?(r=bu.bind(null,e),null===Mi?(Mi=[r],Bi=Ai(Ii,Gi)):Mi.push(r),r=Li):14===t?r=Ji(99,bu.bind(null,e)):(r=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),r=Ji(r,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Is))throw Error(a(327));var t=e.callbackNode;if(Nu()&&e.callbackNode!==t)return null;var r=Ut(e,e===Ts?Ns:0);if(0===r)return null;var n=r,i=Is;Is|=16;var o=Au();for(Ts===e&&Ns===n||(Js(),Su(e,n));;)try{Pu();break}catch(u){Eu(e,u)}if(ro(),Rs.current=o,Is=i,null!==Fs?n=0:(Ts=null,Ns=0,n=Us),0!==(Bs&zs))Su(e,0);else if(0!==n){if(2===n&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jn(e.containerInfo)),0!==(r=Mt(e))&&(n=Ou(e,r))),1===n)throw t=Ms,Su(e,0),mu(e,r),vu(e,Ki()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(a(345));case 2:case 5:Iu(e);break;case 3:if(mu(e,r),(62914560&r)===r&&10<(n=Vs+500-Ki())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&r)!==r){du(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Vn(Iu.bind(null,e),n);break}Iu(e);break;case 4:if(mu(e,r),(4186112&r)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-Wt(r);o=1<<s,(s=n[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ki()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ps(r/1960))-r)){e.timeoutHandle=Vn(Iu.bind(null,e),r);break}Iu(e);break;default:throw Error(a(329))}}return vu(e,Ki()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~Ks,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wt(t),n=1<<r;e[r]=-1,t&=~n}}function bu(e){if(0!==(48&Is))throw Error(a(327));if(Nu(),e===Ts&&0!==(e.expiredLanes&Ns)){var t=Ns,r=Ou(e,t);0!==(Bs&zs)&&(r=Ou(e,t=Ut(e,t)))}else r=Ou(e,t=Ut(e,0));if(0!==e.tag&&2===r&&(Is|=64,e.hydrate&&(e.hydrate=!1,Jn(e.containerInfo)),0!==(t=Mt(e))&&(r=Ou(e,t))),1===r)throw r=Ms,Su(e,0),mu(e,t),vu(e,Ki()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Iu(e),vu(e,Ki()),null}function wu(e,t){var r=Is;Is|=1;try{return e(t)}finally{0===(Is=r)&&(Js(),Zi())}}function xu(e,t){var r=Is;Is&=-2,Is|=8;try{return e(t)}finally{0===(Is=r)&&(Js(),Zi())}}function _u(e,t){fi(Ls,Ds),Ds|=t,Bs|=t}function ku(){Ds=Ls.current,li(Ls)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,qn(r)),null!==Fs)for(r=Fs.return;null!==r;){var n=r;switch(n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&mi();break;case 3:No(),li(hi),li(pi),Qo();break;case 5:Lo(n);break;case 4:No();break;case 13:case 19:li(Uo);break;case 10:no(n);break;case 23:case 24:ku()}r=r.return}Ts=e,Fs=qu(e.current,null),Ns=Ds=Bs=t,Us=0,Ms=null,Ks=zs=Hs=0}function Eu(e,t){for(;;){var r=Fs;try{if(ro(),$o.current=Ia,na){for(var n=ea.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}na=!1}if(Xo=0,ra=ta=ea=null,ia=!1,js.current=null,null===r||null===r.return){Us=1,Ms=t,Fs=null;break}e:{var o=e,a=r.return,s=r,u=t;if(t=Ns,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&Uo.current),d=a;do{var p;if(p=13===d.tag){var h=d.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!f)}}if(p){var v=d.updateQueue;if(null===v){var y=new Set;y.add(c),d.updateQueue=y}else v.add(c);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,fo(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var w=Hu.bind(null,o,c,s);c.then(w,w)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);u=Error((J(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Us&&(Us=2),u=cs(u,s),d=a;do{switch(d.tag){case 3:o=u,d.flags|=4096,t&=-t,d.lanes|=t,po(d,ds(0,o,t));break e;case 1:o=u;var x=d.type,_=d.stateNode;if(0===(64&d.flags)&&("function"===typeof x.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ys||!Ys.has(_)))){d.flags|=4096,t&=-t,d.lanes|=t,po(d,ps(d,o,t));break e}}d=d.return}while(null!==d)}ju(r)}catch(k){t=k,Fs===r&&null!==r&&(Fs=r=r.return);continue}break}}function Au(){var e=Rs.current;return Rs.current=Ia,null===e?Ia:e}function Ou(e,t){var r=Is;Is|=16;var n=Au();for(Ts===e&&Ns===t||Su(e,t);;)try{Cu();break}catch(i){Eu(e,i)}if(ro(),Is=r,Rs.current=n,null!==Fs)throw Error(a(261));return Ts=null,Ns=0,Us}function Cu(){for(;null!==Fs;)Ru(Fs)}function Pu(){for(;null!==Fs&&!Ci();)Ru(Fs)}function Ru(e){var t=Zs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?ju(e):Fs=t,js.current=null}function ju(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(r=ss(r,t,Ds)))return void(Fs=r);if(24!==(r=t).tag&&23!==r.tag||null===r.memoizedState||0!==(1073741824&Ds)||0===(4&r.mode)){for(var n=0,i=r.child;null!==i;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(r=us(t)))return r.flags&=2047,void(Fs=r);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Fs=t);Fs=t=e}while(null!==t);0===Us&&(Us=5)}function Iu(e){var t=Wi();return qi(99,Tu.bind(null,e,t)),null}function Tu(e,t){do{Nu()}while(null!==eu);if(0!==(48&Is))throw Error(a(327));var r=e.finishedWork;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Wt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&n)&&iu.has(e)&&iu.delete(e),e===Ts&&(Fs=Ts=null,Ns=0),1<r.flags?null!==r.lastEffect?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,null!==n){if(i=Is,Is|=32,js.current=null,Hn=Gt,yn(s=vn())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(A){u=null;break e}var f=0,d=-1,p=-1,h=0,g=0,v=s,y=null;t:for(;;){for(var m;v!==u||0!==o&&3!==v.nodeType||(d=f+o),v!==c||0!==l&&3!==v.nodeType||(p=f+l),3===v.nodeType&&(f+=v.nodeValue.length),null!==(m=v.firstChild);)y=v,v=m;for(;;){if(v===s)break t;if(y===u&&++h===o&&(d=f),y===c&&++g===l&&(p=f),null!==(m=v.nextSibling))break;y=(v=y).parentNode}v=m}u=-1===d||-1===p?null:{start:d,end:p}}else u=null;u=u||{start:0,end:0}}else u=null;zn={focusedElem:s,selectionRange:u},Gt=!1,lu=null,fu=!1,Gs=n;do{try{Fu()}catch(A){if(null===Gs)throw Error(a(330));Bu(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);lu=null,Gs=n;do{try{for(s=e;null!==Gs;){var b=Gs.flags;if(16&b&&me(Gs.stateNode,""),128&b){var w=Gs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:_s(Gs),Gs.flags&=-3;break;case 6:_s(Gs),Gs.flags&=-3,As(Gs.alternate,Gs);break;case 1024:Gs.flags&=-1025;break;case 1028:Gs.flags&=-1025,As(Gs.alternate,Gs);break;case 4:As(Gs.alternate,Gs);break;case 8:Es(s,u=Gs);var _=u.alternate;ws(u),null!==_&&ws(_)}Gs=Gs.nextEffect}}catch(A){if(null===Gs)throw Error(a(330));Bu(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);if(x=zn,w=vn(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&gn(b.ownerDocument.documentElement,b)){null!==s&&yn(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),u=b.textContent.length,_=Math.min(s.start,u),s=void 0===s.end?_:Math.min(s.end,u),!x.extend&&_>s&&(u=s,s=_,_=u),u=hn(b,_),o=hn(b,s),u&&o&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),_>s?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Gt=!!Hn,zn=Hn=null,e.current=r,Gs=n;do{try{for(b=e;null!==Gs;){var k=Gs.flags;if(36&k&&ys(b,Gs.alternate,Gs),128&k){w=void 0;var S=Gs.ref;if(null!==S){var E=Gs.stateNode;Gs.tag,w=E,"function"===typeof S?S(w):S.current=w}}Gs=Gs.nextEffect}}catch(A){if(null===Gs)throw Error(a(330));Bu(Gs,A),Gs=Gs.nextEffect}}while(null!==Gs);Gs=null,Ui(),Is=i}else e.current=r;if(Xs)Xs=!1,eu=e,tu=t;else for(Gs=n;null!==Gs;)t=Gs.nextEffect,Gs.nextEffect=null,8&Gs.flags&&((k=Gs).sibling=null,k.stateNode=null),Gs=t;if(0===(n=e.pendingLanes)&&(Ys=null),1===n?e===au?ou++:(ou=0,au=e):ou=0,r=r.stateNode,Si&&"function"===typeof Si.onCommitFiberRoot)try{Si.onCommitFiberRoot(ki,r,void 0,64===(64&r.current.flags))}catch(A){}if(vu(e,Ki()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&Is)||Zi(),null}function Fu(){for(;null!==Gs;){var e=Gs.alternate;fu||null===lu||(0!==(8&Gs.flags)?et(Gs,lu)&&(fu=!0):13===Gs.tag&&Cs(e,Gs)&&et(Gs,lu)&&(fu=!0));var t=Gs.flags;0!==(256&t)&&vs(e,Gs),0===(512&t)||Xs||(Xs=!0,Ji(97,(function(){return Nu(),null}))),Gs=Gs.nextEffect}}function Nu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,qi(e,Uu)}return!1}function Du(e,t){ru.push(t,e),Xs||(Xs=!0,Ji(97,(function(){return Nu(),null})))}function Lu(e,t){nu.push(t,e),Xs||(Xs=!0,Ji(97,(function(){return Nu(),null})))}function Uu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Is))throw Error(a(331));var t=Is;Is|=32;var r=nu;nu=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(r=ru,ru=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));Bu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Is=t,Zi(),!0}function Mu(e,t,r){fo(e,t=ds(0,t=cs(r,t),1)),t=du(),null!==(e=gu(e,1))&&(Kt(e,1,t),vu(e,t))}function Bu(e,t){if(3===e.tag)Mu(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){Mu(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n))){var i=ps(r,e=cs(t,e),1);if(fo(r,i),i=du(),null!==(r=gu(r,1)))Kt(r,1,i),vu(r,i);else if("function"===typeof n.componentDidCatch&&(null===Ys||!Ys.has(n)))try{n.componentDidCatch(t,e)}catch(o){}break}}r=r.return}}function Hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=du(),e.pingedLanes|=e.suspendedLanes&r,Ts===e&&(Ns&r)===r&&(4===Us||3===Us&&(62914560&Ns)===Ns&&500>Ki()-Vs?Su(e,0):Ks|=r),vu(e,t)}function zu(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===uu&&(uu=Bs),0===(t=Ht(62914560&~uu))&&(t=4194304))),r=du(),null!==(e=gu(e,t))&&(Kt(e,t,r),vu(e,r))}function Ku(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Wu(e,t,r,n){return new Ku(e,t,r,n)}function Vu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qu(e,t){var r=e.alternate;return null===r?((r=Wu(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,i,o){var s=2;if(n=e,"function"===typeof e)Vu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Zu(r.children,i,o,t);case D:s=8,i|=16;break;case E:s=8,i|=1;break;case A:return(e=Wu(12,r,t,8|i)).elementType=A,e.type=A,e.lanes=o,e;case R:return(e=Wu(13,r,t,i)).type=R,e.elementType=R,e.lanes=o,e;case j:return(e=Wu(19,r,t,i)).elementType=j,e.lanes=o,e;case L:return Gu(r,i,o,t);case U:return(e=Wu(24,r,t,i)).elementType=U,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case O:s=10;break e;case C:s=9;break e;case P:s=11;break e;case I:s=14;break e;case T:s=16,n=null;break e;case F:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Wu(s,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Zu(e,t,r,n){return(e=Wu(7,e,n,t)).lanes=r,e}function Gu(e,t,r,n){return(e=Wu(23,e,n,t)).elementType=L,e.lanes=r,e}function Qu(e,t,r){return(e=Wu(6,e,null,t)).lanes=r,e}function $u(e,t,r){return(t=Wu(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Yu(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Xu(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ec(e,t,r,n){var i=t.current,o=du(),s=pu(i);e:if(r){t:{if(Qe(r=r._reactInternals)!==r||1!==r.tag)throw Error(a(170));var u=r;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===r.tag){var c=r.type;if(yi(c)){r=wi(r,c,u);break e}}r=u}else r=di;return null===t.context?t.context=r:t.pendingContext=r,(t=lo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),fo(i,t),hu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function rc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nc(e,t){rc(e,t),(e=e.alternate)&&rc(e,t)}function ic(e,t,r){var n=null!=r&&null!=r.hydrationOptions&&r.hydrationOptions.mutableSources||null;if(r=new Yu(e,t,null!=r&&!0===r.hydrate),t=Wu(3,null,null,2===t?7:1===t?3:0),r.current=t,t.stateNode=r,uo(t),e[ei]=r.current,In(8===e.nodeType?e.parentNode:e),n)for(e=0;e<n.length;e++){var i=(t=n[e])._getVersion;i=i(t._source),null==r.mutableSourceEagerHydrationData?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new ic(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}xu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Xu(e,t,null,r)}Zs=function(e,t,r){var n=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)La=!0;else{if(0===(r&n)){switch(La=!1,t.tag){case 3:Ja(t),Zo();break;case 5:Do(t);break;case 1:yi(t.type)&&xi(t);break;case 4:Fo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;fi(Yi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(r&t.child.childLanes)?Ya(e,t,r):(fi(Uo,1&Uo.current),null!==(t=os(e,t,r))?t.sibling:null);fi(Uo,1&Uo.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(64&e.flags)){if(n)return is(e,t,r);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Uo,Uo.current),n)break;return null;case 23:case 24:return t.lanes=0,za(e,t,r)}return os(e,t,r)}La=0!==(16384&e.flags)}else La=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,pi.current),oo(t,r),i=sa(null,t,n,e,i,r),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(n)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=n.getDerivedStateFromProps;"function"===typeof s&&yo(t,n,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,_o(t,n,e,r),t=qa(null,t,n,!0,o,r)}else t.tag=0,Ua(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Vu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===I)return 14}return 2}(i),e=$i(i,e),o){case 0:t=Wa(null,t,i,e,r);break e;case 1:t=Va(null,t,i,e,r);break e;case 11:t=Ma(null,t,i,e,r);break e;case 14:t=Ba(null,t,i,$i(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Wa(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 1:return n=t.type,i=t.pendingProps,Va(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 3:if(Ja(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,n,null,r),(n=t.memoizedState.element)===i)Zo(),t=os(e,t,r);else{if((o=(i=t.stateNode).hydrate)&&(Ho=Zn(t.stateNode.containerInfo.firstChild),Bo=t,o=zo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Go.push(o);for(r=Co(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|1024,r=r.sibling}else Ua(e,t,n,r),Zo();t=t.child}return t;case 5:return Do(t),null===e&&Vo(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Wn(n,i)?s=null:null!==o&&Wn(n,o)&&(t.flags|=16),Ka(e,t),Ua(e,t,s,r),t.child;case 6:return null===e&&Vo(t),null;case 13:return Ya(e,t,r);case 4:return Fo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Oo(t,null,n,r):Ua(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Ma(e,t,n,i=t.elementType===n?i:$i(n,i),r);case 7:return Ua(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ua(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(fi(Yi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=ln(u,o)?0:0|("function"===typeof n._calculateChangedBits?n._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,r);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===n&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,r&-r)).tag=2,fo(u,l)),u.lanes|=r,null!==(l=u.alternate)&&(l.lanes|=r),io(u.return,r),c.lanes|=r;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Ua(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,oo(t,r),n=n(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ua(e,t,n,r),t.child;case 14:return o=$i(i=t.type,t.pendingProps),Ba(e,t,i,o=$i(i.type,o),n,r);case 15:return Ha(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:$i(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(n)?(e=!0,xi(t)):e=!1,oo(t,r),wo(t,n,i),_o(t,n,i,r),qa(null,t,n,!0,e,r);case 19:return is(e,t,r);case 23:case 24:return za(e,t,r)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hu(e,4,du()),nc(e,4))},rt=function(e){13===e.tag&&(hu(e,67108864,du()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=du(),r=pu(e);hu(e,r,t),nc(e,r)}},it=function(e,t){return t()},Oe=function(e,t,r){switch(t){case"input":if(re(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=oi(n);if(!i)throw Error(a(90));$(n),re(n,i)}}}break;case"textarea":ce(e,r);break;case"select":null!=(t=r.value)&&ae(e,!!r.multiple,t,!1)}},Te=wu,Fe=function(e,t,r,n,i){var o=Is;Is|=4;try{return qi(98,e.bind(null,t,r,n,i))}finally{0===(Is=o)&&(Js(),Zi())}},Ne=function(){0===(49&Is)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,vu(e,Ki())}))}Zi()}(),Nu())},De=function(e,t){var r=Is;Is|=2;try{return e(t)}finally{0===(Is=r)&&(Js(),Zi())}};var uc={Events:[ni,ii,oi,je,Ie,Nu,{current:!1}]},cc={findFiberByHostInstance:ri,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{ki=fc.inject(lc),Si=fc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var r=Is;if(0!==(48&r))return e(t);Is|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Is=r,Zi()}},t.hydrate=function(e,t,r){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,r)},t.render=function(e,t,r){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(xu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wu,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!oc(r))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,r,!1,n)},t.version="17.0.2"},6599:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(3470)},3647:function(e,t){"use strict";var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case l:case f:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case v:case g:case u:return e;default:return t}}case i:return t}}}function _(e){return x(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=n,t.ForwardRef=d,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||x(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===v},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===p||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===m||e.$$typeof===b||e.$$typeof===w||e.$$typeof===y)},t.typeOf=x},557:function(e,t,r){"use strict";e.exports=r(3647)},8451:function(e,t,r){var n=r(7757);!function(e,t){"use strict";function r(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var u={init:"init"},c=function(e){var t=e.value;return void 0===t?"":t},l=function(){return t.createElement(t.Fragment,null,"\xa0")},f={Cell:c,width:150,minWidth:0,maxWidth:Number.MAX_SAFE_INTEGER};function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=t.style,n=t.className;return e=o({},e,{},a(t,["style","className"])),r&&(e.style=e.style?o({},e.style||{},{},r||{}):r),n&&(e.className=e.className?e.className+" "+n:n),""===e.className&&delete e.className,e}),{})}var p=function(e,t){return void 0===t&&(t={}),function(r){return void 0===r&&(r={}),[].concat(e,[r]).reduce((function(e,n){return function e(t,r,n){return"function"==typeof r?e({},r(t,n)):Array.isArray(r)?d.apply(void 0,[t].concat(r)):d(t,r)}(e,n,o({},t,{userProps:r}))}),{})}},h=function(e,t,r,n){return void 0===r&&(r={}),e.reduce((function(e,t){return t(e,r)}),t)},g=function(e,t,r){return void 0===r&&(r={}),e.forEach((function(e){e(t,r)}))};function v(e,t,r,n){e.findIndex((function(e){return e.pluginName===r})),t.forEach((function(t){e.findIndex((function(e){return e.pluginName===t}))}))}function y(e,t){return"function"==typeof e?e(t):e}function m(e){var r=t.useRef();return r.current=e,t.useCallback((function(){return r.current}),[])}var b="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function w(e,r){var n=t.useRef(!1);b((function(){n.current&&e(),n.current=!0}),r)}function x(e,t,r){return void 0===r&&(r={}),function(n,i){void 0===i&&(i={});var a="string"==typeof n?t[n]:n;if(void 0===a)throw console.info(t),new Error("Renderer Error \u261d\ufe0f");return _(a,o({},e,{column:t},r,{},i))}}function _(e,r){return function(e){return"function"==typeof e&&(t=Object.getPrototypeOf(e)).prototype&&t.prototype.isReactComponent;var t}(n=e)||"function"==typeof n||function(e){return"object"==typeof e&&"symbol"==typeof e.$$typeof&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}(n)?t.createElement(e,r):e;var n}function k(e,t,r){return void 0===r&&(r=0),e.map((function(e){return E(e=o({},e,{parent:t,depth:r})),e.columns&&(e.columns=k(e.columns,e,r+1)),e}))}function S(e){return j(e,"columns")}function E(e){var t=e.id,r=e.accessor,n=e.Header;if("string"==typeof r){t=t||r;var i=r.split(".");r=function(e){return function(e,t,r){if(!t)return e;var n,i="function"==typeof t?t:JSON.stringify(t),o=C.get(i)||function(){var e=function(e){return function e(t,r){if(void 0===r&&(r=[]),Array.isArray(t))for(var n=0;n<t.length;n+=1)e(t[n],r);else r.push(t);return r}(e).map((function(e){return String(e).replace(".","_")})).join(".").replace(L,".").replace(U,"").split(".")}(t);return C.set(i,e),e}();try{n=o.reduce((function(e,t){return e[t]}),e)}catch(e){}return void 0!==n?n:r}(e,i)}}if(!t&&"string"==typeof n&&n&&(t=n),!t&&e.columns)throw console.error(e),new Error('A column ID (or unique "Header" value) is required!');if(!t)throw console.error(e),new Error("A column ID (or string accessor) is required!");return Object.assign(e,{id:t,accessor:r}),e}function A(e,t){if(!t)throw new Error;return Object.assign(e,o({Header:l,Footer:l},f,{},t,{},e)),Object.assign(e,{originalWidth:e.width}),e}function O(e,t,r){void 0===r&&(r=function(){return{}});for(var n=[],i=e,a=0,s=function(){return a++},u=function(){var e={headers:[]},a=[],u=i.some((function(e){return e.parent}));i.forEach((function(n){var i,c=[].concat(a).reverse()[0];u&&(i=n.parent?o({},n.parent,{originalId:n.parent.id,id:n.parent.id+"_"+s(),headers:[n]},r(n)):A(o({originalId:n.id+"_placeholder",id:n.id+"_placeholder_"+s(),placeholderOf:n,headers:[n]},r(n)),t),c&&c.originalId===i.originalId?c.headers.push(n):a.push(i)),e.headers.push(n)})),n.push(e),i=a};i.length;)u();return n.reverse()}var C=new Map;function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=0;n<t.length;n+=1)if(void 0!==t[n])return t[n]}function R(e){if("function"==typeof e)return e}function j(e,t){var r=[];return function e(n){n.forEach((function(n){n[t]?e(n[t]):r.push(n)}))}(e),r}function I(e,t){var r=t.manualExpandedKey,n=t.expanded,i=t.expandSubRows,o=void 0===i||i,a=[];return e.forEach((function(e){return function e(t,i){void 0===i&&(i=!0),t.isExpanded=t.original&&t.original[r]||n[t.id],t.canExpand=t.subRows&&!!t.subRows.length,i&&a.push(t),t.subRows&&t.subRows.length&&t.isExpanded&&t.subRows.forEach((function(t){return e(t,o)}))}(e)})),a}function T(e,t,r){return R(e)||t[e]||r[e]||r.text}function F(e,t,r){return e?e(t,r):void 0===t}function N(){throw new Error("React-Table: You have not called prepareRow(row) one or more rows you are attempting to render.")}var D=null,L=/\[/g,U=/\]/g,M=function(e){return o({role:"table"},e)},B=function(e){return o({role:"rowgroup"},e)},H=function(e,t){var r=t.column;return o({key:"header_"+r.id,colSpan:r.totalVisibleHeaderCount,role:"columnheader"},e)},z=function(e,t){var r=t.column;return o({key:"footer_"+r.id,colSpan:r.totalVisibleHeaderCount},e)},K=function(e,t){return o({key:"headerGroup_"+t.index,role:"row"},e)},W=function(e,t){return o({key:"footerGroup_"+t.index},e)},V=function(e,t){return o({key:"row_"+t.row.id,role:"row"},e)},q=function(e,t){var r=t.cell;return o({key:"cell_"+r.row.id+"_"+r.column.id,role:"cell"},e)};function J(){return{useOptions:[],stateReducers:[],useControlledState:[],columns:[],columnsDeps:[],allColumns:[],allColumnsDeps:[],accessValue:[],materializedColumns:[],materializedColumnsDeps:[],useInstanceAfterData:[],visibleColumns:[],visibleColumnsDeps:[],headerGroups:[],headerGroupsDeps:[],useInstanceBeforeDimensions:[],useInstance:[],prepareRow:[],getTableProps:[M],getTableBodyProps:[B],getHeaderGroupProps:[K],getFooterGroupProps:[W],getHeaderProps:[H],getFooterProps:[z],getRowProps:[V],getCellProps:[q],useFinalInstance:[]}}u.resetHiddenColumns="resetHiddenColumns",u.toggleHideColumn="toggleHideColumn",u.setHiddenColumns="setHiddenColumns",u.toggleHideAllColumns="toggleHideAllColumns";var Z=function(e){e.getToggleHiddenProps=[G],e.getToggleHideAllColumnsProps=[Q],e.stateReducers.push($),e.useInstanceBeforeDimensions.push(Y),e.headerGroupsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.hiddenColumns])})),e.useInstance.push(X)};Z.pluginName="useColumnVisibility";var G=function(e,t){var r=t.column;return[e,{onChange:function(e){r.toggleHidden(!e.target.checked)},style:{cursor:"pointer"},checked:r.isVisible,title:"Toggle Column Visible"}]},Q=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleHideAllColumns(!e.target.checked)},style:{cursor:"pointer"},checked:!r.allColumnsHidden&&!r.state.hiddenColumns.length,title:"Toggle All Columns Hidden",indeterminate:!r.allColumnsHidden&&r.state.hiddenColumns.length}]};function $(e,t,r,n){if(t.type===u.init)return o({hiddenColumns:[]},e);if(t.type===u.resetHiddenColumns)return o({},e,{hiddenColumns:n.initialState.hiddenColumns||[]});if(t.type===u.toggleHideColumn){var i=(void 0!==t.value?t.value:!e.hiddenColumns.includes(t.columnId))?[].concat(e.hiddenColumns,[t.columnId]):e.hiddenColumns.filter((function(e){return e!==t.columnId}));return o({},e,{hiddenColumns:i})}return t.type===u.setHiddenColumns?o({},e,{hiddenColumns:y(t.value,e.hiddenColumns)}):t.type===u.toggleHideAllColumns?o({},e,{hiddenColumns:(void 0!==t.value?t.value:!e.hiddenColumns.length)?n.allColumns.map((function(e){return e.id})):[]}):void 0}function Y(e){var r=e.headers,n=e.state.hiddenColumns;t.useRef(!1).current;var i=0;r.forEach((function(e){return i+=function e(t,r){t.isVisible=r&&!n.includes(t.id);var i=0;return t.headers&&t.headers.length?t.headers.forEach((function(r){return i+=e(r,t.isVisible)})):i=t.isVisible?1:0,t.totalVisibleHeaderCount=i,i}(e,!0)}))}function X(e){var r=e.columns,n=e.flatHeaders,i=e.dispatch,o=e.allColumns,a=e.getHooks,s=e.state.hiddenColumns,c=e.autoResetHiddenColumns,l=void 0===c||c,f=m(e),d=o.length===s.length,h=t.useCallback((function(e,t){return i({type:u.toggleHideColumn,columnId:e,value:t})}),[i]),g=t.useCallback((function(e){return i({type:u.setHiddenColumns,value:e})}),[i]),v=t.useCallback((function(e){return i({type:u.toggleHideAllColumns,value:e})}),[i]),y=p(a().getToggleHideAllColumnsProps,{instance:f()});n.forEach((function(e){e.toggleHidden=function(t){i({type:u.toggleHideColumn,columnId:e.id,value:t})},e.getToggleHiddenProps=p(a().getToggleHiddenProps,{instance:f(),column:e})}));var b=m(l);w((function(){b()&&i({type:u.resetHiddenColumns})}),[i,r]),Object.assign(e,{allColumnsHidden:d,toggleHideColumn:h,setHiddenColumns:g,toggleHideAllColumns:v,getToggleHideAllColumnsProps:y})}var ee={},te={},re=function(e,t,r){return e},ne=function(e,t){return e.subRows||[]},ie=function(e,t,r){return""+(r?[r.id,t].join("."):t)},oe=function(e){return e};function ae(e){var t=e.initialState,r=void 0===t?ee:t,n=e.defaultColumn,i=void 0===n?te:n,s=e.getSubRows,u=void 0===s?ne:s,c=e.getRowId,l=void 0===c?ie:c,f=e.stateReducer,d=void 0===f?re:f,p=e.useControlledState,h=void 0===p?oe:p;return o({},a(e,["initialState","defaultColumn","getSubRows","getRowId","stateReducer","useControlledState"]),{initialState:r,defaultColumn:i,getSubRows:u,getRowId:l,stateReducer:d,useControlledState:h})}function se(e,t){void 0===t&&(t=0);var r=0,n=0,i=0,o=0;return e.forEach((function(e){var a=e.headers;if(e.totalLeft=t,a&&a.length){var s=se(a,t),u=s[0],c=s[1],l=s[2],f=s[3];e.totalMinWidth=u,e.totalWidth=c,e.totalMaxWidth=l,e.totalFlexWidth=f}else e.totalMinWidth=e.minWidth,e.totalWidth=Math.min(Math.max(e.minWidth,e.width),e.maxWidth),e.totalMaxWidth=e.maxWidth,e.totalFlexWidth=e.canResize?e.totalWidth:0;e.isVisible&&(t+=e.totalWidth,r+=e.totalMinWidth,n+=e.totalWidth,i+=e.totalMaxWidth,o+=e.totalFlexWidth)})),[r,n,i,o]}function ue(e){var t=e.data,r=e.rows,n=e.flatRows,i=e.rowsById,o=e.column,a=e.getRowId,s=e.getSubRows,u=e.accessValueHooks,c=e.getInstance;t.forEach((function(e,l){return function e(r,l,f,d,p){void 0===f&&(f=0);var g=r,v=a(r,l,d),y=i[v];if(y)y.subRows&&y.originalSubRows.forEach((function(t,r){return e(t,r,f+1,y)}));else if((y={id:v,original:g,index:l,depth:f,cells:[{}]}).cells.map=N,y.cells.filter=N,y.cells.forEach=N,y.cells[0].getCellProps=N,y.values={},p.push(y),n.push(y),i[v]=y,y.originalSubRows=s(r,l),y.originalSubRows){var m=[];y.originalSubRows.forEach((function(t,r){return e(t,r,f+1,y,m)})),y.subRows=m}o.accessor&&(y.values[o.id]=o.accessor(r,l,y,p,t)),y.values[o.id]=h(u,y.values[o.id],{row:y,column:o,instance:c()})}(e,l,0,void 0,r)}))}u.resetExpanded="resetExpanded",u.toggleRowExpanded="toggleRowExpanded",u.toggleAllRowsExpanded="toggleAllRowsExpanded";var ce=function(e){e.getToggleAllRowsExpandedProps=[le],e.getToggleRowExpandedProps=[fe],e.stateReducers.push(de),e.useInstance.push(pe),e.prepareRow.push(he)};ce.pluginName="useExpanded";var le=function(e,t){var r=t.instance;return[e,{onClick:function(e){r.toggleAllRowsExpanded()},style:{cursor:"pointer"},title:"Toggle All Rows Expanded"}]},fe=function(e,t){var r=t.row;return[e,{onClick:function(){r.toggleRowExpanded()},style:{cursor:"pointer"},title:"Toggle Row Expanded"}]};function de(e,t,r,n){if(t.type===u.init)return o({expanded:{}},e);if(t.type===u.resetExpanded)return o({},e,{expanded:n.initialState.expanded||{}});if(t.type===u.toggleAllRowsExpanded){var i=t.value,c=n.isAllRowsExpanded,l=n.rowsById;if(void 0!==i?i:!c){var f={};return Object.keys(l).forEach((function(e){f[e]=!0})),o({},e,{expanded:f})}return o({},e,{expanded:{}})}if(t.type===u.toggleRowExpanded){var d,p=t.id,h=t.value,g=e.expanded[p],v=void 0!==h?h:!g;if(!g&&v)return o({},e,{expanded:o({},e.expanded,(d={},d[p]=!0,d))});if(g&&!v){var y=e.expanded;return y[p],o({},e,{expanded:a(y,[p].map(s))})}return e}}function pe(e){var r=e.data,n=e.rows,i=e.rowsById,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.paginateExpandedRows,c=void 0===s||s,l=e.expandSubRows,f=void 0===l||l,d=e.autoResetExpanded,h=void 0===d||d,g=e.getHooks,y=e.plugins,b=e.state.expanded,x=e.dispatch;v(y,["useSortBy","useGroupBy","usePivotColumns","useGlobalFilter"],"useExpanded");var _=m(h),k=Boolean(Object.keys(i).length&&Object.keys(b).length);k&&Object.keys(i).some((function(e){return!b[e]}))&&(k=!1),w((function(){_()&&x({type:u.resetExpanded})}),[x,r]);var S=t.useCallback((function(e,t){x({type:u.toggleRowExpanded,id:e,value:t})}),[x]),E=t.useCallback((function(e){return x({type:u.toggleAllRowsExpanded,value:e})}),[x]),A=t.useMemo((function(){return c?I(n,{manualExpandedKey:a,expanded:b,expandSubRows:f}):n}),[c,n,a,b,f]),O=t.useMemo((function(){return function(e){var t=0;return Object.keys(e).forEach((function(e){var r=e.split(".");t=Math.max(t,r.length)})),t}(b)}),[b]),C=m(e),P=p(g().getToggleAllRowsExpandedProps,{instance:C()});Object.assign(e,{preExpandedRows:n,expandedRows:A,rows:A,expandedDepth:O,isAllRowsExpanded:k,toggleRowExpanded:S,toggleAllRowsExpanded:E,getToggleAllRowsExpandedProps:P})}function he(e,t){var r=t.instance.getHooks,n=t.instance;e.toggleRowExpanded=function(t){return n.toggleRowExpanded(e.id,t)},e.getToggleRowExpandedProps=p(r().getToggleRowExpandedProps,{instance:n,row:e})}var ge=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return String(n).toLowerCase().includes(String(r).toLowerCase())}))}))};ge.autoRemove=function(e){return!e};var ve=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n).toLowerCase()===String(r).toLowerCase()}))}))};ve.autoRemove=function(e){return!e};var ye=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return void 0===n||String(n)===String(r)}))}))};ye.autoRemove=function(e){return!e};var me=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t].includes(r)}))}))};me.autoRemove=function(e){return!e||!e.length};var be=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.every((function(e){return n.includes(e)}))}))}))};be.autoRemove=function(e){return!e||!e.length};var we=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return n&&n.length&&r.some((function(e){return n.includes(e)}))}))}))};we.autoRemove=function(e){return!e||!e.length};var xe=function(e,t,r){return e.filter((function(e){return t.some((function(t){var n=e.values[t];return r.includes(n)}))}))};xe.autoRemove=function(e){return!e||!e.length};var _e=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]===r}))}))};_e.autoRemove=function(e){return void 0===e};var ke=function(e,t,r){return e.filter((function(e){return t.some((function(t){return e.values[t]==r}))}))};ke.autoRemove=function(e){return null==e};var Se=function(e,t,r){var n=r||[],i=n[0],o=n[1];if((i="number"==typeof i?i:-1/0)>(o="number"==typeof o?o:1/0)){var a=i;i=o,o=a}return e.filter((function(e){return t.some((function(t){var r=e.values[t];return r>=i&&r<=o}))}))};Se.autoRemove=function(e){return!e||"number"!=typeof e[0]&&"number"!=typeof e[1]};var Ee=Object.freeze({__proto__:null,text:ge,exactText:ve,exactTextCase:ye,includes:me,includesAll:be,includesSome:we,includesValue:xe,exact:_e,equals:ke,between:Se});u.resetFilters="resetFilters",u.setFilter="setFilter",u.setAllFilters="setAllFilters";var Ae=function(e){e.stateReducers.push(Oe),e.useInstance.push(Ce)};function Oe(e,t,r,n){if(t.type===u.init)return o({filters:[]},e);if(t.type===u.resetFilters)return o({},e,{filters:n.initialState.filters||[]});if(t.type===u.setFilter){var i=t.columnId,a=t.filterValue,s=n.allColumns,c=n.filterTypes,l=s.find((function(e){return e.id===i}));if(!l)throw new Error("React-Table: Could not find a column with id: "+i);var f=T(l.filter,c||{},Ee),d=e.filters.find((function(e){return e.id===i})),p=y(a,d&&d.value);return F(f.autoRemove,p,l)?o({},e,{filters:e.filters.filter((function(e){return e.id!==i}))}):o({},e,d?{filters:e.filters.map((function(e){return e.id===i?{id:i,value:p}:e}))}:{filters:[].concat(e.filters,[{id:i,value:p}])})}if(t.type===u.setAllFilters){var h=t.filters,g=n.allColumns,v=n.filterTypes;return o({},e,{filters:y(h,e.filters).filter((function(e){var t=g.find((function(t){return t.id===e.id}));return!F(T(t.filter,v||{},Ee).autoRemove,e.value,t)}))})}}function Ce(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,c=e.manualFilters,l=e.defaultCanFilter,f=void 0!==l&&l,d=e.disableFilters,p=e.state.filters,h=e.dispatch,g=e.autoResetFilters,v=void 0===g||g,y=t.useCallback((function(e,t){h({type:u.setFilter,columnId:e,filterValue:t})}),[h]),b=t.useCallback((function(e){h({type:u.setAllFilters,filters:e})}),[h]);a.forEach((function(e){var t=e.id,r=e.accessor,n=e.defaultCanFilter,i=e.disableFilters;e.canFilter=r?P(!0!==i&&void 0,!0!==d&&void 0,!0):P(n,f,!1),e.setFilter=function(t){return y(e.id,t)};var o=p.find((function(e){return e.id===t}));e.filterValue=o&&o.value}));var x=t.useMemo((function(){if(c||!p.length)return[n,i,o];var e=[],t={};return[function r(n,i){void 0===i&&(i=0);var o=n;return(o=p.reduce((function(e,t){var r=t.id,n=t.value,o=a.find((function(e){return e.id===r}));if(!o)return e;0===i&&(o.preFilteredRows=e);var u=T(o.filter,s||{},Ee);return u?(o.filteredRows=u(e,[r],n),o.filteredRows):(console.warn("Could not find a valid 'column.filter' for column with the ID: "+o.id+"."),e)}),n)).forEach((function(n){e.push(n),t[n.id]=n,n.subRows&&(n.subRows=n.subRows&&n.subRows.length>0?r(n.subRows,i+1):n.subRows)})),o}(n),e,t]}),[c,p,n,i,o,a,s]),_=x[0],k=x[1],S=x[2];t.useMemo((function(){a.filter((function(e){return!p.find((function(t){return t.id===e.id}))})).forEach((function(e){e.preFilteredRows=_,e.filteredRows=_}))}),[_,p,a]);var E=m(v);w((function(){E()&&h({type:u.resetFilters})}),[h,c?null:r]),Object.assign(e,{preFilteredRows:n,preFilteredFlatRows:i,preFilteredRowsById:o,filteredRows:_,filteredFlatRows:k,filteredRowsById:S,rows:_,flatRows:k,rowsById:S,setFilter:y,setAllFilters:b})}Ae.pluginName="useFilters",u.resetGlobalFilter="resetGlobalFilter",u.setGlobalFilter="setGlobalFilter";var Pe=function(e){e.stateReducers.push(Re),e.useInstance.push(je)};function Re(e,t,r,n){if(t.type===u.resetGlobalFilter)return o({},e,{globalFilter:n.initialState.globalFilter||void 0});if(t.type===u.setGlobalFilter){var i=t.filterValue,s=n.userFilterTypes,c=T(n.globalFilter,s||{},Ee),l=y(i,e.globalFilter);return F(c.autoRemove,l)?(e.globalFilter,a(e,["globalFilter"])):o({},e,{globalFilter:l})}}function je(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.filterTypes,c=e.globalFilter,l=e.manualGlobalFilter,f=e.state.globalFilter,d=e.dispatch,p=e.autoResetGlobalFilter,h=void 0===p||p,g=e.disableGlobalFilter,v=t.useCallback((function(e){d({type:u.setGlobalFilter,filterValue:e})}),[d]),y=t.useMemo((function(){if(l||void 0===f)return[n,i,o];var e=[],t={},r=T(c,s||{},Ee);if(!r)return console.warn("Could not find a valid 'globalFilter' option."),n;a.forEach((function(e){var t=e.disableGlobalFilter;e.canFilter=P(!0!==t&&void 0,!0!==g&&void 0,!0)}));var u=a.filter((function(e){return!0===e.canFilter}));return[function n(i){return(i=r(i,u.map((function(e){return e.id})),f)).forEach((function(r){e.push(r),t[r.id]=r,r.subRows=r.subRows&&r.subRows.length?n(r.subRows):r.subRows})),i}(n),e,t]}),[l,f,c,s,a,n,i,o,g]),b=y[0],x=y[1],_=y[2],k=m(h);w((function(){k()&&d({type:u.resetGlobalFilter})}),[d,l?null:r]),Object.assign(e,{preGlobalFilteredRows:n,preGlobalFilteredFlatRows:i,preGlobalFilteredRowsById:o,globalFilteredRows:b,globalFilteredFlatRows:x,globalFilteredRowsById:_,rows:b,flatRows:x,rowsById:_,setGlobalFilter:v,disableGlobalFilter:g})}function Ie(e,t){return t.reduce((function(e,t){return e+("number"==typeof t?t:0)}),0)}Pe.pluginName="useGlobalFilter";var Te=Object.freeze({__proto__:null,sum:Ie,min:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e))})),t},max:function(e){var t=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.max(t,e))})),t},minMax:function(e){var t=e[0]||0,r=e[0]||0;return e.forEach((function(e){"number"==typeof e&&(t=Math.min(t,e),r=Math.max(r,e))})),t+".."+r},average:function(e){return Ie(0,e)/e.length},median:function(e){if(!e.length)return null;var t=Math.floor(e.length/2),r=[].concat(e).sort((function(e,t){return e-t}));return e.length%2!=0?r[t]:(r[t-1]+r[t])/2},unique:function(e){return Array.from(new Set(e).values())},uniqueCount:function(e){return new Set(e).size},count:function(e){return e.length}}),Fe=[],Ne={};u.resetGroupBy="resetGroupBy",u.setGroupBy="setGroupBy",u.toggleGroupBy="toggleGroupBy";var De=function(e){e.getGroupByToggleProps=[Le],e.stateReducers.push(Ue),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.groupBy])})),e.visibleColumns.push(Me),e.useInstance.push(He),e.prepareRow.push(ze)};De.pluginName="useGroupBy";var Le=function(e,t){var r=t.header;return[e,{onClick:r.canGroupBy?function(e){e.persist(),r.toggleGroupBy()}:void 0,style:{cursor:r.canGroupBy?"pointer":void 0},title:"Toggle GroupBy"}]};function Ue(e,t,r,n){if(t.type===u.init)return o({groupBy:[]},e);if(t.type===u.resetGroupBy)return o({},e,{groupBy:n.initialState.groupBy||[]});if(t.type===u.setGroupBy)return o({},e,{groupBy:t.value});if(t.type===u.toggleGroupBy){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.groupBy.includes(i);return o({},e,s?{groupBy:[].concat(e.groupBy,[i])}:{groupBy:e.groupBy.filter((function(e){return e!==i}))})}}function Me(e,t){var r=t.instance.state.groupBy,n=r.map((function(t){return e.find((function(e){return e.id===t}))})).filter(Boolean),i=e.filter((function(e){return!r.includes(e.id)}));return(e=[].concat(n,i)).forEach((function(e){e.isGrouped=r.includes(e.id),e.groupedIndex=r.indexOf(e.id)})),e}var Be={};function He(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.rowsById,a=e.allColumns,s=e.flatHeaders,c=e.groupByFn,l=void 0===c?Ke:c,f=e.manualGroupBy,d=e.aggregations,h=void 0===d?Be:d,g=e.plugins,y=e.state.groupBy,b=e.dispatch,x=e.autoResetGroupBy,_=void 0===x||x,k=e.disableGroupBy,S=e.defaultCanGroupBy,E=e.getHooks;v(g,["useColumnOrder","useFilters"],"useGroupBy");var A=m(e);a.forEach((function(t){var r=t.accessor,n=t.defaultGroupBy,i=t.disableGroupBy;t.canGroupBy=r?P(t.canGroupBy,!0!==i&&void 0,!0!==k&&void 0,!0):P(t.canGroupBy,n,S,!1),t.canGroupBy&&(t.toggleGroupBy=function(){return e.toggleGroupBy(t.id)}),t.Aggregated=t.Aggregated||t.Cell}));var O=t.useCallback((function(e,t){b({type:u.toggleGroupBy,columnId:e,value:t})}),[b]),C=t.useCallback((function(e){b({type:u.setGroupBy,value:e})}),[b]);s.forEach((function(e){e.getGroupByToggleProps=p(E().getGroupByToggleProps,{instance:A(),header:e})}));var R=t.useMemo((function(){if(f||!y.length)return[n,i,o,Fe,Ne,i,o];var e=y.filter((function(e){return a.find((function(t){return t.id===e}))})),t=[],r={},s=[],u={},c=[],d={},p=function n(i,o,f){if(void 0===o&&(o=0),o===e.length)return i;var p=e[o],g=l(i,p);return Object.entries(g).map((function(i,l){var g=i[0],v=i[1],y=p+":"+g,m=n(v,o+1,y=f?f+">"+y:y),b=o?j(v,"leafRows"):v,w=function(t,r,n){var i={};return a.forEach((function(o){if(e.includes(o.id))i[o.id]=r[0]?r[0].values[o.id]:null;else{var a="function"==typeof o.aggregate?o.aggregate:h[o.aggregate]||Te[o.aggregate];if(a){var s=r.map((function(e){return e.values[o.id]})),u=t.map((function(e){var t=e.values[o.id];if(!n&&o.aggregateValue){var r="function"==typeof o.aggregateValue?o.aggregateValue:h[o.aggregateValue]||Te[o.aggregateValue];if(!r)throw console.info({column:o}),new Error("React Table: Invalid column.aggregateValue option for column listed above");t=r(t,e,o)}return t}));i[o.id]=a(u,s)}else{if(o.aggregate)throw console.info({column:o}),new Error("React Table: Invalid column.aggregate option for column listed above");i[o.id]=null}}})),i}(b,v,o),x={id:y,isGrouped:!0,groupByID:p,groupByVal:g,values:w,subRows:m,leafRows:b,depth:o,index:l};return m.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),d[e.id]=e)})),x}))}(n);return p.forEach((function(e){t.push(e),r[e.id]=e,e.isGrouped?(s.push(e),u[e.id]=e):(c.push(e),d[e.id]=e)})),[p,t,r,s,u,c,d]}),[f,y,n,i,o,a,h,l]),I=R[0],T=R[1],F=R[2],N=R[3],D=R[4],L=R[5],U=R[6],M=m(_);w((function(){M()&&b({type:u.resetGroupBy})}),[b,f?null:r]),Object.assign(e,{preGroupedRows:n,preGroupedFlatRow:i,preGroupedRowsById:o,groupedRows:I,groupedFlatRows:T,groupedRowsById:F,onlyGroupedFlatRows:N,onlyGroupedRowsById:D,nonGroupedFlatRows:L,nonGroupedRowsById:U,rows:I,flatRows:T,rowsById:F,toggleGroupBy:O,setGroupBy:C})}function ze(e){e.allCells.forEach((function(t){var r;t.isGrouped=t.column.isGrouped&&t.column.id===e.groupByID,t.isPlaceholder=!t.isGrouped&&t.column.isGrouped,t.isAggregated=!t.isGrouped&&!t.isPlaceholder&&(null==(r=e.subRows)?void 0:r.length)}))}function Ke(e,t){return e.reduce((function(e,r,n){var i=""+r.values[t];return e[i]=Array.isArray(e[i])?e[i]:[],e[i].push(r),e}),{})}var We=/([0-9]+)/gm;function Ve(e,t){return e===t?0:e>t?1:-1}function qe(e,t,r){return[e.values[r],t.values[r]]}function Je(e){return"number"==typeof e?isNaN(e)||e===1/0||e===-1/0?"":String(e):"string"==typeof e?e:""}var Ze=Object.freeze({__proto__:null,alphanumeric:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];for(i=Je(i),o=Je(o),i=i.split(We).filter(Boolean),o=o.split(We).filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),u=parseInt(a,10),c=parseInt(s,10),l=[u,c].sort();if(isNaN(l[0])){if(a>s)return 1;if(s>a)return-1}else{if(isNaN(l[1]))return isNaN(u)?-1:1;if(u>c)return 1;if(c>u)return-1}}return i.length-o.length},datetime:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];return Ve(i=i.getTime(),o=o.getTime())},basic:function(e,t,r){var n=qe(e,t,r);return Ve(n[0],n[1])},string:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1];for(i=i.split("").filter(Boolean),o=o.split("").filter(Boolean);i.length&&o.length;){var a=i.shift(),s=o.shift(),u=a.toLowerCase(),c=s.toLowerCase();if(u>c)return 1;if(c>u)return-1;if(a>s)return 1;if(s>a)return-1}return i.length-o.length},number:function(e,t,r){var n=qe(e,t,r),i=n[0],o=n[1],a=/[^0-9.]/gi;return Ve(i=Number(String(i).replace(a,"")),o=Number(String(o).replace(a,"")))}});u.resetSortBy="resetSortBy",u.setSortBy="setSortBy",u.toggleSortBy="toggleSortBy",u.clearSortBy="clearSortBy",f.sortType="alphanumeric",f.sortDescFirst=!1;var Ge=function(e){e.getSortByToggleProps=[Qe],e.stateReducers.push($e),e.useInstance.push(Ye)};Ge.pluginName="useSortBy";var Qe=function(e,t){var r=t.instance,n=t.column,i=r.isMultiSortEvent,o=void 0===i?function(e){return e.shiftKey}:i;return[e,{onClick:n.canSort?function(e){e.persist(),n.toggleSortBy(void 0,!r.disableMultiSort&&o(e))}:void 0,style:{cursor:n.canSort?"pointer":void 0},title:n.canSort?"Toggle SortBy":void 0}]};function $e(e,t,r,n){if(t.type===u.init)return o({sortBy:[]},e);if(t.type===u.resetSortBy)return o({},e,{sortBy:n.initialState.sortBy||[]});if(t.type===u.clearSortBy)return o({},e,{sortBy:e.sortBy.filter((function(e){return e.id!==t.columnId}))});if(t.type===u.setSortBy)return o({},e,{sortBy:t.sortBy});if(t.type===u.toggleSortBy){var i,a=t.columnId,s=t.desc,c=t.multi,l=n.allColumns,f=n.disableMultiSort,d=n.disableSortRemove,p=n.disableMultiRemove,h=n.maxMultiSortColCount,g=void 0===h?Number.MAX_SAFE_INTEGER:h,v=e.sortBy,y=l.find((function(e){return e.id===a})).sortDescFirst,m=v.find((function(e){return e.id===a})),b=v.findIndex((function(e){return e.id===a})),w=null!=s,x=[];return"toggle"!==(i=!f&&c?m?"toggle":"add":b!==v.length-1||1!==v.length?"replace":m?"toggle":"replace")||d||w||c&&p||!(m&&m.desc&&!y||!m.desc&&y)||(i="remove"),"replace"===i?x=[{id:a,desc:w?s:y}]:"add"===i?(x=[].concat(v,[{id:a,desc:w?s:y}])).splice(0,x.length-g):"toggle"===i?x=v.map((function(e){return e.id===a?o({},e,{desc:w?s:!m.desc}):e})):"remove"===i&&(x=v.filter((function(e){return e.id!==a}))),o({},e,{sortBy:x})}}function Ye(e){var r=e.data,n=e.rows,i=e.flatRows,o=e.allColumns,a=e.orderByFn,s=void 0===a?Xe:a,c=e.sortTypes,l=e.manualSortBy,f=e.defaultCanSort,d=e.disableSortBy,h=e.flatHeaders,g=e.state.sortBy,y=e.dispatch,b=e.plugins,x=e.getHooks,_=e.autoResetSortBy,k=void 0===_||_;v(b,["useFilters","useGlobalFilter","useGroupBy","usePivotColumns"],"useSortBy");var S=t.useCallback((function(e){y({type:u.setSortBy,sortBy:e})}),[y]),E=t.useCallback((function(e,t,r){y({type:u.toggleSortBy,columnId:e,desc:t,multi:r})}),[y]),A=m(e);h.forEach((function(e){var t=e.accessor,r=e.canSort,n=e.disableSortBy,i=e.id,o=t?P(!0!==n&&void 0,!0!==d&&void 0,!0):P(f,r,!1);e.canSort=o,e.canSort&&(e.toggleSortBy=function(t,r){return E(e.id,t,r)},e.clearSortBy=function(){y({type:u.clearSortBy,columnId:e.id})}),e.getSortByToggleProps=p(x().getSortByToggleProps,{instance:A(),column:e});var a=g.find((function(e){return e.id===i}));e.isSorted=!!a,e.sortedIndex=g.findIndex((function(e){return e.id===i})),e.isSortedDesc=e.isSorted?a.desc:void 0}));var O=t.useMemo((function(){if(l||!g.length)return[n,i];var e=[],t=g.filter((function(e){return o.find((function(t){return t.id===e.id}))}));return[function r(n){var i=s(n,t.map((function(e){var t=o.find((function(t){return t.id===e.id}));if(!t)throw new Error("React-Table: Could not find a column with id: "+e.id+" while sorting");var r=t.sortType,n=R(r)||(c||{})[r]||Ze[r];if(!n)throw new Error("React-Table: Could not find a valid sortType of '"+r+"' for column '"+e.id+"'.");return function(t,r){return n(t,r,e.id,e.desc)}})),t.map((function(e){var t=o.find((function(t){return t.id===e.id}));return t&&t.sortInverted?e.desc:!e.desc})));return i.forEach((function(t){e.push(t),t.subRows&&0!==t.subRows.length&&(t.subRows=r(t.subRows))})),i}(n),e]}),[l,g,n,i,o,s,c]),C=O[0],j=O[1],I=m(k);w((function(){I()&&y({type:u.resetSortBy})}),[l?null:r]),Object.assign(e,{preSortedRows:n,preSortedFlatRows:i,sortedRows:C,sortedFlatRows:j,rows:C,flatRows:j,setSortBy:S,toggleSortBy:E})}function Xe(e,t,r){return[].concat(e).sort((function(e,n){for(var i=0;i<t.length;i+=1){var o=t[i],a=!1===r[i]||"desc"===r[i],s=o(e,n);if(0!==s)return a?-s:s}return r[0]?e.index-n.index:n.index-e.index}))}u.resetPage="resetPage",u.gotoPage="gotoPage",u.setPageSize="setPageSize";var et=function(e){e.stateReducers.push(tt),e.useInstance.push(rt)};function tt(e,t,r,n){if(t.type===u.init)return o({pageSize:10,pageIndex:0},e);if(t.type===u.resetPage)return o({},e,{pageIndex:n.initialState.pageIndex||0});if(t.type===u.gotoPage){var i=n.pageCount,a=n.page,s=y(t.pageIndex,e.pageIndex),c=!1;return s>e.pageIndex?c=-1===i?a.length>=e.pageSize:s<i:s<e.pageIndex&&(c=s>-1),c?o({},e,{pageIndex:s}):e}if(t.type===u.setPageSize){var l=t.pageSize,f=e.pageSize*e.pageIndex;return o({},e,{pageIndex:Math.floor(f/l),pageSize:l})}}function rt(e){var r=e.rows,n=e.autoResetPage,i=void 0===n||n,o=e.manualExpandedKey,a=void 0===o?"expanded":o,s=e.plugins,c=e.pageCount,l=e.paginateExpandedRows,f=void 0===l||l,d=e.expandSubRows,p=void 0===d||d,h=e.state,g=h.pageSize,y=h.pageIndex,b=h.expanded,x=h.globalFilter,_=h.filters,k=h.groupBy,S=h.sortBy,E=e.dispatch,A=e.data,O=e.manualPagination;v(s,["useGlobalFilter","useFilters","useGroupBy","useSortBy","useExpanded"],"usePagination");var C=m(i);w((function(){C()&&E({type:u.resetPage})}),[E,O?null:A,x,_,k,S]);var P=O?c:Math.ceil(r.length/g),R=t.useMemo((function(){return P>0?[].concat(new Array(P)).fill(null).map((function(e,t){return t})):[]}),[P]),j=t.useMemo((function(){var e;if(O)e=r;else{var t=g*y,n=t+g;e=r.slice(t,n)}return f?e:I(e,{manualExpandedKey:a,expanded:b,expandSubRows:p})}),[p,b,a,O,y,g,f,r]),T=y>0,F=-1===P?j.length>=g:y<P-1,N=t.useCallback((function(e){E({type:u.gotoPage,pageIndex:e})}),[E]),D=t.useCallback((function(){return N((function(e){return e-1}))}),[N]),L=t.useCallback((function(){return N((function(e){return e+1}))}),[N]),U=t.useCallback((function(e){E({type:u.setPageSize,pageSize:e})}),[E]);Object.assign(e,{pageOptions:R,pageCount:P,page:j,canPreviousPage:T,canNextPage:F,gotoPage:N,previousPage:D,nextPage:L,setPageSize:U})}et.pluginName="usePagination",u.resetPivot="resetPivot",u.togglePivot="togglePivot";var nt=function(e){e.getPivotToggleProps=[ot],e.stateReducers.push(at),e.useInstanceAfterData.push(st),e.allColumns.push(ut),e.accessValue.push(ct),e.materializedColumns.push(lt),e.materializedColumnsDeps.push(ft),e.visibleColumns.push(dt),e.visibleColumnsDeps.push(pt),e.useInstance.push(ht),e.prepareRow.push(gt)};nt.pluginName="usePivotColumns";var it=[],ot=function(e,t){var r=t.header;return[e,{onClick:r.canPivot?function(e){e.persist(),r.togglePivot()}:void 0,style:{cursor:r.canPivot?"pointer":void 0},title:"Toggle Pivot"}]};function at(e,t,r,n){if(t.type===u.init)return o({pivotColumns:it},e);if(t.type===u.resetPivot)return o({},e,{pivotColumns:n.initialState.pivotColumns||it});if(t.type===u.togglePivot){var i=t.columnId,a=t.value,s=void 0!==a?a:!e.pivotColumns.includes(i);return o({},e,s?{pivotColumns:[].concat(e.pivotColumns,[i])}:{pivotColumns:e.pivotColumns.filter((function(e){return e!==i}))})}}function st(e){e.allColumns.forEach((function(t){t.isPivotSource=e.state.pivotColumns.includes(t.id)}))}function ut(e,t){var r=t.instance;return e.forEach((function(e){e.isPivotSource=r.state.pivotColumns.includes(e.id),e.uniqueValues=new Set})),e}function ct(e,t){var r=t.column;return r.uniqueValues&&void 0!==e&&r.uniqueValues.add(e),e}function lt(e,t){var r=t.instance,n=r.allColumns,i=r.state;if(!i.pivotColumns.length||!i.groupBy||!i.groupBy.length)return e;var a=i.pivotColumns.map((function(e){return n.find((function(t){return t.id===e}))})).filter(Boolean),s=n.filter((function(e){return!e.isPivotSource&&!i.groupBy.includes(e.id)&&!i.pivotColumns.includes(e.id)})),u=S(function e(t,r,n){void 0===t&&(t=0),void 0===n&&(n=[]);var i=a[t];return i?Array.from(i.uniqueValues).sort().map((function(a){var s=o({},i,{Header:i.PivotHeader||"string"==typeof i.header?i.Header+": "+a:a,isPivotGroup:!0,parent:r,depth:t,id:r?r.id+"."+i.id+"."+a:i.id+"."+a,pivotValue:a});return s.columns=e(t+1,s,[].concat(n,[function(e){return e.values[i.id]===a}])),s})):s.map((function(e){return o({},e,{canPivot:!1,isPivoted:!0,parent:r,depth:t,id:""+(r?r.id+"."+e.id:e.id),accessor:function(t,r,i){if(n.every((function(e){return e(i)})))return i.values[e.id]}})}))}());return[].concat(e,u)}function ft(e,t){var r=t.instance.state,n=r.pivotColumns,i=r.groupBy;return[].concat(e,[n,i])}function dt(e,t){var r=t.instance.state;return e=e.filter((function(e){return!e.isPivotSource})),r.pivotColumns.length&&r.groupBy&&r.groupBy.length&&(e=e.filter((function(e){return e.isGrouped||e.isPivoted}))),e}function pt(e,t){var r=t.instance;return[].concat(e,[r.state.pivotColumns,r.state.groupBy])}function ht(e){var t=e.columns,r=e.allColumns,n=e.flatHeaders,i=e.getHooks,o=e.plugins,a=e.dispatch,s=e.autoResetPivot,c=void 0===s||s,l=e.manaulPivot,f=e.disablePivot,d=e.defaultCanPivot;v(o,["useGroupBy"],"usePivotColumns");var h=m(e);r.forEach((function(t){var r=t.accessor,n=t.defaultPivot,i=t.disablePivot;t.canPivot=r?P(t.canPivot,!0!==i&&void 0,!0!==f&&void 0,!0):P(t.canPivot,n,d,!1),t.canPivot&&(t.togglePivot=function(){return e.togglePivot(t.id)}),t.Aggregated=t.Aggregated||t.Cell})),n.forEach((function(e){e.getPivotToggleProps=p(i().getPivotToggleProps,{instance:h(),header:e})}));var g=m(c);w((function(){g()&&a({type:u.resetPivot})}),[a,l?null:t]),Object.assign(e,{togglePivot:function(e,t){a({type:u.togglePivot,columnId:e,value:t})}})}function gt(e){e.allCells.forEach((function(e){e.isPivoted=e.column.isPivoted}))}u.resetSelectedRows="resetSelectedRows",u.toggleAllRowsSelected="toggleAllRowsSelected",u.toggleRowSelected="toggleRowSelected",u.toggleAllPageRowsSelected="toggleAllPageRowsSelected";var vt=function(e){e.getToggleRowSelectedProps=[yt],e.getToggleAllRowsSelectedProps=[mt],e.getToggleAllPageRowsSelectedProps=[bt],e.stateReducers.push(wt),e.useInstance.push(xt),e.prepareRow.push(_t)};vt.pluginName="useRowSelect";var yt=function(e,t){var r=t.instance,n=t.row,i=r.manualRowSelectedKey,o=void 0===i?"isSelected":i;return[e,{onChange:function(e){n.toggleRowSelected(e.target.checked)},style:{cursor:"pointer"},checked:!(!n.original||!n.original[o])||n.isSelected,title:"Toggle Row Selected",indeterminate:n.isSomeSelected}]},mt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllRowsSelected,title:"Toggle All Rows Selected",indeterminate:Boolean(!r.isAllRowsSelected&&Object.keys(r.state.selectedRowIds).length)}]},bt=function(e,t){var r=t.instance;return[e,{onChange:function(e){r.toggleAllPageRowsSelected(e.target.checked)},style:{cursor:"pointer"},checked:r.isAllPageRowsSelected,title:"Toggle All Current Page Rows Selected",indeterminate:Boolean(!r.isAllPageRowsSelected&&r.page.some((function(e){var t=e.id;return r.state.selectedRowIds[t]})))}]};function wt(e,t,r,n){if(t.type===u.init)return o({selectedRowIds:{}},e);if(t.type===u.resetSelectedRows)return o({},e,{selectedRowIds:n.initialState.selectedRowIds||{}});if(t.type===u.toggleAllRowsSelected){var i=t.value,a=n.isAllRowsSelected,s=n.rowsById,c=n.nonGroupedRowsById,l=void 0===c?s:c,f=void 0!==i?i:!a,d=Object.assign({},e.selectedRowIds);return f?Object.keys(l).forEach((function(e){d[e]=!0})):Object.keys(l).forEach((function(e){delete d[e]})),o({},e,{selectedRowIds:d})}if(t.type===u.toggleRowSelected){var p=t.id,h=t.value,g=n.rowsById,v=n.selectSubRows,y=void 0===v||v,m=n.getSubRows,b=e.selectedRowIds[p],w=void 0!==h?h:!b;if(b===w)return e;var x=o({},e.selectedRowIds);return function e(t){var r=g[t];if(r.isGrouped||(w?x[t]=!0:delete x[t]),y&&m(r))return m(r).forEach((function(t){return e(t.id)}))}(p),o({},e,{selectedRowIds:x})}if(t.type===u.toggleAllPageRowsSelected){var _=t.value,k=n.page,S=n.rowsById,E=n.selectSubRows,A=void 0===E||E,O=n.isAllPageRowsSelected,C=n.getSubRows,P=void 0!==_?_:!O,R=o({},e.selectedRowIds);return k.forEach((function(e){return function e(t){var r=S[t];if(r.isGrouped||(P?R[t]=!0:delete R[t]),A&&C(r))return C(r).forEach((function(t){return e(t.id)}))}(e.id)})),o({},e,{selectedRowIds:R})}return e}function xt(e){var r=e.data,n=e.rows,i=e.getHooks,o=e.plugins,a=e.rowsById,s=e.nonGroupedRowsById,c=void 0===s?a:s,l=e.autoResetSelectedRows,f=void 0===l||l,d=e.state.selectedRowIds,h=e.selectSubRows,g=void 0===h||h,y=e.dispatch,b=e.page,x=e.getSubRows;v(o,["useFilters","useGroupBy","useSortBy","useExpanded","usePagination"],"useRowSelect");var _=t.useMemo((function(){var e=[];return n.forEach((function(t){var r=g?function e(t,r,n){if(r[t.id])return!0;var i=n(t);if(i&&i.length){var o=!0,a=!1;return i.forEach((function(t){a&&!o||(e(t,r,n)?a=!0:o=!1)})),!!o||!!a&&null}return!1}(t,d,x):!!d[t.id];t.isSelected=!!r,t.isSomeSelected=null===r,r&&e.push(t)})),e}),[n,g,d,x]),k=Boolean(Object.keys(c).length&&Object.keys(d).length),S=k;k&&Object.keys(c).some((function(e){return!d[e]}))&&(k=!1),k||b&&b.length&&b.some((function(e){var t=e.id;return!d[t]}))&&(S=!1);var E=m(f);w((function(){E()&&y({type:u.resetSelectedRows})}),[y,r]);var A=t.useCallback((function(e){return y({type:u.toggleAllRowsSelected,value:e})}),[y]),O=t.useCallback((function(e){return y({type:u.toggleAllPageRowsSelected,value:e})}),[y]),C=t.useCallback((function(e,t){return y({type:u.toggleRowSelected,id:e,value:t})}),[y]),P=m(e),R=p(i().getToggleAllRowsSelectedProps,{instance:P()}),j=p(i().getToggleAllPageRowsSelectedProps,{instance:P()});Object.assign(e,{selectedFlatRows:_,isAllRowsSelected:k,isAllPageRowsSelected:S,toggleRowSelected:C,toggleAllRowsSelected:A,getToggleAllRowsSelectedProps:R,getToggleAllPageRowsSelectedProps:j,toggleAllPageRowsSelected:O})}function _t(e,t){var r=t.instance;e.toggleRowSelected=function(t){return r.toggleRowSelected(e.id,t)},e.getToggleRowSelectedProps=p(r.getHooks().getToggleRowSelectedProps,{instance:r,row:e})}var kt=function(e){return{}},St=function(e){return{}};u.setRowState="setRowState",u.setCellState="setCellState",u.resetRowState="resetRowState";var Et=function(e){e.stateReducers.push(At),e.useInstance.push(Ot),e.prepareRow.push(Ct)};function At(e,t,r,n){var i=n.initialRowStateAccessor,a=void 0===i?kt:i,s=n.initialCellStateAccessor,c=void 0===s?St:s,l=n.rowsById;if(t.type===u.init)return o({rowState:{}},e);if(t.type===u.resetRowState)return o({},e,{rowState:n.initialState.rowState||{}});if(t.type===u.setRowState){var f,d=t.rowId,p=t.value,h=void 0!==e.rowState[d]?e.rowState[d]:a(l[d]);return o({},e,{rowState:o({},e.rowState,(f={},f[d]=y(p,h),f))})}if(t.type===u.setCellState){var g,v,m,b,w,x=t.rowId,_=t.columnId,k=t.value,S=void 0!==e.rowState[x]?e.rowState[x]:a(l[x]),E=void 0!==(null==S||null==(g=S.cellState)?void 0:g[_])?S.cellState[_]:c(null==(v=l[x])||null==(m=v.cells)?void 0:m.find((function(e){return e.column.id===_})));return o({},e,{rowState:o({},e.rowState,(w={},w[x]=o({},S,{cellState:o({},S.cellState||{},(b={},b[_]=y(k,E),b))}),w))})}}function Ot(e){var r=e.autoResetRowState,n=void 0===r||r,i=e.data,o=e.dispatch,a=t.useCallback((function(e,t){return o({type:u.setRowState,rowId:e,value:t})}),[o]),s=t.useCallback((function(e,t,r){return o({type:u.setCellState,rowId:e,columnId:t,value:r})}),[o]),c=m(n);w((function(){c()&&o({type:u.resetRowState})}),[i]),Object.assign(e,{setRowState:a,setCellState:s})}function Ct(e,t){var r=t.instance,n=r.initialRowStateAccessor,i=void 0===n?kt:n,o=r.initialCellStateAccessor,a=void 0===o?St:o,s=r.state.rowState;e&&(e.state=void 0!==s[e.id]?s[e.id]:i(e),e.setState=function(t){return r.setRowState(e.id,t)},e.cells.forEach((function(t){e.state.cellState||(e.state.cellState={}),t.state=void 0!==e.state.cellState[t.column.id]?e.state.cellState[t.column.id]:a(t),t.setState=function(n){return r.setCellState(e.id,t.column.id,n)}})))}Et.pluginName="useRowState",u.resetColumnOrder="resetColumnOrder",u.setColumnOrder="setColumnOrder";var Pt=function(e){e.stateReducers.push(Rt),e.visibleColumnsDeps.push((function(e,t){var r=t.instance;return[].concat(e,[r.state.columnOrder])})),e.visibleColumns.push(jt),e.useInstance.push(It)};function Rt(e,t,r,n){return t.type===u.init?o({columnOrder:[]},e):t.type===u.resetColumnOrder?o({},e,{columnOrder:n.initialState.columnOrder||[]}):t.type===u.setColumnOrder?o({},e,{columnOrder:y(t.columnOrder,e.columnOrder)}):void 0}function jt(e,t){var r=t.instance.state.columnOrder;if(!r||!r.length)return e;for(var n=[].concat(r),i=[].concat(e),o=[],a=function(){var e=n.shift(),t=i.findIndex((function(t){return t.id===e}));t>-1&&o.push(i.splice(t,1)[0])};i.length&&n.length;)a();return[].concat(o,i)}function It(e){var r=e.dispatch;e.setColumnOrder=t.useCallback((function(e){return r({type:u.setColumnOrder,columnOrder:e})}),[r])}Pt.pluginName="useColumnOrder",f.canResize=!0,u.columnStartResizing="columnStartResizing",u.columnResizing="columnResizing",u.columnDoneResizing="columnDoneResizing",u.resetResize="resetResize";var Tt=function(e){e.getResizerProps=[Ft],e.getHeaderProps.push({style:{position:"relative"}}),e.stateReducers.push(Nt),e.useInstance.push(Lt),e.useInstanceBeforeDimensions.push(Dt)},Ft=function(e,t){var r=t.instance,n=t.header,i=r.dispatch,o=function(e,t){var r=!1;if("touchstart"===e.type){if(e.touches&&e.touches.length>1)return;r=!0}var n=function(e){var t=[];return function e(r){r.columns&&r.columns.length&&r.columns.map(e),t.push(r)}(e),t}(t).map((function(e){return[e.id,e.totalWidth]})),o=r?Math.round(e.touches[0].clientX):e.clientX,a=function(e){i({type:u.columnResizing,clientX:e})},s=function(){return i({type:u.columnDoneResizing})},c={mouse:{moveEvent:"mousemove",moveHandler:function(e){return a(e.clientX)},upEvent:"mouseup",upHandler:function(e){document.removeEventListener("mousemove",c.mouse.moveHandler),document.removeEventListener("mouseup",c.mouse.upHandler),s()}},touch:{moveEvent:"touchmove",moveHandler:function(e){return e.cancelable&&(e.preventDefault(),e.stopPropagation()),a(e.touches[0].clientX),!1},upEvent:"touchend",upHandler:function(e){document.removeEventListener(c.touch.moveEvent,c.touch.moveHandler),document.removeEventListener(c.touch.upEvent,c.touch.moveHandler),s()}}},l=r?c.touch:c.mouse,f=!!function(){if("boolean"==typeof D)return D;var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){e=!1}return D=e}()&&{passive:!1};document.addEventListener(l.moveEvent,l.moveHandler,f),document.addEventListener(l.upEvent,l.upHandler,f),i({type:u.columnStartResizing,columnId:t.id,columnWidth:t.totalWidth,headerIdWidths:n,clientX:o})};return[e,{onMouseDown:function(e){return e.persist()||o(e,n)},onTouchStart:function(e){return e.persist()||o(e,n)},style:{cursor:"col-resize"},draggable:!1,role:"separator"}]};function Nt(e,t){if(t.type===u.init)return o({columnResizing:{columnWidths:{}}},e);if(t.type===u.resetResize)return o({},e,{columnResizing:{columnWidths:{}}});if(t.type===u.columnStartResizing){var r=t.clientX,n=t.columnId,i=t.columnWidth,a=t.headerIdWidths;return o({},e,{columnResizing:o({},e.columnResizing,{startX:r,headerIdWidths:a,columnWidth:i,isResizingColumn:n})})}if(t.type===u.columnResizing){var s=t.clientX,c=e.columnResizing,l=c.startX,f=c.columnWidth,d=c.headerIdWidths,p=(s-l)/f,h={};return(void 0===d?[]:d).forEach((function(e){var t=e[0],r=e[1];h[t]=Math.max(r+r*p,0)})),o({},e,{columnResizing:o({},e.columnResizing,{columnWidths:o({},e.columnResizing.columnWidths,{},h)})})}return t.type===u.columnDoneResizing?o({},e,{columnResizing:o({},e.columnResizing,{startX:null,isResizingColumn:null})}):void 0}Tt.pluginName="useResizeColumns";var Dt=function(e){var t=e.flatHeaders,r=e.disableResizing,n=e.getHooks,i=e.state.columnResizing,o=m(e);t.forEach((function(e){var t=P(!0!==e.disableResizing&&void 0,!0!==r&&void 0,!0);e.canResize=t,e.width=i.columnWidths[e.id]||e.originalWidth||e.width,e.isResizing=i.isResizingColumn===e.id,t&&(e.getResizerProps=p(n().getResizerProps,{instance:o(),header:e}))}))};function Lt(e){var r=e.plugins,n=e.dispatch,i=e.autoResetResize,o=void 0===i||i,a=e.columns;v(r,["useAbsoluteLayout"],"useResizeColumns");var s=m(o);w((function(){s()&&n({type:u.resetResize})}),[a]);var c=t.useCallback((function(){return n({type:u.resetResize})}),[n]);Object.assign(e,{resetResizing:c})}var Ut={position:"absolute",top:0},Mt=function(e){e.getTableBodyProps.push(Bt),e.getRowProps.push(Bt),e.getHeaderGroupProps.push(Bt),e.getFooterGroupProps.push(Bt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ut,{left:r.column.totalLeft+"px",width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ut,{left:r.totalLeft+"px",width:r.totalWidth+"px"})}]}))};Mt.pluginName="useAbsoluteLayout";var Bt=function(e,t){return[e,{style:{position:"relative",width:t.instance.totalColumnsWidth+"px"}}]},Ht={display:"inline-block",boxSizing:"border-box"},zt=function(e,t){return[e,{style:{display:"flex",width:t.instance.totalColumnsWidth+"px"}}]},Kt=function(e){e.getRowProps.push(zt),e.getHeaderGroupProps.push(zt),e.getFooterGroupProps.push(zt),e.getHeaderProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]})),e.getCellProps.push((function(e,t){var r=t.cell;return[e,{style:o({},Ht,{width:r.column.totalWidth+"px"})}]})),e.getFooterProps.push((function(e,t){var r=t.column;return[e,{style:o({},Ht,{width:r.totalWidth+"px"})}]}))};function Wt(e){e.getTableProps.push(Vt),e.getRowProps.push(qt),e.getHeaderGroupProps.push(qt),e.getFooterGroupProps.push(qt),e.getHeaderProps.push(Jt),e.getCellProps.push(Zt),e.getFooterProps.push(Gt)}Kt.pluginName="useBlockLayout",Wt.pluginName="useFlexLayout";var Vt=function(e,t){return[e,{style:{minWidth:t.instance.totalColumnsMinWidth+"px"}}]},qt=function(e,t){return[e,{style:{display:"flex",flex:"1 0 auto",minWidth:t.instance.totalColumnsMinWidth+"px"}}]},Jt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]},Zt=function(e,t){var r=t.cell;return[e,{style:{boxSizing:"border-box",flex:r.column.totalFlexWidth+" 0 auto",minWidth:r.column.totalMinWidth+"px",width:r.column.totalWidth+"px"}}]},Gt=function(e,t){var r=t.column;return[e,{style:{boxSizing:"border-box",flex:r.totalFlexWidth?r.totalFlexWidth+" 0 auto":void 0,minWidth:r.totalMinWidth+"px",width:r.totalWidth+"px"}}]};function Qt(e){e.stateReducers.push(Xt),e.getTableProps.push($t),e.getHeaderProps.push(Yt)}Qt.pluginName="useGridLayout";var $t=function(e,t){return[e,{style:{display:"grid",gridTemplateColumns:t.instance.state.gridLayout.columnWidths.map((function(e){return e})).join(" ")}}]},Yt=function(e,t){return[e,{id:"header-cell-"+t.column.id,style:{position:"sticky"}}]};function Xt(e,t,r,n){if("init"===t.type)return o({gridLayout:{columnWidths:n.columns.map((function(){return"auto"}))}},e);if("columnStartResizing"===t.type){var i=t.columnId,a=n.visibleColumns.findIndex((function(e){return e.id===i})),s=function(e){var t,r=null==(t=document.getElementById("header-cell-"+e))?void 0:t.offsetWidth;if(void 0!==r)return r}(i);return void 0!==s?o({},e,{gridLayout:o({},e.gridLayout,{columnId:i,columnIndex:a,startingWidth:s})}):e}if("columnResizing"===t.type){var u=e.gridLayout,c=u.columnIndex,l=u.startingWidth,f=u.columnWidths,d=l-(e.columnResizing.startX-t.clientX),p=[].concat(f);return p[c]=d+"px",o({},e,{gridLayout:o({},e.gridLayout,{columnWidths:p})})}}e._UNSTABLE_usePivotColumns=nt,e.actions=u,e.defaultColumn=f,e.defaultGroupByFn=Ke,e.defaultOrderByFn=Xe,e.defaultRenderer=c,e.emptyRenderer=l,e.ensurePluginOrder=v,e.flexRender=_,e.functionalUpdate=y,e.loopHooks=g,e.makePropGetter=p,e.makeRenderer=x,e.reduceHooks=h,e.safeUseLayoutEffect=b,e.useAbsoluteLayout=Mt,e.useAsyncDebounce=function(e,r){void 0===r&&(r=0);var o=t.useRef({}),a=m(e),s=m(r);return t.useCallback(function(){var e=i(n.mark((function e(){var t,r,u,c=arguments;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=c.length,r=new Array(t),u=0;u<t;u++)r[u]=c[u];return o.current.promise||(o.current.promise=new Promise((function(e,t){o.current.resolve=e,o.current.reject=t}))),o.current.timeout&&clearTimeout(o.current.timeout),o.current.timeout=setTimeout(i(n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete o.current.timeout,e.prev=1,e.t0=o.current,e.next=5,a().apply(void 0,r);case 5:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(1),o.current.reject(e.t2);case 12:return e.prev=12,delete o.current.promise,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])}))),s()),e.abrupt("return",o.current.promise);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),[a,s])},e.useBlockLayout=Kt,e.useColumnOrder=Pt,e.useExpanded=ce,e.useFilters=Ae,e.useFlexLayout=Wt,e.useGetLatest=m,e.useGlobalFilter=Pe,e.useGridLayout=Qt,e.useGroupBy=De,e.useMountedLayoutEffect=w,e.usePagination=et,e.useResizeColumns=Tt,e.useRowSelect=vt,e.useRowState=Et,e.useSortBy=Ge,e.useTable=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e=ae(e),n=[Z].concat(n);var a=m(t.useRef({}).current);Object.assign(a(),o({},e,{plugins:n,hooks:J()})),n.filter(Boolean).forEach((function(e){e(a().hooks)}));var s=m(a().hooks);a().getHooks=s,delete a().hooks,Object.assign(a(),h(s().useOptions,ae(e)));var c=a(),l=c.data,f=c.columns,d=c.initialState,v=c.defaultColumn,y=c.getSubRows,b=c.getRowId,w=c.stateReducer,_=c.useControlledState,C=m(w),P=t.useCallback((function(e,t){if(!t.type)throw console.info({action:t}),new Error("Unknown Action \ud83d\udc46");return[].concat(s().stateReducers,Array.isArray(C())?C():[C()]).reduce((function(r,n){return n(r,t,e,a())||r}),e)}),[s,C,a]),R=t.useReducer(P,void 0,(function(){return P(d,{type:u.init})})),j=R[0],I=R[1],T=h([].concat(s().useControlledState,[_]),j,{instance:a()});Object.assign(a(),{state:T,dispatch:I});var F=t.useMemo((function(){return k(h(s().columns,f,{instance:a()}))}),[s,a,f].concat(h(s().columnsDeps,[],{instance:a()})));a().columns=F;var N=t.useMemo((function(){return h(s().allColumns,S(F),{instance:a()}).map(E)}),[F,s,a].concat(h(s().allColumnsDeps,[],{instance:a()})));a().allColumns=N;var D=t.useMemo((function(){for(var e=[],t=[],r={},n=[].concat(N);n.length;){var i=n.shift();ue({data:l,rows:e,flatRows:t,rowsById:r,column:i,getRowId:b,getSubRows:y,accessValueHooks:s().accessValue,getInstance:a})}return[e,t,r]}),[N,l,b,y,s,a]),L=D[0],U=D[1],M=D[2];Object.assign(a(),{rows:L,initialRows:[].concat(L),flatRows:U,rowsById:M}),g(s().useInstanceAfterData,a());var B=t.useMemo((function(){return h(s().visibleColumns,N,{instance:a()}).map((function(e){return A(e,v)}))}),[s,N,a,v].concat(h(s().visibleColumnsDeps,[],{instance:a()})));N=t.useMemo((function(){var e=[].concat(B);return N.forEach((function(t){e.find((function(e){return e.id===t.id}))||e.push(t)})),e}),[N,B]),a().allColumns=N;var H=t.useMemo((function(){return h(s().headerGroups,O(B,v),a())}),[s,B,v,a].concat(h(s().headerGroupsDeps,[],{instance:a()})));a().headerGroups=H;var z=t.useMemo((function(){return H.length?H[0].headers:[]}),[H]);a().headers=z,a().flatHeaders=H.reduce((function(e,t){return[].concat(e,t.headers)}),[]),g(s().useInstanceBeforeDimensions,a());var K=B.filter((function(e){return e.isVisible})).map((function(e){return e.id})).sort().join("_");B=t.useMemo((function(){return B.filter((function(e){return e.isVisible}))}),[B,K]),a().visibleColumns=B;var W=se(z),V=W[0],q=W[1],G=W[2];return a().totalColumnsMinWidth=V,a().totalColumnsWidth=q,a().totalColumnsMaxWidth=G,g(s().useInstance,a()),[].concat(a().flatHeaders,a().allColumns).forEach((function(e){e.render=x(a(),e),e.getHeaderProps=p(s().getHeaderProps,{instance:a(),column:e}),e.getFooterProps=p(s().getFooterProps,{instance:a(),column:e})})),a().headerGroups=t.useMemo((function(){return H.filter((function(e,t){return e.headers=e.headers.filter((function(e){return e.headers?function e(t){return t.filter((function(t){return t.headers?e(t.headers):t.isVisible})).length}(e.headers):e.isVisible})),!!e.headers.length&&(e.getHeaderGroupProps=p(s().getHeaderGroupProps,{instance:a(),headerGroup:e,index:t}),e.getFooterGroupProps=p(s().getFooterGroupProps,{instance:a(),headerGroup:e,index:t}),!0)}))}),[H,a,s]),a().footerGroups=[].concat(a().headerGroups).reverse(),a().prepareRow=t.useCallback((function(e){e.getRowProps=p(s().getRowProps,{instance:a(),row:e}),e.allCells=N.map((function(t){var r=e.values[t.id],n={column:t,row:e,value:r};return n.getCellProps=p(s().getCellProps,{instance:a(),cell:n}),n.render=x(a(),t,{row:e,cell:n,value:r}),n})),e.cells=B.map((function(t){return e.allCells.find((function(e){return e.column.id===t.id}))})),g(s().prepareRow,e,{instance:a()})}),[s,a,N,B]),a().getTableProps=p(s().getTableProps,{instance:a()}),a().getTableBodyProps=p(s().getTableBodyProps,{instance:a()}),g(s().useFinalInstance,a()),a()},Object.defineProperty(e,"__esModule",{value:!0})}(t,r(390))},2105:function(e,t,r){e.exports=r(8451)},5511:function(e,t,r){"use strict";r(1982);var n=r(390),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,o={},c=null,l=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,n)&&!u.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},7023:function(e,t,r){"use strict";var n=r(1982),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}function y(){}function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=m.prototype=new y;b.constructor=m,n(b,v.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var n,o={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,n)&&!_.hasOwnProperty(n)&&(o[n]=t[n]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps)void 0===o[n]&&(o[n]=u[n]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,r,n,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===n?"."+A(u,0):n,Array.isArray(a)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),O(a,t,r,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(u=0,n=""===n?".":n+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=n+A(s=e[c],c);u+=O(s,t,r,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,r,l=n+A(s,c++),a);else if("object"===s)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function C(e,t,r){if(null==e)return e;var n=[],i=0;return O(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var R={current:null};function j(){var e=R.current;if(null===e)throw Error(p(321));return e}var I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:C,forEach:function(e,t,r){C(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(p(143));return e}},t.Component=v,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error(p(267,e));var o=n({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return j().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,r){return j().useReducer(e,t,r)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="17.0.2"},390:function(e,t,r){"use strict";e.exports=r(7023)},2559:function(e,t,r){"use strict";e.exports=r(5511)},2812:function(e){"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"===typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,a,s;if("string"===typeof t&&(o="not ",t.substr(!a||a<0?0:+a,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";s='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return s+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},311:function(e,t,r){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var i=r(2104),o=r(930);r(4313)(c,i);for(var a=n(o.prototype),s=0;s<a.length;s++){var u=a[s];c.prototype[u]||(c.prototype[u]=o.prototype[u])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},7652:function(e,t,r){"use strict";e.exports=i;var n=r(3597);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(4313)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},2104:function(e,t,r){"use strict";var n;e.exports=S,S.ReadableState=k;r(7708).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=r(8342),a=r(3231).Buffer,s=r.g.Uint8Array||function(){};var u,c=r(4616);u=c&&c.debuglog?c.debuglog("stream"):function(){};var l,f,d,p=r(8651),h=r(3966),g=r(5075).getHighWaterMark,v=r(2812).q,y=v.ERR_INVALID_ARG_TYPE,m=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,w=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(4313)(S,o);var x=h.errorOrDestroy,_=["error","close","destroy","pause","resume"];function k(e,t,i){n=n||r(311),e=e||{},"boolean"!==typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(6473).s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function S(e){if(n=n||r(311),!(this instanceof S))return new S(e);var t=this instanceof n;this._readableState=new k(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function E(e,t,r,n,i){u("readableAddChunk",t);var o,c=e._readableState;if(null===t)c.reading=!1,function(e,t){if(u("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,R(e)))}(e,c);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof s||"string"===typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(c,t)),o)x(e,o);else if(c.objectMode||t&&t.length>0)if("string"===typeof t||c.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)c.endEmitted?x(e,new w):A(e,c,t,!0);else if(c.ended)x(e,new m);else{if(c.destroyed)return!1;c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?A(e,c,t,!1):j(e,c)):A(e,c,t,!1)}else n||(c.reading=!1,j(e,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),j(e,t)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(e,t){t(e)},S.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},S.prototype.unshift=function(e){return E(this,e,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(e){l||(l=r(6473).s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var O=1073741824;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=O?e=O:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;u("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(u("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(R,e))}function R(e){var t=e._readableState;u("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,D(e)}function j(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(I,e,t))}function I(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(u("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function T(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function F(e){u("readable nexttick read 0"),e.read(0)}function N(e,t){u("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),D(e),t.flowing&&!t.reading&&e.read(0)}function D(e){var t=e._readableState;for(u("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function U(e){var t=e._readableState;u("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(M,t,e))}function M(e,t){if(u("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function B(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}S.prototype.read=function(e){u("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,i=t.needReadable;return u("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&u("length less than watermark",i=!0),t.ended||t.reading?u("reading or ended",i=!1):i&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(r,t))),null===(n=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},S.prototype._read=function(e){x(this,new b("_read()"))},S.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,u("pipe count=%d opts=%j",n.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:g;function a(t,i){u("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,u("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",c),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",g),r.removeListener("data",f),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function s(){u("onend"),e.end()}n.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",a);var c=function(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,D(e))}}(r);e.on("drain",c);var l=!1;function f(t){u("ondata");var i=e.write(t);u("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==B(n.pipes,e))&&!l&&(u("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){u("onerror",t),g(),e.removeListener("error",d),0===i(e,"error")&&x(e,t)}function p(){e.removeListener("finish",h),g()}function h(){u("onfinish"),e.removeListener("close",p),g()}function g(){u("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",h),e.emit("pipe",r),n.flowing||(u("pipe resume"),r.resume()),e},S.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=B(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},S.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,u("on readable",n.length,n.reading),n.length?P(this):n.reading||process.nextTick(F,this))),r},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(T,this),r},S.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(T,this),t},S.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},S.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(u("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(u("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<_.length;o++)e.on(_[o],this.emit.bind(this,_[o]));return this._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=r(1363)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),S._fromList=L,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(S.from=function(e,t){return void 0===d&&(d=r(789)),d(S,e,t)})},3597:function(e,t,r){"use strict";e.exports=l;var n=r(2812).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r(311);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(4313)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){r(new i("_transform()"))},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},930:function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=S,S.WritableState=k;var o={deprecate:r(7457)},a=r(8342),s=r(3231).Buffer,u=r.g.Uint8Array||function(){};var c,l=r(3966),f=r(5075).getHighWaterMark,d=r(2812).q,p=d.ERR_INVALID_ARG_TYPE,h=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,m=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,x=l.errorOrDestroy;function _(){}function k(e,t,o){i=i||r(311),e=e||{},"boolean"!==typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if("function"!==typeof i)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(process.nextTick(i,n),process.nextTick(R,e,t),e._writableState.errorEmitted=!0,x(e,n)):(i(n),e._writableState.errorEmitted=!0,x(e,n),R(e,t))}(e,r,n,t,i);else{var o=C(r)||e.destroyed;o||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?process.nextTick(A,e,r,o,i):A(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function S(e){var t=this instanceof(i=i||r(311));if(!t&&!c.call(S,this))return new S(e);this._writableState=new k(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function E(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=r;for(var s=0,u=!0;r;)o[s]=r,r.isBuf||(u=!1),r=r.next,s+=1;o.allBuffers=u,E(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,f=r.callback;if(E(e,t,!1,t.objectMode?1:c.length,c,l,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&x(e,r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=C(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(4313)(S,a),k.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===S&&(e&&e._writableState instanceof k)}})):c=function(e){return e instanceof this},S.prototype.pipe=function(){x(this,new v)},S.prototype.write=function(e,t,r){var n,i=this._writableState,o=!1,a=!i.objectMode&&(n=e,s.isBuffer(n)||n instanceof u);return a&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof r&&(r=_),i.ending?function(e,t){var r=new b;x(e,r),process.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i;return null===r?i=new m:"string"===typeof r||t.objectMode||(i=new p("chunk",["string","Buffer"],r)),!i||(x(e,i),process.nextTick(n,i),!1)}(this,i,e,r))&&(i.pendingcb++,o=function(e,t,r,n,i,o){if(!r){var a=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=s.from(t,r));return t}(t,n,i);n!==a&&(r=!0,i="buffer",n=a)}var u=t.objectMode?1:n.length;t.length+=u;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,u,n,i,o);return c}(this,i,a,e,t,r)),o},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},S.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(e,t,r){r(new h("_write()"))},S.prototype._writev=null,S.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),S.prototype.destroy=l.destroy,S.prototype._undestroy=l.undestroy,S.prototype._destroy=function(e,t){t(e)}},1363:function(e,t,r){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(7008),a=Symbol("lastResolve"),s=Symbol("lastReject"),u=Symbol("error"),c=Symbol("ended"),l=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function h(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[a]=null,e[s]=null,t(p(r,!1)))}}function g(e){process.nextTick(h,e)}var v=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(n={get stream(){return this[d]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[u]?r(e[u]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(p(void 0,!0)):t[f](r,n)}),n)}}(n,this));else{var i=this[d].read();if(null!==i)return Promise.resolve(p(i,!1));r=new Promise(this[f])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),i(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),v);e.exports=function(e){var t,r=Object.create(y,(i(t={},d,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[a]=null,r[s]=null,e(p(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[s];return null!==t&&(r[l]=null,r[a]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[s]=null,n(p(void 0,!0))),r[c]=!0})),e.on("readable",g.bind(null,r)),r}},8651:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(532).Buffer,s=r(2361).inspect,u=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&o(t.prototype,r),c&&o(t,c),e}()},3966:function(e){"use strict";function t(e,t){n(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,i){var o=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(i?i(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(n,this,e)):process.nextTick(n,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!i&&e?o._writableState?o._writableState.errorEmitted?process.nextTick(r,o):(o._writableState.errorEmitted=!0,process.nextTick(t,o,e)):process.nextTick(t,o,e):i?(process.nextTick(r,o),i(e)):process.nextTick(r,o)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},7008:function(e,t,r){"use strict";var n=r(2812).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"===typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var a=r.readable||!1!==r.readable&&t.readable,s=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},p=function(e){o.call(t,e)},h=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",h),t.req?g():t.on("request",g)),t.on("end",d),t.on("finish",l),!1!==r.error&&t.on("error",p),t.on("close",h),function(){t.removeListener("complete",l),t.removeListener("abort",h),t.removeListener("request",g),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",p),t.removeListener("close",h)}}},789:function(e){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9773:function(e,t,r){"use strict";var n;var i=r(2812).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===n&&(n=r(7008)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(l)}},5075:function(e,t,r){"use strict";var n=r(2812).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},8342:function(e,t,r){e.exports=r(7708).EventEmitter},6484:function(e,t,r){(t=e.exports=r(2104)).Stream=t,t.Readable=t,t.Writable=r(930),t.Duplex=r(311),t.Transform=r(3597),t.PassThrough=r(7652),t.finished=r(7008),t.pipeline=r(9773)},1212:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(j){u=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new C(n||[]);return o._invoke=function(e,t,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=E(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var u=l(e,t,r);if("normal"===u.type){if(n=r.done?h:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=h,r.method="throw",r.arg=u.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(j){return{type:"throw",arg:j}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function v(){}function y(){}function m(){}var b={};u(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==r&&n.call(x,o)&&(b=x);var _=m.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,E(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(e){if(e){var r=e[o];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=m,u(_,"constructor",m),u(m,"constructor",y),y.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},k(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new S(c(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(_),u(_,s,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;O(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},1017:function(e,t){"use strict";var r,n,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var r=t.unstable_now();c(!0,r),c=null}catch(n){throw setTimeout(e,0),n}};r=function(e){null!==c?setTimeout(r,0,e):(c=e,setTimeout(f,0))},n=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,y=-1,m=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();b=e+m;try{v(!0,e)?x.postMessage(null):(g=!1,v=null)}catch(r){throw x.postMessage(null),r}}else g=!1},r=function(e){v=e,g||(g=!0,x.postMessage(null))},n=function(e,r){y=d((function(){e(t.unstable_now())}),r)},i=function(){p(y),y=-1}}function _(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<E(i,t)))break e;e[n]=t,e[r]=i,r=n}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>E(a,r))void 0!==u&&0>E(u,a)?(e[n]=u,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==u&&0>E(u,r)))break e;e[n]=u,e[s]=r,n=s}}}return t}return null}function E(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],O=[],C=1,P=null,R=3,j=!1,I=!1,T=!1;function F(e){for(var t=k(O);null!==t;){if(null===t.callback)S(O);else{if(!(t.startTime<=e))break;S(O),t.sortIndex=t.expirationTime,_(A,t)}t=k(O)}}function N(e){if(T=!1,F(e),!I)if(null!==k(A))I=!0,r(D);else{var t=k(O);null!==t&&n(N,t.startTime-e)}}function D(e,r){I=!1,T&&(T=!1,i()),j=!0;var o=R;try{for(F(r),P=k(A);null!==P&&(!(P.expirationTime>r)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,R=P.priorityLevel;var s=a(P.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?P.callback=s:P===k(A)&&S(A),F(r)}else S(A);P=k(A)}if(null!==P)var u=!0;else{var c=k(O);null!==c&&n(N,c.startTime-r),u=!1}return u}finally{P=null,R=o,j=!1}}var L=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||j||(I=!0,r(D))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return k(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var r=R;R=t;try{return e()}finally{R=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=L,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=R;R=e;try{return t()}finally{R=r}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,_(O,e),null===k(A)&&e===k(O)&&(T?i():T=!0,n(N,a-s))):(e.sortIndex=u,_(A,e),I||j||(I=!0,r(D))),e},t.unstable_wrapCallback=function(e){var t=R;return function(){var r=R;R=t;try{return e.apply(this,arguments)}finally{R=r}}}},6124:function(e,t,r){"use strict";e.exports=r(1017)},2201:function(e,t,r){!function(e,t){"use strict";if(!e.setImmediate){var r,n=1,i={},o=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){process.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(r){r.source===e&&"string"===typeof r.data&&0===r.data.indexOf(t)&&c(+r.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(r){e.postMessage(t+r,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;r=function(t){var r=a.createElement("script");r.onreadystatechange=function(){c(t),r.onreadystatechange=null,e.removeChild(r),r=null},e.appendChild(r)}}():r=function(e){setTimeout(c,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var a={callback:e,args:t};return i[n]=a,r(n),n++},s.clearImmediate=u}function u(e){delete i[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{u(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof r.g?this:r.g:self)},6473:function(e,t,r){"use strict";var n=r(8391).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},8391:function(e,t,r){var n=r(2783),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},5535:function(e,t,r){"use strict";r.r(t),r.d(t,{SWRConfig:function(){return F},cache:function(){return f},default:function(){return B},mutate:function(){return T},trigger:function(){return j},useSWRInfinite:function(){return M}});var n=r(390),i=Object.prototype.hasOwnProperty;var o=new WeakMap,a=0;var s=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var r=this.serializeKey(e)[0];this.cache.set(r,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"===typeof e)try{e=e()}catch(r){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",r=0;r<e.length;++r)if(null!==e[r]){var n=void 0;"object"!==typeof e[r]&&"function"!==typeof e[r]?n="string"===typeof e[r]?'"'+e[r]+'"':String(e[r]):o.has(e[r])?n=o.get(e[r]):(n=a,o.set(e[r],a++)),t+="@"+n}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!==typeof e)throw new Error("Expected the listener to be a function.");var r=!0;return this.subs.push(e),function(){if(r){r=!1;var n=t.subs.indexOf(e);n>-1&&(t.subs[n]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++){(0,t[e])()}},e}(),u=!0,c={isOnline:function(){return u},isDocumentVisible:function(){return"undefined"===typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!==typeof window&&void 0!==window.addEventListener&&"undefined"!==typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!==typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){u=!0,e()}),!1),window.addEventListener("offline",(function(){return u=!1}),!1))}},l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},f=new s;var d="undefined"!==typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType),p=l({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,t,r,n,i){if(r.isDocumentVisible()&&!("number"===typeof r.errorRetryCount&&i.retryCount>r.errorRetryCount)){var o=Math.min(i.retryCount,8),a=~~((Math.random()+.5)*(1<<o))*r.errorRetryInterval;setTimeout(n,a,i)}},errorRetryInterval:1e3*(d?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(d?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,r){var n,o;if(t===r)return!0;if(t&&r&&(n=t.constructor)===r.constructor){if(n===Date)return t.getTime()===r.getTime();if(n===RegExp)return t.toString()===r.toString();if(n===Array){if((o=t.length)===r.length)for(;o--&&e(t[o],r[o]););return-1===o}if(!n||"object"===typeof t){for(n in o=0,t){if(i.call(t,n)&&++o&&!i.call(r,n))return!1;if(!(n in r)||!e(t[n],r[n]))return!1}return Object.keys(r).length===o}}return t!==t&&r!==r},isPaused:function(){return!1}},c),h=p,g="undefined"===typeof window||!!("undefined"!==typeof Deno&&Deno&&Deno.version&&Deno.version.deno),v=g?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},y=g?n.useEffect:n.useLayoutEffect,m=(0,n.createContext)({});m.displayName="SWRConfigContext";var b=m,w=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},x=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_={},k={},S={},E={},A={},O={},C={},P=function(){var e=0;return function(){return++e}}();if(!g){var R=function(e){if(h.isDocumentVisible()&&h.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"===typeof h.registerOnFocus&&h.registerOnFocus((function(){return R(S)})),"function"===typeof h.registerOnReconnect&&h.registerOnReconnect((function(){return R(E)}))}var j=function(e,t){void 0===t&&(t=!0);var r=f.serializeKey(e),n=r[0],i=r[2],o=r[3];if(!n)return Promise.resolve();var a=A[n];if(n&&a){for(var s=f.get(n),u=f.get(i),c=f.get(o),l=[],d=0;d<a.length;++d)l.push(a[d](t,s,u,c,d>0));return Promise.all(l).then((function(){return f.get(n)}))}return Promise.resolve(f.get(n))},I=function(e,t,r,n){var i=A[e];if(e&&i)for(var o=0;o<i.length;++o)i[o](!1,t,r,n)},T=function(e,t,r){return void 0===r&&(r=!0),w(void 0,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,d,p,h,g,v;return x(this,(function(y){switch(y.label){case 0:if(n=f.serializeKey(e),i=n[0],o=n[2],!i)return[2];if("undefined"===typeof t)return[2,j(e,r)];if(O[i]=P()-1,C[i]=0,a=O[i],s=k[i],l=!1,t&&"function"===typeof t)try{t=t(f.get(i))}catch(m){t=void 0,c=m}if(!t||"function"!==typeof t.then)return[3,5];l=!0,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,t];case 2:return u=y.sent(),[3,4];case 3:return d=y.sent(),c=d,[3,4];case 4:return[3,6];case 5:u=t,y.label=6;case 6:if((p=function(){if(a!==O[i]||s!==k[i]){if(c)throw c;return!0}})())return[2,u];if("undefined"!==typeof u&&f.set(i,u),f.set(o,c),C[i]=P()-1,!l&&p())return[2,u];if(h=A[i]){for(g=[],v=0;v<h.length;++v)g.push(h[v](!!r,u,c,void 0,v>0));return[2,Promise.all(g).then((function(){if(c)throw c;return f.get(i)}))]}if(c)throw c;return[2,u]}}))}))};Object.defineProperty(b.Provider,"default",{value:h});var F=b.Provider,N=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[0],o=Object.assign({},h,(0,n.useContext)(b),t.length>2?t[2]:2===t.length&&"object"===typeof t[1]?t[1]:{}),a=t.length>2||2===t.length&&"function"===typeof t[1]||null===t[1]?t[1]:o.fetcher,s=f.serializeKey(i),u=s[0],c=s[1],l=s[2],d=s[3],p=(0,n.useRef)(o);y((function(){p.current=o}));var m=function(){return o.revalidateOnMount||!o.initialData&&void 0===o.revalidateOnMount},R=function(){var e=f.get(u);return"undefined"===typeof e?o.initialData:e},j=function(){return!!f.get(d)||u&&m()},F=R(),N=f.get(l),D=j(),L=(0,n.useRef)({data:!1,error:!1,isValidating:!1}),U=(0,n.useRef)({data:F,error:N,isValidating:D});(0,n.useDebugValue)(U.current.data);var M,B,H=(0,n.useState)({})[1],z=(0,n.useCallback)((function(e){var t=!1;for(var r in e)U.current[r]!==e[r]&&(U.current[r]=e[r],L.current[r]&&(t=!0));if(t){if(K.current||!V.current)return;H({})}}),[]),K=(0,n.useRef)(!1),W=(0,n.useRef)(u),V=(0,n.useRef)(!1),q=(0,n.useCallback)((function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];K.current||V.current&&u===W.current&&(t=p.current)[e].apply(t,r)}),[u]),J=(0,n.useCallback)((function(e,t){return T(W.current,e,t)}),[]),Z=function(e,t){return e[u]?e[u].push(t):e[u]=[t],function(){var r=e[u],n=r.indexOf(t);n>=0&&(r[n]=r[r.length-1],r.pop())}},G=(0,n.useCallback)((function(t){return void 0===t&&(t={}),w(e,void 0,void 0,(function(){var e,r,n,i,s,h,g,v,y,m;return x(this,(function(b){switch(b.label){case 0:if(!u||!a)return[2,!1];if(K.current)return[2,!1];if(p.current.isPaused())return[2,!1];e=t.retryCount,r=void 0===e?0:e,n=t.dedupe,i=void 0!==n&&n,s=!0,h="undefined"!==typeof _[u]&&i,b.label=1;case 1:return b.trys.push([1,6,,7]),z({isValidating:!0}),f.set(d,!0),h||I(u,U.current.data,U.current.error,!0),g=void 0,v=void 0,h?(v=k[u],[4,_[u]]):[3,3];case 2:return g=b.sent(),[3,5];case 3:return o.loadingTimeout&&!f.get(u)&&setTimeout((function(){s&&q("onLoadingSlow",u,o)}),o.loadingTimeout),_[u]=null!==c?a.apply(void 0,c):a(u),k[u]=v=P(),[4,_[u]];case 4:g=b.sent(),setTimeout((function(){delete _[u],delete k[u]}),o.dedupingInterval),q("onSuccess",g,u,o),b.label=5;case 5:return k[u]>v?[2,!1]:O[u]&&(v<=O[u]||v<=C[u]||0===C[u])?(z({isValidating:!1}),[2,!1]):(f.set(l,void 0),f.set(d,!1),y={isValidating:!1},"undefined"!==typeof U.current.error&&(y.error=void 0),o.compare(U.current.data,g)||(y.data=g),o.compare(f.get(u),g)||f.set(u,g),z(y),h||I(u,g,y.error,!1),[3,7]);case 6:return m=b.sent(),delete _[u],delete k[u],p.current.isPaused()?(z({isValidating:!1}),[2,!1]):(f.set(l,m),U.current.error!==m&&(z({isValidating:!1,error:m}),h||I(u,void 0,m,!1)),q("onError",m,u,o),o.shouldRetryOnError&&q("onErrorRetry",m,u,o,G,{retryCount:r+1,dedupe:!0}),[3,7]);case 7:return s=!1,[2,!0]}}))}))}),[u]);if(y((function(){if(u){K.current=!1;var e=V.current;V.current=!0;var t=U.current.data,r=R();W.current=u,o.compare(t,r)||z({data:r});var n=function(){return G({dedupe:!0})};(e||m())&&("undefined"===typeof r||g?n():v(n));var i=!1,a=Z(S,(function(){!i&&p.current.revalidateOnFocus&&(i=!0,n(),setTimeout((function(){return i=!1}),p.current.focusThrottleInterval))})),s=Z(E,(function(){p.current.revalidateOnReconnect&&n()})),c=Z(A,(function(e,t,r,i,a){void 0===e&&(e=!0),void 0===a&&(a=!0);var s={},u=!1;return"undefined"===typeof t||o.compare(U.current.data,t)||(s.data=t,u=!0),U.current.error!==r&&(s.error=r,u=!0),"undefined"!==typeof i&&U.current.isValidating!==i&&(s.isValidating=i,u=!0),u&&z(s),!!e&&(a?n():G())}));return function(){z=function(){return null},K.current=!0,a(),s(),c()}}}),[u,G]),y((function(){var t=null;return p.current.refreshInterval&&(t=setTimeout((function r(){return w(e,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return U.current.error||!p.current.refreshWhenHidden&&!p.current.isDocumentVisible()||!p.current.refreshWhenOffline&&!p.current.isOnline()?[3,2]:[4,G({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return p.current.refreshInterval&&t&&(t=setTimeout(r,p.current.refreshInterval)),[2]}}))}))}),p.current.refreshInterval)),function(){t&&(clearTimeout(t),t=null)}}),[o.refreshInterval,o.refreshWhenHidden,o.refreshWhenOffline,G]),o.suspense){if(M=f.get(u),B=f.get(l),"undefined"===typeof M&&(M=F),"undefined"===typeof B&&(B=N),"undefined"===typeof M&&"undefined"===typeof B){if(_[u]||G(),_[u]&&"function"===typeof _[u].then)throw _[u];M=_[u]}if("undefined"===typeof M&&B)throw B}var Q=(0,n.useMemo)((function(){var e={revalidate:G,mutate:J};return Object.defineProperties(e,{error:{get:function(){return L.current.error=!0,o.suspense?B:W.current===u?U.current.error:N},enumerable:!0},data:{get:function(){return L.current.data=!0,o.suspense?M:W.current===u?U.current.data:F},enumerable:!0},isValidating:{get:function(){return L.current.isValidating=!0,!!u&&U.current.isValidating},enumerable:!0}}),e}),[G,F,N,J,u,o.suspense,B,M]);return Q},D=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function s(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))},L=function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},U=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function M(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i=t[0],o=Object.assign({},h,(0,n.useContext)(b),t.length>2?t[2]:2===t.length&&"object"===typeof t[1]?t[1]:{}),a=t.length>2||2===t.length&&"function"===typeof t[1]?t[1]:o.fetcher,s=o.initialSize,u=void 0===s?1:s,c=o.revalidateAll,l=void 0!==c&&c,d=o.persistSize,p=void 0!==d&&d,g=U(o,["initialSize","revalidateAll","persistSize"]),v=null;try{v=f.serializeKey(i(0,null))[0]}catch(R){}var m=(0,n.useState)({})[1],w=null;v&&(w="ctx@"+v);var x=null;v&&(x="len@"+v);var _=(0,n.useRef)(!1),k=(0,n.useCallback)((function(){var e=f.get(x);return"undefined"!==typeof e?e:u}),[x,u]),S=(0,n.useRef)(k());y((function(){_.current?f.set(x,p?S.current:u):_.current=!0}),[v]);var E=(0,n.useRef)(),A=N(v?["inf",v]:null,(function(){return D(e,void 0,void 0,(function(){var e,t,r,n,s,u,c,d,p,h,g;return L(this,(function(v){switch(v.label){case 0:e=f.get(w)||{},t=e.data,r=e.force,n=[],s=k(),u=null,c=0,v.label=1;case 1:return c<s?(d=f.serializeKey(i(c,u)),p=d[0],h=d[1],p?(g=f.get(p),l||r||"undefined"===typeof g||"undefined"===typeof r&&0===c&&"undefined"!==typeof E.current||t&&!o.compare(t[c],g)?null===h?[3,3]:[4,a.apply(void 0,h)]:[3,6]):[3,8]):[3,8];case 2:return g=v.sent(),[3,5];case 3:return[4,a(p)];case 4:g=v.sent(),v.label=5;case 5:f.set(p,g),v.label=6;case 6:n.push(g),u=g,v.label=7;case 7:return++c,[3,1];case 8:return f.delete(w),[2,n]}}))}))}),g);y((function(){E.current=A.data}),[A.data]);var O=(0,n.useCallback)((function(e,t){if(void 0===t&&(t=!0),t&&"undefined"!==typeof e){var r=E.current;f.set(w,{data:r,force:!1})}else t&&f.set(w,{force:!0});return A.mutate(e,t)}),[w]),C=(0,n.useCallback)((function(e){var t;return"function"===typeof e?t=e(k()):"number"===typeof e&&(t=e),"number"===typeof t&&(f.set(x,t),S.current=t),m({}),O((function(e){return e}))}),[x,k,O,m]),P={size:k(),setSize:C,mutate:O};return Object.defineProperties(P,{error:{get:function(){return A.error},enumerable:!0},data:{get:function(){return A.data},enumerable:!0},revalidate:{get:function(){return A.revalidate},enumerable:!0},isValidating:{get:function(){return A.isValidating},enumerable:!0}}),P}var B=N},7457:function(e,t,r){function n(e){try{if(!r.g.localStorage)return!1}catch(n){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},496:function(e,t,r){"use strict";var n;r.r(t),r.d(t,{NIL:function(){return I},parse:function(){return v},stringify:function(){return d},v1:function(){return g},v3:function(){return A},v4:function(){return O},v5:function(){return j},validate:function(){return s},version:function(){return T}});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,f,d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},p=0,h=0;var g=function(e,t,r){var n=t&&r||0,i=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:f;if(null==a||null==s){var u=e.random||(e.rng||o)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=f=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:h+1,v=c-p+(g-h)/1e4;if(v<0&&void 0===e.clockseq&&(s=s+1&16383),(v<0||c>p)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,h=g,f=s;var y=(1e4*(268435455&(c+=122192928e5))+g)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=255&y;var m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=255&m,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var b=0;b<6;++b)i[n+b]=a[b];return t||d(i)};var v=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function y(e,t,r){function n(e,n,i,o){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=v(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(n),a.set(e,n.length),(a=r(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return d(a)}try{n.name=e}catch(i){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function m(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,i,o){return b((a=b(b(t,e),b(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function x(e,t,r,n,i,o,a){return w(t&r|~t&n,e,t,i,o,a)}function _(e,t,r,n,i,o,a){return w(t&n|r&~n,e,t,i,o,a)}function k(e,t,r,n,i,o,a){return w(t^r^n,e,t,i,o,a)}function S(e,t,r,n,i,o,a){return w(r^(t|~n),e,t,i,o,a)}var E=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",i=0;i<r;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[m(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=r,u=n,c=i,l=o;r=x(r,n,i,o,e[a],7,-680876936),o=x(o,r,n,i,e[a+1],12,-389564586),i=x(i,o,r,n,e[a+2],17,606105819),n=x(n,i,o,r,e[a+3],22,-1044525330),r=x(r,n,i,o,e[a+4],7,-176418897),o=x(o,r,n,i,e[a+5],12,1200080426),i=x(i,o,r,n,e[a+6],17,-1473231341),n=x(n,i,o,r,e[a+7],22,-45705983),r=x(r,n,i,o,e[a+8],7,1770035416),o=x(o,r,n,i,e[a+9],12,-1958414417),i=x(i,o,r,n,e[a+10],17,-42063),n=x(n,i,o,r,e[a+11],22,-1990404162),r=x(r,n,i,o,e[a+12],7,1804603682),o=x(o,r,n,i,e[a+13],12,-40341101),i=x(i,o,r,n,e[a+14],17,-1502002290),r=_(r,n=x(n,i,o,r,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=_(o,r,n,i,e[a+6],9,-1069501632),i=_(i,o,r,n,e[a+11],14,643717713),n=_(n,i,o,r,e[a],20,-373897302),r=_(r,n,i,o,e[a+5],5,-701558691),o=_(o,r,n,i,e[a+10],9,38016083),i=_(i,o,r,n,e[a+15],14,-660478335),n=_(n,i,o,r,e[a+4],20,-405537848),r=_(r,n,i,o,e[a+9],5,568446438),o=_(o,r,n,i,e[a+14],9,-1019803690),i=_(i,o,r,n,e[a+3],14,-187363961),n=_(n,i,o,r,e[a+8],20,1163531501),r=_(r,n,i,o,e[a+13],5,-1444681467),o=_(o,r,n,i,e[a+2],9,-51403784),i=_(i,o,r,n,e[a+7],14,1735328473),r=k(r,n=_(n,i,o,r,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=k(o,r,n,i,e[a+8],11,-2022574463),i=k(i,o,r,n,e[a+11],16,1839030562),n=k(n,i,o,r,e[a+14],23,-35309556),r=k(r,n,i,o,e[a+1],4,-1530992060),o=k(o,r,n,i,e[a+4],11,1272893353),i=k(i,o,r,n,e[a+7],16,-155497632),n=k(n,i,o,r,e[a+10],23,-1094730640),r=k(r,n,i,o,e[a+13],4,681279174),o=k(o,r,n,i,e[a],11,-358537222),i=k(i,o,r,n,e[a+3],16,-722521979),n=k(n,i,o,r,e[a+6],23,76029189),r=k(r,n,i,o,e[a+9],4,-640364487),o=k(o,r,n,i,e[a+12],11,-421815835),i=k(i,o,r,n,e[a+15],16,530742520),r=S(r,n=k(n,i,o,r,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=S(o,r,n,i,e[a+7],10,1126891415),i=S(i,o,r,n,e[a+14],15,-1416354905),n=S(n,i,o,r,e[a+5],21,-57434055),r=S(r,n,i,o,e[a+12],6,1700485571),o=S(o,r,n,i,e[a+3],10,-1894986606),i=S(i,o,r,n,e[a+10],15,-1051523),n=S(n,i,o,r,e[a+1],21,-2054922799),r=S(r,n,i,o,e[a+8],6,1873313359),o=S(o,r,n,i,e[a+15],10,-30611744),i=S(i,o,r,n,e[a+6],15,-1560198380),n=S(n,i,o,r,e[a+13],21,1309151649),r=S(r,n,i,o,e[a+4],6,-145523070),o=S(o,r,n,i,e[a+11],10,-1120210379),i=S(i,o,r,n,e[a+2],15,718787259),n=S(n,i,o,r,e[a+9],21,-343485551),r=b(r,s),n=b(n,u),i=b(i,c),o=b(o,l)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(m(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))},A=y("v3",48,E);var O=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return d(n)};function C(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function P(e,t){return e<<t|e>>>32-t}var R=function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=s[f][p];for(var h=16;h<80;++h)d[h]=P(d[h-3]^d[h-8]^d[h-14]^d[h-16],1);for(var g=r[0],v=r[1],y=r[2],m=r[3],b=r[4],w=0;w<80;++w){var x=Math.floor(w/20),_=P(g,5)+C(x,v,y,m)+b+t[x]+d[w]>>>0;b=m,m=y,y=P(v,30)>>>0,v=g,g=_}r[0]=r[0]+g>>>0,r[1]=r[1]+v>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+m>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]},j=y("v5",80,R),I="00000000-0000-0000-0000-000000000000";var T=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},3792:function(e,t,r){"use strict";var n=r(7757);e.exports=function(e){e.prototype[Symbol.iterator]=n.mark((function e(){var t;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}},6518:function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"===typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new s(r,null,t,e):new s(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function a(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,r,n){if(!(this instanceof s))return new s(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=s,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)a(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var o=[];for(r=0;n&&r<t;r++)o.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=0;r<(arguments.length<=2?0:arguments.length-2);r++)n=i(this,n,r+2<2||arguments.length<=r+2?void 0:arguments[r+2]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(3792)(n)}catch(u){}},7670:function(){},532:function(){},2361:function(){},3231:function(){},4616:function(){},2783:function(){},907:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},5861:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,u,"next",e)}function u(e){n(a,i,o,s,u,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},5671:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return i}})},7762:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(181);function i(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,n.Z)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==r.return||r.return()}finally{if(u)throw a}}}}},9388:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(1120),i=r(8814),o=r(6215);function a(e){var t=(0,i.Z)();return function(){var r,i=(0,n.Z)(e);if(t){var a=(0,n.Z)(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return(0,o.Z)(this,r)}}},4942:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},1120:function(e,t,r){"use strict";function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}r.d(t,{Z:function(){return n}})},136:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&(0,n.Z)(e,t)}},8814:function(e,t,r){"use strict";function n(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}r.d(t,{Z:function(){return n}})},1413:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(4942);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},6215:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return o}});var i=r(7326);function o(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},9611:function(e,t,r){"use strict";function n(e,t){return n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.d(t,{Z:function(){return n}})},885:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);var i=r(181);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(907);function i(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},8737:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(1120),i=r(9611);var o=r(8814);function a(e,t,r){return a=(0,o.Z)()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&(0,i.Z)(o,r.prototype),o},a.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,(0,n.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},s(e)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return n[e]}}));return a.default=function(){return n},r.d(o,a),o}}(),r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".8df828fe.chunk.js"},r.miniCssF=function(e){},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="todoshare:";r.l=function(n,i,o,a){if(e[n])e[n].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==n||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+o),s.src=n),e[n]=[i];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/todoshare/",function(){var e={179:0};r.f.j=function(t,n){var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(r,n){i=e[t]=[r,n]}));n.push(i[2]=o);var a=r.p+r.u(t),s=new Error;r.l(a,(function(n){if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var i,o,a=n[0],s=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)r.o(s,i)&&(r.m[i]=s[i]);if(u)u(r)}for(t&&t(n);c<a.length;c++)o=a[c],r.o(e,o)&&e[o]&&e[o][0](),e[a[c]]=0},n=self.webpackChunktodoshare=self.webpackChunktodoshare||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=r(390),t=r(6599),n=function(e){e&&e instanceof Function&&r.e(651).then(r.bind(r,5651)).then((function(t){var r=t.getCLS,n=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),i(e),o(e),a(e)}))},i=r(885),o=(0,e.createContext)(null);function a(t){var r=t.colorScheme,n=t.toggleColorScheme,a=t.children,s=(0,e.useState)("init"),u=(0,i.Z)(s,2),c=u[0],l=u[1];return(0,e.useEffect)((function(){l("update")}),[]),e.createElement(o.Provider,{key:c,value:{colorScheme:r,toggleColorScheme:n}},a)}a.displayName="@mantine/core/ColorSchemeProvider";var s=r(7762);var u=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{r.insertRule(e,r.cssRules.length)}catch(n){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),c=Math.abs,l=String.fromCharCode,f=Object.assign;function d(e){return e.trim()}function p(e,t,r){return e.replace(t,r)}function h(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function v(e,t,r){return e.slice(t,r)}function y(e){return e.length}function m(e){return e.length}function b(e,t){return t.push(e),e}var w=1,x=1,_=0,k=0,S=0,E="";function A(e,t,r,n,i,o,a){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:w,column:x,length:a,return:""}}function O(e,t){return f(A("",null,null,"",null,null,0),e,{length:-e.length},t)}function C(){return S=k>0?g(E,--k):0,x--,10===S&&(x=1,w--),S}function P(){return S=k<_?g(E,k++):0,x++,10===S&&(x=1,w++),S}function R(){return g(E,k)}function j(){return k}function I(e,t){return v(E,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function F(e){return w=x=1,_=y(E=e),k=0,[]}function N(e){return E="",e}function D(e){return d(I(k-1,M(91===e?e+2:40===e?e+1:e)))}function L(e){for(;(S=R())&&S<33;)P();return T(e)>2||T(S)>3?"":" "}function U(e,t){for(;--t&&P()&&!(S<48||S>102||S>57&&S<65||S>70&&S<97););return I(e,j()+(t<6&&32==R()&&32==P()))}function M(e){for(;P();)switch(S){case e:return k;case 34:case 39:34!==e&&39!==e&&M(S);break;case 40:41===e&&M(e);break;case 92:P()}return k}function B(e,t){for(;P()&&e+S!==57&&(e+S!==84||47!==R()););return"/*"+I(t,k-1)+"*"+l(47===e?e:P())}function H(e){for(;!T(R());)P();return I(e,k)}var z="-ms-",K="-moz-",W="-webkit-",V="comm",q="rule",J="decl",Z="@keyframes";function G(e,t){for(var r="",n=m(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function Q(e,t,r,n){switch(e.type){case"@import":case J:return e.return=e.return||e.value;case V:return"";case Z:return e.return=e.value+"{"+G(e.children,n)+"}";case q:e.value=e.props.join(",")}return y(r=G(e.children,n))?e.return=e.value+"{"+r+"}":""}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5103:return W+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return W+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return W+e+K+e+z+e+e;case 6828:case 4268:return W+e+z+e+e;case 6165:return W+e+z+"flex-"+e+e;case 5187:return W+e+p(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return W+e+z+"flex-item-"+p(e,/flex-|-self/,"")+e;case 4675:return W+e+z+"flex-line-pack"+p(e,/align-content|flex-|-self/,"")+e;case 5548:return W+e+z+p(e,"shrink","negative")+e;case 5292:return W+e+z+p(e,"basis","preferred-size")+e;case 6060:return W+"box-"+p(e,"-grow","")+W+e+z+p(e,"grow","positive")+e;case 4554:return W+p(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return p(p(p(e,/(zoom-|grab)/,W+"$1"),/(image-set)/,W+"$1"),e,"")+e;case 5495:case 3959:return p(e,/(image-set\([^]*)/,W+"$1$`$1");case 4968:return p(p(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+W+e+e;case 4095:case 3583:case 4068:case 2532:return p(e,/(.+)-inline(.+)/,W+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(y(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return p(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+K+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~h(e,"stretch")?$(p(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,y(e)-3-(~h(e,"!important")&&10))){case 107:return p(e,":",":"+W)+e;case 101:return p(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+W+(45===g(e,14)?"inline-":"")+"box$3$1"+W+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return W+e+z+p(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return W+e+z+p(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return W+e+z+p(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return W+e+z+e+e}return e}function Y(e){return N(X("",null,null,null,[""],e=F(e),0,[0],e))}function X(e,t,r,n,i,o,a,s,u){for(var c=0,f=0,d=a,g=0,v=0,m=0,w=1,x=1,_=1,k=0,S="",E=i,A=o,O=n,I=S;x;)switch(m=k,k=P()){case 40:if(108!=m&&58==I.charCodeAt(d-1)){-1!=h(I+=p(D(k),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:I+=D(k);break;case 9:case 10:case 13:case 32:I+=L(m);break;case 92:I+=U(j()-1,7);continue;case 47:switch(R()){case 42:case 47:b(te(B(P(),j()),t,r),u);break;default:I+="/"}break;case 123*w:s[c++]=y(I)*_;case 125*w:case 59:case 0:switch(k){case 0:case 125:x=0;case 59+f:v>0&&y(I)-d&&b(v>32?re(I+";",n,r,d-1):re(p(I," ","")+";",n,r,d-2),u);break;case 59:I+=";";default:if(b(O=ee(I,t,r,c,f,i,s,S,E=[],A=[],d),o),123===k)if(0===f)X(I,t,O,O,E,o,d,s,A);else switch(g){case 100:case 109:case 115:X(e,O,O,n&&b(ee(e,O,O,0,0,i,s,S,i,E=[],d),A),i,A,d,s,n?E:A);break;default:X(I,O,O,O,[""],A,0,s,A)}}c=f=v=0,w=_=1,S=I="",d=a;break;case 58:d=1+y(I),v=m;default:if(w<1)if(123==k)--w;else if(125==k&&0==w++&&125==C())continue;switch(I+=l(k),k*w){case 38:_=f>0?1:(I+="\f",-1);break;case 44:s[c++]=(y(I)-1)*_,_=1;break;case 64:45===R()&&(I+=D(P())),g=R(),f=d=y(S=I+=H(j())),k++;break;case 45:45===m&&2==y(I)&&(w=0)}}return o}function ee(e,t,r,n,i,o,a,s,u,l,f){for(var h=i-1,g=0===i?o:[""],y=m(g),b=0,w=0,x=0;b<n;++b)for(var _=0,k=v(e,h+1,h=c(w=a[b])),S=e;_<y;++_)(S=d(w>0?g[_]+" "+k:p(k,/&\f/g,g[_])))&&(u[x++]=S);return A(e,t,r,0===i?q:s,u,l,f)}function te(e,t,r){return A(e,t,r,V,l(S),v(e,2,-2),0)}function re(e,t,r,n){return A(e,t,r,J,v(e,0,n),v(e,n+1,-1),n)}var ne=function(e,t,r){for(var n=0,i=0;n=i,i=R(),38===n&&12===i&&(t[r]=1),!T(i);)P();return I(e,k)},ie=function(e,t){return N(function(e,t){var r=-1,n=44;do{switch(T(n)){case 0:38===n&&12===R()&&(t[r]=1),e[r]+=ne(k-1,t,r);break;case 2:e[r]+=D(n);break;case 4:if(44===n){e[++r]=58===R()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=l(n)}}while(n=P());return e}(F(e),t))},oe=new WeakMap,ae=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||oe.get(r))&&!n){oe.set(e,!0);for(var i=[],o=ie(t,i),a=r.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},se=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ue=[function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case J:e.return=$(e.value,e.length);break;case Z:return G([O(e,{value:p(e.value,"@","@"+W)})],n);case q:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([O(e,{props:[p(t,/:(read-\w+)/,":-moz-$1")]})],n);case"::placeholder":return G([O(e,{props:[p(t,/:(plac\w+)/,":-webkit-input-$1")]}),O(e,{props:[p(t,/:(plac\w+)/,":-moz-$1")]}),O(e,{props:[p(t,/:(plac\w+)/,z+"input-$1")]})],n)}return""}))}}],ce=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n=e.stylisPlugins||ue;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)a[t[r]]=!0;s.push(e)}));var c,l,f=[Q,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=m(e);return function(r,n,i,o){for(var a="",s=0;s<t;s++)a+=e[s](r,n,i,o)||"";return a}}([ae,se].concat(n,f));o=function(e,t,r,n){c=r,function(e){G(Y(e),d)}(e?e+"{"+t.styles+"}":t.styles),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new u({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return p.sheet.hydrate(s),p};var le=function(e){for(var t,r=0,n=0,i=e.length;i>=4;++n,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(i){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)},fe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var de=function(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}},pe=/[A-Z]|^ms/g,he=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ge=function(e){return 45===e.charCodeAt(1)},ve=function(e){return null!=e&&"boolean"!==typeof e},ye=de((function(e){return ge(e)?e:e.replace(pe,"-$&").toLowerCase()})),me=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(he,(function(e,t,r){return we={name:t,styles:r,next:we},t}))}return 1===fe[e]||ge(e)||"number"!==typeof t||0===t?t:t+"px"};function be(e,t,r){if(null==r)return"";if(void 0!==r.__emotion_styles)return r;switch(typeof r){case"boolean":return"";case"object":if(1===r.anim)return we={name:r.name,styles:r.styles,next:we},r.name;if(void 0!==r.styles){var n=r.next;if(void 0!==n)for(;void 0!==n;)we={name:n.name,styles:n.styles,next:we},n=n.next;return r.styles+";"}return function(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=be(e,t,r[i])+";";else for(var o in r){var a=r[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?n+=o+"{"+t[a]+"}":ve(a)&&(n+=ye(o)+":"+me(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=be(e,t,a);switch(o){case"animation":case"animationName":n+=ye(o)+":"+s+";";break;default:n+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)ve(a[u])&&(n+=ye(o)+":"+me(o,a[u])+";")}return n}(e,t,r);case"function":if(void 0!==e){var i=we,o=r(e);return we=i,be(e,t,o)}}if(null==t)return r;var a=t[r];return void 0!==a?a:r}var we,xe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var _e=function(e,t,r){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,i="";we=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,i+=be(r,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=be(r,t,e[a]),n&&(i+=o[a]);xe.lastIndex=0;for(var s,u="";null!==(s=xe.exec(i));)u+="-"+s[1];return{name:le(i)+u,styles:i,next:we}},ke=(0,e.createContext)("undefined"!==typeof HTMLElement?ce({key:"css"}):null);ke.Provider;var Se=function(t){return(0,e.forwardRef)((function(r,n){var i=(0,e.useContext)(ke);return t(r,i,n)}))},Ee=(0,e.createContext)({});r(7178);var Ae=function(e,t,r){var n=e.key+"-"+t.name;if(!1===r&&void 0===e.registered[n]&&(e.registered[n]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+n:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}},Oe=Se((function(t,r){var n=t.styles,i=_e([n],void 0,(0,e.useContext)(Ee)),o=(0,e.useRef)();return(0,e.useLayoutEffect)((function(){var e=r.key+"-global",t=new u({key:e,nonce:r.sheet.nonce,container:r.sheet.container,speedy:r.sheet.isSpeedy}),n=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return r.sheet.tags.length&&(t.before=r.sheet.tags[0]),null!==a&&(n=!0,a.setAttribute("data-emotion",e),t.hydrate([a])),o.current=[t,n],function(){t.flush()}}),[r]),(0,e.useLayoutEffect)((function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&Ae(r,i.next,!0),t.tags.length){var n=t.tags[t.tags.length-1].nextElementSibling;t.before=n,t.flush()}r.insert("",i,t,!1)}}),[r,i.name]),null}));var Ce={dark:["#C1C2C5","#A6A7AB","#909296","#5c5f66","#373A40","#2C2E33","#25262b","#1A1B1E","#141517","#101113"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]};function Pe(e){return"number"===typeof e.size?e.size:e.sizes[e.size]||e.size||e.sizes.md}function Re(e){return function(e){var t=e.replace("#","");return"string"===typeof t&&6===t.length&&!Number.isNaN(Number("0x".concat(t)))}(e)?function(e){var t=e.replace("#",""),r=parseInt(t,16);return{r:r>>16&255,g:r>>8&255,b:255&r,a:1}}(e):e.startsWith("rgb")?function(e){var t=e.replace(/[^0-9,.]/g,"").split(",").map(Number),r=(0,i.Z)(t,4);return{r:r[0],g:r[1],b:r[2],a:r[3]||1}}(e):{r:0,g:0,b:0,a:1}}var je={fontStyles:function(e){return function(){return{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontFamily:e.fontFamily||"sans-serif"}}},themeColor:function(e){return function(t,r){var n=e.colors[e.primaryColor];return t in e.colors?e.colors[t][r]:n[r]}},focusStyles:function(e){return function(){return{WebkitTapHighlightColor:"transparent","&:focus":{outline:"none",boxShadow:"0 0 0 2px ".concat("dark"===e.colorScheme?e.colors.dark[9]:e.white,", 0 0 0 4px ").concat(e.colors[e.primaryColor]["dark"===e.colorScheme?7:5])},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}},linearGradient:function(e){for(var t,r="",n=1;n<(arguments.length<=1?0:arguments.length-1)-1;n+=1)r+="".concat(n+1<1||arguments.length<=n+1?void 0:arguments[n+1]," ").concat(n/((arguments.length<=1?0:arguments.length-1)-1)*100,"%, ");return"linear-gradient(".concat(e,"deg, ").concat(arguments.length<=1?void 0:arguments[1]," 0%, ").concat(r).concat((t=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=t?void 0:arguments[t]," 100%)")},radialGradient:function(){for(var e,t="",r=1;r<arguments.length-1;r+=1)t+="".concat(r<0||arguments.length<=r?void 0:arguments[r]," ").concat(r/(arguments.length-1)*100,"%, ");return"radial-gradient(circle, ".concat(arguments.length<=0?void 0:arguments[0]," 0%, ").concat(t).concat((e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]," 100%)")},smallerThan:function(e){return function(t){return"@media (max-width: ".concat(Pe({size:t,sizes:e.breakpoints}),"px)")}},largerThan:function(e){return function(t){return"@media (min-width: ".concat(Pe({size:t,sizes:e.breakpoints})+1,"px)")}},rgba:function(e,t){if("string"!==typeof e||t>1||t<0)return"rgba(0, 0, 0, 1)";var r=Re(e),n=r.r,i=r.g,o=r.b;return"rgba(".concat(n,", ").concat(i,", ").concat(o,", ").concat(t,")")},size:Pe,cover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{position:"absolute",top:e,right:e,left:e,bottom:e}},darken:function(e,t){var r=Re(e),n=r.r,i=r.g,o=r.b,a=r.a,s=1-t,u=function(e){return Math.round(e*s)};return"rgba(".concat(u(n),", ").concat(u(i),", ").concat(u(o),", ").concat(a,")")},lighten:function(e,t){var r=Re(e),n=r.r,i=r.g,o=r.b,a=r.a,s=function(e){return Math.round(e+(255-e)*t)};return"rgba(".concat(s(n),", ").concat(s(i),", ").concat(s(o),", ").concat(a,")")}},Ie=Object.defineProperty,Te=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,De=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable,Ue=function(e,t,r){return t in e?Ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function Me(e){return t=function(e,t){for(var r in t||(t={}))De.call(t,r)&&Ue(e,r,t[r]);if(Ne){var n,i=(0,s.Z)(Ne(t));try{for(i.s();!(n=i.n()).done;)r=n.value,Le.call(t,r)&&Ue(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({},e),r={fn:{fontStyles:je.fontStyles(e),themeColor:je.themeColor(e),focusStyles:je.focusStyles(e),largerThan:je.largerThan(e),smallerThan:je.smallerThan(e),radialGradient:je.radialGradient,linearGradient:je.linearGradient,rgba:je.rgba,size:je.size,cover:je.cover,lighten:je.lighten,darken:je.darken}},Te(t,Fe(r));var t,r}Object.keys(Ce);var Be=Me({loader:"oval",dateFormat:"MMMM D, YYYY",colorScheme:"light",white:"#fff",black:"#000",transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21)",colors:Ce,lineHeight:1.55,fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",primaryColor:"blue",shadows:{xs:"0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1)",sm:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 10px 15px -5px, rgba(0, 0, 0, 0.04) 0px 7px 7px -5px",md:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 20px 25px -5px, rgba(0, 0, 0, 0.04) 0px 10px 10px -5px",lg:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 28px 23px -7px, rgba(0, 0, 0, 0.04) 0px 12px 12px -7px",xl:"0 1px 3px rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0px 36px 28px -7px, rgba(0, 0, 0, 0.04) 0px 17px 17px -7px"},fontSizes:{xs:12,sm:14,md:16,lg:18,xl:20},radius:{xs:2,sm:4,md:8,lg:16,xl:32},spacing:{xs:10,sm:12,md:16,lg:20,xl:24},breakpoints:{xs:576,sm:768,md:992,lg:1200,xl:1400},headings:{fontFamily:"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",fontWeight:700,sizes:{h1:{fontSize:34,lineHeight:1.3},h2:{fontSize:26,lineHeight:1.35},h3:{fontSize:22,lineHeight:1.4},h4:{fontSize:18,lineHeight:1.45},h5:{fontSize:16,lineHeight:1.5},h6:{fontSize:14,lineHeight:1.5}}},other:{},datesLocale:"en"}),He=Object.defineProperty,ze=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Je=function(e,t,r){return t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ze=function(e,t){for(var r in t||(t={}))Ve.call(t,r)&&Je(e,r,t[r]);if(We){var n,i=(0,s.Z)(We(t));try{for(i.s();!(n=i.n()).done;){r=n.value;qe.call(t,r)&&Je(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},Ge=function(e,t){return ze(e,Ke(t))};var Qe={html:{fontFamily:"sans-serif",lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:0},"article, aside, footer, header, nav, section, figcaption, figure, main":{display:"block"},h1:{fontSize:"2em"},hr:{boxSizing:"content-box",height:0,overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{background:"transparent",textDecorationSkip:"objects"},"a:active, a:hover":{outlineWidth:0},"abbr[title]":{borderBottom:"none",textDecoration:"underline"},"b, strong":{fontWeight:"bolder"},"code, kbp, samp":{fontFamily:"monospace, monospace",fontSize:"1em"},dfn:{fontStyle:"italic"},mark:{backgroundColor:"#ff0",color:"#000"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sup:{top:"-0.5em"},sub:{bottom:"-0.25em"},"audio, video":{display:"inline-block"},"audio:not([controls])":{display:"none",height:0},img:{borderStyle:"none",verticalAlign:"middle"},"svg:not(:root)":{overflow:"hidden"},"button, input, optgroup, select, textarea":{fontFamily:"sans-serif",fontSize:"100%",lineHeight:"1.15",margin:0},"button, input":{overflow:"visible"},"button, select":{textTransform:"none"},"button, [type=reset], [type=submit]":{WebkitAppearance:"button"},"button::-moz-focus-inner, [type=button]::-moz-focus-inner, [type=reset]::-moz-focus-inner, [type=submit]::-moz-focus-inner":{borderStyle:"none",padding:0},"button:-moz-focusring, [type=button]:-moz-focusring, [type=reset]:-moz-focusring, [type=submit]:-moz-focusring":{outline:"1px dotted ButtonText"},legend:{boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:0,whiteSpace:"normal"},progress:{display:"inline-block",verticalAlign:"baseline"},textarea:{overflow:"auto"},"[type=checkbox], [type=radio]":{boxSizing:"border-box",padding:0},"[type=number]::-webkit-inner-spin-button, [type=number]::-webkit-outer-spin-button":{height:"auto"},"[type=search]":{appearance:"textfield",outlineOffset:"-2px"},"[type=search]::-webkit-search-cancel-button, [type=search]::-webkit-search-decoration":{appearance:"none"},"::-webkit-file-upload-button":{appearance:"button",font:"inherit"},"details, menu":{display:"block"},summary:{display:"list-item"},canvas:{display:"inline-block"},template:{display:"none"},"[hidden]":{display:"none"}};function $e(){return e.createElement(Oe,{styles:Qe})}var Ye=Object.defineProperty,Xe=Object.defineProperties,et=Object.getOwnPropertyDescriptors,tt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,nt=Object.prototype.propertyIsEnumerable,it=function(e,t,r){return t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ot=function(e,t){for(var r in t||(t={}))rt.call(t,r)&&it(e,r,t[r]);if(tt){var n,i=(0,s.Z)(tt(t));try{for(i.s();!(n=i.n()).done;){r=n.value;nt.call(t,r)&&it(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},at=(0,e.createContext)({theme:Be,styles:{},emotionOptions:{key:"mantine",prepend:!0}});function st(){var t;return(null==(t=(0,e.useContext)(at))?void 0:t.theme)||Be}function ut(){var t,r,n=st();return e.createElement(Oe,{styles:{"*, *::before, *::after":{boxSizing:"border-box"},body:(t=ot({},n.fn.fontStyles()),r={backgroundColor:"dark"===n.colorScheme?n.colors.dark[7]:n.white,color:"dark"===n.colorScheme?n.colors.dark[0]:n.black,lineHeight:n.lineHeight,fontSizes:n.fontSizes.md},Xe(t,et(r)))}})}function ct(t){var r,n,i=t.theme,o=t.styles,a=void 0===o?{}:o,s=t.emotionOptions,u=t.withNormalizeCSS,c=void 0!==u&&u,l=t.withGlobalStyles,f=void 0!==l&&l,d=t.children;return e.createElement(at.Provider,{value:{theme:(r=Be,n=i,Me(n?Object.keys(r).reduce((function(e,t){if("headings"===t&&n.headings){var i=n.headings.sizes?Object.keys(r.headings.sizes).reduce((function(e,t){return e[t]=Ze(Ze({},r.headings.sizes[t]),n.headings.sizes[t]),e}),{}):r.headings.sizes;return Ge(Ze({},e),{headings:Ge(Ze(Ze({},r.headings),n.headings),{sizes:i})})}return e[t]="object"===typeof n[t]?Ze(Ze({},r[t]),n[t]):n[t]||r[t],e}),{}):r)),styles:a,emotionOptions:s}},c&&e.createElement($e,null),f&&e.createElement(ut,null),d)}function lt(t){var r=(0,e.useState)(function(e){return"undefined"!==typeof window&&"matchMedia"in window&&window.matchMedia(e).matches}(t)),n=(0,i.Z)(r,2),o=n[0],a=n[1],s=(0,e.useRef)();return(0,e.useEffect)((function(){if("matchMedia"in window)return s.current=window.matchMedia(t),a(s.current.matches),function(e,t){try{return e.addEventListener("change",t),function(){return e.removeEventListener("change",t)}}catch(r){return e.addListener(t),function(){return e.removeListener(t)}}}(s.current,(function(e){return a(e.matches)}))}),[t]),o}ct.displayName="@mantine/core/MantineProvider";var ft=r(5861),dt=r(7757),pt=r.n(dt),ht=r(7062),gt=r(4942),vt=r(2982),yt=r(6867);r(9559).dataset;var mt="https://inrupt.com/.well-known/sdk-local-node/",bt=Object.freeze;function wt(e){return e.substring(0,mt.length)===mt}function xt(e){return e.substring(mt.length)}function _t(e){return"".concat(mt).concat(e)}function kt(e){return"string"===typeof e&&"_:"===e.substring(0,2)}function St(e){return e.substring(2)}function Et(e){return"string"===typeof e?e:e.value}var At="http://www.w3.org/2001/XMLSchema#boolean",Ot="http://www.w3.org/2001/XMLSchema#dateTime",Ct="http://www.w3.org/2001/XMLSchema#decimal",Pt="http://www.w3.org/2001/XMLSchema#integer",Rt="http://www.w3.org/2001/XMLSchema#string",jt="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";function It(e){if(!/-?\d{4,}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(Z|(\+|-)\d\d:\d\d)?/.test(e))return null;var t=e.split("T"),r=(0,i.Z)(t,2),n=r[0],o=r[1],a="-"===n.charAt(0)?[-1,n.substring(1)]:[1,n],s=(0,i.Z)(a,2),u=s[0],c=s[1].split("-"),l=(0,i.Z)(c,3),f=l[0],d=l[1],p=l[2],h=Number.parseInt(f,10)*u,g=Number.parseInt(d,10)-1,v=Number.parseInt(p,10),y=Tt(o),m=(0,i.Z)(y,2),b=m[0],w=m[1],x="string"===typeof w?Ft(w):[0,0],_=(0,i.Z)(x,2),k=_[0],S=_[1],E=b.split(":"),A=(0,i.Z)(E,3),O=A[0],C=A[1],P=A[2],R=Number.parseInt(O,10)+k,j=Number.parseInt(C,10)+S,I=P.split("."),T=(0,i.Z)(I,2),F=T[0],N=T[1],D=Number.parseInt(F,10),L=N?Number.parseInt(N,10):0,U=new Date(Date.UTC(h,g,v,R,j,D,L));return h>=0&&h<100&&U.setUTCFullYear(U.getUTCFullYear()-1900),U}function Tt(e){if(e.endsWith("Z"))return[e.substring(0,e.length-1),"Z"];var t=e.split("+"),r=e.split("-");return 1===t.length&&1===r.length?[t[0],void 0]:t.length>r.length?[t[0],"+"+t[1]]:[r[0],"-"+r[1]]}function Ft(e){if("Z"===e)return[0,0];var t="+"===e.charAt(0)?1:-1,r=e.substring(1).split(":"),n=(0,i.Z)(r,2),o=n[0],a=n[1];return[Number.parseInt(o,10)*t,Number.parseInt(a,10)*t]}function Nt(e){return Dt(e)&&"NamedNode"===e.termType}function Dt(e){return null!==e&&"object"===typeof e&&"string"===typeof e.termType&&"string"===typeof e.value&&"function"===typeof e.equals}function Lt(e){return Nt(e)&&wt(e.value)}function Ut(e){var t=Et(e);if("function"!==typeof URL)return!0;try{new URL(t)}catch(r){return!1}return!0}function Mt(e,t){return Ht.namedNode(Bt(xt(e.value),t))}function Bt(e,t){if("function"!==typeof URL)throw new Error("The URL interface is not available, so an IRI cannot be determined.");var r=new URL(t);return r.hash=e,r.href}var Ht=yt;function zt(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=["NamedNode","DefaultGraph"];if(!i.includes(t.graph.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.graph.termType,"] as their Graph node."));var o="DefaultGraph"===t.graph.termType?"default":t.graph.value,a=null!==(r=e.graphs[o])&&void 0!==r?r:{};return bt(Object.assign(Object.assign({},e),{graphs:bt(Object.assign(Object.assign({},e.graphs),(0,gt.Z)({},o,Kt(a,t,n))))}))}function Kt(e,t,r){var n;if(!["NamedNode","BlankNode"].includes(t.subject.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.subject.termType,"] as their Subject node."));var i="BlankNode"===t.subject.termType?"_:".concat(t.subject.value):t.subject.value,o=null!==(n=e[i])&&void 0!==n?n:{type:"Subject",url:i,predicates:{}};return bt(Object.assign(Object.assign({},e),(0,gt.Z)({},i,function(e,t,r){return bt(Object.assign(Object.assign({},e),{predicates:Wt(e.predicates,t,r)}))}(o,t,r))))}function Wt(e,t,r){var n;if(!["NamedNode"].includes(t.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(t.predicate.termType,"] as their Predicate node."));var i=t.predicate.value,o=null!==(n=e[i])&&void 0!==n?n:{};return bt(Object.assign(Object.assign({},e),(0,gt.Z)({},i,Vt(o,t,r))))}function Vt(e,t,r){var n,i,o,a,s,u,c,l;if("NamedNode"===t.object.termType){var f=bt([].concat((0,vt.Z)(null!==(n=e.namedNodes)&&void 0!==n?n:[]),[t.object.value]));return bt(Object.assign(Object.assign({},e),{namedNodes:f}))}if("Literal"===t.object.termType){if(t.object.datatype.value===jt){var d=t.object.language.toLowerCase(),p=bt([].concat((0,vt.Z)(null!==(o=null===(i=e.langStrings)||void 0===i?void 0:i[d])&&void 0!==o?o:[]),[t.object.value])),h=bt(Object.assign(Object.assign({},null!==(a=e.langStrings)&&void 0!==a?a:{}),(0,gt.Z)({},d,p)));return bt(Object.assign(Object.assign({},e),{langStrings:h}))}var g=bt([].concat((0,vt.Z)(null!==(u=null===(s=e.literals)||void 0===s?void 0:s[t.object.datatype.value])&&void 0!==u?u:[]),[t.object.value])),v=bt(Object.assign(Object.assign({},null!==(c=e.literals)&&void 0!==c?c:{}),(0,gt.Z)({},t.object.datatype.value,g)));return bt(Object.assign(Object.assign({},e),{literals:v}))}if("BlankNode"===t.object.termType){var y=qt(t.object,r),m=bt([].concat((0,vt.Z)(null!==(l=e.blankNodes)&&void 0!==l?l:[]),[y]));return bt(Object.assign(Object.assign({},e),{blankNodes:m}))}throw new Error("Objects of type [".concat(t.object.termType,"] are not supported."))}function qt(e,t){var r,n;if(void 0===(null!==(r=t.chainBlankNodes)&&void 0!==r?r:[]).find((function(t){return t.equals(e)})))return"_:".concat(e.value);var i=(null!==(n=t.otherQuads)&&void 0!==n?n:[]).filter((function(t){return t.subject.equals(e)})),o=i.filter((function(e){return!$t(e.object)})).reduce((function(e,r){var n;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var i=null!==(n=e[r.predicate.value])&&void 0!==n?n:{};return bt(Object.assign(Object.assign({},e),(0,gt.Z)({},r.predicate.value,Vt(i,r,t))))}),{});return i.filter((function(e){return $t(e.object)})).reduce((function(e,r){var n,i;if(!["NamedNode"].includes(r.predicate.termType))throw new Error("Cannot parse Quads with nodes of type [".concat(r.predicate.termType,"] as their Predicate node."));var o=null!==(n=e[r.predicate.value])&&void 0!==n?n:{},a=null!==(i=o.blankNodes)&&void 0!==i?i:[];return bt(Object.assign(Object.assign({},e),(0,gt.Z)({},r.predicate.value,Object.assign(Object.assign({},o),{blankNodes:[].concat((0,vt.Z)(a),[qt(r.object,t)])}))))}),o)}function Jt(e){var t=e.map((function(e){return e.subject})).filter($t),r=e.map((function(e){return e.object})).filter($t);var n=[];return r.forEach((function(t){n.push.apply(n,(0,vt.Z)(Qt(t,e)))})),t.concat(r).filter((function(t){if(n.some((function(e){return e.equals(t)})))return!1;var r,i=e.filter((function(e){return e.object.equals(t)})).map((function(e){return e.subject}));return i.length>0&&(r=i).every((function(e){return r.every((function(t){return e.equals(t)}))}))}))}function Zt(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],i=null!==(t=r.dataFactory)&&void 0!==t?t:yt;return Object.keys(e.graphs).forEach((function(t){var o=e.graphs[t],a="default"===t?i.defaultGraph():i.namedNode(t);Object.keys(o).forEach((function(e){var t=o[e].predicates,s=kt(e)?i.blankNode(St(e)):i.namedNode(e);n.push.apply(n,(0,vt.Z)(Gt(t,s,a,r)))}))})),n}function Gt(e,t,r){var n,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=[],a=null!==(n=i.dataFactory)&&void 0!==n?n:yt;return Object.keys(e).forEach((function(n){var i,s,u,c,l=a.namedNode(n),f=null!==(i=e[n].langStrings)&&void 0!==i?i:{},d=null!==(s=e[n].namedNodes)&&void 0!==s?s:[],p=null!==(u=e[n].literals)&&void 0!==u?u:{},h=null!==(c=e[n].blankNodes)&&void 0!==c?c:[];Object.keys(p).forEach((function(e){var n=a.namedNode(e);p[e].forEach((function(e){var i=a.literal(e,n);o.push(a.quad(t,l,i,r))}))})),Object.keys(f).forEach((function(e){f[e].forEach((function(n){var i=a.literal(n,e);o.push(a.quad(t,l,i,r))}))})),d.forEach((function(e){var n=a.namedNode(e);o.push(a.quad(t,l,n,r))})),h.forEach((function(e){if(kt(e)){var n=a.blankNode(St(e));o.push(a.quad(t,l,n,r))}else{var i=a.blankNode(),s=a.quad(t,l,i,r),u=Gt(e,i,r);o.push(s),o.push.apply(o,(0,vt.Z)(u))}}))})),o}function Qt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(void 0!==r.find((function(t){return t.equals(e)})))return r;var n=t.filter((function(t){return t.subject.equals(e)&&$t(t.object)})).map((function(e){return e.object}));if(0===n.length)return[];var i,o=[].concat((0,vt.Z)(r),[e]),a=n.map((function(e){return Qt(e,t,o)})),u=[],c=(0,s.Z)(a);try{for(c.s();!(i=c.n()).done;){var l=i.value;u.push.apply(u,(0,vt.Z)(l))}}catch(f){c.e(f)}finally{c.f()}return u}function $t(e){return"BlankNode"===e.termType}var Yt="http://www.w3.org/ns/ldp#Resource",Xt=r(5671),er=r(3144),tr=r(136),rr=r(9388);function nr(e){return"object"===typeof e&&"object"===typeof e.internal_resourceInfo}function ir(e){var t=e;return"object"===typeof t&&"object"===typeof t.internal_resourceInfo&&"object"===typeof t.internal_resourceInfo.linkedResources}function or(e){var t=e;return"object"===typeof t.internal_changeLog&&Array.isArray(t.internal_changeLog.additions)&&Array.isArray(t.internal_changeLog.deletions)}var ar=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(){return(0,Xt.Z)(this,r),t.apply(this,arguments)}return(0,er.Z)(r)}((0,r(8737).Z)(Error)),sr=function(){var e=(0,ft.Z)(dt.mark((function e(t,n){var i,o,a;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"!==typeof window||"function"===typeof require){e.next=4;break}return e.next=3,window.fetch(t,n);case 3:case 13:return e.abrupt("return",e.sent);case 4:if("function"===typeof require){e.next=10;break}return e.next=7,Promise.resolve().then(r.t.bind(r,5003,19));case 7:return i=e.sent,o=i.default,e.abrupt("return",o(t,n));case 10:return a=require("cross-fetch"),e.next=13,a(t,n);case 14:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ur=r(264);function cr(e){var t,r,n,i=null!==(r=null===(t=e.headers.get("Content-Type"))||void 0===t?void 0:t.split(";"))&&void 0!==r?r:[],o=i.length>0&&["text/turtle","application/ld+json"].includes(i[0]),a={sourceIri:e.url,isRawData:!o,contentType:null!==(n=e.headers.get("Content-Type"))&&void 0!==n?n:void 0,linkedResources:{}},s=e.headers.get("Link");if(s){var u=ur.parse(s),c=u.get("rel","acl");1===c.length&&(a.aclUrl=new URL(c[0].uri,a.sourceIri).href),a.linkedResources=u.refs.reduce((function(e,t){var r,n;return null!==(r=e[n=t.rel])&&void 0!==r||(e[n]=[]),e[t.rel].push(new URL(t.uri,a.sourceIri).href),e}),a.linkedResources)}var l=e.headers.get("WAC-Allow");return l&&(a.permissions=function(e){function t(e){var t=e.split(" ");return t.includes("write")?{read:t.includes("read"),append:!0,write:!0,control:t.includes("control")}:{read:t.includes("read"),append:t.includes("append"),write:!1,control:t.includes("control")}}function r(e,t){var r=e.split(",").map((function(e){return e.split("=")})).filter((function(e){return 2===e.length&&e[0].trim()===t}));if(1!==r.length)return"";var n=r[0][1].trim();return'"'!==n.charAt(0)||'"'!==n.charAt(n.length-1)?"":n.substring(1,n.length-1)}return{user:t(r(e,"user")),public:t(r(e,"public"))}}(l)),a}function lr(e){return!e.ok}function fr(e){return 401===e.status||403===e.status}var dr={fetch:sr};function pr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ignoreAuthenticationErrors:!1};if(lr(e)&&(!fr(e)||!t.ignoreAuthenticationErrors))throw new vr("Fetching the metadata of the Resource at [".concat(e.url,"] failed: [").concat(e.status,"] [").concat(e.statusText,"]."),e);var r=cr(e);return{internal_resourceInfo:r}}function hr(e){var t;return null!==(t=e.internal_resourceInfo.contentType)&&void 0!==t?t:null}function gr(e){return nr(e)?e.internal_resourceInfo.sourceIri:null}var vr=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(e,n){var i;return(0,Xt.Z)(this,r),(i=t.call(this,e)).response=n,i}return(0,er.Z)(r,[{key:"statusCode",get:function(){return this.response.status}},{key:"statusText",get:function(){return this.response.statusText}}]),r}(ar),yr=function(){var e=[],t=[],r=[];return{onQuad:function(t){e.push(t)},onError:function(e){r.push(e)},onComplete:function(e){t.push(e)},parse:function(){var n=(0,ft.Z)(dt.mark((function n(i,o){return dt.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mr(gr(o));case 2:n.sent.parse(i,(function(n,i,o){n?r.forEach((function(e){return e(n)})):i?e.forEach((function(e){return e(i)})):t.forEach((function(e){return e()}))}));case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}};function mr(e){return br.apply(this,arguments)}function br(){return(br=(0,ft.Z)(dt.mark((function e(t){var r;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r();case 2:return r=e.sent,e.abrupt("return",new r.Parser({format:"text/turtle",baseIRI:t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wr(e){return xr.apply(this,arguments)}function xr(){return xr=(0,ft.Z)(dt.mark((function e(t){var r,n,i,o,a;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r();case 2:return r=e.sent,"text/turtle",n=new r.Writer({format:"text/turtle"}),i=t.map((function(e){return Ht.quad(e.subject,e.predicate,e.object,void 0)})),n.addQuads(i),o=new Promise((function(e,t){n.end((function(r,n){if(r)return t(r);e(n)}))})),e.next=10,o;case 10:return a=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function _r(){return kr.apply(this,arguments)}function kr(){return(kr=(0,ft.Z)(dt.mark((function e(){var t;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(r.bind(r,1208));case 2:if("undefined"===typeof(t=e.sent).default){e.next=5;break}return e.abrupt("return",t.default);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e){var t,r,n,i,o,a,s,u;if(Nt(e))return"<".concat(e.value,"> (URL)");if(function(e){return Dt(e)&&"Literal"===e.termType}(e)){if(!Nt(e.datatype))return"[".concat(e.value,"] (RDF/JS Literal of unknown type)");switch(e.datatype.value){case At:return(null!==(r=null===(t=function(e){return"true"===e||"1"===e||"false"!==e&&"0"!==e&&null}(e.value))||void 0===t?void 0:t.valueOf())&&void 0!==r?r:"Invalid data: `".concat(e.value,"`"))+" (boolean)";case Ot:return(null!==(i=null===(n=It(e.value))||void 0===n?void 0:n.toUTCString())&&void 0!==i?i:"Invalid data: `".concat(e.value,"`"))+" (datetime)";case Ct:return(null!==(a=null===(o=function(e){var t=Number.parseFloat(e);return Number.isNaN(t)?null:t}(e.value))||void 0===o?void 0:o.toString())&&void 0!==a?a:"Invalid data: `".concat(e.value,"`"))+" (decimal)";case Pt:return(null!==(u=null===(s=function(e){var t=Number.parseInt(e,10);return Number.isNaN(t)?null:t}(e.value))||void 0===s?void 0:s.toString())&&void 0!==u?u:"Invalid data: `".concat(e.value,"`"))+" (integer)";case jt:return'"'.concat(e.value,'" (').concat(e.language," string)");case Rt:return'"'.concat(e.value,'" (string)');default:return"[".concat(e.value,"] (RDF/JS Literal of type: `").concat(e.datatype.value,"`)")}}return"BlankNode"===e.termType?"[".concat(e.value,"] (RDF/JS BlankNode)"):"Quad"===e.termType?"??? (nested RDF* Quad)":"Variable"===e.termType?"?".concat(e.value," (RDF/JS Variable)"):e}function Er(e){if(!Br(e))throw new Kr(e)}function Ar(e,t){var r=or(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Cr(e)})).reduce((function(e,t){var r=(0,i.Z)(e,2),n=r[0],o=r[1];return"undefined"!==typeof n.find((function(e){return e.equals(t)}))?[n.filter((function(e){return!e.equals(t)})),o]:[n,o.concat(t)]}),[r.additions,r.deletions]),o=(0,i.Z)(n,2),a=o[0],s=o[1];return bt(Object.assign(Object.assign({},e),{internal_changeLog:{additions:a,deletions:s}}))}function Or(e){return or(e)?e:bt(Object.assign(Object.assign({},e),{internal_changeLog:{additions:[],deletions:[]}}))}function Cr(e){return"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType}function Pr(e,t){var r,n,i;if(Er(e),!Ut(t))throw new Wr(t);var o=Et(t),a=null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n[0])&&void 0!==i?i:null;return null===a?null:wt(a)?"#".concat(xt(a)):a}function Rr(e,t){var r,n,i;if(Er(e),!Ut(t))throw new Wr(t);var o=Et(t);return null!==(i=null===(n=null===(r=e.predicates[o])||void 0===r?void 0:r.namedNodes)||void 0===n?void 0:n.map((function(e){return wt(e)?"#".concat(xt(e)):e})))&&void 0!==i?i:[]}var jr=Rr;function Ir(e,t){Er(e);var r=Fr(e,t,Ot);return null===r?null:It(r)}function Tr(e,t){var r,n;Er(e);var i=function(e,t){return jr(e,t).map((function(e){return Ht.namedNode(e)}))}(e,t),o=function(e,t){var r,n,i,o;if(Er(e),!Ut(t))throw new Wr(t);for(var a=Et(t),s=[],u=null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.langStrings)&&void 0!==n?n:{},c=Object.keys(u),l=function(){var e=d[f],t=u[e].map((function(t){return Ht.literal(t,e)}));s=s.concat(t)},f=0,d=c;f<d.length;f++)l();for(var p=null!==(o=null===(i=e.predicates[a])||void 0===i?void 0:i.literals)&&void 0!==o?o:{},h=Object.keys(p),g=function(){var e=y[v],t=p[e],r=Ht.namedNode(e),n=t.map((function(e){return Ht.literal(e,r)}));s=s.concat(n)},v=0,y=h;v<y.length;v++)g();return s}(e,t),a=Et(t),s=(null!==(n=null===(r=e.predicates[a])||void 0===r?void 0:r.blankNodes)&&void 0!==n?n:[]).map((function(e){var t=kt(e)?St(e):void 0;return Ht.blankNode(t)}));return i.concat(o).concat(s)}function Fr(e,t,r){var n,i,o,a;if(!Ut(t))throw new Wr(t);var s=Et(t);return null!==(a=null===(o=null===(i=null===(n=e.predicates[s])||void 0===n?void 0:n.literals)||void 0===i?void 0:i[r])||void 0===o?void 0:o[0])&&void 0!==a?a:null}function Nr(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Ut(t))throw new qr(t);var i="undefined"!==typeof n.scope?Et(n.scope):"default",o=null!==(r=e.graphs[i])&&void 0!==r?r:{},a=Et(t),s=wt(a)&&ir(e)?Bt(xt(a),gr(e)):a,u=o[s];return"undefined"===typeof u?null:u}function Dr(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{acceptBlankNodes:!1},n="undefined"!==typeof r.scope?Et(r.scope):"default",i=null!==(t=e.graphs[n])&&void 0!==t?t:{};return Object.values(i).filter((function(e){return!kt(e.url)||r.acceptBlankNodes}))}function Lr(e,t){var r,n=zr(t)&&ir(e)?Bt(xt(t.url),gr(e)):t.url,o=e.graphs.default,a=bt(Object.assign(Object.assign({},o),(0,gt.Z)({},n,bt(Object.assign(Object.assign({},t),{url:n}))))),s=bt(Object.assign(Object.assign({},e.graphs),{default:a})),u=Ht.namedNode(n),c=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,l="undefined"!==typeof c?Gt(c,u,Ht.defaultGraph()):[],f=Gt(t.predicates,u,Ht.defaultGraph());return function(e,t){var r=or(e)?e.internal_changeLog:{additions:[],deletions:[]},n=t.filter((function(e){return!Cr(e)})).reduce((function(e,t){var r=(0,i.Z)(e,2),n=r[0],o=r[1];return"undefined"!==typeof o.find((function(e){return e.equals(t)}))?[n,o.filter((function(e){return!e.equals(t)}))]:[n.concat(t),o]}),[r.additions,r.deletions]),o=(0,i.Z)(n,2),a=o[0],s=o[1];return bt(Object.assign(Object.assign({},e),{internal_changeLog:{additions:a,deletions:s}}))}(Ar(bt(Object.assign(Object.assign({},e),{graphs:s})),l),f)}function Ur(e,t){var r,n;n=Nt(t)?t.value:"string"===typeof t?wt(t)&&ir(e)?Bt(xt(t),gr(e)):t:zr(t)?t.url:Hr(t);var i=e.graphs.default,o=Object.assign({},i);delete o[n];var a=bt(Object.assign(Object.assign({},e.graphs),{default:bt(o)})),s=Ht.namedNode(n),u=null===(r=e.graphs.default[n])||void 0===r?void 0:r.predicates,c="undefined"!==typeof u?Gt(u,s,Ht.defaultGraph()):[];return Ar(bt(Object.assign(Object.assign({},e),{graphs:a})),c)}function Mr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!==typeof t.url){var r=t.url;if(!Ut(r))throw new qr(r);var n=bt({type:"Subject",predicates:bt({}),url:r});return n}var i=null!==(e=t.name)&&void 0!==e?e:Jr(),o=_t(i),a=bt({type:"Subject",predicates:bt({}),url:o});return a}function Br(e){return"object"===typeof e&&null!==e&&"string"===typeof e.type&&"Subject"===e.type}var Hr=function(e,t){if(zr(e)){if("undefined"===typeof t)throw new Error("The URL of a Thing that has not been persisted cannot be determined without a base URL.");return Bt(xt(e.url),t)}return e.url};function zr(e){return wt(e.url)}var Kr=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(e){var n;(0,Xt.Z)(this,r);var i="Expected a Thing, but received: [".concat(e,"].");return(n=t.call(this,i)).receivedValue=e,n}return(0,er.Z)(r)}(ar),Wr=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(e){var n;(0,Xt.Z)(this,r);var i=Nt(e)?e.value:e,o="Expected a valid URL to identify a property, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedProperty=i,n}return(0,er.Z)(r)}(ar),Vr=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(e){var n;(0,Xt.Z)(this,r);var i=Nt(e)?e.value:e,o="Expected a valid URL value, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return(0,er.Z)(r)}(ar),qr=function(e){(0,tr.Z)(r,e);var t=(0,rr.Z)(r);function r(e){var n;(0,Xt.Z)(this,r);var i=Nt(e)?e.value:e,o="Expected a valid URL to identify a Thing, but received: [".concat(i,"].");return(n=t.call(this,o)).receivedValue=i,n}return(0,er.Z)(r)}(ar),Jr=function(){return Date.now().toString()+Math.random().toString().substring("0.".length)};function Zr(e){var t=new URL(e);return t.hash="",t.href}function Gr(){return bt({type:"Dataset",graphs:{default:{}}})}function Qr(e){return $r.apply(this,arguments)}function $r(){return $r=(0,ft.Z)(dt.mark((function e(t){var r,n,i,o,a,s,u,c,l=arguments;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=l.length>1&&void 0!==l[1]?l[1]:{},!lr(t)){e.next=3;break}throw new vr("Fetching the SolidDataset at [".concat(t.url,"] failed: [").concat(t.status,"] [").concat(t.statusText,"]."),t);case 3:if(n=pr(t),i=Object.assign({"text/turtle":yr()},r.parsers),null!==(o=hr(n))){e.next=8;break}throw new Error("Could not determine the content type of the Resource at [".concat(gr(n),"]."));case 8:if(a=o.split(";")[0],"undefined"!==typeof(s=i[a])){e.next=12;break}throw new Error("The Resource at [".concat(gr(n),"] has a MIME type of [").concat(a,"], but the only parsers available are for the following MIME types: [").concat(Object.keys(i).join(", "),"]."));case 12:return e.next=14,t.text();case 14:return u=e.sent,c=new Promise((function(e,t){var r=bt({graphs:bt({default:bt({})}),type:"Dataset"}),i=[],a=[];s.onError((function(e){t(new Error("Encountered an error parsing the Resource at [".concat(gr(n),"] with content type [").concat(o,"]: ").concat(e)))})),s.onQuad((function(e){a.push(e),"BlankNode"===e.subject.termType||"BlankNode"===e.object.termType?i.push(e):r=zt(r,e)})),s.onComplete((0,ft.Z)(dt.mark((function t(){var o,s,u;return dt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:20,o=i.length<=20?Jt(i):[],s=i.filter((function(e){return o.every((function(t){return!t.equals(e.subject)}))})),r=s.reduce((function(e,t){return zt(e,t,{otherQuads:a,chainBlankNodes:o})}),r),u=bt(Object.assign(Object.assign({},r),n)),e(u);case 6:case"end":return t.stop()}}),t)})))),s.parse(u,n)})),e.next=18,c;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}function Yr(e){return Xr.apply(this,arguments)}function Xr(){return Xr=(0,ft.Z)(dt.mark((function e(t){var r,n,i,o,a,s,u,c=arguments;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:dr,t=Et(t),i=Object.assign(Object.assign({},dr),r),o=Object.keys(null!==(n=r.parsers)&&void 0!==n?n:{}),a=o.length>0?o.join(", "):"text/turtle",e.next=7,i.fetch(t,{headers:{Accept:a}});case 7:if(!lr(s=e.sent)){e.next=10;break}throw new vr("Fetching the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"]."),s);case 10:return e.next=12,Qr(s,r);case 12:return u=e.sent,e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=(0,ft.Z)(dt.mark((function e(t){var r,n;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.internal_changeLog.deletions.length>0)){e.next=8;break}return e.t1="DELETE DATA {",e.next=4,wr(t.internal_changeLog.deletions.map(ln));case 4:e.t2=e.sent.trim(),e.t0=e.t1.concat.call(e.t1,e.t2,"};"),e.next=9;break;case 8:e.t0="";case 9:if(r=e.t0,!(t.internal_changeLog.additions.length>0)){e.next=18;break}return e.t4="INSERT DATA {",e.next=14,wr(t.internal_changeLog.additions.map(ln));case 14:e.t5=e.sent.trim(),e.t3=e.t4.concat.call(e.t4,e.t5,"};"),e.next=19;break;case 18:e.t3="";case 19:return n=e.t3,e.abrupt("return",{method:"PATCH",body:"".concat(r," ").concat(n),headers:{"Content-Type":"application/sparql-update"}});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){return nn.apply(this,arguments)}function nn(){return(nn=(0,ft.Z)(dt.mark((function e(t){return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(Zt(t).map(ln));case 2:return e.t0=e.sent,e.t1={"Content-Type":"text/turtle","If-None-Match":"*",Link:"<".concat(Yt,'>; rel="type"')},e.abrupt("return",{method:"PUT",body:e.t0,headers:e.t1});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){return an.apply(this,arguments)}function an(){return an=(0,ft.Z)(dt.mark((function e(t,r){var n,i,o,a,s,u,c,l,f,d=arguments;return dt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>2&&void 0!==d[2]?d[2]:dr,t=Et(t),i=Object.assign(Object.assign({},dr),n),!sn(o=Or(r),t)){e.next=10;break}return e.next=7,en(o);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,rn(o);case 12:e.t0=e.sent;case 13:return a=e.t0,e.next=16,i.fetch(t,a);case 16:if(!lr(s=e.sent)){e.next=20;break}throw u=sn(o,t)?"The changes that were sent to the Pod are listed below.\n\n"+cn(o):"The SolidDataset that was sent to the Pod is listed below.\n\n"+un(o),new vr("Storing the Resource at [".concat(t,"] failed: [").concat(s.status,"] [").concat(s.statusText,"].\n\n")+u,s);case 20:return c=Object.assign(Object.assign({},cr(s)),{isRawData:!1}),l=bt(Object.assign(Object.assign({},r),{internal_changeLog:{additions:[],deletions:[]},internal_resourceInfo:c})),f=dn(l),e.abrupt("return",f);case 24:case"end":return e.stop()}}),e)}))),an.apply(this,arguments)}function sn(e,t){return or(e)&&nr(e)&&"string"===typeof e.internal_resourceInfo.sourceIri&&function(e,t){return Zr(e.internal_resourceInfo.sourceIri)===Zr(t)}(e,t)}function un(e){var t="";nr(e)?t+="# SolidDataset: ".concat(gr(e),"\n"):t+="# SolidDataset (no URL yet)\n";var r=Dr(e);return 0===r.length?t+="\n<empty>\n":r.forEach((function(r){t+="\n"+function(e){var t="";zr(e)?t+="## Thing (no URL yet \u2014 identifier: `#".concat(xt(e.url),"`)\n"):t+="## Thing: ".concat(e.url,"\n");var r=Object.keys(e.predicates);if(0===r.length)t+="\n<empty>\n";else{var n,i=(0,s.Z)(r);try{for(i.s();!(n=i.n()).done;){var o=n.value;t+="\nProperty: ".concat(o,"\n"),Tr(e,o).forEach((function(e){t+="- ".concat(Sr(e),"\n")}))}}catch(a){i.e(a)}finally{i.f()}}return t}(r),or(e)&&(t+="\n"+function(e,t){var r=Ht.namedNode(t.url),n=e.internal_changeLog.additions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),i=e.internal_changeLog.deletions.reduce((function(e,t){return t.subject.equals(r)?e+1:e}),0),o=1===i?"1 value removed":i+" values removed";return"(".concat(1===n?"1 new value added":n+" new values added"," / ").concat(o,")")}(e,r)+"\n")})),t}function cn(e){if(!nr(e))return"This is a newly initialized SolidDataset, so there is no source to compare it to.";if(!or(e)||0===e.internal_changeLog.additions.length&&0===e.internal_changeLog.deletions.length)return"## Changes compared to ".concat(gr(e),"\n\n")+"This SolidDataset has not been modified since it was fetched from ".concat(gr(e),".\n");var t="## Changes compared to ".concat(gr(e),"\n"),r=function(e){var t={};return e.internal_changeLog.deletions.forEach((function(r){var n,i,o,a=Lt(r.subject)?Mt(r.subject,gr(e)):r.subject;if(Nt(a)&&Nt(r.predicate)){var s=Et(a),u=Et(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].deleted.push(r.object)}})),e.internal_changeLog.additions.forEach((function(r){var n,i,o,a=Lt(r.subject)?Mt(r.subject,gr(e)):r.subject;if(Nt(a)&&Nt(r.predicate)){var s=Et(a),u=Et(r.predicate);null!==(n=t[s])&&void 0!==n||(t[s]={}),null!==(i=(o=t[s])[u])&&void 0!==i||(o[u]={added:[],deleted:[]}),t[s][u].added.push(r.object)}})),t}(e);return Object.keys(r).forEach((function(e){t+="\n### Thing: ".concat(e,"\n");var n=r[e];Object.keys(n).forEach((function(e){t+="\nProperty: ".concat(e,"\n");var r=n[e].deleted,i=n[e].added;r.length>0&&(t+="- Removed:\n",r.forEach((function(e){return t+="  - ".concat(Sr(e),"\n")}))),i.length>0&&(t+="- Added:\n",i.forEach((function(e){return t+="  - ".concat(Sr(e),"\n")})))}))})),t}function ln(e){var t=Nt(e.subject)?fn(e.subject):e.subject,r=Nt(e.object)?fn(e.object):e.object;return Ht.quad(t,e.predicate,r,e.graph)}function fn(e){return wt(e.value)?Ht.namedNode("#"+xt(e.value)):e}function dn(e){var t=gr(e),r=e.graphs.default,n=Object.keys(r).reduce((function(e,r){var n=function(e,t){var r=Object.keys(e.predicates).reduce((function(e,r){var n,i=null!==(n=e[r].namedNodes)&&void 0!==n?n:[];if(i.every((function(e){return!wt(e)})))return e;var o=bt(i.map((function(e){return wt(e)?"".concat(t,"#").concat(xt(e)):e}))),a=bt(Object.assign(Object.assign({},e[r]),{namedNodes:o}));return bt(Object.assign(Object.assign({},e),(0,gt.Z)({},r,a)))}),e.predicates);return bt(Object.assign(Object.assign({},e),{predicates:r,url:wt(e.url)?"".concat(t,"#").concat(xt(e.url)):e.url}))}(e[r],t),i=wt(r)?"".concat(t,"#").concat(xt(r)):r,o=Object.assign({},e);return delete o[r],o[i]=n,bt(o)}),r),i=bt(Object.assign(Object.assign({},e.graphs),{default:n}));return bt(Object.assign(Object.assign({},e),{graphs:i}))}var pn=function(e,t,r){var n,i;if(Er(e),!Ut(t))throw new Wr(t);if(!Br(r)&&!Ut(r))throw new Vr(r);var o,a=Et(t),s=null!==(n=e.predicates[a])&&void 0!==n?n:{},u=null!==(i=s.namedNodes)&&void 0!==i?i:[];o=Nt(r)?r.value:"string"===typeof r?r:zr(r)?r.url:Hr(r);var c=bt(u.concat(Et(o))),l=bt(Object.assign(Object.assign({},s),{namedNodes:c})),f=bt(Object.assign(Object.assign({},e.predicates),(0,gt.Z)({},a,l)));return bt(Object.assign(Object.assign({},e),{predicates:f}))},hn=function(e,t,r){return Er(e),vn(e,t,function(e){return e.toISOString()}(r),Ot)};var gn=function(e,t,r){return Er(e),vn(e,t,r,Rt)};function vn(e,t,r,n){var i,o,a;if(Er(e),!Ut(t))throw new Wr(t);var s=Et(t),u=null!==(i=e.predicates[s])&&void 0!==i?i:{},c=null!==(o=u.literals)&&void 0!==o?o:{},l=null!==(a=c[n])&&void 0!==a?a:[],f=bt(l.concat(r)),d=bt(Object.assign(Object.assign({},c),(0,gt.Z)({},n,f))),p=bt(Object.assign(Object.assign({},u),{literals:d})),h=bt(Object.assign(Object.assign({},e.predicates),(0,gt.Z)({},s,p)));return bt(Object.assign(Object.assign({},e),{predicates:h}))}var yn=Object.freeze({Valarm:"http://www.w3.org/2002/12/cal/ical#Valarm",Value_DATE:"http://www.w3.org/2002/12/cal/ical#Value_DATE",Value_DURATION:"http://www.w3.org/2002/12/cal/ical#Value_DURATION",Value_PERIOD:"http://www.w3.org/2002/12/cal/ical#Value_PERIOD",Value_RECUR:"http://www.w3.org/2002/12/cal/ical#Value_RECUR",Vevent:"http://www.w3.org/2002/12/cal/ical#Vevent",Vfreebusy:"http://www.w3.org/2002/12/cal/ical#Vfreebusy",Vjournal:"http://www.w3.org/2002/12/cal/ical#Vjournal",Vtimezone:"http://www.w3.org/2002/12/cal/ical#Vtimezone",Vtodo:"http://www.w3.org/2002/12/cal/ical#Vtodo",attach:"http://www.w3.org/2002/12/cal/ical#attach",attendee:"http://www.w3.org/2002/12/cal/ical#attendee",completed:"http://www.w3.org/2002/12/cal/ical#completed",created:"http://www.w3.org/2002/12/cal/ical#created",dtend:"http://www.w3.org/2002/12/cal/ical#dtend",dtstamp:"http://www.w3.org/2002/12/cal/ical#dtstamp",dtstart:"http://www.w3.org/2002/12/cal/ical#dtstart",due:"http://www.w3.org/2002/12/cal/ical#due",duration:"http://www.w3.org/2002/12/cal/ical#duration",exdate:"http://www.w3.org/2002/12/cal/ical#exdate",exrule:"http://www.w3.org/2002/12/cal/ical#exrule",freebusy:"http://www.w3.org/2002/12/cal/ical#freebusy",geo:"http://www.w3.org/2002/12/cal/ical#geo",lastModified:"http://www.w3.org/2002/12/cal/ical#lastModified",organizer:"http://www.w3.org/2002/12/cal/ical#organizer",rdate:"http://www.w3.org/2002/12/cal/ical#rdate",recurrenceId:"http://www.w3.org/2002/12/cal/ical#recurrenceId",rrule:"http://www.w3.org/2002/12/cal/ical#rrule",trigger:"http://www.w3.org/2002/12/cal/ical#trigger",tzurl:"http://www.w3.org/2002/12/cal/ical#tzurl",url:"http://www.w3.org/2002/12/cal/ical#url",action:"http://www.w3.org/2002/12/cal/ical#action",calscale:"http://www.w3.org/2002/12/cal/ical#calscale",categories:"http://www.w3.org/2002/12/cal/ical#categories",class__workaround:"http://www.w3.org/2002/12/cal/ical#class",comment:"http://www.w3.org/2002/12/cal/ical#comment",contact:"http://www.w3.org/2002/12/cal/ical#contact",description:"http://www.w3.org/2002/12/cal/ical#description",location:"http://www.w3.org/2002/12/cal/ical#location",method:"http://www.w3.org/2002/12/cal/ical#method",percentComplete:"http://www.w3.org/2002/12/cal/ical#percentComplete",priority:"http://www.w3.org/2002/12/cal/ical#priority",prodid:"http://www.w3.org/2002/12/cal/ical#prodid",relatedTo:"http://www.w3.org/2002/12/cal/ical#relatedTo",repeat:"http://www.w3.org/2002/12/cal/ical#repeat",requestStatus:"http://www.w3.org/2002/12/cal/ical#requestStatus",resources:"http://www.w3.org/2002/12/cal/ical#resources",sequence:"http://www.w3.org/2002/12/cal/ical#sequence",status:"http://www.w3.org/2002/12/cal/ical#status",summary:"http://www.w3.org/2002/12/cal/ical#summary",transp:"http://www.w3.org/2002/12/cal/ical#transp",tzid:"http://www.w3.org/2002/12/cal/ical#tzid",tzname:"http://www.w3.org/2002/12/cal/ical#tzname",tzoffsetfrom:"http://www.w3.org/2002/12/cal/ical#tzoffsetfrom",tzoffsetto:"http://www.w3.org/2002/12/cal/ical#tzoffsetto",uid:"http://www.w3.org/2002/12/cal/ical#uid",version:"http://www.w3.org/2002/12/cal/ical#version"}),mn=Object.freeze({type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#value",first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",language:"http://www.w3.org/1999/02/22-rdf-syntax-ns#language",direction:"http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Property:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Statement:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Bag:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Seq:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Alt:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",List:"http://www.w3.org/1999/02/22-rdf-syntax-ns#List",CompoundLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",HTML:"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",PlainLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",XMLLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",JSON__workaround:"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON"}),bn=Object.freeze({masterWorkspace:"http://www.w3.org/ns/pim/space#masterWorkspace",preferencesFile:"http://www.w3.org/ns/pim/space#preferencesFile",storage:"http://www.w3.org/ns/pim/space#storage",uriPrefix:"http://www.w3.org/ns/pim/space#uriPrefix",workspace:"http://www.w3.org/ns/pim/space#workspace",ControlledStorage:"http://www.w3.org/ns/pim/space#ControlledStorage",PersonalStorage:"http://www.w3.org/ns/pim/space#PersonalStorage",PublicStorage:"http://www.w3.org/ns/pim/space#PublicStorage",Storage:"http://www.w3.org/ns/pim/space#Storage",Workspace:"http://www.w3.org/ns/pim/space#Workspace"}),wn=yn,xn=mn,_n=bn,kn="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;function Sn(t){var r=(0,e.useState)(""),n=(0,i.Z)(r,2),o=n[0],a=n[1];return kn((function(){a("mantine-".concat(Math.random().toString(36).substr(2,9)))}),[]),t||o}var En=Object.defineProperty,An=Object.getOwnPropertySymbols,On=Object.prototype.hasOwnProperty,Cn=Object.prototype.propertyIsEnumerable,Pn=function(e,t,r){return t in e?En(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Rn=function(e,t){for(var r in t||(t={}))On.call(t,r)&&Pn(e,r,t[r]);if(An){var n,i=(0,s.Z)(An(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Cn.call(t,r)&&Pn(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e};function jn(e){return"string"===typeof e||"number"===typeof e}var In={m:"margin",mt:"marginTop",mb:"marginBottom",ml:"marginLeft",mr:"marginRight"};function Tn(e){var t=e.others,r=e.style,n=st(),i=Rn({},r);if(jn(t.my)){var o=n.fn.size({size:t.my,sizes:n.spacing});i.marginTop=o,i.marginBottom=o}if(jn(t.mx)){var a=n.fn.size({size:t.mx,sizes:n.spacing});i.marginLeft=a,i.marginRight=a}Object.keys(In).forEach((function(e){jn(t[e])&&(i[In[e]]=n.fn.size({size:t[e],sizes:n.spacing}))}));var s=Rn({},t);return delete s.m,delete s.mx,delete s.my,delete s.mt,delete s.ml,delete s.mb,delete s.mr,{mergedStyles:i,rest:s}}function Fn(e){var t,r,n="";if("string"===typeof e||"number"===typeof e)n+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Fn(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Nn(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Fn(e))&&(n&&(n+=" "),n+=t);return n}var Dn=function(){var e;return{getCache:function(t){return void 0===e&&(e=ce(t||{key:"mantine",prepend:!0})),e}}}().getCache,Ln=(0,e.createContext)(void 0);function Un(){var t=function(){var t;return(null==(t=(0,e.useContext)(at))?void 0:t.emotionOptions)||{key:"mantine",prepend:!0}}();return(0,e.useContext)(Ln)||Dn(t)}var Mn=Object.defineProperty,Bn=Object.getOwnPropertySymbols,Hn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,Kn=function(e,t,r){return t in e?Mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Wn="ref";function Vn(e){var t;if(1!==e.length)return{args:e,ref:t};var r=(0,i.Z)(e,1)[0];if(!(r instanceof Object))return{args:e,ref:t};if(!(Wn in r))return{args:e,ref:t};t=r.ref;var n=function(e,t){for(var r in t||(t={}))Hn.call(t,r)&&Kn(e,r,t[r]);if(Bn){var n,i=(0,s.Z)(Bn(t));try{for(i.s();!(n=i.n()).done;)r=n.value,zn.call(t,r)&&Kn(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({},r);return delete n.ref,{args:[n],ref:t}}var qn=function(){function e(e,t,r){var n=[],i=function(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):n+=r+" "})),n}(e,n,r);return n.length<2?r:i+t(n)}return{cssFactory:function(t){var r=t.cache,n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Vn(t),o=i.ref,a=i.args,s=_e(a,r.registered);return Ae(r,s,!1),"".concat(r.key,"-").concat(s.name).concat(void 0===o?"":" ".concat(o))};return{css:n,cx:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return e(r.registered,n,Nn(i))}}}}}(),Jn=qn.cssFactory;function Zn(){var t=Un();return function(t,r){var n=(0,e.useRef)();return(!n.current||r.length!==n.current.prevDeps.length||n.current.prevDeps.map((function(e,t){return e===r[t]})).indexOf(!1)>=0)&&(n.current={v:t(),prevDeps:(0,vt.Z)(r)}),n.current.v}((function(){return Jn({cache:t})}),[t])}function Gn(e,t,r,n){return Object.keys(t).reduce((function(i,o){return i[o]=e(t[o],null!=r&&r[o],n?"mantine-".concat(n,"-").concat(o):null),i}),{})}function Qn(t){var r="function"===typeof t?t:function(){return t};return function(t,n){var o=st(),a=function(){var t;return(null==(t=(0,e.useContext)(at))?void 0:t.styles)||{}}()[null==n?void 0:n.name],s=Zn(),u=s.css,c=s.cx,l=0,f=r(o,t,(function(e){return l+=1,"mantine-ref_".concat(e||"","_").concat(l)})),d="function"===typeof(null==n?void 0:n.styles)?null==n?void 0:n.styles(o):(null==n?void 0:n.styles)||{},p="function"===typeof a?a(o):a||{},h="function"===typeof(null==n?void 0:n.sx)?n.sx(o):null==n?void 0:n.sx,g=function(e){var t={};return Object.keys(e).forEach((function(r){var n=(0,i.Z)(e[r],2),o=n[0],a=n[1];t[o]=a})),t}(Object.keys(f).map((function(e){var t=c(u(f[e]),u(p[e]),u(d[e]));return[e,"root"===e?c(t,u(h)):t]})));return{classes:Gn(c,g,null==n?void 0:n.classNames,null==n?void 0:n.name),cx:c,theme:o}}}var $n=Object.defineProperty,Yn=Object.defineProperties,Xn=Object.getOwnPropertyDescriptors,ei=Object.getOwnPropertySymbols,ti=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable,ni=function(e,t,r){return t in e?$n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ii=function(e,t){for(var r in t||(t={}))ti.call(t,r)&&ni(e,r,t[r]);if(ei){var n,i=(0,s.Z)(ei(t));try{for(i.s();!(n=i.n()).done;){r=n.value;ri.call(t,r)&&ni(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},oi=function(e,t){return Yn(e,Xn(t))},ai={xs:30,sm:36,md:42,lg:50,xl:60},si=Qn((function(e,t){var r=t.size,n=t.multiline,i=t.radius,o=t.variant,a=t.invalid,s=e.colors.red["dark"===e.colorScheme?6:7],u="default"===o||"filled"===o?{minHeight:e.fn.size({size:r,sizes:ai}),paddingLeft:e.fn.size({size:r,sizes:ai})/3,paddingRight:e.fn.size({size:r,sizes:ai})/3,borderRadius:e.fn.size({size:i,sizes:e.radius})}:null;return{wrapper:{position:"relative"},input:"headless"===o?{}:oi(ii(oi(ii({},e.fn.fontStyles()),{height:n?"unstyled"===o?void 0:"auto":e.fn.size({size:r,sizes:ai}),WebkitTapHighlightColor:"transparent",lineHeight:n?e.lineHeight:"".concat(e.fn.size({size:r,sizes:ai})-2,"px"),appearance:"none",resize:"none",boxSizing:"border-box",fontSize:e.fn.size({size:r,sizes:e.fontSizes}),width:"100%",color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,display:"block",textAlign:"left"}),u),{"&:disabled":{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},"&::placeholder":{opacity:1,userSelect:"none",color:"dark"===e.colorScheme?e.colors.dark[3]:e.colors.gray[5]},"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button, &::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{appearance:"none"},"&[type=number]":{MozAppearance:"textfield"}}),defaultVariant:{border:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[4]),backgroundColor:"dark"===e.colorScheme?e.colors.dark[8]:e.white,transition:"border-color 100ms ease","&:focus, &:focus-within":{outline:"none",borderColor:e.colors[e.primaryColor]["dark"===e.colorScheme?8:5]}},filledVariant:{border:"1px solid transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[1],"&:focus, &:focus-within":{outline:"none",borderColor:"".concat(e.colors[e.primaryColor]["dark"===e.colorScheme?8:5]," !important")}},unstyledVariant:{borderWidth:0,color:"dark"===e.colorScheme?e.colors.dark[0]:e.black,backgroundColor:"transparent",minHeight:28,outline:0,"&:focus, &:focus-within":{outline:"none",borderColor:"transparent"},"&:disabled":{backgroundColor:"transparent","&:focus, &:focus-within":{outline:"none",borderColor:"transparent"}}},withIcon:{paddingLeft:"".concat(e.fn.size({size:r,sizes:ai}),"px !important")},invalid:{color:s,borderColor:s,"&::placeholder":{opacity:1,color:s}},disabled:{backgroundColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[1],color:e.colors.dark[2],opacity:.6,cursor:"not-allowed","&::placeholder":{color:e.colors.dark[2]}},icon:{pointerEvents:"none",position:"absolute",zIndex:1,left:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",width:e.fn.size({size:r,sizes:ai}),color:a?e.colors.red["dark"===e.colorScheme?6:7]:"dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[5]},rightSection:{position:"absolute",top:0,bottom:0,right:0,display:"flex",alignItems:"center",justifyContent:"center"}}})),ui=si;function ci(e){var t=e.sx,r=e.className,n=Zn(),i=n.css,o=n.cx,a=st();return{sxClassName:o(i("function"===typeof t?t(a):t),r),css:i,cx:o,theme:a}}var li=Object.defineProperty,fi=Object.getOwnPropertySymbols,di=Object.prototype.hasOwnProperty,pi=Object.prototype.propertyIsEnumerable,hi=function(e,t,r){return t in e?li(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},gi=(0,e.forwardRef)((function(t,r){var n=t,i=n.className,o=n.component,a=n.style,u=n.sx,c=function(e,t){var r={};for(var n in e)di.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&fi){var i,o=(0,s.Z)(fi(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&pi.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["className","component","style","sx"]),l=ci({sx:u,className:i}).sxClassName,f=Tn({others:c,style:a}),d=f.mergedStyles,p=f.rest,h=o||"div";return e.createElement(h,function(e,t){for(var r in t||(t={}))di.call(t,r)&&hi(e,r,t[r]);if(fi){var n,i=(0,s.Z)(fi(t));try{for(i.s();!(n=i.n()).done;)r=n.value,pi.call(t,r)&&hi(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({ref:r,className:l,style:d},p))}));gi.displayName="@mantine/core/Box";var vi=Object.defineProperty,yi=Object.defineProperties,mi=Object.getOwnPropertyDescriptors,bi=Object.getOwnPropertySymbols,wi=Object.prototype.hasOwnProperty,xi=Object.prototype.propertyIsEnumerable,_i=function(e,t,r){return t in e?vi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ki=function(e,t){for(var r in t||(t={}))wi.call(t,r)&&_i(e,r,t[r]);if(bi){var n,i=(0,s.Z)(bi(t));try{for(i.s();!(n=i.n()).done;){r=n.value;xi.call(t,r)&&_i(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},Si=function(e,t){return yi(e,mi(t))},Ei=(0,e.forwardRef)((function(t,r){var n,i=t,o=i.component,a=i.className,u=i.invalid,c=void 0!==u&&u,l=i.required,f=void 0!==l&&l,d=i.disabled,p=void 0!==d&&d,h=i.variant,g=i.icon,v=i.style,y=i.rightSectionWidth,m=void 0===y?36:y,b=i.rightSection,w=i.rightSectionProps,x=void 0===w?{}:w,_=i.radius,k=void 0===_?"sm":_,S=i.size,E=void 0===S?"sm":S,A=i.wrapperProps,O=i.classNames,C=i.styles,P=i.__staticSelector,R=void 0===P?"Input":P,j=i.multiline,I=void 0!==j&&j,T=i.sx,F=function(e,t){var r={};for(var n in e)wi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&bi){var i,o=(0,s.Z)(bi(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&xi.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(i,["component","className","invalid","required","disabled","variant","icon","style","rightSectionWidth","rightSection","rightSectionProps","radius","size","wrapperProps","classNames","styles","__staticSelector","multiline","sx"]),N=st(),D=h||("dark"===N.colorScheme?"filled":"default"),L=ui({radius:k,size:E,multiline:I,variant:D,invalid:c},{sx:T,classNames:O,styles:C,name:R}),U=L.classes,M=L.cx,B=Tn({others:F,style:v}),H=B.mergedStyles,z=B.rest,K=o||"input";return e.createElement(gi,ki({className:M(U.wrapper,a),style:H,sx:T},A),g&&e.createElement("div",{className:U.icon},g),e.createElement(K,Si(ki({},z),{ref:r,"aria-required":f,"aria-invalid":c,className:M(U["".concat(D,"Variant")],U.input,(n={},(0,gt.Z)(n,U.withIcon,g),(0,gt.Z)(n,U.invalid,c),(0,gt.Z)(n,U.disabled,p),n)),disabled:p,style:{paddingRight:b?m:N.spacing.md}})),b&&e.createElement("div",Si(ki({},x),{style:{width:m},className:U.rightSection}),b))}));Ei.displayName="@mantine/core/Input";var Ai="indigo",Oi="cyan",Ci=45;function Pi(e){var t=e.color,r=e.theme,n=e.variant,i=e.gradient;if("light"===n)return{border:"transparent",background:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?8:0),"dark"===r.colorScheme?.35:1),color:"dark"===t?"dark"===r.colorScheme?r.colors.dark[0]:r.colors.dark[9]:r.fn.themeColor(t,"dark"===r.colorScheme?2:6),hover:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?7:1),"dark"===r.colorScheme?.45:.65)};if("default"===n)return{border:"dark"===r.colorScheme?r.colors.dark[5]:r.colors.gray[4],background:"dark"===r.colorScheme?r.colors.dark[5]:r.white,color:"dark"===r.colorScheme?r.white:r.black,hover:"dark"===r.colorScheme?r.colors.dark[4]:r.colors.gray[0]};if("white"===n)return{border:"transparent",background:r.white,color:r.fn.themeColor(t,7),hover:null};if("outline"===n)return{border:r.fn.rgba(r.fn.themeColor(t,"dark"===r.colorScheme?4:7),.75),background:"transparent",color:r.fn.themeColor(t,"dark"===r.colorScheme?4:7),hover:"dark"===r.colorScheme?r.fn.rgba(r.fn.themeColor(t,4),.05):r.fn.rgba(r.fn.themeColor(t,0),.35)};if("gradient"===n){var o={from:(null==i?void 0:i.from)||Ai,to:(null==i?void 0:i.to)||Oi,deg:(null==i?void 0:i.deg)||Ci};return{background:"linear-gradient(".concat(o.deg,"deg, ").concat(r.fn.themeColor(o.from,6)," 0%, ").concat(r.fn.themeColor(o.to,6)," 100%)"),color:r.white,border:"transparent",hover:null}}return{border:"transparent",background:r.fn.themeColor(t,"dark"===r.colorScheme?8:6),color:r.white,hover:r.fn.themeColor(t,7)}}var Ri=Object.defineProperty,ji=Object.defineProperties,Ii=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Fi=Object.prototype.hasOwnProperty,Ni=Object.prototype.propertyIsEnumerable,Di=function(e,t,r){return t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Li=function(e,t){for(var r in t||(t={}))Fi.call(t,r)&&Di(e,r,t[r]);if(Ti){var n,i=(0,s.Z)(Ti(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Ni.call(t,r)&&Di(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e};function Ui(e){var t=e.theme,r=e.color,n=e.variant;return"dimmed"===r?"dark"===t.colorScheme?t.colors.dark[2]:t.colors.gray[6]:r in t.colors?t.colors[r]["dark"===t.colorScheme?5:7]:"link"===n?t.colors[t.primaryColor]["dark"===t.colorScheme?5:7]:"dark"===t.colorScheme?t.colors.dark[0]:t.black}function Mi(e){return"number"===typeof e?{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:e,WebkitBoxOrient:"vertical"}:null}var Bi=Qn((function(e,t){var r,n,i=t.color,o=t.variant,a=t.size,s=t.lineClamp,u=t.inline,c=t.inherit,l=t.gradientDeg,f=t.gradientTo,d=Pi({theme:e,variant:"gradient",gradient:{from:t.gradientFrom,to:f,deg:l}});return{root:(r=Li(Li(Li({},e.fn.fontStyles()),e.fn.focusStyles()),Mi(s)),n={color:Ui({color:i,theme:e,variant:o}),fontFamily:c?"inherit":e.fontFamily,fontSize:c?"inherit":e.fontSizes[a],lineHeight:c?"inherit":u?1:e.lineHeight,textDecoration:"none",WebkitTapHighlightColor:"transparent","&:hover":{textDecoration:"link"===o?"underline":"none"}},ji(r,Ii(n))),gradient:{backgroundImage:d.background,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}}})),Hi=Bi,zi=Object.defineProperty,Ki=Object.getOwnPropertySymbols,Wi=Object.prototype.hasOwnProperty,Vi=Object.prototype.propertyIsEnumerable,qi=function(e,t,r){return t in e?zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ji=function(e,t){for(var r in t||(t={}))Wi.call(t,r)&&qi(e,r,t[r]);if(Ki){var n,i=(0,s.Z)(Ki(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Vi.call(t,r)&&qi(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},Zi=(0,e.forwardRef)((function(t,r){var n=t,i=n.className,o=n.component,a=n.children,u=n.size,c=void 0===u?"md":u,l=n.weight,f=n.transform,d=n.style,p=n.color,h=n.align,g=n.variant,v=void 0===g?"text":g,y=n.lineClamp,m=n.gradient,b=void 0===m?{from:"blue",to:"cyan",deg:45}:m,w=n.inline,x=void 0!==w&&w,_=n.inherit,k=void 0!==_&&_,S=n.sx,E=function(e,t){var r={};for(var n in e)Wi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ki){var i,o=(0,s.Z)(Ki(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Vi.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["className","component","children","size","weight","transform","style","color","align","variant","lineClamp","gradient","inline","inherit","sx"]),A=Hi({variant:v,color:p,size:c,lineClamp:y,inline:x,inherit:k,gradientFrom:b.from,gradientTo:b.to,gradientDeg:b.deg},{sx:S,name:"Text"}),O=A.classes,C=A.cx,P=Tn({others:E,style:d}),R=P.mergedStyles,j=P.rest,I=o||"div";return e.createElement(I,Ji({ref:r,className:C(O.root,(0,gt.Z)({},O.gradient,"gradient"===v),i),style:Ji({fontWeight:k?"inherit":l,textTransform:f,textAlign:h},R)},j),a)}));Zi.displayName="@mantine/core/Text";var Gi=Object.defineProperty,Qi=Object.defineProperties,$i=Object.getOwnPropertyDescriptors,Yi=Object.getOwnPropertySymbols,Xi=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,to=function(e,t,r){return t in e?Gi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ro=function(e,t){for(var r in t||(t={}))Xi.call(t,r)&&to(e,r,t[r]);if(Yi){var n,i=(0,s.Z)(Yi(t));try{for(i.s();!(n=i.n()).done;){r=n.value;eo.call(t,r)&&to(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},no=Qn((function(e,t){var r,n,i=t.size;return{root:(r=ro({},e.fn.fontStyles()),n={lineHeight:e.lineHeight},Qi(r,$i(n))),label:{display:"inline-block",marginBottom:4,fontSize:e.fn.size({size:i,sizes:e.fontSizes}),fontWeight:500,color:"dark"===e.colorScheme?e.colors.dark[0]:e.colors.gray[9],wordBreak:"break-word",cursor:"default",WebkitTapHighlightColor:"transparent"},error:{marginTop:e.spacing.xs/2,wordBreak:"break-word",color:"".concat(e.colors.red["dark"===e.colorScheme?6:7]," !important")},description:{marginTop:-3,marginBottom:7,wordBreak:"break-word",color:"".concat("dark"===e.colorScheme?e.colors.dark[2]:e.colors.gray[6]," !important"),fontSize:"".concat(e.fn.size({size:i,sizes:e.fontSizes})-2,"px !important"),lineHeight:1.2},required:{color:"dark"===e.colorScheme?e.colors.red[5]:e.colors.red[7]}}})),io=no,oo=Object.defineProperty,ao=Object.defineProperties,so=Object.getOwnPropertyDescriptors,uo=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,lo=Object.prototype.propertyIsEnumerable,fo=function(e,t,r){return t in e?oo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},po=function(e,t){for(var r in t||(t={}))co.call(t,r)&&fo(e,r,t[r]);if(uo){var n,i=(0,s.Z)(uo(t));try{for(i.s();!(n=i.n()).done;){r=n.value;lo.call(t,r)&&fo(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},ho=function(e,t){return ao(e,so(t))},go=(0,e.forwardRef)((function(t,r){var n=t,i=n.className,o=n.style,a=n.label,u=n.children,c=n.required,l=n.id,f=n.error,d=n.description,p=n.labelElement,h=void 0===p?"label":p,g=n.labelProps,v=n.descriptionProps,y=n.errorProps,m=n.classNames,b=n.styles,w=n.sx,x=n.size,_=void 0===x?"sm":x,k=n.__staticSelector,S=void 0===k?"InputWrapper":k,E=function(e,t){var r={};for(var n in e)co.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&uo){var i,o=(0,s.Z)(uo(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&lo.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["className","style","label","children","required","id","error","description","labelElement","labelProps","descriptionProps","errorProps","classNames","styles","sx","size","__staticSelector"]),A=io({size:_},{classNames:m,styles:b,sx:w,name:S}),O=A.classes,C=A.cx,P=Tn({others:E,style:o}),R=P.mergedStyles,j=P.rest,I="label"===h?{htmlFor:l}:{},T=(0,e.createElement)(h,ho(po(po({},I),g),{id:l?"".concat(l,"-label"):void 0,className:O.label}),e.createElement(e.Fragment,null,a,c&&e.createElement("span",{className:O.required}," *")));return e.createElement("div",po({className:C(O.root,i),style:R,ref:r},j),a&&T,d&&e.createElement(Zi,ho(po({},v),{color:"gray",className:O.description}),d),u,"boolean"!==typeof f&&f&&e.createElement(Zi,ho(po({},y),{size:_,className:O.error}),f))}));go.displayName="@mantine/core/InputWrapper";var vo=Object.defineProperty,yo=Object.defineProperties,mo=Object.getOwnPropertyDescriptors,bo=Object.getOwnPropertySymbols,wo=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,_o=function(e,t,r){return t in e?vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},ko=function(e,t){for(var r in t||(t={}))wo.call(t,r)&&_o(e,r,t[r]);if(bo){var n,i=(0,s.Z)(bo(t));try{for(i.s();!(n=i.n()).done;){r=n.value;xo.call(t,r)&&_o(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},So=(0,e.forwardRef)((function(t,r){var n,i=t,o=i.className,a=i.id,u=i.label,c=i.error,l=i.required,f=i.type,d=void 0===f?"text":f,p=i.style,h=i.icon,g=i.description,v=i.wrapperProps,y=i.size,m=void 0===y?"sm":y,b=i.classNames,w=i.styles,x=i.__staticSelector,_=void 0===x?"TextInput":x,k=i.sx,S=function(e,t){var r={};for(var n in e)wo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&bo){var i,o=(0,s.Z)(bo(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&xo.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(i,["className","id","label","error","required","type","style","icon","description","wrapperProps","size","classNames","styles","__staticSelector","sx"]),E=Sn(a),A=Tn({others:S,style:p}),O=A.mergedStyles,C=A.rest;return e.createElement(go,ko({required:l,id:E,label:u,error:c,description:g,size:m,className:o,style:O,classNames:b,styles:w,__staticSelector:_,sx:k},v),e.createElement(Ei,(n=ko({},C),yo(n,mo({required:l,ref:r,id:E,type:d,invalid:!!c,icon:h,size:m,classNames:b,styles:w,__staticSelector:_})))))}));So.displayName="@mantine/core/TextInput";var Eo=Object.defineProperty,Ao=Object.defineProperties,Oo=Object.getOwnPropertyDescriptors,Co=Object.getOwnPropertySymbols,Po=Object.prototype.hasOwnProperty,Ro=Object.prototype.propertyIsEnumerable,jo=function(e,t,r){return t in e?Eo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Io=function(e,t){for(var r in t||(t={}))Po.call(t,r)&&jo(e,r,t[r]);if(Co){var n,i=(0,s.Z)(Co(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Ro.call(t,r)&&jo(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},To={xs:{height:ai.xs,padding:"0 14px"},sm:{height:ai.sm,padding:"0 18px"},md:{height:ai.md,padding:"0 22px"},lg:{height:ai.lg,padding:"0 26px"},xl:{height:ai.xl,padding:"0 32px"},"compact-xs":{height:22,padding:"0 7px"},"compact-sm":{height:26,padding:"0 8px"},"compact-md":{height:30,padding:"0 10px"},"compact-lg":{height:34,padding:"0 12px"},"compact-xl":{height:40,padding:"0 14px"}},Fo=Object.keys(To).reduce((function(e,t){return e[t]=To[t].height,e}),{}),No=function(e){var t=e.compact,r=e.size;return t?To["compact-".concat(r)]:To[r]},Do=function(e){return{display:e?"block":"inline-block",width:e?"100%":"auto"}};function Lo(e){var t=e.variant,r=Pi({theme:e.theme,color:e.color,variant:t});return{border:"1px solid ".concat(r.border),backgroundColor:r.background,backgroundImage:r.background,color:r.color,"&:hover":{backgroundColor:r.hover}}}var Uo=Qn((function(e,t,r){var n,i,o=t.color,a=t.size,s=t.radius,u=t.fullWidth,c=t.compact,l=t.gradientFrom,f=t.gradientTo,d=t.gradientDeg,p=r("loading"),h=Pi({theme:e,color:o,variant:"gradient",gradient:{from:l,to:f,deg:d}});return{loading:{ref:p,pointerEvents:"none","&::before":{content:'""',position:"absolute",top:-1,left:-1,right:-1,bottom:-1,backgroundColor:"dark"===e.colorScheme?e.fn.rgba(e.colors.dark[7],.5):"rgba(255, 255, 255, .5)",borderRadius:e.fn.size({size:s,sizes:e.radius})-1,cursor:"not-allowed"}},outline:Lo({variant:"outline",theme:e,color:o}),filled:Lo({variant:"filled",theme:e,color:o}),light:Lo({variant:"light",theme:e,color:o}),default:Lo({variant:"default",theme:e,color:o}),white:Lo({variant:"white",theme:e,color:o}),gradient:{border:0,backgroundImage:h.background,color:h.color,"&:hover":{backgroundSize:"200%"}},root:(n=Io(Io(Io(Io({},No({compact:c,size:a})),e.fn.fontStyles()),e.fn.focusStyles()),Do(u)),i=(0,gt.Z)({borderRadius:e.fn.size({size:s,sizes:e.radius}),fontWeight:600,position:"relative",lineHeight:1,fontSize:e.fn.size({size:a,sizes:e.fontSizes}),WebkitTapHighlightColor:"transparent",userSelect:"none",boxSizing:"border-box",textDecoration:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none","&:not(:disabled):active":{transform:"translateY(1px)"}},"&:not(.".concat(p,"):disabled"),{borderColor:"transparent",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5],cursor:"not-allowed"}),Ao(n,Oo(i))),icon:{display:"flex",alignItems:"center"},leftIcon:{marginRight:10},rightIcon:{marginLeft:10},inner:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",overflow:"visible"},label:{whiteSpace:"nowrap",height:"100%",overflow:"hidden",display:"flex",alignItems:"center"}}})),Mo=Uo,Bo=Object.defineProperty,Ho=Object.getOwnPropertySymbols,zo=Object.prototype.hasOwnProperty,Ko=Object.prototype.propertyIsEnumerable,Wo=function(e,t,r){return t in e?Bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var Vo=Object.defineProperty,qo=Object.getOwnPropertySymbols,Jo=Object.prototype.hasOwnProperty,Zo=Object.prototype.propertyIsEnumerable,Go=function(e,t,r){return t in e?Vo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var Qo=Object.defineProperty,$o=Object.getOwnPropertySymbols,Yo=Object.prototype.hasOwnProperty,Xo=Object.prototype.propertyIsEnumerable,ea=function(e,t,r){return t in e?Qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};var ta=Object.defineProperty,ra=Object.getOwnPropertySymbols,na=Object.prototype.hasOwnProperty,ia=Object.prototype.propertyIsEnumerable,oa=function(e,t,r){return t in e?ta(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},aa={bars:function(t){var r=t,n=r.size,i=r.color,o=function(e,t){var r={};for(var n in e)zo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ho){var i,o=(0,s.Z)(Ho(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Ko.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(r,["size","color"]);return e.createElement("svg",function(e,t){for(var r in t||(t={}))zo.call(t,r)&&Wo(e,r,t[r]);if(Ho){var n,i=(0,s.Z)(Ho(t));try{for(i.s();!(n=i.n()).done;)r=n.value,Ko.call(t,r)&&Wo(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({viewBox:"0 0 135 140",xmlns:"http://www.w3.org/2000/svg",fill:i,width:"".concat(n,"px")},o),e.createElement("rect",{y:"10",width:"15",height:"120",rx:"6"},e.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("rect",{x:"30",y:"10",width:"15",height:"120",rx:"6"},e.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("rect",{x:"60",width:"15",height:"140",rx:"6"},e.createElement("animate",{attributeName:"height",begin:"0s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"y",begin:"0s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("rect",{x:"90",y:"10",width:"15",height:"120",rx:"6"},e.createElement("animate",{attributeName:"height",begin:"0.25s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"y",begin:"0.25s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("rect",{x:"120",y:"10",width:"15",height:"120",rx:"6"},e.createElement("animate",{attributeName:"height",begin:"0.5s",dur:"1s",values:"120;110;100;90;80;70;60;50;40;140;120",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"y",begin:"0.5s",dur:"1s",values:"10;15;20;25;30;35;40;45;50;0;10",calcMode:"linear",repeatCount:"indefinite"})))},oval:function(t){var r=t,n=r.size,i=r.color,o=function(e,t){var r={};for(var n in e)Jo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&qo){var i,o=(0,s.Z)(qo(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Zo.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(r,["size","color"]);return e.createElement("svg",function(e,t){for(var r in t||(t={}))Jo.call(t,r)&&Go(e,r,t[r]);if(qo){var n,i=(0,s.Z)(qo(t));try{for(i.s();!(n=i.n()).done;)r=n.value,Zo.call(t,r)&&Go(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({width:"".concat(n,"px"),height:"".concat(n,"px"),viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:i},o),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(2.5 2.5)",strokeWidth:"5"},e.createElement("circle",{strokeOpacity:".5",cx:"16",cy:"16",r:"16"}),e.createElement("path",{d:"M32 16c0-9.94-8.06-16-16-16"},e.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"1s",repeatCount:"indefinite"})))))},dots:function(t){var r=t,n=r.size,i=r.color,o=function(e,t){var r={};for(var n in e)Yo.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&$o){var i,o=(0,s.Z)($o(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Xo.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(r,["size","color"]);return e.createElement("svg",function(e,t){for(var r in t||(t={}))Yo.call(t,r)&&ea(e,r,t[r]);if($o){var n,i=(0,s.Z)($o(t));try{for(i.s();!(n=i.n()).done;)r=n.value,Xo.call(t,r)&&ea(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({width:"".concat(n,"px"),height:"".concat(n/4,"px"),viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:i},o),e.createElement("circle",{cx:"15",cy:"15",r:"15"},e.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("circle",{cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},e.createElement("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})),e.createElement("circle",{cx:"105",cy:"15",r:"15"},e.createElement("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),e.createElement("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})))}},sa={xs:18,sm:22,md:36,lg:44,xl:58};function ua(t){var r=t,n=r.size,i=void 0===n?"md":n,o=r.color,a=r.className,u=r.variant,c=r.style,l=r.sx,f=function(e,t){var r={};for(var n in e)na.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ra){var i,o=(0,s.Z)(ra(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&ia.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(r,["size","color","className","variant","style","sx"]),d=ci({sx:l,className:a}),p=d.sxClassName,h=d.theme,g=Tn({others:f,style:c}),v=g.mergedStyles,y=g.rest,m=u in aa?u:h.loader,b=aa[m]||aa.bars,w=o||h.primaryColor;return e.createElement(b,function(e,t){for(var r in t||(t={}))na.call(t,r)&&oa(e,r,t[r]);if(ra){var n,i=(0,s.Z)(ra(t));try{for(i.s();!(n=i.n()).done;)r=n.value,ia.call(t,r)&&oa(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({size:h.fn.size({size:i,sizes:sa}),style:v,color:w in h.colors?h.fn.themeColor(w,"dark"===h.colorScheme?4:6):o,role:"presentation",className:p},y))}ua.displayName="@mantine/core/Loader";var ca=Object.defineProperty,la=Object.defineProperties,fa=Object.getOwnPropertyDescriptors,da=Object.getOwnPropertySymbols,pa=Object.prototype.hasOwnProperty,ha=Object.prototype.propertyIsEnumerable,ga=function(e,t,r){return t in e?ca(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},va=function(e,t){for(var r in t||(t={}))pa.call(t,r)&&ga(e,r,t[r]);if(da){var n,i=(0,s.Z)(da(t));try{for(i.s();!(n=i.n()).done;){r=n.value;ha.call(t,r)&&ga(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},ya=(0,e.forwardRef)((function(t,r){var n,i,o=t,a=o.className,u=o.style,c=o.size,l=void 0===c?"sm":c,f=o.color,d=o.type,p=void 0===d?"button":d,h=o.disabled,g=void 0!==h&&h,v=o.children,y=o.leftIcon,m=o.rightIcon,b=o.fullWidth,w=void 0!==b&&b,x=o.variant,_=void 0===x?"filled":x,k=o.radius,S=void 0===k?"sm":k,E=o.component,A=o.uppercase,O=void 0!==A&&A,C=o.compact,P=void 0!==C&&C,R=o.loading,j=void 0!==R&&R,I=o.loaderPosition,T=void 0===I?"left":I,F=o.loaderProps,N=o.gradient,D=void 0===N?{from:"blue",to:"cyan",deg:45}:N,L=o.classNames,U=o.styles,M=o.sx,B=function(e,t){var r={};for(var n in e)pa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&da){var i,o=(0,s.Z)(da(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&ha.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(o,["className","style","size","color","type","disabled","children","leftIcon","rightIcon","fullWidth","variant","radius","component","uppercase","compact","loading","loaderPosition","loaderProps","gradient","classNames","styles","sx"]),H=Mo({radius:S,color:f,size:l,fullWidth:w,compact:P,gradientFrom:D.from,gradientTo:D.to,gradientDeg:D.deg},{classNames:L,styles:U,sx:M,name:"Button"}),z=H.classes,K=H.cx,W=H.theme,V=Pi({color:f,theme:W,variant:_}),q=Tn({others:B,style:u}),J=q.mergedStyles,Z=q.rest,G=E||"button",Q=e.createElement(ua,va({color:V.color,size:W.fn.size({size:l,sizes:Fo})/2},F));return e.createElement(G,(n=va({},Z),i={className:K(z[_],(0,gt.Z)({},z.loading,j),z.root,a),type:p,disabled:g||j,ref:r,onTouchStart:function(){},style:J},la(n,fa(i))),e.createElement("div",{className:z.inner},(y||j&&"left"===T)&&e.createElement("span",{className:K(z.icon,z.leftIcon)},j&&"left"===T?Q:y),e.createElement("span",{className:z.label,style:{textTransform:O?"uppercase":void 0}},v),(m||j&&"right"===T)&&e.createElement("span",{className:K(z.icon,z.rightIcon)},j&&"right"===T?Q:m)))}));ya.displayName="@mantine/core/Button";var ma=r(2559),ba=wn.created,wa=wn.Vtodo,xa=xn.type;var _a=function(t){var r=t.todoList,n=t.setTodoList,o=(0,ht.useSession)().session,a=(0,e.useState)(""),s=(0,i.Z)(a,2),u=s[0],c=s[1],l=function(){var e=(0,ft.Z)(pt().mark((function e(t){var i,a,s,u,c,l;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gr(r),a=gn(Mr(),"http://schema.org/text",t),s=hn(a,ba,new Date),u=pn(s,xa,wa),c=Lr(r,u),e.next=7,on(i,c,{fetch:o.fetch});case 7:l=e.sent,n(l);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,ft.Z)(pt().mark((function e(t){return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),l(u),c("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,ma.jsx)("form",{className:"todo-form",onSubmit:f,children:(0,ma.jsx)(So,{id:"todo-input",type:"text",label:"Todo is...",value:u,onChange:function(e){e.preventDefault(),c(e.target.value)},rightSection:(0,ma.jsx)(ya,{className:"add-button",type:"submit",children:"Add Todo"}),rightSectionWidth:100})})};var ka=function(e,t,r){return Er(e),Sa(e,t,Ot,(function(e){var t;return(null===(t=It(e))||void 0===t?void 0:t.getTime())===r.getTime()}))};function Sa(e,t,r,n){var i,o,a;if(!Ut(t))throw new Wr(t);var s=Et(t),u=null!==(i=e.predicates[s])&&void 0!==i?i:{},c=null!==(o=u.literals)&&void 0!==o?o:{},l=null!==(a=c[r])&&void 0!==a?a:[],f=bt(l.filter((function(e){return!n(e)}))),d=bt(Object.assign(Object.assign({},c),(0,gt.Z)({},r,f))),p=bt(Object.assign(Object.assign({},u),{literals:d})),h=bt(Object.assign(Object.assign({},e.predicates),(0,gt.Z)({},s,p)));return bt(Object.assign(Object.assign({},e),{predicates:h}))}var Ea=Object.defineProperty,Aa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Ca=Object.prototype.propertyIsEnumerable,Pa=function(e,t,r){return t in e?Ea(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ra=function(e,t){for(var r in t||(t={}))Oa.call(t,r)&&Pa(e,r,t[r]);if(Aa){var n,i=(0,s.Z)(Aa(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Ca.call(t,r)&&Pa(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e};function ja(t){var r=t,n=r.indeterminate,i=function(e,t){var r={};for(var n in e)Oa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Aa){var i,o=(0,s.Z)(Aa(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Ca.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(r,["indeterminate"]);return n?e.createElement("svg",Ra({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6"},i),e.createElement("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})):e.createElement("svg",Ra({viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),e.createElement("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}var Ia=Object.defineProperty,Ta=Object.defineProperties,Fa=Object.getOwnPropertyDescriptors,Na=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Ua=function(e,t,r){return t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Ma=function(e,t){for(var r in t||(t={}))Da.call(t,r)&&Ua(e,r,t[r]);if(Na){var n,i=(0,s.Z)(Na(t));try{for(i.s();!(n=i.n()).done;){r=n.value;La.call(t,r)&&Ua(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},Ba=function(e,t){return Ta(e,Fa(t))},Ha={xs:16,sm:20,md:24,lg:30,xl:36},za={xs:8,sm:10,md:14,lg:16,xl:20},Ka=Qn((function(e,t,r){var n=t.size,i=t.color,o=t.transitionDuration,a=e.fn.size({size:n,sizes:Ha}),s=r("icon");return{icon:{ref:s,color:e.white,transform:"translateY(5px) scale(0.5)",opacity:0,transitionProperty:"opacity, transform",transitionTimingFunction:"ease",transitionDuration:"".concat(o,"ms"),pointerEvents:"none",width:e.fn.size({size:n,sizes:za}),position:"absolute",zIndex:1,top:0,bottom:0,left:0,right:0,margin:"auto","@media (prefers-reduced-motion)":{transitionDuration:"0ms"}},root:{display:"flex",alignItems:"center"},inner:{position:"relative",width:a,height:a},label:Ba(Ma({},e.fn.fontStyles()),{WebkitTapHighlightColor:"transparent",paddingLeft:e.spacing.sm,fontSize:e.fn.size({size:n,sizes:e.fontSizes}),lineHeight:"".concat(a,"px"),color:"dark"===e.colorScheme?e.colors.dark[0]:e.black}),input:Ba(Ma({},e.fn.focusStyles()),{appearance:"none",backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.white,border:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[4]),width:a,height:a,borderRadius:e.radius.sm,padding:0,outline:0,display:"block",margin:0,transition:"border-color ".concat(o,"ms ease, background-color ").concat(o,"ms ease"),"&:checked":(0,gt.Z)({backgroundColor:e.fn.themeColor(i,6),borderColor:e.fn.themeColor(i,6)},"& + .".concat(s),{opacity:1,transform:"translateY(0) scale(1)"}),"&:disabled":(0,gt.Z)({backgroundColor:"dark"===e.colorScheme?e.colors.dark[4]:e.colors.gray[2],borderColor:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[3],cursor:"not-allowed"},"& + .".concat(s),{color:"dark"===e.colorScheme?e.colors.dark[6]:e.colors.gray[5]})})}})),Wa=Ka,Va=Object.defineProperty,qa=Object.getOwnPropertySymbols,Ja=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Ga=function(e,t,r){return t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Qa=function(e,t){for(var r in t||(t={}))Ja.call(t,r)&&Ga(e,r,t[r]);if(qa){var n,i=(0,s.Z)(qa(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Za.call(t,r)&&Ga(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},$a=(0,e.forwardRef)((function(t,r){var n=t,i=n.className,o=n.style,a=n.checked,u=n.onChange,c=n.color,l=n.label,f=n.disabled,d=n.indeterminate,p=n.id,h=n.size,g=void 0===h?"sm":h,v=n.wrapperProps,y=(n.children,n.classNames),m=n.styles,b=n.transitionDuration,w=void 0===b?100:b,x=n.icon,_=void 0===x?ja:x,k=n.sx,S=function(e,t){var r={};for(var n in e)Ja.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&qa){var i,o=(0,s.Z)(qa(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Za.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["className","style","checked","onChange","color","label","disabled","indeterminate","id","size","wrapperProps","children","classNames","styles","transitionDuration","icon","sx"]),E=Sn(p),A=Wa({size:g,color:c,transitionDuration:w},{classNames:y,styles:m,sx:k,name:"Checkbox"}),O=A.classes,C=A.cx,P=Tn({others:S,style:o}),R=P.mergedStyles,j=P.rest;return e.createElement("div",Qa({className:C(O.root,i),style:R},v),e.createElement("div",{className:O.inner},e.createElement("input",Qa({id:E,ref:r,type:"checkbox",className:O.input,checked:d||a,onChange:u,disabled:f},j)),e.createElement(_,{indeterminate:d,className:O.icon})),l&&e.createElement("label",{className:O.label,htmlFor:E},l))}));$a.displayName="@mantine/core/Checkbox";var Ya="http://schema.org/text",Xa=wn.created,es=wn.completed,ts=wn.Vtodo,rs=xn.type;function ns(e){var t=e.checked,r=e.handleCheck,n=(0,ht.useThing)().thing;return(0,ma.jsx)($a,{checked:t,style:{textAlign:"center",display:"flex",justifyContent:"center",width:"auto"},onChange:function(){return r(n,t)}})}function is(e){var t=e.deleteTodo,r=(0,ht.useThing)().thing;return(0,ma.jsx)(ya,{className:"delete-button",variant:"outline",style:{margin:"4px"},onClick:function(){return t(r)},children:"Delete"})}var os=function(e){var t=e.todoList,r=e.setTodoList,n=t?Dr(t):[];n.sort((function(e,t){return null!==Ir(e,es)&&null===Ir(t,es)?1:null===Ir(e,es)&&null!==Ir(t,es)||Ir(e,Xa)>Ir(t,Xa)?-1:Ir(e,Xa)<Ir(t,Xa)?1:0}));var i=(0,ht.useSession)().fetch,o=function(){var e=(0,ft.Z)(pt().mark((function e(n,o){var a,s,u,c,l,f,d;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=gr(t),o?(l=Ir(n,es),f=ka(n,es,l),s=Lr(t,f)):(u=new Date,c=hn(n,es,u),s=Lr(t,c)),e.next=4,on(a,s,{fetch:i});case 4:d=e.sent,r(d);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),a=function(){var e=(0,ft.Z)(pt().mark((function e(n){var o,a,s;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=gr(t),a=Ur(t,n),e.next=4,on(o,a,{fetch:i});case 4:s=e.sent,r(s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=n.filter((function(e){return Pr(e,rs)===ts})).map((function(e){return{dataset:t,thing:e}}));return s.length?(0,ma.jsxs)("div",{className:"table-container",children:[(0,ma.jsxs)("span",{className:"tasks-message",children:["Your to-do list has ",s.length," items"]}),(0,ma.jsxs)(ht.Table,{className:"table",things:s,children:[(0,ma.jsx)(ht.TableColumn,{property:Ya,header:"To Do",sortable:!0}),(0,ma.jsx)(ht.TableColumn,{property:Xa,dataType:"datetime",header:"Created At",body:function(e){var t=e.value;return(0,ma.jsx)(Zi,{children:t.toDateString()})},sortable:!0}),(0,ma.jsx)(ht.TableColumn,{property:es,dataType:"datetime",header:"Done",body:function(e){var t=e.value;return(0,ma.jsx)(ns,{checked:Boolean(t),handleCheck:o})}}),(0,ma.jsx)(ht.TableColumn,{property:Ya,header:"",body:function(){return(0,ma.jsx)(is,{deleteTodo:a})}})]})]}):null};function as(e,t){return ss.apply(this,arguments)}function ss(){return ss=(0,ft.Z)(pt().mark((function e(t,r){var n,i,o;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(t,"index.ttl"),e.prev=1,e.next=4,Yr(n,{fetch:r});case 4:return i=e.sent,e.abrupt("return",i);case 8:if(e.prev=8,e.t0=e.catch(1),404!==e.t0.statusCode){e.next=15;break}return e.next=13,on(n,Gr(),{fetch:r});case 13:return o=e.sent,e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[1,8]])}))),ss.apply(this,arguments)}var us={app:100,modal:200,popover:300,overlay:400};function cs(e){return us[e]}var ls=Object.defineProperty,fs=Object.getOwnPropertySymbols,ds=Object.prototype.hasOwnProperty,ps=Object.prototype.propertyIsEnumerable,hs=function(e,t,r){return t in e?ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},gs=function(e,t){for(var r in t||(t={}))ds.call(t,r)&&hs(e,r,t[r]);if(fs){var n,i=(0,s.Z)(fs(t));try{for(i.s();!(n=i.n()).done;){r=n.value;ps.call(t,r)&&hs(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e};function vs(e,t){var r=t.fn.size({size:e.padding,sizes:t.spacing}),n=e.navbarOffsetBreakpoint?t.fn.size({size:e.navbarOffsetBreakpoint,sizes:t.breakpoints}):null;if(!e.fixed)return{padding:r};var o=e.navbarBreakpoints.reduce((function(e,t){var n=(0,i.Z)(t,2),o=n[0],a=n[1];return e["@media (min-width: ".concat(o+1,"px)")]={paddingLeft:"calc(".concat(a,"px + ").concat(r,"px)")},e}),{});return n&&(o["@media (max-width: ".concat(n,"px)")]={paddingLeft:r}),gs({minHeight:"100vh",paddingTop:"calc(".concat(e.headerHeight," + ").concat(r,"px)"),paddingLeft:"calc(".concat(e.navbarWidth," + ").concat(r,"px)")},o)}var ys=Qn((function(e,t){return{root:{boxSizing:"border-box"},body:{display:"flex",boxSizing:"border-box"},main:gs({flex:1,boxSizing:"border-box"},vs(t,e))}})),ms=ys,bs=Object.defineProperty,ws=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,_s=Object.prototype.propertyIsEnumerable,ks=function(e,t,r){return t in e?bs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r};function Ss(e){var t,r=null==(t=null==e?void 0:e.props)?void 0:t.height;return"number"===typeof r?"".concat(r,"px"):"string"===typeof r?r:"0px"}function Es(e,t){var r,n=null==(r=null==e?void 0:e.props)?void 0:r.width;return null!=n?function(e,t){if(!e)return[];var r=Object.keys(e).filter((function(e){return"base"!==e})).map((function(r){return[t.fn.size({size:r,sizes:t.breakpoints}),e[r]]}));return r.sort((function(e,t){return t[0]-e[0]})),r.reverse()}(n,t):[]}var As=(0,e.forwardRef)((function(t,r){var n=t,i=n.children,o=n.navbar,a=n.header,u=n.fixed,c=void 0!==u&&u,l=n.zIndex,f=void 0===l?cs("app"):l,d=n.padding,p=void 0===d?"md":d,h=n.navbarOffsetBreakpoint,g=n.className,v=n.styles,y=n.classNames,m=n.sx,b=function(e,t){var r={};for(var n in e)xs.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ws){var i,o=(0,s.Z)(ws(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&_s.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["children","navbar","header","fixed","zIndex","padding","navbarOffsetBreakpoint","className","styles","classNames","sx"]),w=Es(o,st()),x=function(e){var t,r,n=null==(r=null==(t=null==e?void 0:e.props)?void 0:t.width)?void 0:r.base;return"number"===typeof n?"".concat(n,"px"):"string"===typeof n?n:"0px"}(o),_=Ss(a),k=Ss(o),S=ms({padding:p,fixed:c,navbarWidth:x,headerHeight:_,navbarBreakpoints:w,navbarOffsetBreakpoint:h},{styles:v,classNames:y,sx:m,name:"AppShell"}),E=S.classes,A=S.cx,O=a?e.cloneElement(a,{fixed:c,zIndex:f}):null,C=o?e.cloneElement(o,{fixed:c,zIndex:f,height:"0px"!==k?k:"calc(100vh - ".concat(_,")"),position:{top:_,left:0}}):null;return e.createElement("div",function(e,t){for(var r in t||(t={}))xs.call(t,r)&&ks(e,r,t[r]);if(ws){var n,i=(0,s.Z)(ws(t));try{for(i.s();!(n=i.n()).done;)r=n.value,_s.call(t,r)&&ks(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({className:A(E.root,g),ref:r},b),O,e.createElement("div",{className:E.body},C,e.createElement("main",{className:E.main},i)))}));As.displayName="@mantine/core/AppShell";var Os=Object.defineProperty,Cs=Object.defineProperties,Ps=Object.getOwnPropertyDescriptors,Rs=Object.getOwnPropertySymbols,js=Object.prototype.hasOwnProperty,Is=Object.prototype.propertyIsEnumerable,Ts=function(e,t,r){return t in e?Os(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Fs=function(e,t){for(var r in t||(t={}))js.call(t,r)&&Ts(e,r,t[r]);if(Rs){var n,i=(0,s.Z)(Rs(t));try{for(i.s();!(n=i.n()).done;){r=n.value;Is.call(t,r)&&Ts(e,r,t[r])}}catch(o){i.e(o)}finally{i.f()}}return e},Ns=Qn((function(e,t){var r,n,i=t.height,o=t.padding,a=t.fixed,s=t.position,u=t.zIndex;return{root:(r=Fs(Fs({},e.fn.fontStyles()),s),n={zIndex:u,height:i,maxHeight:i,position:a?"fixed":"static",boxSizing:"border-box",padding:e.fn.size({size:o,sizes:e.spacing}),backgroundColor:"dark"===e.colorScheme?e.colors.dark[7]:e.white,borderBottom:"1px solid ".concat("dark"===e.colorScheme?e.colors.dark[5]:e.colors.gray[2])},Cs(r,Ps(n)))}})),Ds=Ns,Ls=Object.defineProperty,Us=Object.getOwnPropertySymbols,Ms=Object.prototype.hasOwnProperty,Bs=Object.prototype.propertyIsEnumerable,Hs=function(e,t,r){return t in e?Ls(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},zs=(0,e.forwardRef)((function(t,r){var n=t,i=n.children,o=n.className,a=n.classNames,u=n.styles,c=n.height,l=n.padding,f=void 0===l?0:l,d=n.fixed,p=void 0!==d&&d,h=n.position,g=void 0===h?{top:0,left:0,right:0}:h,v=n.sx,y=n.zIndex,m=void 0===y?cs("app"):y,b=function(e,t){var r={};for(var n in e)Ms.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Us){var i,o=(0,s.Z)(Us(e));try{for(o.s();!(i=o.n()).done;)n=i.value,t.indexOf(n)<0&&Bs.call(e,n)&&(r[n]=e[n])}catch(a){o.e(a)}finally{o.f()}}return r}(n,["children","className","classNames","styles","height","padding","fixed","position","sx","zIndex"]),w=Ds({height:c,padding:f,fixed:p,position:g,zIndex:m},{name:"Header",sx:v,classNames:a,styles:u}),x=w.classes,_=w.cx;return e.createElement(gi,function(e,t){for(var r in t||(t={}))Ms.call(t,r)&&Hs(e,r,t[r]);if(Us){var n,i=(0,s.Z)(Us(t));try{for(i.s();!(n=i.n()).done;)r=n.value,Bs.call(t,r)&&Hs(e,r,t[r])}catch(o){i.e(o)}finally{i.f()}}return e}({component:"nav",className:_(x.root,o),ref:r},b),i)}));zs.displayName="@mantine/core/Header";var Ks=function(){var t=(0,ht.useSession)().session,r=(0,e.useState)("https://inrupt.net"),n=(0,i.Z)(r,2),o=n[0],a=n[1];return(0,ma.jsx)(zs,{height:60,padding:"xs",children:t.info.isLoggedIn&&t.info.webId?(0,ma.jsx)(ht.CombinedDataProvider,{datasetUrl:t.info.webId,thingUrl:t.info.webId,children:(0,ma.jsxs)("div",{className:"logged-in",style:{display:"inline-blockz"},children:[(0,ma.jsx)("span",{children:"Hello "}),(0,ma.jsx)(ht.Text,{properties:["http://www.w3.org/2006/vcard/ns#fn","http://xmlns.com/foaf/0.1/name"]}),(0,ma.jsx)(ht.LogoutButton,{children:(0,ma.jsx)(ya,{variant:"light",children:"Log out"})})]})}):(0,ma.jsxs)("div",{className:"message",style:{display:"table"},children:[(0,ma.jsxs)("span",{style:{display:"table-cell"},children:["IDP:",(0,ma.jsx)(So,{className:"oidc-issuer-input ",type:"text",name:"oidcIssuer",list:"providers",value:o,onChange:function(e){a(e.target.value)},style:{width:"200px",display:"inline-block"}})]}),(0,ma.jsxs)("datalist",{id:"providers",children:[(0,ma.jsx)("option",{value:"https://broker.pod.inrupt.com/"}),(0,ma.jsx)("option",{value:"https://inrupt.net/"})]}),(0,ma.jsx)(ht.LoginButton,{oidcIssuer:o,redirectUrl:window.location.href,authOptions:{clientName:"Solid Todo App"},children:(0,ma.jsx)(ya,{variant:"filled",style:{display:"inline-block"},children:"Log in"})})]})})},Ws=_n.storage;var Vs=function(){var t=(0,ht.useSession)().session,r=(0,e.useState)(),n=(0,i.Z)(r,2),o=n[0],a=n[1];return(0,e.useEffect)((function(){t&&t.info.isLoggedIn&&(0,ft.Z)(pt().mark((function e(){var r,n,i,o,s,u;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(t.info.webId,{fetch:t.fetch});case 2:return r=e.sent,n=Nr(r,t.info.webId),i=Rr(n,Ws),o=i[0],s="".concat(o,"todos/"),e.next=9,as(s,t.fetch);case 9:u=e.sent,a(u);case 11:case"end":return e.stop()}}),e)})))()}),[t,t.info.isLoggedIn]),(0,ma.jsx)(As,{padding:"md",header:(0,ma.jsx)(Ks,{}),children:t.info.isLoggedIn&&t.info.webId?(0,ma.jsx)(ht.CombinedDataProvider,{datasetUrl:t.info.webId,thingUrl:t.info.webId,children:(0,ma.jsxs)("section",{className:"main-content",children:[(0,ma.jsx)(_a,{todoList:o,setTodoList:a}),(0,ma.jsx)(os,{todoList:o,setTodoList:a})]})}):(0,ma.jsx)("div",{children:"You are not logged in"})})};function qs(){var t=lt("(prefers-color-scheme: dark)")?"dark":"light",r=(0,e.useState)(t),n=(0,i.Z)(r,2),o=n[0],s=n[1];return(0,ma.jsx)(a,{colorScheme:o,toggleColorScheme:function(e){return s(e||("dark"===o?"light":"dark"))},children:(0,ma.jsx)(ct,{theme:{colorScheme:o},children:(0,ma.jsx)(Vs,{})})})}t.render((0,ma.jsx)(e.StrictMode,{children:(0,ma.jsx)(ht.SessionProvider,{children:(0,ma.jsx)(qs,{})})}),document.getElementById("root")),n()}()}();
//# sourceMappingURL=main.251ad1ee.js.map